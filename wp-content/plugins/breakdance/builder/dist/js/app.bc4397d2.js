(function(e){function t(t){for(var a,o,s=t[0],l=t[1],c=t[2],d=0,p=[];d<s.length;d++)o=s[d],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);u&&u(t);while(p.length)p.shift()();return r.push.apply(r,c||[]),n()}function n(){for(var e,t=0;t<r.length;t++){for(var n=r[t],a=!0,s=1;s<n.length;s++){var l=n[s];0!==i[l]&&(a=!1)}a&&(r.splice(t--,1),e=o(o.s=n[0]))}return e}var a={},i={app:0},r=[];function o(t){if(a[t])return a[t].exports;var n=a[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,o),n.l=!0,n.exports}o.m=e,o.c=a,o.d=function(e,t,n){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(o.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(n,a,function(t){return e[t]}.bind(null,a));return n},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=t,s=s.slice();for(var c=0;c<s.length;c++)t(s[c]);var u=l;r.push([0,"chunk-vendors","chunk-common"]),n()})({0:function(e,t,n){e.exports=n("cd49")},"018f":function(e,t,n){"use strict";var a=n("444f"),i=n.n(a);i.a},"019d":function(e,t,n){"use strict";var a=n("0a4d"),i=n.n(a);i.a},"0519":function(e,t,n){"use strict";var a=n("3bf1"),i=n.n(a);i.a},"0780":function(e,t,n){},"07f2":function(e,t,n){"use strict";var a=n("6898"),i=n.n(a);i.a},"09c2":function(e,t,n){"use strict";var a=n("ccbe"),i=n.n(a);i.a},"0a4d":function(e,t,n){},"0b81":function(e,t,n){},"115b":function(e,t,n){},"12f5":function(e,t,n){},1315:function(e,t,n){},1319:function(e,t,n){},"139f":function(e,t,n){},1738:function(e,t,n){"use strict";var a=n("29ef"),i=n.n(a);i.a},"186f":function(e,t,n){},"1a3d":function(e,t,n){},"1bec":function(e,t,n){},"1e8d":function(e,t,n){},"1fb2":function(e,t,n){},"1fb7":function(e,t,n){},2028:function(e,t,n){},"20d3":function(e,t,n){},"267c":function(e,t,n){},"27bd":function(e,t,n){"use strict";var a=n("6e06"),i=n.n(a);i.a},"296d":function(e,t,n){"use strict";var a=n("7843"),i=n.n(a);i.a},"29ef":function(e,t,n){},"2b91":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return s})),n.d(t,"d",(function(){return l}));var a=n("82c6"),i=n("f57e");function r(e,t){return Object(a["v"])((function(e,n){return n[e.id]=t,n}),e.root,{})}function o(e,t){var n=Object(a["l"])(e,t);if(n)return Object(a["t"])((function(e,t){return t[e.id]=!0,t}),e,n,{})}function s(e){return!1===i["h"].structurePanelNodesExpandedState[e]}function l(e){return void 0===i["h"].structurePanelNodesExpandedState[e]||!0===i["h"].structurePanelNodesExpandedState[e]}},"30a4":function(e,t,n){},3217:function(e,t,n){},"327a":function(e,t,n){"use strict";var a=n("deb6"),i=n.n(a);i.a},3324:function(e,t,n){},3865:function(e,t,n){"use strict";var a=n("b914"),i=n.n(a);i.a},"399d":function(e,t,n){},"3a49":function(e,t,n){},"3bf1":function(e,t,n){},"3c84":function(e,t,n){"use strict";var a=n("b6db"),i=n.n(a);i.a},"3c86":function(e,t,n){},"429b":function(e,t,n){"use strict";var a=n("186f"),i=n.n(a);i.a},"42fd":function(e,t,n){},"443c":function(e,t,n){"use strict";var a=n("f173"),i=n.n(a);i.a},"444f":function(e,t,n){},"44c1":function(e,t,n){"use strict";var a=n("860c"),i=n.n(a);i.a},"45b5":function(e,t,n){},"467f":function(e,t,n){"use strict";var a=n("8fa8"),i=n.n(a);i.a},"46b5":function(e,t,n){"use strict";var a=n("c2a7"),i=n.n(a);i.a},"4b3f":function(e,t,n){"use strict";var a=n("f8a4"),i=n.n(a);i.a},"4e9a":function(e,t,n){"use strict";var a=n("8bd3"),i=n.n(a);i.a},"4f37":function(e,t,n){"use strict";var a=n("7a01"),i=n.n(a);i.a},5283:function(e,t,n){"use strict";var a=n("12f5"),i=n.n(a);i.a},5354:function(e,t,n){},"535e":function(e,t,n){},5392:function(e,t,n){},"55b4":function(e,t,n){},5714:function(e,t,n){"use strict";var a=n("55b4"),i=n.n(a);i.a},5834:function(e,t,n){"use strict";var a=n("115b"),i=n.n(a);i.a},"589b":function(e,t,n){"use strict";var a=n("267c"),i=n.n(a);i.a},"5c0b":function(e,t,n){"use strict";var a=n("7694"),i=n.n(a);i.a},"5c31":function(e,t,n){"use strict";var a=n("f9bc"),i=n.n(a);i.a},"5d0d":function(e,t,n){},"5fd6":function(e,t,n){},6898:function(e,t,n){},"6ded":function(e,t,n){"use strict";var a=n("b393"),i=n.n(a);i.a},"6e06":function(e,t,n){},"707c":function(e,t,n){},"708b":function(e,t,n){"use strict";var a=n("5392"),i=n.n(a);i.a},"70e8":function(e,t,n){"use strict";var a=n("b279"),i=n.n(a);i.a},"716d":function(e,t,n){"use strict";var a=n("5354"),i=n.n(a);i.a},"71d3":function(e,t,n){"use strict";var a=n("86d8"),i=n.n(a);i.a},7256:function(e,t,n){"use strict";var a=n("1e8d"),i=n.n(a);i.a},7427:function(e,t,n){},7694:function(e,t,n){},7843:function(e,t,n){},"78ea":function(e,t,n){"use strict";var a=n("c354"),i=n.n(a);i.a},"7a01":function(e,t,n){},"7a63":function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"structure-node-children"},[e._l(e.nodes,(function(t){return[n("StructureNode",{key:t.id,attrs:{element:t,depth:e.depth}})]}))],2)},i=[],r=n("d4ec"),o=n("2caf"),s=n("262e"),l=n("9ab4"),c=n("2b0e"),u=n("60a3"),d=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"structure-node":!0,"breakdance--currently-dragging":this.currentlyDragging},attrs:{"data-element-id":e.element.id}},[n("div",{staticClass:"structure-node-title-wrapper"},[n("div",{staticClass:"structure-node-title",class:e.activeClass,style:e.indentStyle,on:{click:e.activateElement}},[n("div",{staticClass:"structure-node-title-real"},[n("div",{staticClass:"structure-node-toggle-wrapper"},[e.element.children.length?n("Icon",{staticClass:"structure-node-action__icon",attrs:{icon:"CaretDownIcon",size:"10",rotate:e.shouldShowChildrenNodes?void 0:"270"},on:{click:function(t){return t.stopPropagation(),e.toggleChildren(t)}}}):e._e()],1),n("div",{class:{"structure-node-title-real-real":!0,"structure-panel-editing-friendly-name":e.editingFriendlyName}},[n("ElementIcon",{staticClass:"structure-node-icon",attrs:{icon:e.baseElement.uiIcon,size:"12"}}),n("div",{staticClass:"element-title-text",attrs:{title:e.friendlyNameInputValue||e.elementName}},[e.editingFriendlyName?e._e():n("span",{staticClass:"element-title-name ellipsis-text",on:{dblclick:e.enableEditingFriendlyName}},[e._v(" "+e._s(e.friendlyNameInputValue||e.elementName)+" ")]),e.editingFriendlyName?n("input",{ref:"friendlyNameInputRef",staticClass:"element-custom-name-input",attrs:{size:e.friendlyNameInputValue,spellcheck:"false"},domProps:{value:e.friendlyNameInputValue},on:{input:function(t){return e.updateFriendlyName(t.target.value)},keyup:[function(t){if(!t.type.indexOf("key")&&e._k(t.keyCode,"delete",[8,46],t.key,["Backspace","Delete","Del"]))return null;e.showElementNameFallback=!1},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.disableEditing(t)}],blur:e.disableEditing,mousedown:function(t){return t.stopPropagation(),e.noop(t)},contextmenu:function(t){return t.stopPropagation(),e.noop(t)}}}):e._e(),e.isDraftSection&&!e.editingFriendlyName?n("span",{staticClass:"element-title__meta"},[e._v(" (Draft) ")]):e._e(),e.isShowingIdsInStructurePanel&&!e.editingFriendlyName?n("span",{staticClass:"element-title__meta"},[e._v(" #"+e._s(e.element.id)+" ")]):e._e()]),e.editingFriendlyName?e._e():n("div",{staticClass:"structure-node-actions__wrapper"},[n("Icon",{staticClass:"structure-node-action__icon mr-2",attrs:{size:"12",icon:"BarsIcon",title:"Open menu"},on:{click:e.showContextMenu}}),n("Icon",{staticClass:"structure-node-action__icon mr-2",attrs:{icon:"DuplicateIcon",title:"Duplicate element"},on:{click:e.duplicate}}),n("Icon",{staticClass:"structure-node-action__icon mr-2",attrs:{size:"12",icon:"TrashIcon",title:"Delete element"},on:{click:e.remove}})],1)],1)])]),n("div",{staticClass:"nest-deeper",style:e.nestDeeperStyle,attrs:{"data-element-id":e.element.id}}),n("div",{staticClass:"nest-shallower",style:e.nestShallowerStyle,attrs:{"data-element-id":e.element.id}}),n("div",{staticClass:"top-half",attrs:{"data-element-id":e.element.id,"data-depth":e.depth}}),n("div",{staticClass:"bottom-half",attrs:{"data-element-id":e.element.id,"data-depth":e.depth}})]),e.shouldShowChildrenNodes?n("ChildStructureNodes",{attrs:{nodes:e.element.children,depth:e.depth+1}}):e._e()],1)},p=[],v=(n("b0c0"),n("498a"),n("bee2")),h=n("b850"),m=n("bedf"),f=n("bb26"),b=n("25c8"),g=n("dbcc"),y=n("920b"),O=n("2b91"),k=n("2fb0"),j=n("2ef0"),S=n.n(j),C=n("0024"),x=16,w=function(e){Object(s["a"])(a,e);var t=Object(o["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.showElementNameFallback=!0,e.editingFriendlyName=!1,e}return Object(v["a"])(a,[{key:"beforeCreate",value:function(){this.$options.components.ChildStructureNodes=n("7a63").default}},{key:"activateElement",value:function(){h["g"].activateElement(this.element.id),Object(y["k"])("elementproperties")!==Object(y["k"])("structure")&&Object(y["e"])("elementproperties")}},{key:"duplicate",value:function(){h["d"].duplicateElementAndActivateIt(this.element.id)}},{key:"showContextMenu",value:function(e){h["g"].setOnStructurePanelRightClickMenuState({elementId:this.element.id,position:{x:e.clientX,y:e.clientY}})}},{key:"remove",value:function(){h["d"].deleteElement({nodeId:this.element.id})}},{key:"toggleChildren",value:function(){var e=Object(m["a"])(h["g"].structurePanelNodesExpandedState);e[this.element.id]=!this.shouldShowChildrenNodes,h["g"].setStructurePanelNodesExpandedState(e)}},{key:"enableEditingFriendlyName",value:function(){var e=this;this.editingFriendlyName=!0,Object(C["a"])((function(){e.$refs.friendlyNameInputRef.focus(),e.$refs.friendlyNameInputRef.select()}))}},{key:"updateFriendlyName",value:function(e){h["d"].unthrottledPropertyChanged({elementId:this.element.id,path:"meta.friendlyName",meta:{snapshotLabel:'Updated friendly name for element "'.concat(this.elementName,'"')},value:(null===e||void 0===e?void 0:e.trim())||void 0})}},{key:"disableEditing",value:function(){this.editingFriendlyName=!1,this.showElementNameFallback=!0}},{key:"noop",value:function(e){return e.stopPropagation(),{}}},{key:"shouldShowChildrenNodes",get:function(){return Object(O["d"])(this.element.id)}},{key:"baseElement",get:function(){return h["b"].element(this.element.data.type)}},{key:"activeClass",get:function(){return{"breakdance--active-element":h["g"].activeElementId===this.element.id}}},{key:"indentStyle",get:function(){var e=this.depth*x;return{marginLeft:"".concat(e,"px"),width:"calc(100% - 1px - ".concat(e,"px")}}},{key:"nestDeeperStyle",get:function(){var e=(this.depth+1)*x;return{left:"".concat(e,"px")}}},{key:"nestShallowerStyle",get:function(){var e=this.depth*x;return{width:"".concat(e,"px")}}},{key:"elementName",get:function(){return h["b"].element(this.element.data.type).name}},{key:"currentlyDragging",get:function(){return h["g"].currentlyDraggingCanvasElementId===this.element.id}},{key:"isShowingIdsInStructurePanel",get:function(){return h["g"].settings.showElementIdInStructurePanel}},{key:"isDraftSection",get:function(){return this.element.data.type===k["g"]&&S.a.get(this.element.data.properties,"settings.advanced.draft")}},{key:"friendlyNameInputValue",get:function(){var e,t,n,a,i,r;return void 0===(null===(e=this.element.data.properties)||void 0===e||null===(t=e.meta)||void 0===t?void 0:t.friendlyName)&&this.showElementNameFallback?(this.showElementNameFallback=!1,this.elementName):(this.editingFriendlyName&&(this.showElementNameFallback=!1),(null===(n=this.element.data.properties)||void 0===n||null===(a=n.meta)||void 0===a?void 0:a.friendlyName)&&(null===(i=this.element.data.properties)||void 0===i||null===(r=i.meta)||void 0===r?void 0:r.friendlyName.trim()))}}]),a}(c["a"]);Object(l["a"])([Object(u["d"])()],w.prototype,"element",void 0),Object(l["a"])([Object(u["d"])()],w.prototype,"depth",void 0),w=Object(l["a"])([Object(u["a"])({name:"StructureNode",components:{ElementIcon:g["a"],Icon:b["a"],StructureContextMenu:f["a"],ChildStructureNodes:M}})],w);var P=w,_=P,E=n("2877"),I=Object(E["a"])(_,d,p,!1,null,null,null),D=I.exports,T=function(e){Object(s["a"])(n,e);var t=Object(o["a"])(n);function n(){return Object(r["a"])(this,n),t.apply(this,arguments)}return n}(c["a"]);Object(l["a"])([Object(u["d"])()],T.prototype,"nodes",void 0),Object(l["a"])([Object(u["d"])()],T.prototype,"depth",void 0),T=Object(l["a"])([Object(u["a"])({components:{StructureNode:D},name:"ChildStructureNodes"})],T);var A=T,R=A,B=Object(E["a"])(R,a,i,!1,null,null,null),M=t["default"]=B.exports},"7ab0":function(e,t,n){},"7d1e":function(e,t,n){"use strict";var a=n("5d0d"),i=n.n(a);i.a},"7d62":function(e,t,n){"use strict";var a=n("9ee9"),i=n.n(a);i.a},"7da6":function(e,t,n){"use strict";var a=n("139f"),i=n.n(a);i.a},"7df9":function(e,t,n){"use strict";var a=n("1fb2"),i=n.n(a);i.a},"833c":function(e,t,n){"use strict";var a=n("2028"),i=n.n(a);i.a},"860c":function(e,t,n){},"86d8":function(e,t,n){},8814:function(e,t,n){"use strict";var a=n("b808"),i=n.n(a);i.a},"8a74":function(e,t,n){"use strict";var a=n("f3f5"),i=n.n(a);i.a},"8ab1":function(e,t,n){"use strict";var a=n("cc48"),i=n.n(a);i.a},"8ac3":function(e,t,n){"use strict";var a=n("8adc"),i=n.n(a);i.a},"8ac9":function(e,t,n){"use strict";var a=n("3217"),i=n.n(a);i.a},"8adc":function(e,t,n){},"8aee":function(e,t,n){"use strict";var a=n("1bec"),i=n.n(a);i.a},"8bd3":function(e,t,n){},"8fa8":function(e,t,n){},"910a":function(e,t,n){"use strict";var a=n("1a3d"),i=n.n(a);i.a},"91c2":function(e,t,n){"use strict";var a=n("a0d3"),i=n.n(a);i.a},9274:function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return l})),n.d(t,"a",(function(){return p}));n("caad"),n("96cf");var a=n("1da1");function i(){return r.apply(this,arguments)}function r(){return r=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t={name:"clipboard-read",allowWithoutGesture:!1},e.prev=1,e.next=4,navigator.permissions.query(t);case 4:return e.abrupt("return",e.sent);case 7:return e.prev=7,e.t0=e["catch"](1),e.abrupt("return",{state:"denied"});case 10:case"end":return e.stop()}}),e,null,[[1,7]])}))),r.apply(this,arguments)}function o(){return s.apply(this,arguments)}function s(){return s=Object(a["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,i();case 2:return t=e.sent,e.abrupt("return",{secure:window.isSecureContext,permission:t});case 4:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function l(e){var t,n=document.createElement("textarea");n.value=e,n.style.top="0",n.style.left="0",n.style.position="fixed",n.classList.add("breakdance-offscreen-input"),document.body.appendChild(n),n.focus(),n.select();try{t=document.execCommand("copy")}catch(a){t=!1}return document.body.removeChild(n),t}function c(e){return"INPUT"===(null===e||void 0===e?void 0:e.nodeName)}function u(e){var t=["button","checkbox","hidden","file","radio","image","range","reset","submit","number","email","time"];return c(e)&&e.type&&!t.includes(e.type)||"TEXTAREA"===e.nodeName||"true"===e.contentEditable}function d(e){var t,n=null===e||void 0===e||null===(t=e.defaultView)||void 0===t?void 0:t.getSelection(),a=(null===n||void 0===n?void 0:n.rangeCount)?n.getRangeAt(0):null;return!!a&&!a.collapsed}function p(e){var t=e.activeElement;return t&&(c(t)||u(t)||d(e))}},"955a7":function(e,t,n){"use strict";var a=n("7ab0"),i=n.n(a);i.a},"967b":function(e,t,n){"use strict";var a=n("bbfd"),i=n.n(a);i.a},"98ad":function(e,t,n){"use strict";var a=n("45b5"),i=n.n(a);i.a},"9acc":function(e,t,n){},"9bb6":function(e,t,n){"use strict";var a=n("30a4"),i=n.n(a);i.a},"9eaa":function(e,t,n){},"9ee9":function(e,t,n){},a0d3:function(e,t,n){},a292:function(e,t,n){"use strict";var a=n("1315"),i=n.n(a);i.a},a387:function(e,t,n){"use strict";var a=n("707c"),i=n.n(a);i.a},a416:function(e,t,n){"use strict";var a=n("9eaa"),i=n.n(a);i.a},a435:function(e,t,n){"use strict";var a=n("bef5"),i=n.n(a);i.a},a54d:function(e,t,n){"use strict";var a=n("0b81"),i=n.n(a);i.a},a5ed:function(e,t,n){},ab9c:function(e,t,n){"use strict";var a=n("ac90"),i=n.n(a);i.a},ac90:function(e,t,n){},ad64:function(e,t,n){"use strict";var a=n("3c86"),i=n.n(a);i.a},ae15:function(e,t,n){"use strict";var a=n("e31c"),i=n.n(a);i.a},ae8b:function(e,t,n){"use strict";var a=n("ca16"),i=n.n(a);i.a},af0c:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("fb60"),i=n("e75c"),r=n("3af4"),o=n("e7ff");function s(e,t){return Object(r["pipe"])(e,i["a"],Object(a["map"])(Object(r["flow"])(t.decode,Object(a["mapLeft"])(o["a"]))),a["flatten"])}},b06e:function(e,t,n){"use strict";var a=n("7427"),i=n.n(a);i.a},b279:function(e,t,n){},b393:function(e,t,n){},b55a:function(e,t,n){},b6db:function(e,t,n){},b808:function(e,t,n){},b914:function(e,t,n){},bb26:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Dropdown",{attrs:{absolute:!0,"position-x":e.position.x,"position-y":e.position.y,transition:!1},scopedSlots:e._u([{key:"activator",fn:function(){return[e._t("default")]},proxy:!0}],null,!0),model:{value:e.shouldShow,callback:function(t){e.shouldShow=t},expression:"shouldShow"}},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{link:!0,disabled:!e.elementId},nativeOn:{click:function(t){return e.copyElement(t)}}},[n("v-list-item-title",[e._v("Copy")])],1),n("v-list-item",{attrs:{link:!0,disabled:!e.canPasteElement},nativeOn:{click:function(t){return e.pasteElement(t)}}},[n("v-list-item-title",[e._v("Paste")])],1),n("v-list-item",{attrs:{link:!0,disabled:!e.canPasteElementProperties},nativeOn:{click:function(t){return e.pasteElementProperties("design")}}},[n("v-list-item-title",[e._v("Paste Design")])],1),n("v-list-item",{attrs:{link:!0,disabled:!e.canPasteElementProperties},nativeOn:{click:function(t){return e.pasteElementProperties("settings")}}},[n("v-list-item-title",[e._v("Paste Settings")])],1),n("v-divider"),n("v-list-item",{attrs:{link:!0,disabled:!e.elementId},nativeOn:{click:function(t){return e.deleteElement(t)}}},[n("v-list-item-title",[e._v("Delete")])],1),n("v-divider"),n("v-list-item",{attrs:{link:!0,disabled:!e.canSaveAsGlobalBlock},nativeOn:{click:function(t){return e.openSaveGlobalBlockDialog(t)}}},[n("v-list-item-title",{staticClass:"pointer-events-none"},[e._v("Save as Global Block")])],1)],1)],1),e.saveGlobalBlockDialog?n("GlobalBlockDialog",{attrs:{"element-id":e.element.id},on:{close:e.closeGlobalBlockDialog}}):e._e()],1)},i=[],r=(n("96cf"),n("1da1")),o=n("d4ec"),s=n("bee2"),l=n("2caf"),c=n("262e"),u=n("9ab4"),d=n("2b0e"),p=n("60a3"),v=n("f346"),h=n("b850"),m=n("f9f0"),f=n("dbcf"),b=n("a17c"),g=n("82c6"),y=n("9274"),O=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.saveGlobalBlockDialog=!1,e.clipboardDialog=!1,e.canPasteElement=!1,e.canPasteElementProperties=!1,e}return Object(s["a"])(n,[{key:"onStateChange",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(y["c"])();case 2:if(a=e.sent,i=a.permission,this.permission=i.state,"prompt"!==this.permission){e.next=9;break}return this.canPasteElement=!0,this.canPasteElementProperties=!0,e.abrupt("return");case 9:return e.next=11,Object(v["a"])((null===(t=this.menuState)||void 0===t?void 0:t.elementId)?this.menuState.elementId:h["d"].document.tree.root.id);case 11:if(this.canPasteElement=e.sent,!(null===(n=this.menuState)||void 0===n?void 0:n.elementId)){e.next=18;break}return e.next=15,Object(v["b"])(this.menuState.elementId);case 15:e.t0=e.sent,e.next=19;break;case 18:e.t0=!1;case 19:this.canPasteElementProperties=e.t0;case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"copyElement",value:function(){this.elementId&&Object(v["c"])(this.elementId)}},{key:"pasteElement",value:function(){"prompt"===this.permission&&(this.clipboardDialog=!0),this.elementId?Object(v["d"])(this.elementId):Object(v["d"])(h["d"].document.tree.root.id)}},{key:"pasteElementProperties",value:function(e){"prompt"===this.permission&&(this.clipboardDialog=!0),this.elementId&&Object(v["e"])(this.elementId,e)}},{key:"deleteElement",value:function(){this.elementId&&h["d"].deleteElement({nodeId:this.elementId})}},{key:"openSaveGlobalBlockDialog",value:function(){this.elementId&&(this.saveGlobalBlockDialog=!0)}},{key:"closeGlobalBlockDialog",value:function(){this.saveGlobalBlockDialog=!1,this.$emit("close")}},{key:"menuState",get:function(){return"closed"!==h["g"].onStructurePanelRightClickMenuState?h["g"].onStructurePanelRightClickMenuState:null}},{key:"position",get:function(){var e;return(null===(e=this.menuState)||void 0===e?void 0:e.position)||{x:0,y:0}}},{key:"elementId",get:function(){var e;return null===(e=this.menuState)||void 0===e?void 0:e.elementId}},{key:"element",get:function(){return Object(g["l"])(h["d"].document.tree,this.elementId)}},{key:"canSaveAsGlobalBlock",get:function(){return this.elementId&&Object(m["a"])(this.elementId)}},{key:"shouldShow",get:function(){return"closed"!==h["g"].onStructurePanelRightClickMenuState&&!this.saveGlobalBlockDialog},set:function(e){e||h["g"].setOnStructurePanelRightClickMenuState("closed")}}]),n}(d["a"]);Object(u["a"])([Object(p["h"])("menuState")],O.prototype,"onStateChange",null),O=Object(u["a"])([Object(p["a"])({components:{GlobalBlockDialog:f["a"],Dropdown:b["a"]}})],O);var k=O,j=k,S=n("2877"),C=n("6544"),x=n.n(C),w=n("ce7e"),P=n("8860"),_=n("da13"),E=n("5d23"),I=Object(S["a"])(j,a,i,!1,null,null,null);t["a"]=I.exports;x()(I,{VDivider:w["a"],VList:P["a"],VListItem:_["a"],VListItemTitle:E["c"]})},bbfd:function(e,t,n){},bef5:function(e,t,n){},c1b4:function(e,t,n){"use strict";var a=n("caad4"),i=n.n(a);i.a},c2a7:function(e,t,n){},c354:function(e,t,n){},c703:function(e,t,n){"use strict";var a=n("20d3"),i=n.n(a);i.a},c881:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" Default Children "),n("Repeater",{attrs:{value:e.value||[],"default-new-value":e.defaultValue,control:e.repeaterOptions},on:{input:function(t){return e.updateDefaultElements(t)}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.index,i=t.value;return[n("v-autocomplete",{staticClass:"mb-2",attrs:{value:i.slug,items:e.elementsAvailableForThisElementNestingType,hint:"Element that will be automatically added inside this current element","persistent-hint":"",clearable:""},on:{input:function(t){return e.updatePath(t,a,"slug")}}}),i.slug&&e.canHaveChildren(i.slug)?n("ElementStudioDefaultElements",{staticClass:"mb-2",attrs:{value:i.children,"parent-element-slug":i.slug,"allow-import":!1},on:{input:function(t){return e.updatePath(t,a,"children")}}}):e._e(),i.slug?n("ElementStudioDefaultProperties",{attrs:{value:i.defaultProperties||!1,"element-slug":i.slug},on:{input:function(t){return e.updatePath(t,a,"defaultProperties")}}}):e._e()]}}])}),e.allowImport?n("div",[n("br"),n("div",{staticClass:"mb-2"},[e._v(" Import all children of the currently active element ")]),n("NiceButton",{attrs:{disabled:!e.canImport},on:{click:e.importChildren}},[e._v(" Import Children ")])],1):e._e()],1)},i=[],r=(n("4de4"),n("d81d"),n("b64b"),n("2ca0"),n("d4ec")),o=n("bee2"),s=n("2caf"),l=n("262e"),c=n("9ab4"),u=n("2b0e"),d=n("60a3"),p=n("310e"),v=n.n(p),h=n("f57e"),m=n("628e"),f=n("a17c"),b=n("b875"),g=n("bedf"),y=n("f10d"),O=n("24fc"),k=n("dc3b"),j=n("6833"),S=function(e){Object(l["a"])(a,e);var t=Object(s["a"])(a);function a(){var e;return Object(r["a"])(this,a),e=t.apply(this,arguments),e.defaultValue={},e.repeaterOptions={options:{repeaterOptions:{defaultTitle:"Default Element",titleTemplate:"{slug}",buttonName:"Add new default element"}}},e}return Object(o["a"])(a,[{key:"beforeCreate",value:function(){this.$options.components.ElementStudioDefaultElements=n("c881").default}},{key:"updateDefaultElements",value:function(e){this.$emit("input",e)}},{key:"canHaveChildren",value:function(e){if(!e)return!1;var t=h["b"].element(e),n=t.nestingRule.type;return!n.startsWith("final")}},{key:"importChildren",value:function(){if(h["h"].activeElement){var e=function e(t){return{slug:t.data.type,defaultProperties:t.data.properties,children:t.children.map(e)}},t=Object(g["a"])(h["h"].activeElement),n=t.children.map(e);this.updateDefaultElements(n)}}},{key:"updatePath",value:function(e,t,n){var a=Object(g["a"])(this.value)||{};a[t][n]=e,this.$emit("input",a)}},{key:"canImport",get:function(){return!!h["h"].activeElement&&h["h"].activeElement.data.type===this.context.element().slug}},{key:"elementsAvailableForThisElementNestingType",get:function(){var e=this;return Object.keys(h["b"].elements).filter((function(t){var n=h["b"].element(e.parentElementSlug),a=h["b"].element(t).nestingRule;return Object(y["j"])(a,n.nestingRule,n.slug)}))}}]),a}(u["a"]);Object(c["a"])([Object(d["d"])()],S.prototype,"value",void 0),Object(c["a"])([Object(d["d"])()],S.prototype,"parentElementSlug",void 0),Object(c["a"])([Object(d["d"])({default:!0})],S.prototype,"allowImport",void 0),Object(c["a"])([Object(d["b"])("context")],S.prototype,"context",void 0),S=Object(c["a"])([Object(d["a"])({components:{NiceButton:j["a"],ElementStudioDefaultProperties:k["a"],TextInput:O["a"],Repeater:b["default"],Dropdown:f["a"],Accordion:m["a"],draggable:v.a}})],S);var C=S,x=C,w=n("2877"),P=n("6544"),_=n.n(P),E=n("c6a6"),I=Object(w["a"])(x,a,i,!1,null,null,null);t["default"]=I.exports;_()(I,{VAutocomplete:E["a"]})},ca16:function(e,t,n){},caad4:function(e,t,n){},cc48:function(e,t,n){},cc59:function(e,t,n){"use strict";var a=n("3a49"),i=n.n(a);i.a},ccbe:function(e,t,n){},cd2c:function(e,t,n){"use strict";var a=n("db2c"),i=n.n(a);i.a},cd49:function(e,t,n){"use strict";n.r(t);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("9559");var a=n("2b0e"),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app",{class:e.classList},[n("Notifications"),e.isBrowseModeEnabled?[n("BrowseMode",{key:"browser"})]:[n("Builder",{key:"builder"})]],2)},r=[],o=n("d4ec"),s=n("bee2"),l=n("2caf"),c=n("262e"),u=n("9ab4"),d=(n("1961"),n("60a3")),p=n("b850"),v=n("050e"),h=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-builder"},[e.errorsPresent?n("UnrecoverableErrors"):"normal"===e.interfaceState?n("BuilderLayout"):"loading"===e.interfaceState?n("Loading"):e._e()],1)},m=[],f=(n("a15b"),n("96cf"),n("1da1")),b=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppLayout",{class:e.classList,scopedSlots:e._u([{key:"topbar",fn:function(){return[n("BuilderTopBar")]},proxy:!0},{key:"body",fn:function(){return[n("ClosingConfirmations"),n("DesignLibraryModal"),n("SidebarPanels",{attrs:{panelState:e.leftSidebarPanelState,position:"left"}}),n("IframeCanvas",{on:{loaded:e.onIframeLoaded}}),e.showTemplateDialog?n("TemplateDialog",{attrs:{"template-id":e.templateId,"template-name":e.templateName,templateIsFallback:e.isTemplateFallback,templatesPageUrl:e.templatesPageUrl}}):e._e(),e.showInvalidPostDialog?n("InvalidPostDialog"):e._e(),e.preferencesModalOpen?n("PreferencesModal",{attrs:{open:e.preferencesModalOpen},on:{"update:dialog":e.updatePreferencesModal}}):e._e(),e.keyboardShortcutsHelpModalOpen?n("KeyboardShortcutsHelpModal",{attrs:{open:e.keyboardShortcutsHelpModalOpen},on:{"update:dialog":e.updateKeyboardShortcutsHelpModal}}):e._e(),n("SidebarPanels",{attrs:{panelState:e.rightSidebarPanelState,position:"right"}}),e.elementStudioOpen?n("div",{staticClass:"breakdance-app-far-right-area vscroll-wrap"},[n("ElementStudio")],1):e._e()]},proxy:!0}])})},g=[],y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.iframeURL?n("IframeWrapper",{attrs:{"iframe-url":e.iframeURL,"iframe-preview-width":e.canvasPreviewWidth,"iframe-exited":e.iframeExited,"iframe-state":e.canvasState,"min-width":e.iframeMinWidth,"current-breakpoint":e.currentBreakpoint,"iframe-id":"iframe"},on:{previewWidthChange:e.handlePreviewWidthChange,previewWidthChangeWithAdjustmentBar:e.handlePreviewWidthChangeWithAdjustmentBar,iframeLoaded:e.mountCanvasInIframe,iframeUnloaded:e.setIframeAsExited,reloadWanted:e.reloadIframe,resetPreviewWidth:e.handleResetPreviewWidth}}):e._e()},O=[],k=(n("4de4"),n("4160"),n("caad"),n("d3b7"),n("25f0"),n("2532"),n("3ca3"),n("159b"),n("ddb0"),n("2b3d"),n("2909")),j='/* Copied from globals.scss, don\'t modify here directly */\n:root {\n  --white: #ffffff;\n  --black: #000000;\n\n  --blue50: #eff6ff;\n  --blue100: #dbeafe;\n  --blue200: #bfdbfe;\n  --blue300: #93c5fd;\n  --blue400: #60a5fa;\n  --blue500: #3b82f6;\n  --blue600: #2563eb;\n  --blue700: #1d4ed8;\n  --blue800: #1e40af;\n  --blue900: #1e3a8a;\n\n  --red600: #dc2626;\n\n  --bde-canvas-font-family: system-ui, -apple-system, "Segoe UI", Roboto,\n    Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";\n\n  --bde-app-font-family: "Avenir", Helvetica, Arial, sans-serif;\n}\n\n/* everything here should be prefixed with breakdance because\nthese styles are mixed with any fuckery from their theme */\n\n#breakdance_canvas {\n  position: relative;\n  /* note that .breakdance { position: relative { is loaded by default on the frontend,\n  therwise if the user uses absolute positioning, things could look different in the builder */\n  /* this is necessary cuz our outlines, titlebars, etc. are positioned relative to this element */\n}\n\n#breakdance_canvas.dragging {\n  cursor: grabbing;\n}\n\n#iframe {\n  margin: 4px;\n  border: 1px solid #eee;\n  background-color: white;\n  width: 100%;\n  padding: 2px;\n  font-family: var(--bde-canvas-font-family);\n  position: relative;\n}\n\n.breakdance-icon {\n  display: flex;\n  justify-content: center;\n}\n\n.breakdance-icon > svg {\n  fill: currentColor;\n}\n\n.dragTaller {\n  height: 6px;\n  width: 6px;\n  border: 2px solid grey;\n  border-radius: 50%;\n  background-color: white;\n  z-index: 2000;\n}\n\n.drag-dot {\n  width: 11px;\n  height: 11px;\n  border-radius: 50%;\n  background-color: rgb(32, 43, 67);\n  cursor: move;\n  position: absolute;\n  z-index: 100000;\n  pointer-events: auto;\n}\n\n.drag-dots-wrapper {\n  position: absolute;\n  pointer-events: none;\n}\n\n.drag-dot-top-left {\n  top: -5px;\n  left: -5px;\n}\n\n.drag-dot-top-middle {\n  top: -5px;\n  left: calc(50% - 5px);\n}\n\n.drag-dot-top-right {\n  top: -5px;\n  left: calc(100% - 5px);\n}\n\n.drag-dot-bottom-left {\n  top: calc(100% - 5px);\n  left: -5px;\n}\n\n.drag-dot-bottom-middle {\n  top: calc(100% - 5px);\n  left: calc(50% - 5px);\n}\n\n.drag-dot-bottom-right {\n  top: calc(100% - 5px);\n  left: calc(100% - 5px);\n}\n\n.drag-dot-middle-left {\n  top: 50%;\n  transform: translate(-50%, -50%);\n}\n\n.drag-dot-middle-right {\n  top: 50%;\n  transform: translate(50%, -50%);\n  right: 0;\n}\n\n.spacing-bar {\n  background-color: rgba(0, 0, 255, 0.2);\n  opacity: 0;\n  position: absolute;\n  transition: 0.3s ease-in-out opacity;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  z-index: 10000;\n  min-height: 5px;\n}\n\n.spacing-bar:hover {\n  transition-delay: 0.2s;\n}\n\n.spacing-bar .spacing-bar-current-value {\n  font-family: monospace;\n  color: white;\n  font-size: 13px;\n  font-weight: 500;\n  background-color: #5555aa;\n  line-height: 1;\n  padding: 6px;\n  border-radius: 4px;\n  pointer-events: none;\n}\n\n.spacing-bar-inside-top {\n  min-height: 5px;\n  top: 0;\n  left: 0;\n  right: 0;\n}\n\n/* column drag */\n.drag-dots-left-width {\n  margin-right: 22px;\n}\n\n.drag-dots-column-widths-values {\n  display: flex;\n  flex-direction: row;\n  position: absolute;\n  left: -66px;\n  top: -8px;\n}\n\n.drag-dots-left-width,\n.drag-dots-right-width {\n  font-family: monospace;\n  color: white;\n  font-size: 13px;\n  font-weight: 500;\n  background-color: #5555aa;\n  line-height: 1;\n  padding: 6px;\n  border-radius: 4px;\n  width: 48px;\n}\n\n/* Node Chrome */\n\n.node-chrome,\n.node-titlebar-wrapper,\n.node-hover-controls {\n  transition: 0.3s opacity ease;\n}\n\n.node-chrome--hide-all,\n.node-chrome--hide-titlebar .node-titlebar-wrapper,\n.node-chrome--hide-hover .node-hover-controls {\n  opacity: 0;\n}\n\n/* Titlebars */\n\n.node-titlebar-wrapper {\n  position: absolute;\n  pointer-events: none;\n  direction: ltr;\n  z-index: 10000;\n  outline: 1px solid rgb(32, 43, 67);\n  user-select: none;\n}\n\n.node-titlebar {\n  pointer-events: auto;\n\n  display: flex;\n  align-items: center;\n  position: absolute;\n\n  bottom: 100%;\n  height: 28px;\n  padding: 0 10px;\n  border-radius: 4px 4px 0 0;\n\n  font-family: var(--bde-app-font-family);\n  font-size: 12px;\n  font-weight: 500;\n\n  letter-spacing: normal;\n  text-transform: none;\n\n  background-color: rgb(32, 43, 67);\n  color: white;\n  z-index: 1000000;\n\n  left: -1px;\n}\n\n.node-titlebar-is-draft-section {\n  background-color: rgb(122, 125, 133);\n}\n\n/*\n * Moving you mouse over the node titlebar or spacing bars\n * will trigger an erroneous mouseleave event on the element\n * you are dragging, when your mouse is not outside of it yet.\n */\n.dragging .spacing-bar,\n.dragging .node-titlebar {\n  pointer-events: none;\n}\n\n.node-titlebar-is-dragging,\n.breakdance--currently-dragging,\n.builder-element.breakdance--currently-dragging {\n  cursor: grabbing;\n}\n\n.breakdance--currently-dragging,\n.builder-element.breakdance--currently-dragging {\n  opacity: 0.5;\n}\n\n.node-titlebar-is-dragging {\n  /* color: rgb(32, 43, 67); */\n  background-color: rgb(167, 170, 177) !important;\n}\n\n.node-titlebar-wrapper-is-dragging {\n  outline: 1px solid rgb(167, 170, 177) !important;\n}\n\n.node-titlebar-wrapper .node-titlebar-button {\n  color: rgba(255, 255, 255, 0.85);\n  cursor: pointer;\n}\n\n.node-titlebar-button:hover {\n  color: rgba(255, 255, 255, 1);\n}\n\n.node-titlebar-title {\n  white-space: nowrap;\n  cursor: grab;\n  display: flex;\n  align-items: center;\n  letter-spacing: normal;\n}\n\n.node-titlebar-title .node-titlebar-button {\n  margin-right: 4px;\n  margin-left: 0px;\n}\n\n.node-titlebar-title .node-titlebar-button svg {\n  cursor: grab;\n}\n\n.node-titlebar-button-activate-parent {\n  margin-left: 6px;\n}\n\n.node-titlebar-button.node-titlebar-button-activate-parent > svg {\n  width: 10px;\n  height: 10px;\n}\n\n.node-titlebar-button {\n  margin-left: 9px;\n}\n\n.node-titlebar-button > svg {\n  width: 13px;\n  height: 13px;\n}\n\n.node-titlebar-margin-left {\n  margin-left: 20px;\n}\n\n/* Other */\n.breakdance-drag-placeholder-wrapper {\n  pointer-events: none;\n}\n\n.breakdance-drag-placeholder {\n  /* this won\'t work if something other than the window has position relative on it,\n  maybe we could mount the overlaid ui chrome inside the body, not in the canvas */\n\n  /* some months later\n  ... really? The above sounds like bullshit. I can put position relative\n  on all sorts of stuff and this works fine\n  so maybe we are already mounting the overlaid UI chrome in the right place?\n  */\n\n  position: absolute;\n  /* ---- */\n  background-color: var(--blue500);\n  z-index: 100001;\n  display: none;\n  border-radius: 2px;\n}\n\n.breakdance-drag-target-outline {\n  outline: 6px solid var(--blue300);\n  outline-offset: -6px;\n  z-index: 100000;\n  display: none;\n}\n\n.breakdance-children-pointer-events-none > * {\n  pointer-events: none;\n}\n\n/* global blocks */\n.breakdance-themeless-global-block {\n  cursor: default;\n}\n\n.breakdance-themeless-global-block::selection {\n  background-color: transparent;\n}\n\n.breakdance-themeless-global-block *::selection {\n  background-color: transparent;\n}\n\n.breakdance-foreign-documents-overlay {\n  font-family: var(--bde-canvas-font-family);\n  position: fixed;\n  z-index: 9999;\n  outline: 1px solid rgb(255 182 216);\n  outline-offset: -1px;\n  cursor: not-allowed;\n  background-color: rgba(0, 0, 0, 0.1);\n  display: none;\n}\n.breakdance-foreign-documents-overlay-titlebar-wrapper {\n  position: absolute;\n  top: 0;\n  left: 50%;\n}\n\n.breakdance-foreign-documents-overlay-titlebar {\n  position: relative;\n  left: -50%;\n  height: 28px;\n  padding: 0 10px;\n  font-family: var(--bde-canvas-font-family);\n  font-size: 12px;\n  font-weight: 500;\n  background-color: rgb(255 182 216);\n  border-radius: 0px 0px 4px 4px;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  user-select: none;\n}\n\n.breakdance-foreign-documents-overlay-titlebar a {\n  cursor: pointer;\n  color: black;\n  text-decoration: none;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.breakdance-foreign-documents-overlay-titlebar a svg {\n  margin-left: 5px;\n  width: 14px;\n  height: 14px;\n}\n\n.breakdance-foreign-document-wrapper:hover\n  .breakdance-foreign-document-wrapper__overlay {\n  position: absolute;\n  width: 100%;\n  height: 100%;\n}\n\n/* node hover controls */\n.node-hover-controls {\n  position: absolute;\n  pointer-events: none;\n  z-index: 9999;\n}\n\n.node-hover-controls--outline {\n  outline: 1px solid rgb(177, 202, 255);\n}\n\n.node-hover-controls > div {\n  display: none;\n  z-index: 100000;\n}\n\n.node-hover-controls.node-hover-controls-show > div {\n  display: flex;\n}\n\n.node-hover-controls-button {\n  position: absolute;\n  pointer-events: auto;\n  flex-direction: column;\n\n  border-radius: 50%;\n\n  width: 40px;\n  height: 40px;\n\n  font-size: 20px;\n  font-weight: 700;\n  font-family: var(--bde-canvas-font-family);\n  background-color: rgb(32, 43, 67);\n  color: white;\n\n  align-items: center;\n  justify-content: center;\n\n  cursor: pointer;\n}\n\n.node-hover-controls-bottom-button {\n  top: calc(100% - 20px);\n  left: calc(50% - 20px);\n}\n\n.node-hover-controls-right-button {\n  top: 50%;\n  left: calc(100% - 48px);\n  transform: translateY(-50%);\n}\n\n.node-hover-controls-menu {\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\n  border-radius: 3px;\n  font-family: var(--bde-canvas-font-family);\n  font-size: 13px;\n  font-weight: 500;\n  flex-direction: column;\n  background-color: white;\n  color: black;\n  display: none;\n  position: absolute;\n  top: calc(100% - 20px);\n  left: 50%;\n  transform: translateX(-50%);\n  width: 170px;\n  overflow: hidden;\n}\n\n.node-hover-controls-menu > div {\n  padding: 9px 12px;\n  text-align: center;\n}\n\n.node-hover-controls-menu > div:hover {\n  background-color: #fafafa;\n}\n\n.node-hover-controls-menu--open {\n  display: flex;\n}\n\n/* We do the outlining with JS to add some logic to it*/\n*:focus[contenteditable="true"] {\n  border: none;\n  outline: none;\n}\n\n.node-content-editable {\n  position: absolute;\n  pointer-events: none;\n  z-index: 1000;\n  outline: 1px solid var(--blue500);\n}\n\n/* EMPTY CONTAINER */\n\n.breakdance-empty-container {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  height: 100%;\n  min-height: 200px;\n}\n\n.breakdance-empty-container__add-element {\n  font-family: var(--bde-canvas-font-family);\n\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  cursor: pointer;\n\n  user-select: none;\n\n  background-color: var(--blue50);\n  width: 42px;\n  height: 42px;\n  border-radius: 3px;\n  margin: 10px;\n}\n\n.breakdance-empty-container__add-element {\n  color: var(--blue500);\n}\n\n.breakdance-empty-container__add-element:hover {\n  background-color: var(--blue100);\n}\n\n.breakdance-empty-container__add-element--disabled,\n.breakdance-empty-container__add-element--disabled:hover {\n  cursor: not-allowed;\n  background: var(--grey-100);\n  color: var(--grey-300);\n}\n\n/* COLUMNS */\n\n.breakdance-empty-columns {\n  font-family: var(--bde-canvas-font-family);\n  box-sizing: border-box;\n  width: 100%;\n  overflow: hidden;\n  background-color: white;\n  border-radius: 5px;\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1), 0 0 100px rgba(0, 0, 0, 0.1);\n  padding: 50px;\n}\n\n.breakdance-empty-columns-choices-heading {\n  font-weight: 500;\n  font-size: 16px;\n  text-align: center;\n  margin-bottom: 16px;\n  user-select: none;\n}\n\n.breakdance-empty-columns-choices {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n}\n\n.breakdance-empty-columns-choices-row {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  align-items: center;\n  justify-content: center;\n}\n\n.breakdance-empty-columns-column-icon-wrapper {\n  padding: 4px;\n  margin: 16px;\n  cursor: pointer;\n  border-radius: 3px;\n  transition: 0.3s ease-in-out filter;\n  filter: grayscale(90%);\n}\n\n.breakdance-empty-columns-column-icon-wrapper:hover {\n  filter: grayscale(0%);\n}\n\n.breakdance-empty-columns-column-icon {\n  width: 160px;\n  height: 90px;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n}\n\n.breakdance-empty-columns-column-icon-column {\n  margin: 4px;\n  width: 100%;\n  background-color: #bfdbfe;\n  border-radius: 3px;\n}\n\n.breakdance--empty-container:not(.breakdance--active-element) {\n  outline: 2px solid #eee;\n  outline-offset: -2px;\n}\n\n/* ELEMENT */\n\n.builder-element {\n  cursor: default;\n}\n\n/* right click menu. This is  duplicated in the RightClickMenu\n\nWe need it also here because this is used both in the canvas and the structure panel\n*/\n\n.breakdance-canvas-right-click-menu {\n  position: absolute;\n  z-index: 2147483647;\n  font-family: var(--bde-canvas-font-family);\n  background-color: var(--white);\n  box-shadow: 0px 5px 5px -3px rgb(0 0 0 / 20%),\n    0px 8px 10px 1px rgb(0 0 0 / 14%), 0px 3px 14px 2px rgb(0 0 0 / 12%);\n  min-width: 200px;\n  border-radius: 4px;\n  padding: 6px 0px;\n  user-select: none;\n}\n\n.breakdance-canvas-right-click-menu-item {\n  font-size: 13px;\n  font-weight: 400;\n  font-size: 13px;\n  min-height: 40px;\n  padding-left: 18px;\n  display: flex;\n  align-items: center;\n  justify-content: flex-start;\n  cursor: pointer;\n  color: #333;\n}\n\n.breakdance-canvas-right-click-menu-divider {\n  height: 1px;\n  background-color: #ddd;\n  margin-top: 6px;\n  margin-bottom: 6px;\n}\n\n.breakdance-canvas-right-click-menu-item:hover:not(.breakdance-canvas-right-click-menu-item-disabled) {\n  background-color: #eee;\n}\n\n.breakdance-canvas-right-click-menu-item-disabled {\n  opacity: 0.5;\n  cursor: default !important;\n}\n\n/* Empty State */\n\n.breakdance-canvas-empty-element {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  width: 100%;\n  padding: 30px;\n  text-align: center;\n  border: 2px dashed #c3c4c7;\n}\n\n.breakdance-canvas-empty-element__title {\n  font-size: 18px;\n  font-weight: normal;\n  color: #646970;\n  margin-bottom: 0;\n}\n\n/*** Warning ***/\n\n.bde-no-custom-query-error {\n  background: rgb(254, 242, 242);\n  color: var(--red600);\n  padding: 12px;\n}\n\n/*** Loading ***/\n\n.breakdance-empty-ssr-message {\n  padding: 12px;\n  background: rgb(242, 242, 254);\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  color: black;\n  font-size: 13px;\n  font-weight: 500;\n  margin: 12px 0;\n}\n\n.breakdance-empty-ssr-message-error {\n  background: rgb(254, 242, 242);\n}\n\n.breakdance-empty-ssr-message small {\n  margin-top: 6px;\n  color: black;\n  font-size: 11px;\n  font-weight: 400;\n}\n\n.breakdance-element-is-updating:empty {\n  min-height: 80px;\n  max-width: 100%;\n  width: 400px;\n}\n\n.breakdance-element-is-updating {\n  opacity: 0.3;\n  background: repeating-linear-gradient(\n    45deg,\n    #eee 0px,\n    #eee 10px,\n    #d4d4d4 10px,\n    #d4d4d4 20px\n  );\n}\n\n.breakdance-node-titlebar-loading-spinner {\n  animation: breakdance-node-titlebar-loading-spinner 1s linear infinite;\n}\n\n@keyframes breakdance-node-titlebar-loading-spinner {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n',S=(n("d81d"),n("99af"),n("7db0"),n("45fc"),n("b0c0"),n("4fad"),n("b64b"),n("2ca0"),n("498a"),n("15fd")),C=n("5530"),x=n("ff72"),w=n("e600"),P=n("c7d4"),_=n("2ef0"),E=n.n(_),I=n("5b59"),D=n("7723"),T=(n("ac1f"),n("5319"),1),A=3;function R(e,t,n,a){var i=a.enableContentEditableAndFocus,r=a.saveContentEditable,o=function e(a){var o=[];return a.forEach((function(a){if(a.nodeType===A){var s=a.nodeValue;"%%CHILDREN%%"===(null===s||void 0===s?void 0:s.trim())?o.push(n()):s&&o.push(s)}else if(a.nodeType===T&&a instanceof Element){for(var l=a.attributes,c=a.nodeName,u={},d={},p={},v=[],h=void 0,m=void 0,f=0;f<l.length;f++){var b=l.item(f);if(b){var g=b.name;"class"===g?h=b.value:"style"===g?m=b.value:u[g]=b.value,"data-content-editable-property-path"===g&&(p.dblclick=i,p.blur=r,d.innerHTML=a.innerHTML)}}!d.innerHTML&&a.hasChildNodes()&&v.push.apply(v,Object(k["a"])(e(a.childNodes))),o.push(t(c,{class:h,style:m,attrs:Object(C["a"])({},u),on:Object(C["a"])({},p),domProps:d},v))}})),o},s=new DOMParser,l=s.parseFromString(e,"text/html").body,c=(new XMLSerializer).serializeToString(l),u=c.replace(/<body.*?>/,"").replace("</body>",""),d=s.parseFromString("<root>"+u+"</root>","application/xhtml+xml");return o(d.documentElement.childNodes)}var B=n("368e"),M=n("8fe2"),F=n("883b"),V=(M["o"]({globalSettingsCssFilePath:M["r"],globalSelectorsCssFilePath:M["r"],defaultCssForAllElementsFilePath:M["r"]}),M["o"]({postCssFilePath:M["r"],postDefaultsCssFilePath:M["r"]})),L=M["s"]({postsGeneratedCssFilePaths:M["p"](M["r"],V)}),W=M["j"]([L,M["s"]({dependencies:F["d"]})]),N=M["j"]([M["s"]({html:M["r"]}),W]),$=n("2e2f"),U=n("a72c"),H={};function z(e,t,n){var a=[];return Object(f["a"])(regeneratorRuntime.mark((function i(){var r,o,s,l=arguments;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:for(r=l.length,o=new Array(r),s=0;s<r;s++)o[s]=l[s];return H[n]&&clearTimeout(H[n]),H[n]=setTimeout((function(){var t=e.apply(void 0,o);a.forEach((function(e){return e(t)})),a=[],delete H[n]}),t),i.abrupt("return",new Promise((function(e){return a.push(e)})));case 4:case"end":return i.stop()}}),i)})))}function G(e,t,n,a){var i=function(){return Object(B["a"])({action:"breakdance_server_side_render",overrideAjaxUrl:Object($["a"])(),dataToPost:{properties:Object(U["a"])(t),parentProperties:Object(U["a"])(a),elementSlug:e,triggeringDocument:p["d"].document.documentMeta.id},decoder:N})};return z(i,1e3,n)()}var q=n("3af4"),K=n("fb60"),X=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-empty-container",attrs:{id:"breakdance-empty-container"}},[n("div",{staticClass:"breakdance-empty-container__add-element",class:{"breakdance-empty-container__add-element--disabled":!e.canAddElement},on:{click:e.openAddPanel}},[n("Icon",{attrs:{icon:"PlusIcon",size:"22"}})],1)])},Y=[],Q=n("920b"),Z=n("25c8"),J=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"openAddPanel",value:function(e){e.preventDefault(),e.stopPropagation(),this.canAddElement&&(Object(Q["e"])("add"),p["g"].activateElement(this.id))}},{key:"canAddElement",get:function(){return p["g"].hasFullAccess}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:null})],J.prototype,"id",void 0),J=Object(u["a"])([Object(d["a"])({components:{Icon:Z["a"]}})],J);var ee=J,te=ee,ne=n("2877"),ae=Object(ne["a"])(te,X,Y,!1,null,null,null),ie=ae.exports,re=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-empty-columns"},[n("div",{staticClass:"breakdance-empty-columns-choices-heading"},[e._v(" Choose a column structure ")]),n("div",{staticClass:"breakdance-empty-columns-choices"},[n("div",{staticClass:"breakdance-empty-columns-choices-row"},[n("div",{staticClass:"breakdance-empty-columns-column-icon-wrapper",on:{click:function(t){return e.addColumns(t,2)}}},[e._m(0)]),n("div",{staticClass:"breakdance-empty-columns-column-icon-wrapper",on:{click:function(t){return e.addColumns(t,3)}}},[e._m(1)]),n("div",{staticClass:"breakdance-empty-columns-column-icon-wrapper",on:{click:function(t){return e.addColumns(t,4)}}},[e._m(2)])]),n("div",{staticClass:"breakdance-empty-columns-choices-row"},[n("div",{staticClass:"breakdance-empty-columns-column-icon-wrapper",on:{click:function(t){return e.addColumns(t,2,[35,65])}}},[e._m(3)]),n("div",{staticClass:"breakdance-empty-columns-column-icon-wrapper",on:{click:function(t){return e.addColumns(t,2,[65,35])}}},[e._m(4)])])])])},oe=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-empty-columns-column-icon"},[n("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),n("div",{staticClass:"breakdance-empty-columns-column-icon-column"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-empty-columns-column-icon"},[n("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),n("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),n("div",{staticClass:"breakdance-empty-columns-column-icon-column"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-empty-columns-column-icon"},[n("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),n("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),n("div",{staticClass:"breakdance-empty-columns-column-icon-column"}),n("div",{staticClass:"breakdance-empty-columns-column-icon-column"})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-empty-columns-column-icon"},[n("div",{staticClass:"breakdance-empty-columns-column-icon-column",staticStyle:{width:"35%"}}),n("div",{staticClass:"breakdance-empty-columns-column-icon-column",staticStyle:{width:"65%"}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-empty-columns-column-icon"},[n("div",{staticClass:"breakdance-empty-columns-column-icon-column",staticStyle:{width:"65%"}}),n("div",{staticClass:"breakdance-empty-columns-column-icon-column",staticStyle:{width:"35%"}})])}],se=n("e535"),le=n("2fb0"),ce=n("a920"),ue=n("e46f"),de=n("7a86"),pe=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"addColumns",value:function(e,t,n){var a=this;e.preventDefault(),e.stopPropagation();for(var i=[],r=n?n.map((function(e){var t=Object(de["a"])(e);return E.a.set({},se["a"],{number:t,unit:"%",style:"".concat(t,"%")})})):[],o=0;o<t;o++)i.push({id:o,data:{type:le["b"],properties:n?r[o]:{}},children:[]});ce["a"].transaction((function(){p["d"].addMultipleNodes({nodes:i,parentId:a.id}),n||Object(ue["a"])(a.id)}),"Set amount of columns to ".concat(t)),Object(Q["e"])("elementproperties")}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],pe.prototype,"id",void 0),pe=Object(u["a"])([Object(d["a"])({})],pe);var ve=pe,he=ve,me=Object(ne["a"])(he,re,oe,!1,null,null,null),fe=me.exports,be=n("4472"),ge=n("a79c"),ye=n("a823"),Oe=n("d827"),ke=n("a4e3"),je=(n("a630"),n("b85c")),Se=["jquery","wp-polyfill-js"];function Ce(){var e,t=window.Breakdance.canvas.document,n=t.querySelectorAll("script"),a=Object(je["a"])(n);try{var i=function(){var n,a=e.value;if(Se.find((function(e){return a.id.toLowerCase().includes(e)||a.src.toLowerCase().includes(e)})))return"continue";var i=xe(a);a.remove(),null===(n=t.querySelector("body"))||void 0===n||n.appendChild(i)};for(a.s();!(e=a.n()).done;)i()}catch(r){a.e(r)}finally{a.f()}}function xe(e){var t=document.createElement("script");return Array.from(e.attributes).forEach((function(e){t.setAttribute(e.name,e.value)})),e.src?t.src=e.src:t.innerHTML=e.innerHTML,t}var we,Pe=n("7c4b"),_e='\n<div class="breakdance-empty-ssr-message">\n    This element has no content.\n\n    <small>Hide this notice at <i>Preferences / UI Settings / Disable Notice For Empty SSR Elements</i></small>\n</div>',Ee='\n<div class="breakdance-empty-ssr-message breakdance-empty-ssr-message-error">\n    There was an error on the server when rendering this element.\n</div>',Ie=function(e,t){return'\n<div class="breakdance-empty-ssr-message breakdance-empty-ssr-message-error">\n    The <strong>"'.concat(e,'"</strong> element requires the plugins <em>"').concat(t.join(", "),'"</em>. Please check that they are installed and activated from the Plugins page of the WP admin.\n</div>')},De=n("2c31"),Te=n("82c6"),Ae=n("4ff2"),Re=n("7234"),Be=n("f10d"),Me=n("452a"),Fe=n("54e4"),Ve=n("41c0"),Le=n("5517"),We=n("8e5b"),Ne=n("5be7"),$e=n("02ed"),Ue=n("bedf"),He=n("ec26"),ze=E.a.debounce(D["b"],500),Ge=we=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.isActive=!1,e.uniqueId=Object(He["a"])(),e.ssrInnerHtml=null,e.oldSsrParentProperties=Object(Ue["a"])(e.ssrParentProperties),e.oldTwigProps=Object(Ue["a"])(e.element.data.properties),e.dragMouseStartX=!1,e.dragMouseStartY=!1,e.easyEvent=new Pe["a"],e}return Object(s["a"])(n,[{key:"__render",value:function(e){var t=this,n=this.rootTag;if(!this.shouldShow)return!1;if(this.isEmptyColumns)return e(n,{attrs:Object(C["a"])({},Object(C["a"])({},this.attributes),{id:this.htmlId}),on:{mousedown:this.activateAndMaybeStartDrag,dragstart:this.disableDefaultDrag,click:this.maybePreventDefault},class:this.classList},[e(fe,{attrs:{id:this.element.id}})]);var a=Object(be["j"])(this.processedTemplate,{ssr:this.ssrValueOrMessage}),i=this.isEmptyContainer?e(ie,{attrs:{id:this.element.id}}):this.element.children.map((function(n){return e(we,{key:n.id,attrs:{element:n,parentId:t.element.id,ssrParentProperties:t.parentProps}})})),r=this.contentEditablePropertyPath||null!==this.ssrValueOrMessage&&!this.ssrValueOrMessage.includes("%%CHILDREN%%"),o={};r&&(o.innerHTML=a);var s=r?[]:R(a,e,(function(){return i}),{enableContentEditableAndFocus:this.enableContentEditableAndFocus,saveContentEditable:this.saveContentEditable});return e(this.rootTag,{class:this.classList,attrs:Object(C["a"])({},this.attributes,{id:this.htmlId}),domProps:o,on:{mousedown:this.activateAndMaybeStartDrag,dragstart:this.disableDefaultDrag,click:this.maybePreventDefault,dblclick:this.contentEditablePropertyPath?this.enableContentEditableAndFocus:function(){},blur:this.contentEditablePropertyPath?this.saveContentEditable:function(){}}},s)}},{key:"render",value:function(e){return this.__render(e)}},{key:"rerenderFromServeOnParentPropertyChange",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.shouldSsr){e.next=2;break}return e.abrupt("return");case 2:if(E.a.isEqual(this.ssrParentProperties,this.oldSsrParentProperties)){e.next=6;break}return this.oldSsrParentProperties=Object(Ue["a"])(this.ssrParentProperties),e.next=6,this.maybeRerenderFromServer();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"rerenderFromServerOnRefreshSsr",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!this.refreshSsr){e.next=5;break}return e.next=3,this.maybeRerenderFromServer();case 3:p["g"].setRefreshSsrElementId(null),this.runActionsAfterSsr();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"maybeRerenderFromServerOnPropertyChange",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.shouldSsr){e.next=3;break}return this.processedTemplate.includes("%%SSR%%")||(this.ssrInnerHtml=null,this.updateSsrDependenciesAndStyles()),e.abrupt("return");case 3:if(!E.a.isEqual(this.twigProps,this.oldTwigProps)){e.next=5;break}return e.abrupt("return");case 5:return this.oldTwigProps=this.twigProps,e.next=8,this.maybeRerenderFromServer();case 8:this.runActionsAfterSsr();case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"runActionsAfterSsr",value:function(){ge["a"].run.onBeforeDeletingElement({elementId:this.element.id}),this.element._parentId&&ge["a"].run.onAfterDeletedElement({deletedElementNodeType:this.element.data.type,parentIdOfDeletedElement:this.element._parentId,transactionKey:void 0}),ge["a"].run.onMountedElement({elementId:this.element.id})}},{key:"maybeRerenderFromServer",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.shouldSsr){e.next=2;break}return e.abrupt("return");case 2:return p["g"].setElementUpdatingState({elementId:this.element.id,isUpdating:!0}),e.t0=q["pipe"],e.next=6,G(this.baseElement.slug,this.element.data.properties,this.element.id,this.parentProps);case 6:e.t1=e.sent,e.t2=Object(K["fold"])((function(e){return e.forEach((function(e){ke["a"].log.message(e.msg)})),{html:Ee,postsGeneratedCssFilePaths:{},dependencies:{}}}),(function(e){return e})),t=(0,e.t0)(e.t1,e.t2),p["g"].setElementUpdatingState({elementId:this.element.id,isUpdating:!1}),this.ssrInnerHtml=t.html,this.updateSsrDependenciesAndStyles(t.dependencies,t.postsGeneratedCssFilePaths);case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"maybeRerunAllScriptsInCanvasDocumentBody",value:function(){var e=this.baseElement.settings&&this.baseElement.settings.dependsOnGlobalScripts;e&&Ce()}},{key:"updateSsrDependenciesAndStyles",value:function(e,t){this.maybeRerunAllScriptsInCanvasDocumentBody(),e&&Object(D["b"])(Object(Ae["c"])(),{dependencies:[e],addInlineScriptsAsUnique:!1,element:this.element}),Object(De["a"])(Object(Ae["c"])(),this.element.id,t)}},{key:"onBreakpointsChange",value:function(){this.generateElementsCSS()}},{key:"onTwigPropsChange",value:function(){this.generateElementsCSS()}},{key:"onCssTemplateChange",value:function(){this.generateElementsCSS()}},{key:"onDefaultCssChange",value:function(){this.generateElementsCSS()}},{key:"onInternalDependenciesChange",value:function(){if(this.baseElement.dependencies){var e=this.baseElement.dependencies.map((function(e){return Object(C["a"])({},e,{inlineScripts:[]})}));ze(Object(Ae["c"])(),{dependencies:e,tags:this.tags,element:this.element})}}},{key:"refreshIfTypographyPresetsChange",value:function(){this.generateElementsCSS()}},{key:"elementChildrenCountChanged",value:function(){this.generateElementsCSS()}},{key:"generateElementsCSS",value:function(){var e=Object(w["a"])(this.twigProps,this.breakpoints,this.baseElement.cssTemplate,this.tags,this.baseElement.propertyPathsToWhitelistInFlatProps,this.elementChildrenCount);Object(De["b"])(Object(Ae["c"])(),this.baseElement.slug,this.baseElement.defaultCss),Object(De["c"])(Object(Ae["c"])(),this.element.id,e,this.uniqueId)}},{key:"mounted",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.updateSsrDependenciesAndStyles(),e.next=3,Promise.all([this.loadDependencies(),this.maybeRerenderFromServer()]);case 3:ge["a"].run.onMountedElement({elementId:this.element.id});case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"destroyed",value:function(){var e=0===Object(Te["d"])(p["d"].document.tree.root,this.baseElement.slug);e&&Object(De["h"])(Object(Ae["c"])(),this.baseElement.slug),Object(De["j"])(Object(Ae["c"])(),this.element.id,this.uniqueId),Object(De["i"])(Object(Ae["c"])(),this.element.id),this.element._parentId&&ge["a"].run.onAfterDeletedElement({deletedElementNodeType:this.element.data.type,parentIdOfDeletedElement:this.element._parentId,transactionKey:"DocumentDeleteElement:ID:".concat(this.element.id)})}},{key:"loadDependencies",value:function(){return Object(D["b"])(Object(Ae["c"])(),{dependencies:[].concat(Object(k["a"])(this.baseElement.dependencies||[]),Object(k["a"])(p["b"].elementsExternalAttrsDepsAndActions.dependencies||[])),element:this.element,tags:this.tags})}},{key:"dynProps",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!p["b"].dynamicDataCache.loading){e.next=2;break}return e.abrupt("return",this.element.data.properties);case 2:if(t=p["b"].dynamicDataCache.data,n=Object(P["a"])(this.element.data.properties,t),a=n.filter((function(e){return!Object.keys(t).includes(e)})),!a.length){e.next=10;break}return e.next=8,Object(P["c"])(a);case 8:i=e.sent,p["b"].updateDynamicDataCache(Object(C["a"])({},t,{},i));case 10:return r=!!p["b"].previewedItem,e.abrupt("return",Object(Oe["b"])(this.element.data.properties,(function(e){return Object(ye["f"])(e)&&(t[e]||r)?t[e]:e})));case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"renderAttributeValue",value:function(e){return"template"in e?Object(be["k"])(e.template,this.twigProps,Object(be["e"])(this.baseElement,e)):"propertyPath"in e?String(E.a.get(this.element.data.properties,e.propertyPath,"")):"rawValue"in e?e.rawValue:null}},{key:"handleActiveElementIdChange",value:function(){this.isActive=this.activeElementId===this.element.id}},{key:"activateElement",value:function(){this.behaviorModeEnabled||(p["g"].activateElement(this.element.id),Object(Q["e"])("elementproperties"))}},{key:"canDrag",value:function(e){if(!this.isDragAndDropEnabled)return!1;var t=e.target,n=["textarea","input","select"],a=t.tagName.toLowerCase();return!n.includes(a)&&!p["g"].elementWithContentEditable}},{key:"disableDefaultDrag",value:function(e){e.preventDefault()}},{key:"maybePreventDefault",value:function(e){var t=e.target,n=["a","button"],a=n.join(", "),i=n.some((function(e){return t.closest(e)}));(t.matches(a)||i)&&e.preventDefault()}},{key:"activateAndMaybeStartDrag",value:function(e){e.stopPropagation(),this.activateElement(),this.canDrag(e)&&(this.behaviorModeEnabled||(this.dragMouseStartX=e.clientX,this.dragMouseStartY=e.clientY,this.easyEvent.on("mousemove",this.dragging),this.easyEvent.on("mouseup",this.removeDragListeners)))}},{key:"removeDragListeners",value:function(){this.easyEvent.removeAll(),this.dragMouseStartX=!1,this.dragMouseStartY=!1}},{key:"dragging",value:function(e){if(!this.behaviorModeEnabled&&Object(Pe["b"])(e)&&!1!==this.dragMouseStartX&&!1!==this.dragMouseStartY){var t=e.clientX,n=e.clientY;(Math.abs(t-this.dragMouseStartX)>3||Math.abs(n-this.dragMouseStartY)>3)&&(p["g"].setCanvasElementDraggedId(this.element.id),this.removeDragListeners())}}},{key:"enableContentEditableAndFocus",value:function(e){var t=e.target,n=null;if(n=t.dataset.contentEditablePropertyPath||t.dataset.nodeId?t:t.closest("[data-content-editable-property-path]"),n){var a=n.dataset.contentEditablePropertyPath;if(a){var i=E.a.get(this.twigProps,Object(ye["b"])(a)),r=null===i||void 0===i?void 0:i.field.slug;if(r)return}var o="true"===n.getAttribute("contenteditable");o||(p["g"].setContentEditableElementId(this.element.id),n.setAttribute("contenteditable","true"),n.focus(),window.Breakdance.canvas.document.addEventListener("keydown",this.handleKeydownInsideContentEditable),n.addEventListener("paste",this.pasteWithoutFormatting))}}},{key:"saveContentEditable",value:function(e){var t=e.target;window.Breakdance.canvas.document.removeEventListener("keydown",this.handleKeydownInsideContentEditable),t.removeEventListener("paste",this.pasteWithoutFormatting),t.setAttribute("contenteditable","false"),p["g"].setContentEditableElementId(null);var n=t.dataset.contentEditablePropertyPath||this.contentEditablePropertyPath;if(n){t.innerHTML=t.innerHTML.trim();var a=t.childNodes[t.childNodes.length-1];a&&"BR"===a.tagName&&a.remove();var i=document.createElement("textarea");i.innerHTML=t.innerHTML;var r=i.value;p["d"].throttledPropertyChanged({elementId:this.element.id,path:n,value:r,meta:{snapshotLabel:Ve["a"].forElementBasingOnChangedStorePropertyPath(this.baseElement,n,Le["a"].CHANGE)}})}}},{key:"pasteWithoutFormatting",value:function(e){var t,n=null===(t=e.clipboardData)||void 0===t?void 0:t.getData("text/plain");n&&(window.Breakdance.canvas.document.execCommand("insertHTML",!1,Object($e["a"])(n)),e.preventDefault())}},{key:"handleKeydownInsideContentEditable",value:function(e){return"Space"===e.code?(e.preventDefault(),e.stopPropagation(),void window.Breakdance.canvas.document.execCommand("insertText",!1," ")):"Enter"===e.code?(window.Breakdance.canvas.document.execCommand("insertLineBreak"),void e.preventDefault()):"Escape"===e.code||(e.ctrlKey||e.metaKey)&&"s"===e.key?(e.preventDefault(),void this.saveContentEditable(e)):void 0}},{key:"isEmptyContainer",get:function(){var e=Object(Be["e"])(this.element.data.type).type,t="popup"===e||"container"===e||"container-link"===e||"section"===e;return t&&0===this.element.children.length}},{key:"isEmptyColumns",get:function(){return this.element.data.type===le["a"]&&0===this.element.children.length}},{key:"parentProps",get:function(){var e=this.baseElement.settings&&this.baseElement.settings.sharePropsWithSSRChildren,t=this.element.data.properties||{},n=(t.design,Object(S["a"])(t,["design"]));return(e?n:this.ssrParentProperties)||{}}},{key:"elementPropertiesHash",get:function(){var e=Object(Me["a"])(this.element.data.properties)||"";return Object(We["a"])("".concat(e).concat(this.element.id))}},{key:"processedTemplate",get:function(){if(!this.hasRequiredPluginsAndTheyAreAvailable&&this.baseElement.settings&&this.baseElement.settings.requiredPlugins)return Ie(this.baseElement.name,this.baseElement.settings.requiredPlugins);var e=Object(be["k"])(this.baseElement.template,this.twigProps,Object(be["f"])(this.baseElement));return e?Object(be["j"])(e,this.tags):""}},{key:"shouldSsr",get:function(){var e=p["g"].lastModifiedElementProperty.elementId!==this.element.id||!this.baseElement.propertyPathsToSsrElementWhenValueChanges||this.baseElement.propertyPathsToSsrElementWhenValueChanges.find((function(e){var t;return null===(t=p["g"].lastModifiedElementProperty.path)||void 0===t?void 0:t.startsWith(e)}));return this.processedTemplate.includes("%%SSR%%")&&(e||this.refreshSsr)}},{key:"refreshSsr",get:function(){return!!p["g"].refreshSsrElementId&&p["g"].refreshSsrElementId===this.element.id}},{key:"hasRequiredPluginsAndTheyAreAvailable",get:function(){if(!this.baseElement.settings||!this.baseElement.settings.requiredPlugins)return!0;var e=this.baseElement.settings.requiredPlugins.filter((function(e){return p["b"].availableWordpressPlugins.includes(e)}));return e.length===this.baseElement.settings.requiredPlugins.length}},{key:"ssrValueOrMessage",get:function(){return""===this.ssrInnerHtml?p["g"].settings.disableNoticeForEmptySSRElements?"":_e:this.shouldSsr||this.ssrInnerHtml?this.isElementUpdating?this.ssrInnerHtml||"":this.ssrInnerHtml:null}},{key:"tags",get:function(){return{id:this.element.id,selector:this.elementSelector,uniqueSlug:this.uniqueClassName,postId:this.postId,elementName:this.baseElement.name}}},{key:"isElementUpdating",get:function(){return!!p["g"].elementsThatAreUpdating[this.element.id]}},{key:"shouldShow",get:function(){return Object(I["a"])("elementShouldShow",!0,this.element.data.properties,{currentBreakpoint:p["g"].currentBreakpoint})}},{key:"breakpoints",get:function(){return p["b"].breakpoints}},{key:"globalSettings",get:function(){return p["e"].globalSettings}},{key:"elementChildrenCount",get:function(){return this.element.children.length}},{key:"elementSelector",get:function(){return".breakdance .".concat(this.uniqueClassName)}},{key:"rootTag",get:function(){var e,t,n,a=this.baseElement.htmlTag.pathToControl?E.a.get(this.element.data.properties,this.baseElement.htmlTag.pathToControl):null===(e=this.element.data.properties)||void 0===e||null===(t=e.settings)||void 0===t||null===(n=t.advanced)||void 0===n?void 0:n.tag;return"string"===typeof a&&a||this.baseElement.htmlTag.default}},{key:"baseElement",get:function(){return p["b"].element(this.element.data.type)}},{key:"twigProps",get:function(){return Object(Oe["a"])(this.element.data.properties)&&0!==Object.entries(this.element.data.properties).length?this.dynProps:{}}},{key:"postId",get:function(){return p["d"].document.documentMeta.id}},{key:"htmlId",get:function(){return Object(Re["j"])(this.element)}},{key:"currentlyDragging",get:function(){return p["g"].currentlyDraggingCanvasElementId===this.element.id}},{key:"uniqueClassName",get:function(){return Object(Re["c"])(this.element,this.postId)}},{key:"baseClassName",get:function(){return Object(Re["b"])(this.baseElement)}},{key:"classList",get:function(){var e,t,n,a,i=[this.uniqueClassName,"builder-element",this.baseClassName];this.isActive&&i.push("breakdance--active-element"),this.currentlyDragging&&i.push("breakdance--currently-dragging"),this.isEmptyContainer&&i.push("breakdance--empty-container");var r=null!==(e=null===(t=this.element.data.properties)||void 0===t||null===(n=t.settings)||void 0===n||null===(a=n.advanced)||void 0===a?void 0:a.classes)&&void 0!==e&&e;return r&&i.push.apply(i,Object(k["a"])(r)),this.baseElement.settings&&this.baseElement.settings.bypassPointerEvents&&i.push("breakdance-children-pointer-events-none"),this.isElementUpdating&&i.push("breakdance-element-is-updating"),i.push.apply(i,Object(k["a"])(this.additionalClasses)),i}},{key:"additionalClasses",get:function(){var e=this;return this.baseElement.additionalClasses?this.baseElement.additionalClasses.map((function(t){var n=Object(be["k"])(t.template,e.twigProps,Object(be["d"])(e.baseElement,t));if(n)return{name:t.name,include:n}})).filter(Fe["isDefined"]).filter((function(e){return!!e.include})).map((function(e){return e.name})):[]}},{key:"attributes",get:function(){var e,t,n,a,i=this,r={},o=[].concat(Object(k["a"])(this.baseElement.attributes||[]),Object(k["a"])(p["b"].elementsExternalAttrsDepsAndActions.attributes||[]));o.forEach((function(e){var t=i.renderAttributeValue(e);t&&(r[e.name]=Object(be["j"])(t,i.tags))}));var s=null!==(e=null===(t=this.element.data.properties)||void 0===t||null===(n=t.settings)||void 0===n||null===(a=n.advanced)||void 0===a?void 0:a.attributes)&&void 0!==e?e:[];s.forEach((function(e){r[e.name]=e.value})),r["data-node-id"]="".concat(this.element.id);var l={};return Object.keys(r).forEach((function(e){r[e]&&(l[e]=r[e])})),l}},{key:"contentEditablePropertyPath",get:function(){return this.attributes["data-content-editable-property-path"]}},{key:"activeElementId",get:function(){return p["g"].activeElementId}},{key:"isDragAndDropEnabled",get:function(){return p["g"].hasFullAccess}},{key:"behaviorModeEnabled",get:function(){var e=p["g"].builderBehaviorElementId;return!!e&&Object(Te["r"])(p["d"].document.tree,e,this.element.id)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Ge.prototype,"element",void 0),Object(u["a"])([Object(d["d"])()],Ge.prototype,"parentId",void 0),Object(u["a"])([Object(d["d"])()],Ge.prototype,"ssrParentProperties",void 0),Object(u["a"])([Object(d["h"])("ssrParentProperties",{deep:!0})],Ge.prototype,"rerenderFromServeOnParentPropertyChange",null),Object(u["a"])([Object(d["h"])("refreshSsr")],Ge.prototype,"rerenderFromServerOnRefreshSsr",null),Object(u["a"])([Object(d["h"])("twigProps")],Ge.prototype,"maybeRerenderFromServerOnPropertyChange",null),Object(u["a"])([Object(d["h"])("breakpoints",{deep:!0})],Ge.prototype,"onBreakpointsChange",null),Object(u["a"])([Object(d["h"])("twigProps",{deep:!0,immediate:!0})],Ge.prototype,"onTwigPropsChange",null),Object(u["a"])([Object(d["h"])("baseElement.cssTemplate")],Ge.prototype,"onCssTemplateChange",null),Object(u["a"])([Object(d["h"])("baseElement.defaultCss")],Ge.prototype,"onDefaultCssChange",null),Object(u["a"])([Object(d["h"])("baseElement.dependencies",{deep:!0})],Ge.prototype,"onInternalDependenciesChange",null),Object(u["a"])([Object(d["h"])("globalSettings.".concat(Ne["a"].typographyPresets),{deep:!0})],Ge.prototype,"refreshIfTypographyPresetsChange",null),Object(u["a"])([Object(d["h"])("elementChildrenCount",{})],Ge.prototype,"elementChildrenCountChanged",null),Object(u["a"])([Object(x["a"])({default:function(){return this.element.data.properties},watch:["elementPropertiesHash"]})],Ge.prototype,"dynProps",null),Object(u["a"])([Object(d["h"])("activeElementId",{immediate:!0})],Ge.prototype,"handleActiveElementIdChange",null),Ge=we=Object(u["a"])([Object(d["a"])({})],Ge);var qe,Ke,Xe=Ge,Ye=Xe,Qe=Object(ne["a"])(Ye,qe,Ke,!1,null,null,null),Ze=Qe.exports,Je=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"node-chrome",class:e.hideClass},[n("div",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}]},[n("SpacingBars"),n("ColumnDragSizer")],1),n("NodeTitlebar"),n("NodeHoverControls"),n("NodeContentEditable")],1)},et=[],tt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"drag-dots-wrapper",style:e.dragDotsWrapperPositionStyle},[n("div",{staticClass:"drag-dot drag-dot-top-left",on:{mousedown:e.dragStart}}),n("div",{staticClass:"drag-dot drag-dot-top-middle",on:{mousedown:e.dragStart}}),n("div",{staticClass:"drag-dot drag-dot-top-right",on:{mousedown:e.dragStart}}),n("div",{staticClass:"drag-dot drag-dot-bottom-right",on:{mousedown:e.dragStart}}),n("div",{staticClass:"drag-dot drag-dot-bottom-middle",on:{mousedown:e.dragStart}}),n("div",{staticClass:"drag-dot drag-dot-bottom-left",on:{mousedown:e.dragStart}}),n("div",{staticClass:"drag-dot drag-dot-middle-left",on:{mousedown:e.dragStart}}),n("div",{staticClass:"drag-dot drag-dot-middle-right",on:{mousedown:e.dragStart}})])},nt=[];function at(e){return function(t,n){if(p["g"].activeElementId){var a=function(e,t){return e+t>=0?e+t:0};if("xProperty"in e&&e.xProperty){var i=e.xProperty.replace("%%CURRENTMEDIAQUERY%%",p["g"].currentBreakpoint.id),r=a(t.width,n.lastXChange);p["d"].throttledPropertyChanged({elementId:p["g"].activeElementId,path:i,value:{number:r,unit:"px"},meta:{snapshotLabel:"Resize element"}})}if("yProperty"in e&&e.yProperty){var o=e.yProperty.replace("%%CURRENTMEDIAQUERY%%",p["g"].currentBreakpoint.id),s=a(t.height,n.lastYChange);p["d"].throttledPropertyChanged({elementId:p["g"].activeElementId,path:o,value:{number:s,unit:"px"},meta:{snapshotLabel:"Resize element"}})}}}}var it=n("0024"),rt={xProperty:"design.size.width.%%CURRENTMEDIAQUERY%%"},ot=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.mouseDragInfo=!1,e.dragDotsWrapperPositionStyle={display:"none"},e.dragCallback=!1,e.unsubscribeFromStorePositionDotsWrapper=function(){},e.easyEvent=new Pe["a"],e}return Object(s["a"])(n,[{key:"nextTickPositionDragDotsWrapper",value:function(){var e=this;Object(it["a"])((function(){return e.positionDragDotsWrapper()}))}},{key:"beforeMount",value:function(){this.positionDragDotsWrapper(),this.unsubscribeFromStorePositionDotsWrapper=this.$store.subscribe(this.nextTickPositionDragDotsWrapper),window.addEventListener("resize",this.nextTickPositionDragDotsWrapper)}},{key:"beforeDestroy",value:function(){this.unsubscribeFromStorePositionDotsWrapper(),window.removeEventListener("resize",this.nextTickPositionDragDotsWrapper)}},{key:"dragStart",value:function(e){e.preventDefault(),e.stopPropagation(),this.mouseDragInfo={startX:e.clientX,startY:e.clientY,currentX:e.clientX,currentY:e.clientY,lastXChange:0,lastYChange:0,totalXChange:0,totalYChange:0},this.dragCallback=at(rt),this.easyEvent.on("mousemove",this.dragging),this.easyEvent.on("mouseup",this.dragEnd)}},{key:"dragging",value:function(e){if(Object(Pe["b"])(e)){e.preventDefault(),e.stopPropagation();var t=Object(Ae["b"])();if(!t||!this.mouseDragInfo)return;this.mouseDragInfo=Object(C["a"])({},this.mouseDragInfo,{currentX:e.clientX,currentY:e.clientY,lastXChange:e.clientX-this.mouseDragInfo.currentX,lastYChange:e.clientY-this.mouseDragInfo.currentY,totalXChange:e.clientX-this.mouseDragInfo.startX,totalYChange:e.clientY-this.mouseDragInfo.startY}),this.dragCallback&&this.dragCallback(t,this.mouseDragInfo),this.positionDragDotsWrapper()}}},{key:"dragEnd",value:function(e){e.preventDefault(),e.stopPropagation(),this.easyEvent.removeAll(),this.mouseDragInfo=!1,this.dragCallback=!1}},{key:"positionDragDotsWrapper",value:function(){p["g"].activeElementId||(this.dragDotsWrapperPositionStyle={display:"none"});var e=Object(Ae["b"])();if(e){var t=e.x,n=e.y,a=e.width,i=e.height;this.dragDotsWrapperPositionStyle={position:"absolute",top:n.toString()+"px",left:t.toString()+"px",width:a.toString()+"px",height:i.toString()+"px"}}}}]),n}(a["a"]);ot=Object(u["a"])([Object(d["a"])({})],ot);var st=ot,lt=st,ct=Object(ne["a"])(lt,tt,nt,!1,null,null,null),ut=ct.exports,dt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.bars,(function(t,a){return n("SpacingBar",{key:a,attrs:{bar:t,isDragging:e.isDragging,isActiveBar:e.clickedHandle===t.location},on:{mousedown:function(n){return e.dragStart(n,t.location)}}})})),1)},pt=[],vt=n("0f32"),ht=n.n(vt),mt=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.clickedHandle=!1,e.mouseDragInfo=!1,e.throttledDragging=ht()(e.dragging,60),e.unsubscribeFromStorePositionWrapper=function(){},e.wrapperPositionStyle={display:"none"},e}return Object(s["a"])(n,[{key:"dragCallback",value:function(e,t,n){console.warn("To use DragMixin you must implement dragCallback()")}},{key:"dragEndCallback",value:function(){}},{key:"dragStartCallback",value:function(e){}},{key:"dragStart",value:function(e,t){e.stopPropagation(),"string"===typeof t?(p["g"].setDragMixinDragging(!0),this.clickedHandle=t,this.mouseDragInfo={startX:e.clientX,startY:e.clientY,currentX:e.clientX,currentY:e.clientY,lastXChange:0,lastYChange:0,totalXChange:0,totalYChange:0},window.Breakdance.canvas.document.addEventListener("mousemove",this.throttledDragging),window.Breakdance.canvas.document.addEventListener("mouseup",this.dragEnd),this.dragStartCallback(t)):console.warn("To use drag mixin you must specify a handle parameter (string) as the second param of your mousedown=dragStart, i.e. mousedown=dragStart($event, 'myhandle')")}},{key:"dragging",value:function(e){var t=this;e.preventDefault(),e.stopPropagation(),requestAnimationFrame((function(){return t._draggingFunc(e)}))}},{key:"_draggingFunc",value:function(e){var t=Object(Ae["b"])();t&&this.mouseDragInfo&&(this.mouseDragInfo=Object(C["a"])({},this.mouseDragInfo,{currentX:e.clientX,currentY:e.clientY,lastXChange:e.clientX-this.mouseDragInfo.currentX,lastYChange:e.clientY-this.mouseDragInfo.currentY,totalXChange:e.clientX-this.mouseDragInfo.startX,totalYChange:e.clientY-this.mouseDragInfo.startY}),this.clickedHandle&&this.dragCallback(t,this.mouseDragInfo,this.clickedHandle),this.positionWrapper(),Object(Ae["a"])())}},{key:"dragEnd",value:function(e){e.preventDefault(),e.stopPropagation(),window.Breakdance.canvas.document.removeEventListener("mousemove",this.throttledDragging),window.Breakdance.canvas.document.removeEventListener("mouseup",this.dragEnd),this.mouseDragInfo=!1,this.clickedHandle=!1,p["g"].setDragMixinDragging(!1),this.dragEndCallback(),Object(Ae["a"])()}},{key:"nextTickPositionsWrapper",value:function(){Object(it["a"])(this.positionWrapper)}},{key:"beforeMount",value:function(){this.positionWrapper(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.nextTickPositionsWrapper),window.addEventListener("resize",this.nextTickPositionsWrapper)}},{key:"beforeDestroy",value:function(){this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.nextTickPositionsWrapper)}},{key:"positionWrapper",value:function(){if(p["g"].activeElementId){var e=Object(Ae["b"])();if(e){var t=e.x,n=e.y,a=e.width,i=e.height;this.wrapperPositionStyle={position:"absolute",top:"".concat(n,"px"),left:"".concat(t,"px"),width:"".concat(a,"px"),height:"".concat(i,"px")}}}else this.wrapperPositionStyle={display:"none"}}},{key:"isDragging",get:function(){return!!this.mouseDragInfo}}]),n}(a["a"]);mt=Object(u["a"])([d["a"]],mt);var ft=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"spacing-bar",class:e.classList,style:e.style,on:{mousedown:function(t){return e.$emit("mousedown",t)},mouseover:function(t){e.isHovering=!0},mouseleave:function(t){e.isHovering=!1}}},[n("div",{staticClass:"spacing-bar-current-value"},[e._v(e._s(e.value)+"px")])])},bt=[];function gt(e,t){var n=yt(e,t);return n||0}function yt(e,t){if(!p["g"].activeElement)return!1;var n=Ot(e,p["g"].currentBreakpoint.id),a=parseInt(E.a.get(p["g"].activeElement,"data.properties.".concat(n,".number")));a||(a=0);var i=E.a.get(p["g"].activeElement,"data.properties.".concat(n,".unit"));if(i||(i="px"),"px"!==i&&0!==a){var r=Object(Ae["i"])(p["g"].activeElement);if(!r)return!1;var o=parseInt(r.getPropertyValue(t));return o}return a}function Ot(e,t){return e.replace("%%BREAKPOINT%%",t)}var kt=n("f57e"),jt=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.isHovering=!1,e.resizeObserver=new ResizeObserver(e.onActiveElementResize),e.activeElementPositionAndSize=null,e.valueAtMomentOfElementPositionAndSizeCalculation=null,e}return Object(s["a"])(n,[{key:"updateActiveElementPositionWhenItsPresent",value:function(){var e=this.activeElement;if(e){var t=Object(Ae["f"])(e);if(t)return this.activeElementPositionAndSize=Object(Ae["g"])(t)||null,void(this.valueAtMomentOfElementPositionAndSizeCalculation=this.value)}this.activeElementPositionAndSize=null,this.valueAtMomentOfElementPositionAndSizeCalculation=null}},{key:"mounted",value:function(){var e=this;this.intervalHandle=setInterval((function(){Object(it["a"])(e.updateActiveElementPositionWhenItsPresent)}),50)}},{key:"handleActiveElementChange",value:function(){this.updateActiveElementPositionWhenItsPresent(),this.resizeObserver.disconnect();var e=this.activeElement;if(e){var t=Object(Ae["f"])(e);t&&(this.resizeObserver.observe(t,{box:"border-box"}),t.parentElement&&this.resizeObserver.observe(t.parentElement,{box:"border-box"}))}}},{key:"onActiveElementResize",value:function(){this.updateActiveElementPositionWhenItsPresent()}},{key:"beforeDestroy",value:function(){this.resizeObserver.disconnect(),this.intervalHandle&&clearInterval(this.intervalHandle)}},{key:"value",get:function(){return gt(this.bar.affectedPropertyPath,this.bar.cssProperty)}},{key:"activeElement",get:function(){return kt["h"].activeElement}},{key:"classList",get:function(){return["spacing-bar-".concat(this.bar.location)]}},{key:"style",get:function(){return this.isDragging&&this.isActiveBar||this.isHovering&&!this.isDragging?Object(C["a"])({},this.barStyle,{opacity:1}):this.barStyle}},{key:"barStyle",get:function(){var e=this.activeElementPositionAndSize;if(!e)return{};var t=this.valueAtMomentOfElementPositionAndSizeCalculation||this.value,n=e.width,a=e.height,i=e.y,r=e.x,o=t>5?t:5;switch(this.bar.location){case"inside-top":return{width:"".concat(n,"px"),height:"".concat(o,"px"),top:"".concat(i,"px"),left:"".concat(r,"px"),cursor:"row-resize"};case"outside-top":return{width:"".concat(n,"px"),height:"".concat(o,"px"),top:"".concat(-o+i,"px"),left:"".concat(r,"px"),cursor:"row-resize"};case"inside-bottom":return{width:"".concat(n,"px"),height:"".concat(o,"px"),top:"".concat(i+a-o,"px"),left:"".concat(r,"px"),cursor:"row-resize"};case"outside-bottom":return{width:"".concat(n,"px"),height:"".concat(o,"px"),top:"".concat(i+a,"px"),left:"".concat(r,"px"),cursor:"row-resize"};case"inside-left":return{width:"".concat(o,"px"),top:"".concat(i,"px"),height:"".concat(a,"px"),left:"".concat(r,"px"),cursor:"col-resize"};case"outside-left":return{width:"".concat(o,"px"),top:"".concat(i,"px"),height:"".concat(a,"px"),left:"".concat(r-o,"px"),cursor:"col-resize"};case"inside-right":return{width:"".concat(o,"px"),top:"".concat(i,"px"),height:"".concat(a,"px"),left:"".concat(r+n-o,"px"),cursor:"col-resize"};case"outside-right":return{width:"".concat(o,"px"),top:"".concat(i,"px"),height:"".concat(a,"px"),left:"".concat(r+n,"px"),cursor:"col-resize"};default:return{}}}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],jt.prototype,"bar",void 0),Object(u["a"])([Object(d["d"])()],jt.prototype,"isDragging",void 0),Object(u["a"])([Object(d["d"])()],jt.prototype,"isActiveBar",void 0),Object(u["a"])([Object(d["h"])("activeElement",{immediate:!0})],jt.prototype,"handleActiveElementChange",null),jt=Object(u["a"])([Object(d["a"])({})],jt);var St=jt,Ct=St,xt=Object(ne["a"])(Ct,ft,bt,!1,null,null,null),wt=xt.exports,Pt=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.originalValue=!1,e}return Object(s["a"])(n,[{key:"dragCallback",value:function(e,t,n){var a=this.bars.filter((function(e){return e.location===n})).pop();if(p["g"].activeElementId&&a){var i=0,r=yt(a.affectedPropertyPath,a.cssProperty);switch(r||(r=0),this.originalValue||(this.originalValue=r),n){case"inside-top":case"inside-bottom":case"outside-top":case"outside-bottom":i=this.originalValue+t.totalYChange;break;case"inside-left":case"inside-right":case"outside-left":case"outside-right":i=this.originalValue+t.totalXChange;break}i<0&&(i=0);var o=Ot(a.affectedPropertyPath,p["g"].currentBreakpoint.id);p["d"].throttledPropertyChanged({elementId:p["g"].activeElementId,path:o,value:{number:i,unit:"px",style:"".concat(i,"px")},meta:{snapshotLabel:Ve["a"].forElementByTreeNodeId(p["g"].activeElementId,o,Le["a"].CHANGE)}})}}},{key:"dragEndCallback",value:function(){this.originalValue=!1}},{key:"bars",get:function(){return this.activeElementSpacingBars?this.activeElementSpacingBars:[]}},{key:"activeElementSpacingBars",get:function(){return!!p["g"].activeElement&&p["b"].element(p["g"].activeElement.data.type).spacingBars}}]),n}(Object(d["c"])(mt));Pt=Object(u["a"])([Object(d["a"])({components:{SpacingBar:wt}})],Pt);var _t=Pt,Et=_t,It=Object(ne["a"])(Et,dt,pt,!1,null,null,null),Dt=It.exports,Tt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.shouldShow?n("div",{staticClass:"drag-dots-wrapper",style:e.wrapperPositionStyle},[e.isNotFarLeftColumn?n("div",{staticClass:"drag-dot drag-dot-middle-left",on:{mousedown:function(t){return e.dragStart(t,"left")}}},[e.resizedWidths&&"left"in e.resizedWidths?n("div",{staticClass:"drag-dots-column-widths-values"},[n("div",{staticClass:"drag-dots-left-width"},[e._v(" "+e._s(e.resizedWidths.left.siblingWidth)+"% ")]),n("div",{staticClass:"drag-dots-right-width"},[e._v(" "+e._s(e.resizedWidths.left.resizedWidth)+"% ")])]):e._e()]):e._e(),e.isNotFarRightColumn?n("div",{staticClass:"drag-dot drag-dot-middle-right",on:{mousedown:function(t){return e.dragStart(t,"right")}}},[e.resizedWidths&&"right"in e.resizedWidths?n("div",{staticClass:"drag-dots-column-widths-values"},[n("div",{staticClass:"drag-dots-left-width"},[e._v(" "+e._s(e.resizedWidths.right.resizedWidth)+"% ")]),n("div",{staticClass:"drag-dots-right-width"},[e._v(" "+e._s(e.resizedWidths.right.siblingWidth)+"% ")])]):e._e()]):e._e()]):e._e()},At=[],Rt=(n("a9e3"),n("b680"),n("ade3"));n("9129");function Bt(e){var t=Ft(e),n=Vt(e);if(!t||!n)return!1;var a=Object(de["a"])(t/n*100);return a||!1}function Mt(e,t,n){var a=n,i=Vt(e);if(!a||!i)return!1;var r=(a+t)/i*100;return Object(de["a"])(r)}function Ft(e){var t=Object(Ae["m"])(e);return!!t&&t.width}function Vt(e){var t=Object(Te["q"])(p["d"].document.tree,e.id);if(t){var n=Object(Ae["m"])(t);if(n)return n.width}return!1}function Lt(e){var t=Object(Ae["i"])(e);if(!t)return!1;var n=parseInt(t.getPropertyValue("padding-left")),a=parseInt(t.getPropertyValue("padding-right"));if(Number.isNaN(n)||Number.isNaN(a))return!1;var i=Vt(e);if(!i)return!1;var r=(n+a)/i*100;return Math.ceil(r)}var Wt=n("7665"),Nt=20;function $t(e,t,n,a){var i="right"===a?t+1:t-1,r=e.children[i],o=e.children[t];if(!o||!r)return!1;if(t<0||i<0)return!1;var s=Lt(o),l=Lt(r),c=Nt;!1!==s&&!1!==l&&(c=Math.max(s,l));var u=100-Object(se["c"])(o)-Object(se["c"])(r),d=100-u-n;return n<c&&(n=c,d=100-u-n),d<c&&(d=c,n=100-u-d),u>100-2*c&&(n=(100-u)/2,d=(100-u)/2),n=Object(de["a"])(n),d=Object(de["a"])(d),u=Object(de["a"])(u),n+d+u!==100&&(d=100-u-n,d=Object(de["a"])(d)),Object(Wt["a"])(o.id,n),Object(Wt["a"])(r.id,d),Object(se["h"])(e),{resizedWidth:n,siblingWidth:d}}var Ut=n("2c2f"),Ht=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.resizedWidths=!1,e.widthOnDragStart=!1,e}return Object(s["a"])(n,[{key:"dragStartCallback",value:function(){ce["a"].startTransaction()}},{key:"dragCallback",value:function(e,t,n){if(this.activeColumn&&("left"===n||"right"===n)){var a=Object(Te["p"])(p["d"].document.tree,this.activeColumn.id),i=Object(Te["q"])(p["d"].document.tree,this.activeColumn.id);if(!1!==a&&!1!==i){var r=0;if(this.widthOnDragStart||(this.widthOnDragStart=Ft(this.activeColumn)),this.widthOnDragStart){r="right"===n?t.totalXChange:-1*t.totalXChange;var o=Mt(this.activeColumn,r,this.widthOnDragStart);if(o){var s=$t(i,a,o,n);s&&(this.resizedWidths=Object(Rt["a"])({},n,{resizedWidth:Number(s.resizedWidth.toFixed(2)),siblingWidth:Number(s.siblingWidth.toFixed(2))}))}}}}}},{key:"dragEndCallback",value:function(){this.resizedWidths=!1,this.widthOnDragStart=!1,ce["a"].endTransaction("Resizing column")}},{key:"columnsAreNotResizeableAtBaseBreakpoint",get:function(){if(!this.activeColumn)return!1;var e=Object(se["d"])(this.activeColumn);if(!e)return!1;var t="design.layout.stack_vertically",n="design.layout.fifty_percent",a=E.a.get(e.data.properties,t,!1),i=E.a.get(e.data.properties,n,!1);return a===Ut["a"]||i===Ut["a"]}},{key:"shouldShow",get:function(){return p["g"].currentBreakpoint.id===Ut["a"]&&this.activeColumn&&!this.columnsAreNotResizeableAtBaseBreakpoint}},{key:"isNotFarLeftColumn",get:function(){if(!this.activeColumn)return!1;var e=Object(Te["p"])(p["d"].document.tree,this.activeColumn.id);return!1!==e&&0!==e}},{key:"isNotFarRightColumn",get:function(){if(!this.activeColumn)return!1;var e=Object(Te["p"])(p["d"].document.tree,this.activeColumn.id),t=Object(Te["q"])(p["d"].document.tree,this.activeColumn.id);return!1!==e&&!1!==t&&e!==t.children.length-1}},{key:"activeColumn",get:function(){return!!Object(se["f"])(p["g"].activeElement)&&p["g"].activeElement}},{key:"columnWidthInPercent",get:function(){return!!this.activeColumn&&Bt(this.activeColumn)}}]),n}(Object(d["c"])(mt));Ht=Object(u["a"])([Object(d["a"])({})],Ht);var zt=Ht,Gt=zt,qt=Object(ne["a"])(Gt,Tt,At,!1,null,null,null),Kt=qt.exports,Xt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"node-titlebar-wrapper":!0,"node-titlebar-wrapper-is-dragging":e.isDragging},style:e.wrapperPositionStyle},[n("div",{staticClass:"node-titlebar",class:e.titlebarClasses,style:e.titlebarPositionStyle,on:{contextmenu:e.openContextMenu}},[e.isDragAndDropEnabled?n("OnCanvasDragHandle",{attrs:{node:e.node}},[n("span",{staticClass:"node-titlebar-title",attrs:{title:"Drag element"}},[n("span",{staticClass:"node-titlebar-button"},[n("Icon",{attrs:{icon:"MaximizeIcon",size:"10"}})],1),n("span",[e._v(" "+e._s(e.elementTitle)+" ")]),e.isDraftSection?n("span",{staticStyle:{"margin-left":"4px"}},[e._v(" (Draft) ")]):e._e()])]):[e._v(e._s(e.elementTitle))],e.hasParent?n("span",{staticClass:"node-titlebar-button node-titlebar-button-activate-parent",attrs:{title:"Select parent"},on:{click:e.activateParent}},[n("Icon",{attrs:{icon:"ChevronDownIcon",rotate:"180",size:"10"}})],1):e._e(),e.hasSSr?n("span",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],class:{"node-titlebar-button":!0,"node-titlebar-margin-left":!0,"breakdance-node-titlebar-loading-spinner":e.isElementUpdating},attrs:{title:"Refresh element"},on:{click:e.refreshSsr}},[n("Icon",{attrs:{icon:"RotateIcon",size:"13"}})],1):e._e(),n("span",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],class:{"node-titlebar-button":!0,"node-titlebar-margin-left":!e.hasSSr},attrs:{title:"Duplicate"},on:{click:e.duplicate}},[n("Icon",{attrs:{icon:"DuplicateIcon",size:"13"}})],1),n("span",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],staticClass:"node-titlebar-button",attrs:{title:"Remove"},on:{click:e.remove}},[n("Icon",{attrs:{icon:"TrashIcon",size:"12"}})],1)],2)])},Yt=[],Qt=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{on:{mousedown:function(t){return t.stopPropagation(),e.updateCurrentlyDraggingElementId(t)}}},[e._t("default")],2)},Zt=[],Jt=(n("c740"),n("13d5"),n("a7c6")),en=n("93da"),tn=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.lastSubmittedDrag=!1,e.easyEvent=new Pe["a"],e}return Object(s["a"])(n,[{key:"watchCanvasElementDraggedId",value:function(){this.dragStart()}},{key:"updateCurrentlyDraggingElementId",value:function(){p["g"].setCanvasElementDraggedId(this.node.id)}},{key:"dragStart",value:function(){if(p["g"].hasFullAccess&&this.canvasElementDraggedId){this.easyEvent.on("mousemove",this.dragging),this.easyEvent.on("mouseup",this.dragEnd);var e=Object(Te["q"])(p["d"].document.tree,this.node.id);e&&this.setCanvasDragPlaceholderPosition({nodeIndex:-1,position:"before",parentId:e.id,onlyShowTargetOutline:!0}),Object(Ae["a"])()}}},{key:"setCanvasDragPlaceholderPosition",value:function(e){p["g"].setCanvasDragPlaceholderPosition(e)}},{key:"dragging",value:function(e){if(Object(Pe["b"])(e)){e.preventDefault(),e.stopPropagation();var t=e.clientX,n=e.clientY,a=Object(Jt["a"])(t,n);if(void 0===a)return;var i=Object(Te["l"])(p["d"].document.tree,a);if(void 0===i)return;var r=Object(Be["a"])(p["d"].document.tree,i,this.nestingPermissions);if(!r)return;var o=r.id;if(a===this.node.id||Object(Te["v"])((function(e,t){return t||(t=e.children.find((function(e){return a===e.id}))),t}),this.node,void 0))this.setCanvasDragPlaceholderPosition({nodeIndex:-1,position:"before",parentId:o,onlyShowTargetOutline:!0}),this.setDropPosition(!1);else if(a===o)this.handleDragWhenMouseIsOverTheDropTargetButNotOverAChildElementOfTheDropTarget(t,n,a,this.node.id,r);else if(r.children.find((function(e){return a===e.id})))this.handleDragWhenMouseIsOverAChildOfTheDropTarget(t,n,a,this.node.id,r);else if(Object(Te["v"])((function(e,t){return t||(t=e.children.find((function(e){return a===e.id}))),t}),r,void 0)){var s=Object(Jt["b"])(t,n).reduce((function(e,t){return e||r.children.find((function(e){return e.id===t}))}),void 0);s&&this.handleDragWhenMouseIsOverAChildOfTheDropTarget(t,n,s.id,this.node.id,r)}}}},{key:"dragEnd",value:function(e){e.preventDefault(),e.stopPropagation(),this.easyEvent.removeAll(),this.lastSubmittedDrag&&p["d"].moveElement(this.lastSubmittedDrag),this.setCanvasDragPlaceholderPosition(null),this.lastSubmittedDrag=!1,p["g"].endCanvasElementDrag(),Object(Ae["a"])()}},{key:"handleDragWhenMouseIsOverAChildOfTheDropTarget",value:function(e,t,n,a,i){var r=arguments.length>5&&void 0!==arguments[5]&&arguments[5],o=Object(Jt["c"])(i),s="before"===Object(Jt["d"])(e,t,n,o)?"before":"after",l=i.children.map((function(e){return e.id})).filter((function(e){return e!==a})),c=i.children.map((function(e){return e.id})).findIndex((function(e){return e===n})),u=l.findIndex((function(e){return e===n}));"after"===s&&u++,!0===r?(this.setPlaceholder({dropTargetId:i.id,dragPlaceholderIndex:c,beforeOrAfter:s}),this.setDropPosition(!1)):(this.setPlaceholder({dropTargetId:i.id,dragPlaceholderIndex:c,beforeOrAfter:s}),this.setDropPosition({draggedElementId:a,droppedOnElementId:i.id,index:u}))}},{key:"handleDragWhenMouseIsOverTheDropTargetButNotOverAChildElementOfTheDropTarget",value:function(e,t,n,a,i){if(0===i.children.length)this.setPlaceholder({dropTargetId:i.id,dragPlaceholderIndex:0,beforeOrAfter:"after"}),this.setDropPosition({draggedElementId:a,droppedOnElementId:i.id,index:0});else{var r,o=i.children.map((function(e,t){return{positionAndSize:Object(Ae["m"])(e,"absolute"),index:t,id:e.id}})).filter((function(e){return e.positionAndSize})).map((function(e){return{min:{x:e.positionAndSize.x,y:e.positionAndSize.y},max:{x:e.positionAndSize.x+e.positionAndSize.width,y:e.positionAndSize.y+e.positionAndSize.height},nodeIndex:e.index,id:e.id}})).map((function(n){return Object(C["a"])({},n,{distance:Object(en["a"])(n,{x:e,y:t})})})),s=o.reduce((function(e,t){return e.distance<t.distance?e:t})),l=(s.min.x+s.max.x)/2,c=(s.min.y+s.max.y)/2,u=l>e?"left":"right",d=c>t?"above":"below",p=Object(Jt["c"])(i);if(r="vertical"===p?"above"===d?"before":"after":"left"===u?"before":"after",s.id===a)return this.setPlaceholder({dropTargetId:i.id,dragPlaceholderIndex:s.nodeIndex,beforeOrAfter:r}),void this.setDropPosition(!1);var v=i.children.map((function(e){return e.id})).filter((function(e){return e!==a})),h=v.findIndex((function(e){return e===s.id}));"after"===r&&h++,this.setPlaceholder({dropTargetId:i.id,dragPlaceholderIndex:s.nodeIndex,beforeOrAfter:r}),this.setDropPosition({draggedElementId:a,droppedOnElementId:i.id,index:h})}}},{key:"setPlaceholder",value:function(e){Object(Be["k"])(p["d"].document.tree,this.node,e.dropTargetId)&&this.movePlaceholder(e.dropTargetId,e.dragPlaceholderIndex,e.beforeOrAfter)}},{key:"setDropPosition",value:function(e){!1!==e?Object(Be["k"])(p["d"].document.tree,this.node,e.droppedOnElementId)&&(this.lastSubmittedDrag=e):this.lastSubmittedDrag=!1}},{key:"movePlaceholder",value:function(e,t,n){var a=!1,i=Object(Te["l"])(p["d"].document.tree,e);if(i){var r=i.children[t],o=i.children[t-1],s=i.children[t+1];r&&r.id===this.node.id&&(a=!0),o&&o.id===this.node.id&&"before"===n&&(a=!0),s&&s.id===this.node.id&&"after"===n&&(a=!0)}if(p["g"].canvasDragPlaceholderPosition){var l=function(){return t===p["g"].canvasDragPlaceholderPosition.nodeIndex+1},c=function(){return t===p["g"].canvasDragPlaceholderPosition.nodeIndex-1};if(p["g"].canvasDragPlaceholderPosition.parentId===e){if(l()&&"after"===p["g"].canvasDragPlaceholderPosition.position&&"before"===n)return;if(c()&&"before"===p["g"].canvasDragPlaceholderPosition.position&&"after"===n)return}}this.setCanvasDragPlaceholderPosition({parentId:e,nodeIndex:t,position:n,onlyShowTargetOutline:a})}},{key:"nestingPermissions",get:function(){return Object(Be["f"])(this.node)}},{key:"canvasElementDraggedId",get:function(){return p["g"].currentlyDraggingCanvasElementId}}]),n}(d["g"]);Object(u["a"])([Object(d["d"])()],tn.prototype,"node",void 0),Object(u["a"])([Object(d["h"])("canvasElementDraggedId")],tn.prototype,"watchCanvasElementDraggedId",null),tn=Object(u["a"])([d["a"]],tn);var nn=tn,an=nn,rn=Object(ne["a"])(an,Qt,Zt,!1,null,null,null),on=rn.exports;function sn(e,t){var n=Object(Ae["e"])(),a=n.x,i=n.y,r=document.getElementById("iframe"),o=window.Breakdance.canvas.document.querySelector(".breakdance-canvas-right-click-menu");if(o&&r){var s=r.getBoundingClientRect(),l=s.width,c=s.height,u=ln(o),d=u.menuWidth,p=u.menuHeight,v=e+d+15>l?e-a-d:e-a,h=t+p+15>c?t-i-p:t-i;return{x:v,y:h}}}function ln(e){e.style.display="block";var t=e.getBoundingClientRect(),n=t.width,a=t.height;return{menuWidth:n,menuHeight:a}}var cn=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.refreshRate=500,e.unsubscribeFromStorePositionWrapper=function(){},e.titlebarPositionStyle={},e.wrapperPositionStyle={display:"none"},e.elementTitle="",e}return Object(s["a"])(n,[{key:"nextTickPositionsWrapper",value:function(){Object(it["a"])(this.calculateStylesAndTitle)}},{key:"openContextMenu",value:function(e){e.stopPropagation(),e.preventDefault();var t=sn(e.clientX,e.clientY);p["g"].activeElementId&&t&&p["g"].setOnCanvasRightClickMenuState({elementId:p["g"].activeElementId,position:t})}},{key:"mounted",value:function(){this.calculateStylesAndTitle(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.nextTickPositionsWrapper),window.addEventListener("resize",this.nextTickPositionsWrapper),this.interval=setInterval(this.nextTickPositionsWrapper,this.refreshRate)}},{key:"beforeDestroy",value:function(){this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.nextTickPositionsWrapper),clearInterval(this.interval)}},{key:"calculateStylesAndTitle",value:function(){!p["g"].elementWithContentEditable&&p["g"].activeElement?(this.elementTitle=p["b"].element(p["g"].activeElement.data.type).name,this.wrapperPositionStyle=Object(Ae["k"])(Object(Ae["f"])(p["g"].activeElement)),this.titlebarPositionStyle=Object(Ae["l"])(p["g"].activeElement)):this.wrapperPositionStyle={display:"none"}}},{key:"duplicate",value:function(){p["g"].activeElementId&&p["d"].duplicateElementAndActivateIt(p["g"].activeElementId)}},{key:"remove",value:function(){null!==p["g"].activeElementId&&p["d"].deleteElement({nodeId:p["g"].activeElementId})}},{key:"refreshSsr",value:function(){p["g"].setRefreshSsrElementId(p["g"].activeElementId)}},{key:"activateParent",value:function(){this.parentElement&&p["g"].activateElement(this.parentElement.id)}},{key:"isDraftSection",get:function(){if(!p["g"].activeElement)return!1;if(p["g"].activeElement.data.type!==le["g"])return!1;var e=E.a.get(p["g"].activeElement.data.properties,"settings.advanced.draft");return!!e}},{key:"isDragAndDropEnabled",get:function(){return p["g"].hasFullAccess}},{key:"isElementUpdating",get:function(){return!!p["g"].activeElementId&&!!p["g"].elementsThatAreUpdating[p["g"].activeElementId]}},{key:"titlebarClasses",get:function(){return{"node-titlebar-is-dragging":this.isDragging,"node-titlebar-is-draft-section":this.isDraftSection}}},{key:"isDragging",get:function(){return p["g"].currentlyDraggingCanvasElementId===p["g"].activeElementId}},{key:"hasSSr",get:function(){var e=p["g"].activeElement&&p["b"].element(p["g"].activeElement.data.type);return e?e.template.includes("%%SSR%%"):""}},{key:"hasParent",get:function(){return this.parentElement&&"root"!==this.parentElement.data.type}},{key:"node",get:function(){return p["g"].activeElement||!1}},{key:"parentElement",get:function(){if(!p["g"].activeElement)return!1;var e=Object(Te["q"])(p["d"].document.tree,p["g"].activeElement.id);return e||!1}}]),n}(d["g"]);cn=Object(u["a"])([Object(d["a"])({components:{Icon:Z["a"],OnCanvasDragHandle:on}})],cn);var un=cn,dn=un,pn=Object(ne["a"])(dn,Xt,Yt,!1,null,null,null),vn=pn.exports,hn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"node-hover-controls",class:e.wrapperClassList,style:e.wrapperPositionStyle})},mn=[],fn=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.refreshRate=500,e.shouldShowControls=!1,e.unsubscribeFromStorePositionWrapper=function(){},e.throttledNextTickPositionWrapper=ht()((function(){return Object(it["a"])((function(){return e.positionWrapper()}))}),100),e.disableMouseHoverOnMouseLeaveCanvas=function(){setTimeout((function(){return p["g"].setLastHoveredOnCanvasElementId(null)}),110)},e.throttledShowHoverControlsOnMouseMoveCanvas=ht()(e.showHoverControlsOnMouseMoveCanvas,100),e.wrapperPositionStyle={display:"none"},e}return Object(s["a"])(n,[{key:"beforeMount",value:function(){this.positionWrapper(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.throttledNextTickPositionWrapper),window.addEventListener("resize",this.throttledNextTickPositionWrapper)}},{key:"mounted",value:function(){var e=window.Breakdance.canvas.document.getElementById("breakdance_canvas");e&&(e.addEventListener("mousemove",this.throttledShowHoverControlsOnMouseMoveCanvas),e.addEventListener("mouseleave",this.disableMouseHoverOnMouseLeaveCanvas),this.interval=setInterval(this.throttledNextTickPositionWrapper,this.refreshRate))}},{key:"beforeDestroy",value:function(){var e=window.Breakdance.canvas.document.getElementById("breakdance_canvas");this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.throttledNextTickPositionWrapper),null===e||void 0===e||e.removeEventListener("mousemove",this.throttledShowHoverControlsOnMouseMoveCanvas),clearInterval(this.interval)}},{key:"setHoveredNode",value:function(e,t){var n=Object(Jt["a"])(e,t);if(void 0!==n){var a=Object(Te["l"])(p["d"].document.tree,n);a&&p["g"].setLastHoveredOnCanvasElementId(a.id)}}},{key:"showHoverControlsOnMouseMoveCanvas",value:function(e){var t=e.clientX,n=e.clientY;if(this.setHoveredNode(t,n),!1!==this.element){var a=Object(Ae["m"])(this.element,"absolute");if(a){var i=a.x,r=a.y,o=a.width,s=a.height;this.shouldShowControls=t>i+o-48&&t<i+o&&n>r&&n<r+s}}}},{key:"positionWrapper",value:function(){!p["g"].elementWithContentEditable&&this.element?this.wrapperPositionStyle=Object(Ae["k"])(Object(Ae["f"])(this.element)):this.wrapperPositionStyle={display:"none"}}},{key:"wrapperClassList",get:function(){return{"node-hover-controls-show":this.shouldShowControls&&this.isNotDragging,"node-hover-controls--outline":this.isNotDragging}}},{key:"isNotDragging",get:function(){return!p["g"].isCanvasElementBeingDragged&&!p["g"].isDragMixinDragging}},{key:"element",get:function(){if(!p["g"].lastHoveredOnCanvasElementId||p["g"].elementWithContentEditable)return!1;var e=Object(Te["l"])(p["d"].document.tree,p["g"].lastHoveredOnCanvasElementId);return e||!1}}]),n}(d["g"]);fn=Object(u["a"])([Object(d["a"])({})],fn);var bn=fn,gn=bn,yn=Object(ne["a"])(gn,hn,mn,!1,null,null,null),On=yn.exports,kn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"node-content-editable",style:e.wrapperStyle})},jn=[],Sn=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.unsubscribeFromStorePositionWrapper=function(){},e.wrapperStyle={display:"none"},e.lastModifiedDomElement=null,e}return Object(s["a"])(n,[{key:"mounted",value:function(){this.calculateWrapperStyles(),this.unsubscribeFromStorePositionWrapper=this.$store.subscribe(this.calculateWrapperStyles),window.addEventListener("resize",this.calculateWrapperStyles)}},{key:"beforeDestroy",value:function(){this.unsubscribeFromStorePositionWrapper(),window.removeEventListener("resize",this.calculateWrapperStyles)}},{key:"calculateWrapperStyles",value:function(){var e=this;Object(it["a"])((function(){!e.domElement&&e.lastModifiedDomElement&&(e.lastModifiedDomElement.removeEventListener("input",e.calculateWrapperStyles),e.lastModifiedDomElement=null),e.wrapperStyle=Object(Ae["k"])(e.domElement),e.domElement&&e.domElement.addEventListener("input",e.calculateWrapperStyles)}))}},{key:"domElement",get:function(){if(!p["g"].elementWithContentEditable)return null;var e=Object(Te["l"])(p["d"].document.tree,p["g"].elementWithContentEditable);if(!e)return null;var t=Object(Ae["f"])(e);if("true"===(null===t||void 0===t?void 0:t.contentEditable))return this.lastModifiedDomElement=t,t;var n=null===t||void 0===t?void 0:t.querySelector('[contenteditable="true"]');return n?(this.lastModifiedDomElement=n,n):null}}]),n}(d["g"]);Sn=Object(u["a"])([Object(d["a"])({})],Sn);var Cn=Sn,xn=Cn,wn=Object(ne["a"])(xn,kn,jn,!1,null,null,null),Pn=wn.exports,_n=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.hideTitleBar=!1,e.hideHoverControls=!1,e}return Object(s["a"])(n,[{key:"onElementSelected",value:function(){var e,t=this;null===(e=this.observer)||void 0===e||e.disconnect(),this.element&&(this.observer=this.observePositionChange(this.element,(function(e){t.hideTitleBar=Object(Ae["q"])(e)})))}},{key:"onHoveredElementSelected",value:function(){var e,t=this;null===(e=this.hoverObserver)||void 0===e||e.disconnect(),this.hoveredElement&&(this.hoverObserver=this.observePositionChange(this.hoveredElement,(function(e){t.hideHoverControls=Object(Ae["q"])(e)})))}},{key:"beforeDestroy",value:function(){this.destroyObserver()}},{key:"observePositionChange",value:function(e,t){if(e){var n=Object(Ae["f"])(e);if(n){var a=function(e){e.forEach((function(e){var n=e.target;t(n)}))},i=new MutationObserver(a),r={attributes:!0,attributeFilter:["class"]};return i.observe(n,r),i}}}},{key:"destroyObserver",value:function(){var e,t;null===(e=this.observer)||void 0===e||e.disconnect(),null===(t=this.hoverObserver)||void 0===t||t.disconnect()}},{key:"element",get:function(){return kt["h"].activeElement||!1}},{key:"hoveredElement",get:function(){return!!kt["h"].lastHoveredOnCanvasElementId&&Object(Te["l"])(kt["c"].document.tree,kt["h"].lastHoveredOnCanvasElementId)}},{key:"hideClass",get:function(){var e=null;return this.hideTitleBar&&this.hideHoverControls?e="all":this.hideHoverControls?e="hover":this.hideTitleBar&&(e="titlebar"),e?"node-chrome--hide-".concat(e):null}}]),n}(a["a"]);Object(u["a"])([Object(d["h"])("element")],_n.prototype,"onElementSelected",null),Object(u["a"])([Object(d["h"])("hoveredElement")],_n.prototype,"onHoveredElementSelected",null),_n=Object(u["a"])([Object(d["a"])({components:{NodeContentEditable:Pn,DragDots:ut,SpacingBars:Dt,ColumnDragSizer:Kt,NodeTitlebar:vn,NodeHoverControls:On}})],_n);var En=_n,In=En,Dn=Object(ne["a"])(In,Je,et,!1,null,null,null),Tn=Dn.exports,An=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("DragPlaceholder"),n("RightClickMenu",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}]})],1)},Rn=[],Bn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-drag-placeholder-wrapper"},[n("div",{staticClass:"breakdance-drag-placeholder",style:e.dragPlaceholderPositionStyle}),n("div",{staticClass:"breakdance-drag-target-outline",style:e.dragTargetOutlineStyle})])},Mn=[],Fn=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"canvasDragPlaceholderPosition",get:function(){return p["g"].canvasDragPlaceholderPosition}},{key:"parentNode",get:function(){if(!this.canvasDragPlaceholderPosition)return!1;var e=Object(Te["l"])(p["d"].document.tree,this.canvasDragPlaceholderPosition.parentId);return e||!1}},{key:"stackingStyle",get:function(){return this.canvasDragPlaceholderPosition&&this.parentNode?Object(Jt["c"])(this.parentNode):{}}},{key:"dragPlaceholderPositionStyle",get:function(){if(!this.canvasDragPlaceholderPosition||!0===this.canvasDragPlaceholderPosition.onlyShowTargetOutline)return{};var e=Object(Te["l"])(p["d"].document.tree,this.canvasDragPlaceholderPosition.parentId);if(!e)return{};var t=8,n="".concat(t,"px");if(0===e.children.length){var a=e.id===Te["a"]?Object(Ae["j"])():Object(Ae["m"])(e);if(!a)return{};var i=a.x,r=a.y,o=a.width,s=a.height;return o-40>100&&(i+=20,o-=40),{display:"block",top:"".concat(r+s/2-t/2,"px"),left:"".concat(i,"px"),width:"".concat(o,"px"),height:n}}var l=e.children[this.canvasDragPlaceholderPosition.nodeIndex],c=Object(Ae["m"])(l),u=Object(Jt["c"])(e);if(!c)return{};var d=c.x,v=c.y,h=c.width,m=c.height;if("vertical"===u){if("before"===this.canvasDragPlaceholderPosition.position)return{display:"block",top:"".concat(v-(t/2-1),"px"),left:"".concat(d,"px"),width:"".concat(h,"px"),height:n};if("after"===this.canvasDragPlaceholderPosition.position)return{display:"block",top:"".concat(m+v-(t/2+1),"px"),left:"".concat(d,"px"),width:"".concat(h,"px"),height:n}}else if("horizontal"===u){if("before"===this.canvasDragPlaceholderPosition.position)return{display:"block",top:"".concat(v,"px"),left:"".concat(d-t/2,"px"),height:"".concat(m,"px"),width:n};if("after"===this.canvasDragPlaceholderPosition.position)return{display:"block",left:"".concat(h+d-t/2,"px"),top:"".concat(v,"px"),height:"".concat(m,"px"),width:n}}return{}}},{key:"dragTargetOutlineStyle",get:function(){if(!this.parentNode)return{};var e=this.parentNode.id===Te["a"]&&0===p["d"].document.tree.root.children.length?Object(Ae["j"])():Object(Ae["m"])(this.parentNode);if(!e)return{};var t=e.x,n=e.y,a=e.width,i=e.height;return{display:"block",position:"absolute",top:"".concat(n,"px"),left:"".concat(t,"px"),width:"".concat(a,"px"),height:"".concat(i,"px")}}}]),n}(a["a"]);Fn=Object(u["a"])([Object(d["a"])({components:{}})],Fn);var Vn=Fn,Ln=Vn,Wn=Object(ne["a"])(Ln,Bn,Mn,!1,null,null,null),Nn=Wn.exports,$n=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.shouldShow,expression:"shouldShow"}],staticClass:"breakdance-canvas-right-click-menu",style:e.wrapperPositionStyle},[n("RightClickMenuItem",{attrs:{disabled:!e.elementIdPresent},on:{click:e.copyElement}},[e._v(" Copy ")]),n("RightClickMenuItem",{attrs:{disabled:!e.canPasteElement},on:{click:e.pasteElement}},[e._v(" Paste ")]),n("RightClickMenuItem",{attrs:{disabled:!e.canPasteElementProperties},on:{click:function(t){return e.pasteElementProperties("design")}}},[e._v(" Paste Design ")]),n("RightClickMenuItem",{attrs:{disabled:!e.canPasteElementProperties},on:{click:function(t){return e.pasteElementProperties("settings")}}},[e._v(" Paste Settings ")]),n("div",{staticClass:"breakdance-canvas-right-click-menu-divider"}),n("RightClickMenuItem",{attrs:{disabled:!e.elementIdPresent},on:{click:e.deleteElement}},[e._v(" Delete ")]),n("div",{staticClass:"breakdance-canvas-right-click-menu-divider"}),n("RightClickMenuItem",{attrs:{disabled:!e.canSaveAsGlobalBlock},on:{click:e.openSaveGlobalBlockDialog}},[e._v(" Save as Global Block ")])],1),e.saveGlobalBlockDialog?n("GlobalBlockDialog",{attrs:{"element-id":e.elementIdToSaveAsGlobalBlock},on:{close:e.closeGlobalBlockDialog}}):e._e(),n("ClipboardDialog",{model:{value:e.clipboardDialog,callback:function(t){e.clipboardDialog=t},expression:"clipboardDialog"}})],1)},Un=[],Hn=n("f346"),zn=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"breakdance-canvas-right-click-menu-item":!0,"breakdance-canvas-right-click-menu-item-disabled":e.disabled},on:{click:function(t){e.disabled||e.$emit("click",t)}}},[e._t("default")],2)},Gn=[],qn=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(a["a"]);Object(u["a"])([Object(d["d"])({default:!1})],qn.prototype,"disabled",void 0),qn=Object(u["a"])([Object(d["a"])({components:{}})],qn);var Kn=qn,Xn=Kn,Yn=Object(ne["a"])(Xn,zn,Gn,!1,null,null,null),Qn=Yn.exports,Zn=n("f9f0"),Jn=n("dbcf"),ea=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{attrs:{value:e.value,width:500,closeable:!0},on:{input:function(t){return e.$emit("input",t)}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Enable Paste")]},proxy:!0},{key:"text",fn:function(){return[n("p",[e._v(" To paste using the Edit menu, "),e.status&&!e.status.secure?[e._v(" your website needs to be served with HTTPS. ")]:e.status&&"granted"!==e.status.permission.state?[e._v(" please allow access to your clipboard. ")]:e._e()],2),n("p",[e._v("Alternatively, you can use your keyboard shortcuts:")]),n("ul",{staticClass:"clipboard-dialog-shortcuts"},[n("li",{staticClass:"clipboard-dialog-shortcut"},[n("span",{staticClass:"clipboard-dialog-shortcut__key"},[e._v(e._s(e.metaKey)+" C")]),n("span",{staticClass:"clipboard-dialog-shortcut__label"},[e._v("copy")])]),n("li",{staticClass:"clipboard-dialog-shortcut"},[n("span",{staticClass:"clipboard-dialog-shortcut__key"},[e._v(e._s(e.metaKey)+" X")]),n("span",{staticClass:"clipboard-dialog-shortcut__label"},[e._v("cut")])]),n("li",{staticClass:"clipboard-dialog-shortcut"},[n("span",{staticClass:"clipboard-dialog-shortcut__key"},[e._v(e._s(e.metaKey)+" V")]),n("span",{staticClass:"clipboard-dialog-shortcut__label"},[e._v("paste")])])])]},proxy:!0}])})},ta=[],na=n("2961"),aa=n("9274"),ia=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.status=null,e}return Object(s["a"])(n,[{key:"onChange",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(aa["c"])();case 2:this.status=e.sent,this.status.permission.onchange=function(){t.$emit("input",!1)};case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){this.$emit("input",!1)}},{key:"metaKey",get:function(){return this.isAppleDevice?"":"Ctrl + "}},{key:"isAppleDevice",get:function(){return/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],ia.prototype,"value",void 0),Object(u["a"])([Object(d["h"])("value",{immediate:!0})],ia.prototype,"onChange",null),ia=Object(u["a"])([Object(d["a"])({components:{Dialog:na["a"]}})],ia);var ra=ia,oa=ra,sa=(n("78ea"),Object(ne["a"])(oa,ea,ta,!1,null,null,null)),la=sa.exports,ca=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.saveGlobalBlockDialog=!1,e.clipboardDialog=!1,e.canPasteElement=!1,e.canPasteElementProperties=!1,e.elementIdToSaveAsGlobalBlock=null,e}return Object(s["a"])(n,[{key:"mounted",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:window.Breakdance.canvas.document.addEventListener("contextmenu",this.handleRightClickInCanvas),window.Breakdance.canvas.document.addEventListener("click",this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,{capture:!0}),window.addEventListener("click",this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,{capture:!0});case 3:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"beforeDestroy",value:function(){window.Breakdance.canvas.document.removeEventListener("contextmenu",this.handleRightClickInCanvas),window.Breakdance.canvas.document.removeEventListener("click",this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,{capture:!0}),window.removeEventListener("click",this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,{capture:!0})}},{key:"handleRightClickInCanvas",value:function(e){e.preventDefault();var t=Object(Jt["a"])(e.clientX,e.clientY),n=sn(e.clientX,e.clientY);n&&p["g"].setOnCanvasRightClickMenuState({elementId:t,position:n})}},{key:"closeRightClickMenuIfClickHappensOutsideRightClickMenu",value:function(e){if(!this.saveGlobalBlockDialog){var t=e.target.closest(".breakdance-canvas-right-click-menu");t||p["g"].setOnCanvasRightClickMenuState("closed")}}},{key:"onStateChange",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(aa["c"])();case 2:if(a=e.sent,i=a.permission,this.permission=i.state,"prompt"!==this.permission){e.next=9;break}return this.canPasteElement=!0,this.canPasteElementProperties=!0,e.abrupt("return");case 9:return e.next=11,Object(Hn["a"])((null===(t=this.menuState)||void 0===t?void 0:t.elementId)?this.menuState.elementId:p["d"].document.tree.root.id);case 11:if(this.canPasteElement=e.sent,!(null===(n=this.menuState)||void 0===n?void 0:n.elementId)){e.next=18;break}return e.next=15,Object(Hn["b"])(this.menuState.elementId);case 15:e.t0=e.sent,e.next=19;break;case 18:e.t0=!1;case 19:this.canPasteElementProperties=e.t0;case 20:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"copyElement",value:function(){var e;(null===(e=this.menuState)||void 0===e?void 0:e.elementId)&&Object(Hn["c"])(this.menuState.elementId),p["g"].setOnCanvasRightClickMenuState("closed")}},{key:"pasteElement",value:function(){var e;"prompt"===this.permission&&(this.clipboardDialog=!0),(null===(e=this.menuState)||void 0===e?void 0:e.elementId)?Object(Hn["d"])(this.menuState.elementId):Object(Hn["d"])(p["d"].document.tree.root.id),p["g"].setOnCanvasRightClickMenuState("closed")}},{key:"pasteElementProperties",value:function(e){var t;"prompt"===this.permission&&(this.clipboardDialog=!0),(null===(t=this.menuState)||void 0===t?void 0:t.elementId)&&Object(Hn["e"])(this.menuState.elementId,e),p["g"].setOnCanvasRightClickMenuState("closed")}},{key:"deleteElement",value:function(){var e,t;(null===(e=this.menuState)||void 0===e?void 0:e.elementId)&&(p["d"].deleteElement({nodeId:null===(t=this.menuState)||void 0===t?void 0:t.elementId}),p["g"].setOnCanvasRightClickMenuState("closed"))}},{key:"openSaveGlobalBlockDialog",value:function(){var e;(null===(e=this.menuState)||void 0===e?void 0:e.elementId)&&(this.elementIdToSaveAsGlobalBlock=this.menuState.elementId,this.saveGlobalBlockDialog=!0)}},{key:"closeGlobalBlockDialog",value:function(){this.saveGlobalBlockDialog=!1,this.elementIdToSaveAsGlobalBlock=null,p["g"].setOnCanvasRightClickMenuState("closed")}},{key:"menuState",get:function(){return"closed"!==p["g"].onCanvasRightClickMenuState?p["g"].onCanvasRightClickMenuState:null}},{key:"shouldShow",get:function(){return"closed"!==p["g"].onCanvasRightClickMenuState&&!this.saveGlobalBlockDialog}},{key:"wrapperPositionStyle",get:function(){return this.menuState?{left:"".concat(this.menuState.position.x,"px"),top:"".concat(this.menuState.position.y,"px")}:{}}},{key:"elementIdPresent",get:function(){var e;return null===(e=this.menuState)||void 0===e?void 0:e.elementId}},{key:"canSaveAsGlobalBlock",get:function(){var e;return(null===(e=this.menuState)||void 0===e?void 0:e.elementId)&&Object(Zn["a"])(this.menuState.elementId)}}]),n}(a["a"]);Object(u["a"])([Object(d["h"])("menuState")],ca.prototype,"onStateChange",null),ca=Object(u["a"])([Object(d["a"])({components:{ClipboardDialog:la,GlobalBlockDialog:Jn["a"],RightClickMenuItem:Qn}})],ca);var ua=ca,da=ua,pa=Object(ne["a"])(da,$n,Un,!1,null,null,null),va=pa.exports,ha=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(a["a"]);ha=Object(u["a"])([Object(d["a"])({components:{DragPlaceholder:Nn,RightClickMenu:va}})],ha);var ma=ha,fa=ma,ba=Object(ne["a"])(fa,An,Rn,!1,null,null,null),ga=ba.exports,ya=n("34fd"),Oa=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"render",value:function(){var e=this,t=arguments[0],n=function(){return 0===e.rootElement.children.length?t(ie):e.rootElement.children.map((function(n){return t(Ze,{key:n.id,attrs:{parentId:e.rootElement.id,element:n}})}))};return t("div",{key:this.canvasKey,class:this.classList,attrs:{id:"breakdance_canvas"}},[n(),t(Tn),t(ga)])}},{key:"mounted",value:function(){p["g"].setCanvasState("normal")}},{key:"onGlobalSettingsChanged",value:function(){Object(ya["b"])(Object(Ae["c"])())}},{key:"onSelectorsChanged",value:function(){Object(ya["a"])(Object(Ae["c"])())}},{key:"canvasKey",get:function(){return p["g"].canvasKey}},{key:"classList",get:function(){return{breakdance:!0,canvas:!0,dragging:p["g"].isCanvasElementBeingDragged||p["g"].isAddElementBeingDragged}}},{key:"rootElement",get:function(){return p["d"].document.tree.root}},{key:"globalSettings",get:function(){return p["e"].globalSettings}},{key:"selectors",get:function(){return p["e"].cssSelectors}}]),n}(a["a"]);Object(u["a"])([Object(d["h"])("globalSettings",{deep:!0,immediate:!0})],Oa.prototype,"onGlobalSettingsChanged",null),Object(u["a"])([Object(d["h"])("selectors",{deep:!0,immediate:!0})],Oa.prototype,"onSelectorsChanged",null),Oa=Object(u["a"])([Object(d["a"])({components:{EmptyContainer:ie,BuilderElement:Ze,NodeChrome:Tn,CanvasChrome:ga}})],Oa);var ka,ja,Sa=Oa,Ca=Sa,xa=Object(ne["a"])(Ca,ka,ja,!1,null,null,null),wa=xa.exports,Pa=n("45a1"),_a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classes,style:e.style},[n("Icon",{staticClass:"breakdance-preview-width-adjustment-handle align-center",attrs:{icon:"EllipsisStrokeVerticalIcon",size:"6",heightAuto:!0},on:{mousedown:e.dragStart,dblclick:e.resetPreviewWidth}}),e.isDragging||e.currentPreviewWidthIsSetByUser?n("div",{staticClass:"breakdance-px-amount"},[e._v(" "+e._s(e.pxAmount)+" "),n("Icon",{staticClass:"px-amount-reset-icon",attrs:{icon:"CloseCircleIcon",size:"11"},on:{click:e.resetPreviewWidth}})],1):e._e()],1)},Ea=[],Ia=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.mouseXChange=0,e.lastMouseX=0,e.isDragging=!1,e.easyEvent=new Pe["a"],e}return Object(s["a"])(n,[{key:"dragStart",value:function(e){e.preventDefault(),e.stopPropagation(),this.easyEvent.on("mousemove",this.dragging),this.easyEvent.on("mouseup",this.dragEnd),this.lastMouseX=e.clientX,this.iframe&&(this.iframe.style.pointerEvents="none"),this.mainWrapper&&(this.mainWrapper.style.cursor="col-resize")}},{key:"dragging",value:function(e){Object(Pe["b"])(e)||(this.isDragging=!0,e.preventDefault(),e.stopPropagation(),this.mouseXChange=e.clientX-this.lastMouseX,this.adjustPreviewWidth(2*this.mouseXChange),this.lastMouseX=e.clientX)}},{key:"dragEnd",value:function(e){e.preventDefault(),e.stopPropagation(),this.easyEvent.removeAll(),this.iframe&&(this.iframe.style.pointerEvents="auto"),this.mainWrapper&&(this.mainWrapper.style.cursor="auto"),this.isDragging=!1}},{key:"adjustPreviewWidth",value:function(e){var t,n=this.previewWidth.width;if(this.alreadyAtMaximumWidth&&e>0&&(e=0),"100%"===this.previewWidth.width){if(!this.iframe)return void console.warn("iframe element is missing");t=this.iframe.offsetWidth-e}else t=this.previewWidth.width+e;"100%"!==n&&t>n&&t>this.previewWidth.availableCanvasSize.width&&(t=this.previewWidth.availableCanvasSize.width),this.$emit("previewWidthChangeWithAdjustmentBar",t)}},{key:"resetPreviewWidth",value:function(){this.$emit("resetPreviewWidth")}},{key:"currentPreviewWidthIsSetByUser",get:function(){return"100%"===this.currentBreakpoint.defaultPreviewWidth?"100%"!==this.previewWidth.width:this.previewWidth.width!==this.currentBreakpoint.defaultPreviewWidth}},{key:"style",get:function(){return{left:"".concat(this.iframeWrapperPosition.x+this.iframeWrapperPosition.width,"px"),height:"".concat(this.iframeWrapperPosition.height,"px")}}},{key:"pxAmount",get:function(){return"100%"===this.previewWidth.width?"100%":"".concat(this.previewWidth.width,"px")}},{key:"alreadyAtMaximumWidth",get:function(){return"100%"===this.previewWidth.width||this.previewWidth.width>=this.previewWidth.availableCanvasSize.width}},{key:"classes",get:function(){return{"breakdance-preview-width-bar":!0,"breakdance-preview-width-bar-is-dragging":this.isDragging}}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Ia.prototype,"iframeWrapperPosition",void 0),Object(u["a"])([Object(d["d"])()],Ia.prototype,"previewWidth",void 0),Object(u["a"])([Object(d["d"])()],Ia.prototype,"currentBreakpoint",void 0),Object(u["a"])([Object(d["d"])()],Ia.prototype,"mainWrapper",void 0),Object(u["a"])([Object(d["d"])()],Ia.prototype,"iframe",void 0),Ia=Object(u["a"])([Object(d["a"])({components:{Icon:Z["a"]}})],Ia);var Da=Ia,Ta=Da,Aa=(n("c1b4"),Object(ne["a"])(Ta,_a,Ea,!1,null,null,null)),Ra=Aa.exports,Ba=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-btn",e._g({class:e.classList,attrs:{elevation:"0",loading:e.loading,height:"37",minWidth:e.minWidth,outlined:"","data-test-id":e.testId}},e.$listeners),[e._t("default")],2)},Ma=[],Fa=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"classList",get:function(){return{"breakdance-toolbar-button":!0,"breakdance-toolbar-button--active":this.active}}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:!1})],Fa.prototype,"loading",void 0),Object(u["a"])([Object(d["d"])({default:!1})],Fa.prototype,"active",void 0),Object(u["a"])([Object(d["d"])({default:"auto"})],Fa.prototype,"minWidth",void 0),Object(u["a"])([Object(d["d"])()],Fa.prototype,"testId",void 0),Fa=Object(u["a"])([Object(d["a"])({components:{}})],Fa);var Va=Fa,La=Va,Wa=(n("ea43"),n("6544")),Na=n.n(Wa),$a=n("8336"),Ua=Object(ne["a"])(La,Ba,Ma,!1,null,null,null),Ha=Ua.exports;Na()(Ua,{VBtn:$a["a"]});var za,Ga=n("0670"),qa=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.showOverlay?n("div",{staticClass:"breakdance-foreign-documents-overlay",style:e.overlayStyles,on:{mouseleave:e.handleOverlayMouseLeave}},[n("div",{staticClass:"breakdance-foreign-documents-overlay-titlebar-wrapper"},[n("div",{staticClass:"breakdance-foreign-documents-overlay-titlebar"},[n("a",{attrs:{href:e.foreignDocumentBuilderUrl},on:{click:e.openBuilderUrl}},[e._v(" Edit "+e._s(e.foreignDocumentTitle)+" "),n("Icon",{attrs:{icon:"EditIcon"}})],1)])])]):e._e()},Ka=[],Xa=function(e){return"".concat(e,"px")};(function(e){e["breakdance_header"]="header",e["breakdance_footer"]="footer"})(za||(za={}));var Ya=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.hoveredForeignDocumentDomElement=null,e.hoveredForeignDocumentDomElementCoords=null,e.isScrolling=!1,e.isScrollingCleanupTimerId=null,e.throttledHandleIframeScroll=Object(_["throttle"])(e.handleIframeScroll,120),e.throttledHandleWatchedElementMouseMove=Object(_["throttle"])(e.handleWatchedElementMouseMove,60),e}return Object(s["a"])(n,[{key:"mounted",value:function(){this.addEventListenersToIframeDocument(),this.addEventListenersToWatchedElements()}},{key:"beforeDestroy",value:function(){this.removeEventListenersFromIframeDocument(),this.removeEventListenersFromWatchedElements()}},{key:"addEventListenersToIframeDocument",value:function(){this.iframeDocument.addEventListener("scroll",this.throttledHandleIframeScroll)}},{key:"removeEventListenersFromIframeDocument",value:function(){this.iframeDocument.removeEventListener("scroll",this.throttledHandleIframeScroll)}},{key:"addEventListenersToWatchedElements",value:function(){var e=this;this.elementsToWatch.forEach((function(t){t.addEventListener("mousemove",e.throttledHandleWatchedElementMouseMove),t.addEventListener("mouseleave",e.handleWatchedElementMouseLeave)}))}},{key:"removeEventListenersFromWatchedElements",value:function(){var e=this;this.elementsToWatch.forEach((function(t){t.removeEventListener("mousemove",e.throttledHandleWatchedElementMouseMove),t.removeEventListener("mouseleave",e.handleWatchedElementMouseLeave)}))}},{key:"isThereHoveredElementAndItsCoords",value:function(){return null!==this.hoveredForeignDocumentDomElement&&null!==this.hoveredForeignDocumentDomElementCoords}},{key:"setHoveredForeignDocumentDomElement",value:function(e){this.hoveredForeignDocumentDomElement=e,this.hoveredForeignDocumentDomElementCoords=this.getCoords()}},{key:"getCoords",value:function(){var e,t=this.hoveredForeignDocumentDomElement;if(1===(null===t||void 0===t?void 0:t.childElementCount)){var n=t.firstElementChild;return n.getBoundingClientRect()}return null!==(e=null===t||void 0===t?void 0:t.getBoundingClientRect())&&void 0!==e?e:null}},{key:"setIsScrolling",value:function(e){e?(this.hoveredForeignDocumentDomElement=null,this.hoveredForeignDocumentDomElementCoords=null,this.removeEventListenersFromWatchedElements()):this.addEventListenersToWatchedElements(),this.isScrolling=e}},{key:"handleIframeScroll",value:function(){var e=this;this.setIsScrolling(!0),this.isScrollingCleanupTimerId&&clearTimeout(this.isScrollingCleanupTimerId),this.isScrollingCleanupTimerId=setTimeout((function(){return e.setIsScrolling(!1)}),120)}},{key:"handleOverlayMouseLeave",value:function(){this.setHoveredForeignDocumentDomElement(null)}},{key:"handleWatchedElementMouseMove",value:function(e){e.currentTarget&&this.setHoveredForeignDocumentDomElement(e.currentTarget)}},{key:"handleWatchedElementMouseLeave",value:function(e){this.$el.contains(e.relatedTarget)?null!==this.hoveredForeignDocumentDomElement&&(this.hoveredForeignDocumentDomElementCoords=this.getCoords()):this.setHoveredForeignDocumentDomElement(null)}},{key:"openBuilderUrl",value:function(){var e=this.foreignDocumentBuilderUrl;e&&this.$emit("openDocument",{builderUrl:e,title:this.foreignDocumentTitle})}},{key:"showOverlay",get:function(){return p["g"].hasFullAccess}},{key:"foreignDocumentBuilderUrl",get:function(){var e;return null===(e=this.hoveredForeignDocumentDomElement)||void 0===e?void 0:e.dataset.breakdanceForeignDocumentBuilderUrl}},{key:"foreignDocumentTypeLabel",get:function(){var e,t,n=null===(e=this.hoveredForeignDocumentDomElement)||void 0===e?void 0:e.dataset.breakdanceForeignDocumentType;return n&&null!==(t=za[n])&&void 0!==t?t:""}},{key:"foreignDocumentTitle",get:function(){var e,t=null===(e=this.hoveredForeignDocumentDomElement)||void 0===e?void 0:e.dataset.breakdanceForeignDocumentTitle;return t||"Unknown Document"}},{key:"overlayStyles",get:function(){if(this.isThereHoveredElementAndItsCoords()){var e=this.hoveredForeignDocumentDomElementCoords,t=e.top,n=e.left,a=e.height,i=e.width;return{display:"flex",top:Xa(t),left:Xa(n),height:Xa(a),width:Xa(i)}}}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Ya.prototype,"canvasElement",void 0),Object(u["a"])([Object(d["d"])()],Ya.prototype,"iframeDocument",void 0),Object(u["a"])([Object(d["d"])()],Ya.prototype,"elementsToWatch",void 0),Ya=Object(u["a"])([Object(d["a"])({components:{Icon:Z["a"]}})],Ya);var Qa=Ya,Za=Qa,Ja=Object(ne["a"])(Za,qa,Ka,!1,null,null,null),ei=Ja.exports,ti=n("8690"),ni=n("fbf1"),ai=function(){var e=this,t=this,n=t.$createElement,a=t._self._c||n;return a("div",{ref:"mainWrapper",staticClass:"breakdance-iframe-main-wrapper",style:t.mainWrapperStyle,attrs:{id:"canvas-area"}},[a("PreviewWidthAdjustmentHandle",{attrs:{"iframe-wrapper-position":t.iframeWrapperPosition,"preview-width":t.iframePreviewWidth,"current-breakpoint":t.currentBreakpoint,iframe:t.iframe,"main-wrapper":t.mainWrapper},on:{resetPreviewWidth:function(){return e.$emit("resetPreviewWidth")},previewWidthChangeWithAdjustmentBar:function(t){return e.$emit("previewWidthChangeWithAdjustmentBar",t)}}}),t.iframeExited?a("div",{staticClass:"iframe-reloaded-warning-block"},[t._v(" Something navigated you away from the page you are editing. "),a("StandardButton",{staticClass:"mt-4",attrs:{minWidth:"80"},on:{click:t.handleReloadWanted}},[t._v(" Continue Editing ")])],1):a("div",{ref:"iframeWrapper",staticClass:"breakdance-iframe-inner-wrapper",style:t.iframeWrapperStyles,attrs:{id:"iframe-wrapper"}},[t.iframeIsLoading?a("Loading",{attrs:{absolute:""}}):t._e(),a("iframe",{key:t.iframeUrl,ref:"iframe",staticClass:"breakdance-iframe",style:t.iframeStyle,attrs:{id:t.iframeId,name:t.iframeId,src:t.iframeUrl},on:{load:t.handleIframeLoaded}})],1)],1)},ii=[],ri=8,oi=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.iframeWrapperPosition={x:0,y:0,width:0,height:0},e}return Object(s["a"])(n,[{key:"handleIframeLoaded",value:function(){var e,t=this;(null===(e=this.iframe)||void 0===e?void 0:e.contentWindow)&&(this.iframe.contentWindow.onunload=function(){t.$emit("iframeUnloaded")}),this.$emit("iframeLoaded",this.iframe)}},{key:"handleReloadWanted",value:function(){this.$emit("reloadWanted")}},{key:"mounted",value:function(){this.mainWrapper?new ResizeObserver(this.setAvailableCanvasSize).observe(this.mainWrapper):kt["h"].logError("No canvas element."),this.iframeWrapper?new ResizeObserver(this.setIframeWrapperPosition).observe(this.iframeWrapper):kt["h"].logError("No iframe wrapper element."),this.setAvailableCanvasSize()}},{key:"setAvailableCanvasSize",value:function(){if(this.mainWrapper){var e=this.mainWrapper.getBoundingClientRect(),t=Object(C["a"])({},this.iframePreviewWidth,{availableCanvasSize:{width:e.width-2*ri,height:e.height-2*ri}});this.$emit("previewWidthChange",t)}this.setIframeWrapperPosition()}},{key:"setIframeWrapperPosition",value:function(){if(this.iframeWrapper){var e=this.iframeWrapper.getBoundingClientRect();this.iframeWrapperPosition={x:e.x,y:e.y,width:e.width,height:e.height}}}},{key:"mainWrapperStyle",get:function(){return{padding:"".concat(ri,"px")}}},{key:"iframeWrapperStyles",get:function(){return{width:"100%"===this.iframePreviewWidth.width?"100%":"".concat(this.iframePreviewWidth.width,"px"),overflow:"SCALED_TO_FIT"===kt["h"].settings.scaleToFit?"hidden":"auto"}}},{key:"iframeStyle",get:function(){var e=this,t=function(t){var n=Math.min(1,e.iframePreviewWidth.availableCanvasSize.width/t);return{width:"".concat(t,"px"),transform:"scale(".concat(n,")"),height:"".concat(e.iframePreviewWidth.availableCanvasSize.height*(1/n),"px")}};return"ACTUAL_SIZE"===kt["h"].settings.scaleToFit?"100%"===this.iframePreviewWidth.width?{width:"100%",minWidth:"".concat(this.minWidth,"px")}:{width:"".concat(this.iframePreviewWidth.width,"px")}:"100%"===this.iframePreviewWidth.width?this.iframePreviewWidth.availableCanvasSize.width<this.minWidth?t(this.minWidth):{width:"100%",minWidth:"".concat(this.minWidth,"px")}:t(this.iframePreviewWidth.width)}},{key:"iframeIsLoading",get:function(){return"loading"===this.iframeState}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],oi.prototype,"iframeState",void 0),Object(u["a"])([Object(d["d"])()],oi.prototype,"iframePreviewWidth",void 0),Object(u["a"])([Object(d["d"])()],oi.prototype,"iframeUrl",void 0),Object(u["a"])([Object(d["d"])()],oi.prototype,"iframeId",void 0),Object(u["a"])([Object(d["d"])()],oi.prototype,"minWidth",void 0),Object(u["a"])([Object(d["d"])()],oi.prototype,"iframeExited",void 0),Object(u["a"])([Object(d["d"])()],oi.prototype,"currentBreakpoint",void 0),Object(u["a"])([Object(d["f"])()],oi.prototype,"mainWrapper",void 0),Object(u["a"])([Object(d["f"])()],oi.prototype,"iframeWrapper",void 0),Object(u["a"])([Object(d["f"])()],oi.prototype,"iframe",void 0),oi=Object(u["a"])([Object(d["a"])({components:{StandardButton:Ha,Loading:ni["a"],PreviewWidthAdjustmentHandle:Ra}})],oi);var si=oi,li=si,ci=(n("019d"),Object(ne["a"])(li,ai,ii,!1,null,null,null)),ui=ci.exports,di=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.iframeExited=!1,e.foreignDocumentsOverlayVueApp=null,e.canvasApp=null,e}return Object(s["a"])(n,[{key:"handlePreviewWidthChange",value:function(e){p["g"].changePreviewWidthMutation(e)}},{key:"handlePreviewWidthChangeWithAdjustmentBar",value:function(e){p["g"].changePreviewWidthWithAdjustmentBar(e)}},{key:"handleResetPreviewWidth",value:function(){p["g"].selectBaseBreakpoint()}},{key:"setIframeAsExited",value:function(){p["b"].leavingIframeOnPurpose?p["b"].setLeavingIframeOnPurpose(!1):this.iframeExited=!0}},{key:"reloadIframe",value:function(){this.iframeExited=!1,setTimeout((function(){window.frames["iframe"].location.reload()}),0)}},{key:"mountForeignDocumentsOverlayVueAppInIframe",value:function(e,t){var n=e.createElement("div");n.classList.add("breakdance-foreign-documents-overlay-mountpoint"),e.body.appendChild(n),this.foreignDocumentsOverlayVueApp=new a["a"]({el:n,store:p["c"],vuetify:Ga["a"],render:function(n){return n(ei,{props:{elementsToWatch:e.querySelectorAll("[data-breakdance-foreign-document]"),canvasElement:t,iframeDocument:e},on:{openDocument:function(e){confirm("Edit ".concat(e.title,"?"))&&window.open(e.builderUrl,"_top")}}})}})}},{key:"mountCanvasInIframe",value:function(e){if(!e.contentDocument)throw"Unable to mount canvas in iframe because its document is missing";Object(Ae["n"])(e.contentDocument),Object(Pa["a"])(document,window.Breakdance.canvas.document),ge["a"].registerAllStoreActions();var t=window.Breakdance.canvas.document.querySelector("#breakdance-canvas-wrapper");this.canvasApp=new a["a"]({store:p["c"],vuetify:Ga["a"],render:function(e){return e(wa)}}).$mount(t),this.mountForeignDocumentsOverlayVueAppInIframe(window.Breakdance.canvas.document,this.canvasApp.$el),Object(Ae["d"])().appendChild(Object(ti["b"])(document,j,"iframe-styles")),this.unbindClickEventOnInnerIframeLinks(),this.$emit("loaded")}},{key:"unbindClickEventOnInnerIframeLinks",value:function(){var e=Object(k["a"])(window.Breakdance.canvas.document.querySelectorAll("a:not([force-allow-clicks])")),t=Object(k["a"])(window.Breakdance.canvas.document.querySelectorAll("#breakdance_canvas a")),n=e.filter((function(e){return!t.includes(e)}));n.forEach((function(e){e.addEventListener("click",(function(e){e.preventDefault()}))}))}},{key:"destroyed",value:function(){this.canvasApp&&this.canvasApp.$destroy(),this.foreignDocumentsOverlayVueApp&&this.foreignDocumentsOverlayVueApp.$destroy()}},{key:"iframeMinWidth",get:function(){return Object(Ut["g"])(p["e"])}},{key:"canvasPreviewWidth",get:function(){return p["g"].canvasPreviewWidth}},{key:"previewWidth",get:function(){return p["g"].canvasPreviewWidth.width}},{key:"canvasState",get:function(){return p["g"].canvasState}},{key:"currentBreakpoint",get:function(){return p["g"].currentBreakpoint}},{key:"iframeURL",get:function(){if(p["b"].documentSpecificNeededUrls&&-1!==p["d"].document.documentMeta.id){var e=new URL(p["b"].documentSpecificNeededUrls.iframeUrl);return e.searchParams.append("breakdance_iframe","true"),e.searchParams.append("breakdance_open_document","".concat(p["d"].document.documentMeta.id)),e.toString()}return null}}]),n}(a["a"]);di=Object(u["a"])([Object(d["a"])({components:{IframeWrapper:ui,Loading:ni["a"],Canvas:wa,ForeignDocumentsOverlay:ei,PreviewWidthAdjustmentHandle:Ra,StandardButton:Ha}})],di);var pi=di,vi=pi,hi=Object(ne["a"])(vi,y,O,!1,null,null,null),mi=hi.exports,fi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TopBar",[n("AddButton",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}]}),n("TopBarSection",{attrs:{"border-right":!0}},[n("IconButton",{staticClass:"open-properties-toolbar-button",attrs:{active:e.isElementPropertiesOpen,icon:"EditIcon",size:"18"},on:{click:e.toggleElementProperties}})],1),n("v-spacer",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}]}),n("DocumentChooser"),n("PreviewContentChooserDialog"),n("TopBarSection",{attrs:{borderRight:!0}},[n("BreakpointsSelection",{model:{value:e.currentBreakpoint,callback:function(t){e.currentBreakpoint=t},expression:"currentBreakpoint"}})],1),n("v-spacer"),n("UndoRedo"),n("TopBarSection",{staticClass:"top-bar-settings-and-structure-section",attrs:{"border-left":!0}},[n("IconButton",{staticClass:"open-structure-toolbar-button",attrs:{active:e.isStructurePanelOpen,icon:"LayersIcon",size:"18"},on:{click:e.toggleStructurePanel}}),n("SettingsDropdown")],1),n("TopBarSection",{attrs:{borderLeft:!0}},[n("Save")],1),n("Exit")],1)},bi=[],gi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("StandardButton",{staticStyle:{"margin-left":"3px","margin-right":"3px"},attrs:{loading:e.saveInProgress,minWidth:"80",testId:"main-save-button"},on:{click:e.save}},[e._v(" Save ")])},yi=[],Oi=n("ca3a");function ki(){return ji.apply(this,arguments)}function ji(){return ji=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=q["pipe"],e.next=3,Object(B["a"])({friendlyName:"Saving to WordPress",action:"breakdance_save",dataToPost:{id:p["d"].document.documentMeta.id,tree:Object(U["a"])(Object(Te["k"])(p["d"].document.tree)),globalSettings:Object(U["a"])(p["e"].globalSettings),classes:Object(U["a"])(p["e"].cssSelectors)},decoder:M["v"]});case 3:return e.t1=e.sent,e.t2=Object(K["fold"])((function(e){return Object(Oi["e"])(e),Object(K["left"])(e)}),(function(e){return p["g"].setUnsavedChangesPresent(!1),ce["a"].ignore((function(){p["e"].markCurrentGlobalSettingsAsUntouched(),p["e"].markCurrentSelectorsAsUntouched()})),Object(K["right"])(e)})),e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)}))),ji.apply(this,arguments)}var Si={CMD_A:["command+a","ctrl+a"],CMD_B:["command+b","ctrl+b"],CMD_S:["command+s","ctrl+s"],CMD_Z:["command+z","ctrl+z"],CMD_SHIFT_Z:["command+shift+z","ctrl+shift+z"],CMD_C:["command+c","ctrl+c"],CMD_V:["command+v","ctrl+v"],CMD_D:["command+d","ctrl+d"],ESC:["esc"],BACKSPACE:["backspace"],DELETE:["delete"],CMD_OPTION_R:["command+option+r","ctrl+alt+r"],CMD_SLASH:["command+/","ctrl+/"],CMD_SHIFT_SLASH:["command+shift+/","ctrl+shift+/"],CMD_QUESTION:["command+?","ctrl+?"],CMD_SHIFT_S:["command+shift+s","ctrl+shift+s"]},Ci=function(){return{register:function(){Pa["b"].register(Si.ESC,(function(){document.dispatchEvent(new CustomEvent("close-dropdowns-when-escape-is-pressed",{cancelable:!0}))&&p["g"].activateElement(null)})),Pa["b"].register(Si.BACKSPACE,(function(){p["g"].activeElementId&&p["d"].deleteElement({nodeId:p["g"].activeElementId})})),Pa["b"].register(Si.CMD_D,(function(){p["g"].activeElementId&&p["d"].duplicateElementAndActivateIt(p["g"].activeElementId)})),Pa["b"].register(Si.CMD_OPTION_R,(function(){p["g"].selectNextBreakpoint()})),Pa["b"].register(Si.CMD_SHIFT_SLASH,(function(){p["g"].setKeyboardShortcutHelpModalOpen(!0)})),Pa["b"].register(Si.CMD_SLASH,(function(){p["g"].setKeyboardShortcutHelpModalOpen(!0)})),Pa["b"].register("e l e m e n t",(function(){p["b"].setElementStudioPowerUser(!0)}))},unbind:function(){Pa["b"].unbind("e l e m e n t"),Pa["b"].unbind(Si.ESC),Pa["b"].unbind(Si.CMD_D),Pa["b"].unbind(Si.BACKSPACE),Pa["b"].unbind(Si.CMD_OPTION_R),Pa["b"].unbind(Si.CMD_SHIFT_SLASH),Pa["b"].unbind(Si.CMD_SLASH)}}},xi=n("d98f"),wi=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.saveInProgress=!1,e.unsubscribe=null,e}return Object(s["a"])(n,[{key:"save",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return document.dispatchEvent(new Event("breakdanceSaveButtonClicked")),this.saveInProgress=!0,e.next=4,ki();case 4:this.saveInProgress=!1;case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){Pa["b"].unbind(Si.CMD_S),Pa["b"].register(Si.CMD_S,this.save),this.unsubscribe=this.$store.subscribe((function(e){ce["a"].shouldMutationBeIgnored(e)||p["g"].setUnsavedChangesPresent(!0)})),this.warnIfUnsavedFunction=Object(xi["b"])((function(){return p["g"].unsavedChangesPresent}))}},{key:"beforeDestroy",value:function(){Pa["b"].unbind(Si.CMD_S),this.unsubscribe&&this.unsubscribe(),Object(xi["a"])(this.warnIfUnsavedFunction)}},{key:"unsavedChangesPresent",get:function(){return p["g"].unsavedChangesPresent}}]),n}(a["a"]);wi=Object(u["a"])([Object(d["a"])({components:{StandardButton:Ha}})],wi);var Pi=wi,_i=Pi,Ei=Object(ne["a"])(_i,gi,yi,!1,null,null,null),Ii=Ei.exports,Di=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("IconButton",e._g({staticStyle:{"margin-right":"0"},attrs:{active:!e.isBase,icon:e.getDeviceIcon(e.currentBreakpoint.id),rotate:e.getDeviceIconRotation(e.currentBreakpoint.id),size:"18"}},a))]}}])},[n("v-list",e._l(e.breakpoints,(function(t){return n("v-list-item",{key:t.id,class:e.activeClass(t.id),attrs:{"two-line":"",dense:""},on:{click:function(n){return e.changeBreakpoint(t)}}},[n("div",{staticClass:"device-icon-wrapper"},[n("Icon",{attrs:{icon:e.getDeviceIcon(t.id),rotate:e.getDeviceIconRotation(t.id),size:"18"}})],1),n("v-list-item-content",{staticClass:"ml-4"},[n("v-list-item-title",[e._v(e._s(t.label))]),n("v-list-item-subtitle",["Desktop"===t.label?[e._v(" All device widths ")]:e._e(),t.maxWidth&&!t.minWidth?[e._v(" "+e._s(t.maxWidth)+"px and below ")]:e._e(),!t.maxWidth&&t.minWidth?[e._v(" "+e._s(t.minWidth)+"px and above ")]:e._e(),t.maxWidth&&t.minWidth?[e._v(" Between "+e._s(t.minWidth)+"px and "+e._s(t.maxWidth)+"px ")]:e._e()],2)],1)],1)})),1)],1)},Ti=[],Ai=n("3b39"),Ri=n("a17c"),Bi=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"getDeviceIcon",value:function(e){var t;return(null===(t=Ut["c"][e])||void 0===t?void 0:t.icon)||Ut["f"]}},{key:"getDeviceIconRotation",value:function(e){var t;return null===(t=Ut["c"][e])||void 0===t?void 0:t.rotate}},{key:"activeClass",value:function(e){return this.currentBreakpoint.id===e&&"breakpoint-active"}},{key:"changeBreakpoint",value:function(e){this.$emit("input",e)}},{key:"onBreakpointsChanged",value:function(){var e=this;this.breakpoints.find((function(t){return t.id===e.currentBreakpoint.id}))||p["g"].selectBaseBreakpoint()}},{key:"isBase",get:function(){return this.currentBreakpoint.id===Ut["a"]}},{key:"breakpoints",get:function(){return p["b"].breakpoints}},{key:"currentBreakpoint",get:function(){return this.value}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Bi.prototype,"value",void 0),Object(u["a"])([Object(d["h"])("breakpoints",{deep:!0,immediate:!0})],Bi.prototype,"onBreakpointsChanged",null),Bi=Object(u["a"])([Object(d["a"])({components:{Icon:Z["a"],Dropdown:Ri["a"],IconButton:Ai["a"]}})],Bi);var Mi=Bi,Fi=Mi,Vi=(n("4b3f"),n("8860")),Li=n("da13"),Wi=n("5d23"),Ni=Object(ne["a"])(Fi,Di,Ti,!1,null,null,null),$i=Ni.exports;Na()(Ni,{VList:Vi["a"],VListItem:Li["a"],VListItemContent:Wi["a"],VListItemSubtitle:Wi["b"],VListItemTitle:Wi["c"]});var Ui=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TopBarSection",{staticClass:"undo-redo-top-bar-section",attrs:{"border-left":!0}},[n("IconButton",{attrs:{disabled:!e.canUndo,icon:"UndoIcon",size:"18"},on:{click:e.undo}}),n("IconButton",{attrs:{disabled:!e.canRedo,icon:"RedoIcon",size:"18"},on:{click:e.redo}})],1)},Hi=[],zi=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classList},[e._t("default")],2)},Gi=[],qi=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"classList",get:function(){var e=["topbar-section"];return this.borderLeft&&e.push("topbar-section-bl"),this.borderRight&&e.push("topbar-section-br"),e}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:!1})],qi.prototype,"borderLeft",void 0),Object(u["a"])([Object(d["d"])({default:!1})],qi.prototype,"borderRight",void 0),qi=Object(u["a"])([Object(d["a"])({components:{}})],qi);var Ki=qi,Xi=Ki,Yi=(n("8ab1"),Object(ne["a"])(Xi,zi,Gi,!1,null,null,null)),Qi=Yi.exports,Zi=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"mounted",value:function(){Pa["b"].register(Si.CMD_Z,this.undo),Pa["b"].register(Si.CMD_SHIFT_Z,this.redo)}},{key:"undo",value:function(){this.canUndo&&ce["a"].undo()}},{key:"redo",value:function(){this.canRedo&&ce["a"].redo()}},{key:"beforeDestroy",value:function(){Pa["b"].unbind(Si.CMD_Z),Pa["b"].unbind(Si.CMD_SHIFT_Z)}},{key:"canUndo",get:function(){return p["f"].canUndo}},{key:"canRedo",get:function(){return p["f"].canRedo}}]),n}(a["a"]);Zi=Object(u["a"])([Object(d["a"])({components:{IconButton:Ai["a"],TopBarSection:Qi}})],Zi);var Ji=Zi,er=Ji,tr=(n("98ad"),Object(ne["a"])(er,Ui,Hi,!1,null,null,null)),nr=tr.exports,ar=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.previews?n("div",[n("TopBarSection",{attrs:{"border-right":!0}},[n("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("div",e._g({staticClass:"document-chooser",class:e.nothingToPreviewAndNoSearchQueryAndNotLoading?"document-chooser-zero-case":""},a),[n("div",{staticClass:"document-chooser-text"},[e.currentPreviewedItem?[n("h2",[e._v("Previewing "+e._s(e.currentPreviewedItem.type))]),n("span",{staticClass:"ellipsis-text"},[e._v(" "+e._s(e.currentPreviewedItem.label||"ID "+e.currentPreviewedItem.id)+" ")])]:e.nothingToPreviewAndNoSearchQueryAndNotLoading?[n("h2",[e._v("Nothing to Preview")]),n("span",{staticClass:"ellipsis-text"},[e._v(" No match found ")])]:[n("h2",[e._v("Previewing")]),n("span",{staticClass:"ellipsis-text"},[e._v(" choose ")])]],2),n("div",{staticClass:"document-chooser-dropdown-icon"},[n("Icon",{attrs:{size:"11",icon:"CaretDownIcon"}})],1)])]}}],null,!1,1209928268),model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[n("v-card",{staticClass:"vscroll-scroll vscroll-wrap",attrs:{width:"450",height:e.nothingToPreviewAndNoSearchQueryAndNotLoading?void 0:350,loading:e.isLoading}},[e.nothingToPreviewAndNoSearchQueryAndNotLoading?e._e():n("div",{staticClass:"preview-content-chooser-dialog-search-form-wrapper"},[n("v-text-field",{staticClass:"preview-content-chooser-dialog-search-box breakdance-dense-input",attrs:{value:e.search,label:"Search...",clearable:"",solo:"",flat:"",dense:"","full-width":"","single-line":"","background-color":"var(--gray150)",autofocus:""},on:{input:e.handleSearch}})],1),n("v-list",{staticClass:"vscroll-scroll",attrs:{dense:""}},[e._l(e.previews,(function(t,a){return[n("v-list-item",{key:a,class:{"document-chooser-item-selected":t.url===e.currentPreviewedItem.url},attrs:{link:""},on:{click:function(n){return e.setPreviewedItem(t)}}},[n("v-list-item-title",{staticClass:"previewable-item-list-item"},[n("div",{staticClass:"previewable-item-label previewable-item-label-stop-text-from-overflowing"},[e._v(" "+e._s(t.label||t.url)+" ")]),n("div",{staticClass:"previewable-item-type"},[e._v(e._s(t.type))])])],1)]})),e.nothingToPreviewAndNoSearchQueryAndNotLoading?n("div",{staticClass:"previewable-items-zero-case previewable-items-zero-case-error"},[n("h4",[e._v(" Nothing To Preview ")]),n("p",[e._v(" Your template settings don't match any content. You can: ")]),n("ul",[n("li",[e._v(" Update your template settings in the WP admin at "),n("b",[e._v("Breakdance > Templates > Edit Template")])]),n("li",[e._v(" Add some content to your site that matches the template settings. ")])])]):0===e.previews.length?n("div",{staticClass:"previewable-items-zero-case align-center text-center"},[n("h4",[e._v(" No results apply to this template ")])]):e._e()],2)],1)],1)],1)],1):e._e()},ir=[],rr=(n("841c"),n("21ff"));function or(e){return sr.apply(this,arguments)}function sr(){return sr=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.id,a=t.search,i=void 0===a?"":a,e.abrupt("return",Object(B["a"])({action:"breakdance_get_template_previewable_items_with_search",dataToPost:{search:i,id:n},decoder:rr["b"],resultKey:"data"}));case 2:case"end":return e.stop()}}),e)}))),sr.apply(this,arguments)}var lr=n("561c"),cr=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.open=!1,e.search="",e.isLoading=!1,e.debouncedSearchContentInWp=E.a.debounce(e.searchContentInWp,300),e}return Object(s["a"])(n,[{key:"setPreviewedItem",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.open=!1,p["g"].setLastModifiedElementProperty({elementId:null,path:null}),p["b"].setPreviewedItem(t),p["b"].flushDynamicDataCache(),e.next=6,Object(P["b"])();case 6:Object(lr["g"])(t);case 7:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"handleSearch",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:this.search=t,this.isLoading=!0,this.debouncedSearchContentInWp();case 3:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"searchContentInWp",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.t0=q["pipe"],e.next=4,or({search:this.search,id:p["d"].document.documentMeta.id});case 4:e.t1=e.sent,e.t2=Object(K["fold"])((function(e){t.isLoading=!1,e.forEach((function(e){return ke["a"].log.message(e.msg)}))}),(function(e){p["b"].setTemplatePreview(Object(C["a"])({},p["b"].templatePreview,{previewableItems:e})),t.isLoading=!1})),(0,e.t0)(e.t1,e.t2);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"previews",get:function(){return p["b"].templatePreview&&p["b"].templatePreview.previewableItems}},{key:"currentPreviewedItem",get:function(){return p["b"].previewedItem}},{key:"nothingToPreviewAndNoSearchQueryAndNotLoading",get:function(){return(!this.previews||!this.previews.length)&&!this.search&&!this.isLoading}}]),n}(a["a"]);cr=Object(u["a"])([Object(d["a"])({components:{Icon:Z["a"],Dropdown:Ri["a"],IconButton:Ai["a"],TopBarSection:Qi}})],cr);var ur=cr,dr=ur,pr=(n("708b"),n("b0af")),vr=n("8654"),hr=Object(ne["a"])(dr,ar,ir,!1,null,null,null),mr=hr.exports;Na()(hr,{VCard:pr["a"],VList:Vi["a"],VListItem:Li["a"],VListItemTitle:Wi["c"],VTextField:vr["a"]});var fr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TopBarSection",{staticClass:"document-chooser-section",attrs:{borderLeft:!0,borderRight:!0}},[n("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("div",e._g({staticClass:"document-chooser"},a),[n("div",{staticClass:"document-chooser-text"},[n("h2",[e._v("Editing "+e._s(e.currentDocument.documentMeta.typeLabel))]),-1!==e.currentDocument.documentMeta.id?n("span",{staticClass:"ellipsis-text"},[e._v(" "+e._s(e.currentDocument.documentMeta.titleLabel||"ID: "+e.currentDocument.documentMeta.id)+" ")]):n("span",{staticClass:"ellipsis-text"},[e._v(" choose a document to edit ")])]),n("div",{staticClass:"document-chooser-dropdown-icon"},[n("Icon",{attrs:{size:"11",icon:"CaretDownIcon"}})],1)])]}}]),model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[n("v-card",{staticClass:"vscroll-scroll vscroll-wrap",attrs:{width:"450",height:"350",loading:e.isLoading}},[n("div",{staticClass:"preview-content-chooser-dialog-search-form-wrapper"},[n("v-text-field",{staticClass:"preview-content-chooser-dialog-search-box breakdance-dense-input",attrs:{value:e.search,label:"Search...",clearable:"",solo:"",flat:"",dense:"","full-width":"","single-line":"","background-color":"var(--gray150)",autofocus:""},on:{input:e.handleSearch}})],1),n("v-list",{staticClass:"vscroll-scroll",attrs:{dense:""}},[e._l(e.availableDocuments,(function(t,a){return[n("v-list-item",{key:a,class:{"document-chooser-item-selected":t.id===e.currentDocument.documentMeta.id},attrs:{link:"",href:e.getDocumentUrlFromId(t.id)}},[n("v-list-item-title",{staticClass:"previewable-item-list-item"},[n("div",{staticClass:"previewable-item-label previewable-item-label-stop-text-from-overflowing"},[e._v(" "+e._s(t.titleLabel||"ID: "+t.id)+" ")]),n("div",{staticClass:"previewable-item-type"},[e._v(e._s(t.typeLabel))])])],1)]})),0===e.availableDocuments.length?n("div",{staticClass:"previewable-items-zero-case-search"},[n("svg",{staticClass:"previewable-items-zero-case-icon",attrs:{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"}},[n("g",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}},[n("path",{attrs:{d:"M46.875 71.875a25 25 0 1 0 50 0 25 25 0 1 0-50 0ZM81.25 62.5 62.5 81.25M62.5 62.5l18.75 18.75","stroke-width":"6.250005"}}),n("path",{attrs:{d:"M34.375 84.375h-25a6.25 6.25 0 0 1-6.25-6.25V9.375a6.25 6.25 0 0 1 6.25-6.25h44.288a6.25 6.25 0 0 1 4.416 1.83L70.046 16.92a6.25 6.25 0 0 1 1.829 4.417v13.037","stroke-width":"6.250005"}})])]),n("h5",[e._v("No items found")]),n("p",[e._v("Try adjusting your search to find what you are looking for.")])]):e._e()],2)],1)],1)],1)},br=[],gr=n("ea49");function yr(e){return Or.apply(this,arguments)}function Or(){return Or=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=t.search,a=void 0===n?"":n,e.abrupt("return",Object(B["a"])({action:"breakdance_get_available_documents_with_search",dataToPost:{search:a},decoder:gr["b"],resultKey:"data"}));case 2:case"end":return e.stop()}}),e)}))),Or.apply(this,arguments)}var kr=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.open=!1,e.search="",e.isLoading=!1,e.debouncedSearchContentInWp=E.a.debounce(e.searchContentInWp,600),e}return Object(s["a"])(n,[{key:"getDocumentUrlFromId",value:function(e){return Object(lr["a"])(e)}},{key:"handleSearch",value:function(e){this.search=e,this.debouncedSearchContentInWp()}},{key:"searchContentInWp",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.t0=q["pipe"],e.next=4,yr({search:this.search});case 4:e.t1=e.sent,e.t2=Object(K["fold"])((function(e){t.isLoading=!1,e.forEach((function(e){return ke["a"].log.message(e.msg)}))}),(function(e){p["b"].setAvailableDocuments(e),t.isLoading=!1})),(0,e.t0)(e.t1,e.t2);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"currentDocument",get:function(){return p["d"].document}},{key:"unsavedChangesPresent",get:function(){return p["g"].unsavedChangesPresent}},{key:"currentlyEditingLabel",get:function(){return"".concat(p["d"].document.documentMeta.id.toString())}},{key:"availableDocuments",get:function(){return p["b"].availableDocuments}}]),n}(a["a"]);kr=Object(u["a"])([Object(d["a"])({components:{Icon:Z["a"],Dropdown:Ri["a"],TopBarSection:Qi}})],kr);var jr=kr,Sr=jr,Cr=(n("429b"),Object(ne["a"])(Sr,fr,br,!1,null,null,null)),xr=Cr.exports;Na()(Cr,{VCard:pr["a"],VList:Vi["a"],VListItem:Li["a"],VListItemTitle:Wi["c"],VTextField:vr["a"]});var wr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dropdown",{staticClass:"open-settings-toolbar-button",attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("IconButton",e._g({attrs:{active:e.anySettingsPanelsOpen,testId:"open-settings-menu",size:"18",icon:"EllipsisStrokeIcon"}},a))]}}])},[n("v-list",[n("v-list-item",{attrs:{dense:""},on:{click:e.openGlobalSettingsPanel}},[n("v-list-item-title",{attrs:{"data-test-id":"toggle-global-settings"}},[e._v(" Global Settings ")])],1),n("v-list-item",{attrs:{dense:""},on:{click:e.openSelectorsPanel}},[n("v-list-item-title",{attrs:{"data-test-id":"toggle-site-classes-selectors"}},[e._v(" Selectors ")])],1),n("v-list-item",{attrs:{dense:""},on:{click:e.openHistoryAndRevisionsPanel}},[n("v-list-item-title",[e._v(" History ")])],1),n("v-list-item",{staticClass:"breakdance-menu-open-preferences",attrs:{dense:""},on:{click:e.openPreferencesModal}},[n("v-list-item-title",{attrs:{"data-test-id":"breakdance-menu-open-preferences"}},[e._v(" Preferences ")])],1),n("v-list-item",{directives:[{name:"permission",rawName:"v-permission",value:"full",expression:"'full'"}],attrs:{"data-test-id":"toggle-element-studio",dense:"",disabled:"success"!==e.elementsLoadingState},on:{click:e.toggleElementStudio}},[n("v-list-item-title",{attrs:{"data-test-id":"breakdance-menu-open-element-studio"}},[n("div",{staticClass:"d-flex align-center"},[e._v(" Element Studio "),n("span",{staticClass:"settings-dropdown-element-studio-alpha-badge"},[e._v("alpha")])])])],1)],1)],1)},Pr=[],_r=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"openPreferencesModal",value:function(){p["g"].setPreferencesModalOpen(!0)}},{key:"toggleElementStudio",value:function(){p["g"].toggleElementStudio()}},{key:"openGlobalSettingsPanel",value:function(){Object(Q["e"])("globalSettings")}},{key:"openSelectorsPanel",value:function(){p["g"].setActiveSelectorName(null),Object(Q["e"])("selectors")}},{key:"openHistoryAndRevisionsPanel",value:function(){Object(Q["e"])("history")}},{key:"elementsLoadingState",get:function(){return p["b"].elementsLoadingState}},{key:"anySettingsPanelsOpen",get:function(){return Object(Q["d"])("selectors")||Object(Q["d"])("history")||Object(Q["d"])("globalSettings")||p["g"].panelState.elementStudioOpen||p["g"].panelState.preferencesModalOpen}}]),n}(a["a"]);_r=Object(u["a"])([Object(d["a"])({components:{Icon:Z["a"],StandardButton:Ha,Dropdown:Ri["a"],IconButton:Ai["a"]}})],_r);var Er=_r,Ir=Er,Dr=(n("443c"),Object(ne["a"])(Ir,wr,Pr,!1,null,null,null)),Tr=Dr.exports;Na()(Dr,{VList:Vi["a"],VListItem:Li["a"],VListItemTitle:Wi["c"]});var Ar=n("8922"),Rr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.backToAdmin||e.backToFrontend?n("TopBarSection",{attrs:{borderLeft:!0}},[n("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("IconButton",e._g({attrs:{icon:"CloseIcon",size:"18"}},a))]}}],null,!1,865007243)},[n("v-list",[e.backToFrontend?n("v-list-item",{attrs:{dense:"",href:e.backToFrontend}},[n("div",{staticClass:"breakdance-menu-icon-wrapper"},[n("Icon",{attrs:{icon:"BrowserIcon"}})],1),n("v-list-item-content",{staticClass:"ml-4"},[n("v-list-item-title",[e._v("Exit to Frontend")])],1)],1):e._e(),n("v-list-item",{attrs:{dense:"",href:e.backToAdmin}},[n("div",{staticClass:"breakdance-menu-icon-wrapper"},[n("Icon",{attrs:{icon:"WordPressIcon"}})],1),n("v-list-item-content",{staticClass:"ml-4"},[n("v-list-item-title",[e._v("Exit to WordPress")])],1)],1)],1)],1)],1):e._e()},Br=[],Mr=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"backToAdmin",get:function(){return kt["b"].documentSpecificNeededUrls?kt["b"].documentSpecificNeededUrls.backToWordPressUrl:""}},{key:"backToFrontend",get:function(){return Object($["a"])()}}]),n}(a["a"]);Mr=Object(u["a"])([Object(d["a"])({components:{Icon:Z["a"],Dropdown:Ri["a"],IconButton:Ai["a"],TopBarSection:Qi}})],Mr);var Fr=Mr,Vr=Fr,Lr=Object(ne["a"])(Vr,Rr,Br,!1,null,null,null),Wr=Lr.exports;Na()(Lr,{VList:Vi["a"],VListItem:Li["a"],VListItemContent:Wi["a"],VListItemTitle:Wi["c"]});var Nr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TopBarSection",{attrs:{borderRight:!0}},[n("StandardButton",{staticClass:"open-elements-toolbar-button",attrs:{active:e.isAddSectionOpen,size:"22",testId:"open-elements-toolbar-button"},on:{click:e.toggleAdd}},[e._v(" Add ")])],1)},$r=[],Ur=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"mounted",value:function(){p["g"].hasFullAccess&&Pa["b"].register(Si.CMD_A,this.toggleAdd)}},{key:"toggleAdd",value:function(){Object(Q["i"])("add")}},{key:"beforeDestroy",value:function(){Pa["b"].unbind(Si.CMD_A)}},{key:"isAddSectionOpen",get:function(){return Object(Q["d"])("add")}}]),n}(a["a"]);Ur=Object(u["a"])([Object(d["a"])({components:{StandardButton:Ha,TopBarSection:Qi}})],Ur);var Hr=Ur,zr=Hr,Gr=(n("9bb6"),Object(ne["a"])(zr,Nr,$r,!1,null,null,null)),qr=Gr.exports,Kr=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-app-bar",{staticClass:"pa-0 breakdance-topbar d-flex flex-row",attrs:{short:"",color:"var(--white)",height:"auto",width:"100%",flat:""}},[e._t("default")],2)},Xr=[],Yr=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(a["a"]);Yr=Object(u["a"])([d["a"]],Yr);var Qr=Yr,Zr=Qr,Jr=(n("296d"),n("40dc")),eo=Object(ne["a"])(Zr,Kr,Xr,!1,null,null,null),to=eo.exports;Na()(eo,{VAppBar:Jr["a"]});var no=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"toggleElementProperties",value:function(){Object(Q["i"])("elementproperties")}},{key:"toggleStructurePanel",value:function(){Object(Q["i"])("structure")}},{key:"mounted",value:function(){Pa["b"].register(Si.CMD_SHIFT_S,(function(){return Object(Ar["c"])("SCALED_TO_FIT"!==kt["h"].settings.scaleToFit)}))}},{key:"beforeDestroy",value:function(){Pa["b"].unbind(Si.CMD_SHIFT_S)}},{key:"isElementPropertiesOpen",get:function(){return Object(Q["d"])("elementproperties")}},{key:"isStructurePanelOpen",get:function(){return Object(Q["d"])("structure")}},{key:"currentBreakpoint",get:function(){return kt["h"].currentBreakpoint},set:function(e){kt["h"].changeBreakpoint(e)}}]),n}(a["a"]);no=Object(u["a"])([Object(d["a"])({components:{TopBar:to,Exit:Wr,AddButton:qr,TopBarSection:Qi,SettingsDropdown:Tr,BreakpointsSelection:$i,Save:Ii,UndoRedo:nr,PreviewContentChooserDialog:mr,DocumentChooser:xr,IconButton:Ai["a"]}})],no);var ao=no,io=ao,ro=(n("f190"),n("2fa4")),oo=Object(ne["a"])(io,fi,bi,!1,null,null,null),so=oo.exports;Na()(oo,{VSpacer:ro["a"]});var lo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{attrs:{"content-class":"preferences-modal-dialog",value:e.open,"max-width":"780",persistent:""},on:{input:function(t){return e.$emit("update:dialog",!1)},"click:outside":e.handleClickOutside}},[n("v-card",{staticClass:"d-flex flex-column",attrs:{height:"100%"}},[!0===e.saveInProgress?[n("div",{staticClass:"flex-grow-1 d-flex justify-center align-center mt-auto mb-auto"},[n("v-progress-circular",{attrs:{size:100,indeterminate:"",color:"var(--gray300)"}})],1)]:[n("div",{staticClass:"flex-grow-1 d-flex flex-row",staticStyle:{overflow:"auto"}},[n("div",{staticClass:"preferences-tab-area"},[n("h2",{staticClass:"preferences-modal-title-text"},[e._v(" Preferences ")]),n("v-tabs",{staticClass:"breakdance-tabs",attrs:{vertical:""},on:{change:e.handleChangeTab},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[n("v-tab",{staticClass:"breakdance-tabs__tab"},[n("Icon",{staticClass:"ml-1 mr-3",attrs:{icon:"SlidersIcon",size:"16"}}),e._v(" UI Settings ")],1),n("v-tab",{staticClass:"breakdance-tabs__tab"},[n("Icon",{staticClass:"ml-1 mr-3",attrs:{icon:"FontIcon",size:"16"}}),e._v(" Custom Fonts ")],1),n("v-tab",{staticClass:"breakdance-tabs__tab"},[n("Icon",{staticClass:"ml-1 mr-3",attrs:{size:"16",icon:"BreakpointsIcon"}}),e._v(" Breakpoints ")],1)],1)],1),n("button",{staticClass:"preferences-close-button",on:{click:e.handleClickOutside}},[n("Icon",{attrs:{size:"20",icon:"CloseIcon"}})],1),n("div",{staticClass:"flex-grow-1 preferences-content-area"},[e.currentTab===e.fontFamiliesTab?n("CustomFontFamilies",{ref:"customFontFamiliesPanel",attrs:{value:e.customFontFamilies},on:{input:e.updateCustomFontFamilies}}):e._e(),e.currentTab===e.customBreakpointsTab?n("CustomBreakpointsPanel",{ref:"customBreakpointsPanel",attrs:{value:e.customBreakpoints},on:{input:e.updateBreakpoints}}):e._e(),e.currentTab===e.uiSettingsTab?n("CustomUiSettings"):e._e()],1)])]],2)],1)],1)},co=[],uo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PreferencesPanel",{attrs:{save:{text:"Save Breakpoints",function:e.applyChanges,inProgress:!1,disabled:!e.unsavedChangesPresent}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Breakpoints")]},proxy:!0},{key:"content",fn:function(){return[n("EditBreakpoints",{attrs:{value:e.internalValue},on:{input:e.breakpointsEdited}})]},proxy:!0}])})},po=[],vo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.value,(function(t){return n("EditBreakpoint",{key:t.id,attrs:{value:t,isEditing:t.id===e.editingBreakpointId},on:{input:e.updateOrAddBreakpoint,delete:function(n){return e.deleteBreakpoint(t.id)},edit:e.edit}})})),!e.showAddForm&&e.value.length>0?n("v-btn",{attrs:{outlined:""},on:{click:e.openAddBreakpointForm}},[e._v(" Add Breakpoint ")]):e._e(),n("div",[e.showAddForm?[n("div",{staticClass:"add-breakpoint-form-content-wrapper"},[n("div",{staticClass:"add-breakpoint-heading-box"},[n("h4",{staticClass:"add-breakpoint-heading"},[e._v("Add New Breakpoint")]),n("IconButton",{staticClass:"add-breakpoint-close-button",attrs:{icon:"CloseIcon",size:"18"},on:{click:e.toggleAddBreakpointForm}})],1),n("TextInput",{attrs:{placeholder:"Breakpoint name, ie. iPhone X or tablet",size:"md","validation-function-name":"validateNoQuotes"},model:{value:e.newBreakpointLabel,callback:function(t){e.newBreakpointLabel=t},expression:"newBreakpointLabel"}}),n("v-btn",{attrs:{disabled:!e.newBreakpointLabel,text:""},on:{click:e.addBreakpoint}},[n("Icon",{staticClass:"mr-2",attrs:{icon:"PlusIcon"}}),e._v(" Add ")],1)],1)]:e._e(),e.showAddForm||0!=e.value.length?e._e():n("EmptyStatePreferences",[n("p",[e._v("Add your first breakpoint by clicking the button below.")]),n("v-btn",{attrs:{outlined:""},on:{click:e.openAddBreakpointForm}},[e._v(" Add Breakpoint ")])],1)],2)],2)},ho=[],mo=(n("a434"),n("24fc")),fo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{ref:"form",staticClass:"mx-n2 pa-2 py-3 breakpoint-edit"},[n("h3",{staticClass:"font-weight-medium breakpoint-title text-capitalize mb-2"},[e._v(" "+e._s(e.value.label)+" ")]),n("div",{staticClass:"d-flex align-center justify-space-between"},[n("div",{staticClass:"media-query-box"},[e.isEditing?n("div",{staticClass:"media-query-box-items"},[n("div",{staticClass:"media-query-input-wrapper"},[n("TextInput",{attrs:{size:"md",label:"Maximum width (px)"},model:{value:e.maxWidth,callback:function(t){e.maxWidth=t},expression:"maxWidth"}})],1),n("div",{staticClass:"media-query-input-wrapper"},[n("TextInput",{attrs:{size:"md",label:"Minimum width (px)"},model:{value:e.minWidth,callback:function(t){e.minWidth=t},expression:"minWidth"}})],1),n("div",{staticClass:"media-query-input-wrapper"},[n("div",{staticClass:"d-flex flex-column"},[n("label",{staticClass:"media-query-box-label"},[e._v("Default Preview Width")]),n("DropdownInput",{staticClass:"breakdance-dense-select breakdance-dense-select--md",attrs:{label:"Default Preview Width",value:"100%"===e.defaultPreviewWidth?"100%":"custom",items:["100%","custom"],dense:"",solo:"",flat:"",filled:"",clearable:""},on:{input:e.setDefaultPreviewWidth}})],1)]),n("div",{staticClass:"media-query-input-wrapper"},["100%"!==e.defaultPreviewWidth?[n("TextInput",{attrs:{size:"md",label:"Custom width (px)"},model:{value:e.defaultPreviewWidth,callback:function(t){e.defaultPreviewWidth=t},expression:"defaultPreviewWidth"}})]:e._e()],2),n("div",{staticClass:"d-flex justify-end align-center"},[n("v-btn",{staticClass:"mr-3",attrs:{text:"",color:"red darken-1"},on:{click:e.cancel}},[e._v("Cancel")]),n("NiceButton",{attrs:{disabled:!e.maxWidth&&!e.minWidth},on:{click:e.save}},[e._v("Save")])],1)]):n("div",{on:{click:e.enableEditing}},[this.mediaQueryString?[n("div",{staticClass:"media-query-string"},[e._v(e._s(this.mediaQueryString))])]:[n("v-alert",{staticClass:"mt-4",attrs:{dense:"",text:"",color:"orange"}},[e._v(" Click to set min and max widths. ")])]],2)]),e.isEditing?e._e():n("div",{staticClass:"breakpoint-edit__actions"},[n("IconButton",{staticClass:"mr-1",attrs:{icon:"EditIcon",size:"18"},on:{click:e.enableEditing}}),n("IconButton",{attrs:{icon:"TrashIcon",size:"18"},on:{click:function(t){t.stopPropagation(),e.deleteDialog=!0}}})],1)])]),n("ConfirmDialog",{attrs:{show:e.deleteDialog,type:"error","action-text":"Delete","discard-text":"Cancel","save-is-enabled":!0,"discard-is-enabled":!0},on:{discard:function(t){e.deleteDialog=!1},save:e.deleteBreakpoint},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Delete breakpoint?")]},proxy:!0},{key:"text",fn:function(){return[e._v("{If you delete the "+e._s(e.value.label||e.value.defaultPreviewWidth+"px")+" breakpoint, you will lose all design changes it applies.")]},proxy:!0}])})],1)},bo=[],go=n("434b"),yo=n("6833"),Oo=function(){var e=this,t=this,n=t.$createElement,a=t._self._c||n;return a("v-dialog",{attrs:{value:t.show,persistent:"",width:400},on:{"click:outside":function(e){return t.$emit("click:outside")}}},[a("v-card",{staticClass:"breakdance-dialog"},[t.type?a("div",{staticClass:"card-alert"},[a("v-alert",{staticClass:"card-alert__icon",attrs:{type:t.type}})],1):t._e(),a("v-card-title",{staticClass:"breakdance-dialog-title"},[t._t("title")],2),a("v-card-text",{staticClass:"breakdance-dialog-contents"},[t._t("text")],2),a("v-card-actions",{staticClass:"breakdance-dialog-actions"},[t.hasCancel?a("v-btn",{on:{click:function(){return e.$emit("cancel")}}},[t._v(t._s(t.cancelText)+" ")]):t._e(),t.hasDiscard?a("v-btn",{attrs:{disabled:!t.discardIsEnabled,loading:t.discardIsInProgress},on:{click:function(){return e.$emit("discard")}}},[t._v(t._s(t.discardText)+" ")]):t._e(),a("v-btn",{attrs:{color:t.type,dark:"",disabled:!t.saveIsEnabled,loading:t.saveIsInProgress},on:{click:function(){return e.$emit("save")}}},[t._v(t._s(t.actionText)+" ")])],1)],1)],1)},ko=[],jo=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(a["a"]);Object(u["a"])([Object(d["d"])()],jo.prototype,"show",void 0),Object(u["a"])([Object(d["d"])({default:"info"})],jo.prototype,"type",void 0),Object(u["a"])([Object(d["d"])({default:!1})],jo.prototype,"hasCancel",void 0),Object(u["a"])([Object(d["d"])({default:"Cancel"})],jo.prototype,"cancelText",void 0),Object(u["a"])([Object(d["d"])()],jo.prototype,"saveIsEnabled",void 0),Object(u["a"])([Object(d["d"])()],jo.prototype,"saveIsInProgress",void 0),Object(u["a"])([Object(d["d"])({default:!0})],jo.prototype,"hasDiscard",void 0),Object(u["a"])([Object(d["d"])()],jo.prototype,"discardIsEnabled",void 0),Object(u["a"])([Object(d["d"])()],jo.prototype,"discardIsInProgress",void 0),Object(u["a"])([Object(d["d"])({default:"Save"})],jo.prototype,"actionText",void 0),Object(u["a"])([Object(d["d"])({default:"Discard"})],jo.prototype,"discardText",void 0),jo=Object(u["a"])([Object(d["a"])({components:{}})],jo);var So=jo,Co=So,xo=(n("018f"),n("0798")),wo=n("99d9"),Po=n("169a"),_o=Object(ne["a"])(Co,Oo,ko,!1,null,null,null),Eo=_o.exports;Na()(_o,{VAlert:xo["a"],VBtn:$a["a"],VCard:pr["a"],VCardActions:wo["a"],VCardText:wo["b"],VCardTitle:wo["c"],VDialog:Po["a"]});var Io=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.deleteDialog=!1,e.defaultPreviewWidth=String(e.value.defaultPreviewWidth||""),e.minWidth=String(e.value.minWidth||""),e.maxWidth=String(e.value.maxWidth||""),e}return Object(s["a"])(n,[{key:"setDefaultPreviewWidth",value:function(e){this.defaultPreviewWidth="100%"===e?"100%":""}},{key:"enableEditing",value:function(){this.$emit("edit",this.value.id)}},{key:"deleteBreakpoint",value:function(){this.$emit("delete"),this.deleteDialog=!1}},{key:"cancel",value:function(){this.minWidth=this.value.minWidth,this.maxWidth=this.value.maxWidth,this.defaultPreviewWidth=this.value.defaultPreviewWidth,this.$emit("edit","")}},{key:"save",value:function(){var e=this,t=Object(Ue["a"])(this.value);t.minWidth=parseInt(String(this.minWidth))||void 0,t.maxWidth=parseInt(String(this.maxWidth))||void 0,t.defaultPreviewWidth="100%"===this.defaultPreviewWidth?"100%":parseInt(String(this.defaultPreviewWidth)),this.minWidth=t.minWidth?t.minWidth:"",this.maxWidth=t.maxWidth?t.maxWidth:"",this.defaultPreviewWidth=t.defaultPreviewWidth?t.defaultPreviewWidth:"",Object(q["pipe"])(Object(Ut["i"])(t),Object(K["fold"])((function(e){e.forEach((function(e){return ke["a"].log.message(e.msg)}))}),(function(t){e.$emit("input",t),e.$emit("edit","")})))}},{key:"breakpoints",get:function(){return p["b"].breakpoints}},{key:"previewWidthUnit",get:function(){return"px"}},{key:"mediaQueryString",get:function(){var e=parseInt(String(this.minWidth)),t=parseInt(String(this.maxWidth));return Object(Ut["h"])(e,t)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Io.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],Io.prototype,"isEditing",void 0),Io=Object(u["a"])([Object(d["a"])({components:{IconButton:Ai["a"],TextInput:mo["a"],DropdownInput:go["a"],NiceButton:yo["a"],ConfirmDialog:Eo},directives:{focus:{inserted:function(e){e.focus()}}}})],Io);var Do=Io,To=Do,Ao=(n("a54d"),Object(ne["a"])(To,fo,bo,!1,null,null,null)),Ro=Ao.exports;Na()(Ao,{VAlert:xo["a"],VBtn:$a["a"]});var Bo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"preferences-empty-state"},[e._t("default")],2)},Mo=[],Fo=(n("ee2e"),{}),Vo=Object(ne["a"])(Fo,Bo,Mo,!1,null,null,null),Lo=Vo.exports,Wo=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.editingBreakpointId="",e.showAddForm=!1,e.newBreakpointLabel="",e}return Object(s["a"])(n,[{key:"edit",value:function(e){this.editingBreakpointId=e,this.showAddForm=!1}},{key:"openAddBreakpointForm",value:function(){this.showAddForm=!0,this.editingBreakpointId=""}},{key:"toggleAddBreakpointForm",value:function(){this.showAddForm=!this.showAddForm}},{key:"addBreakpoint",value:function(){if(this.newBreakpointLabel){var e=this.newBreakpointLabel.toLowerCase().replace(/[- ]/g,"_"),t="custom_breakpoint_".concat(e);this.updateOrAddBreakpoint({id:t,label:this.newBreakpointLabel,minWidth:void 0,maxWidth:void 0,defaultPreviewWidth:"100%"})}}},{key:"deleteBreakpoint",value:function(e){var t=Object(Ue["a"])(this.value),n=t.findIndex((function(t){return t.id===e}));t.splice(n,1),this.$emit("input",t)}},{key:"updateOrAddBreakpoint",value:function(e){var t=Object(Ut["e"])(this.value,e);this.$emit("input",t),!0===this.showAddForm&&(this.showAddForm=!1),this.newBreakpointLabel=""}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Wo.prototype,"value",void 0),Wo=Object(u["a"])([Object(d["a"])({components:{Icon:Z["a"],EditBreakpoint:Ro,EmptyStatePreferences:Lo,TextInput:mo["a"],IconButton:Ai["a"]}})],Wo);var No=Wo,$o=No,Uo=(n("910a"),Object(ne["a"])($o,vo,ho,!1,null,null,null)),Ho=Uo.exports;Na()(Uo,{VBtn:$a["a"]});var zo=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"preferences-panel-topbar"},[n("div",{staticClass:"preferences-panel-heading"},[e._t("title")],2),e._t("aftertitle"),n("v-spacer")],2),n("div",{staticClass:"preferences-panel-content-area"},[e._t("content")],2),n("div",{staticClass:"preferences-bottom-panel"},[e.hideSaveButton?e._e():n("v-btn",{attrs:{loading:e.save.inProgress,disabled:e.save.disabled,color:"blue",dark:""},on:{click:e.save.function}},[e._v(e._s(e.save.text)+" ")])],1)])},Go=[],qo=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(a["a"]);Object(u["a"])([Object(d["d"])()],qo.prototype,"save",void 0),Object(u["a"])([Object(d["d"])({default:!1})],qo.prototype,"hideSaveButton",void 0),qo=Object(u["a"])([Object(d["a"])({})],qo);var Ko=qo,Xo=Ko,Yo=(n("46b5"),Object(ne["a"])(Xo,zo,Go,!1,null,null,null)),Qo=Yo.exports;Na()(Yo,{VBtn:$a["a"],VSpacer:ro["a"]});var Zo=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.internalValue=Object(Ue["a"])(e.value),e}return Object(s["a"])(n,[{key:"applyChanges",value:function(){this.$emit("input",this.internalValue)}},{key:"breakpointsEdited",value:function(e){this.internalValue=e}},{key:"unsavedChangesPresent",get:function(){return!Object(_["isEqual"])(Object(Ue["a"])(this.internalValue),Object(Ue["a"])(this.value))}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Zo.prototype,"value",void 0),Zo=Object(u["a"])([Object(d["a"])({components:{EditBreakpoints:Ho,PreferencesPanel:Qo}})],Zo);var Jo=Zo,es=Jo,ts=Object(ne["a"])(es,uo,po,!1,null,null,null),ns=ts.exports,as=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PreferencesPanel",{attrs:{save:{text:"Save Fonts",function:e.applyChanges,inProgress:e.saveInProgress,disabled:!e.unsavedChangesPresent||e.isFreeMode}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("Custom Fonts")]},proxy:!0},{key:"content",fn:function(){return[n("ProOnlyAlertBox",{staticClass:"mb-5",attrs:{options:{content:"Managing custom fonts is only available in Breakdance Pro",feature:"custom-fonts"}}}),e._l(e.internalValue,(function(t,a){return n("FontFamily",{key:t.family,attrs:{value:t,isOpen:a===e.openedFontIndex},on:{open:function(t){return e.openFont(t?a:-1)},delete:function(t){return e.deleteFontFamily(a)},input:function(t){return e.updateFontFamily(t,a)}}})})),e.internalValue.length?[n("div",{staticClass:"mt-12"})]:e._e(),n("h4",{staticClass:"mb-4 font-weight-medium"},[e._v("Add Font")]),e.showAddForm||0!=e.internalValue.length?e._e():n("EmptyStatePreferences",[n("p",[e._v(" Add a font family to Breakdance's font family dropdowns, and optionally upload associated .woff/.woff2 files. ")]),n("v-btn",{attrs:{outlined:"",disabled:e.isFreeMode},on:{click:e.toggleAddForm}},[e._v(" Add Font ")])],1),e.showAddForm?n("div",[n("v-form",{ref:"form",on:{submit:function(t){return t.preventDefault(),e.saveNewFontFamily(t)}},model:{value:e.validForm,callback:function(t){e.validForm=t},expression:"validForm"}},[n("div",{staticClass:"add-font-family-form-content-wrapper"},[n("div",{staticClass:"add-font-heading-box"},[n("h4",{staticClass:"add-font-heading"},[e._v("Add New Font")]),n("IconButton",{staticClass:"add-font-cloe-button",attrs:{icon:"CloseIcon",size:"18"},on:{click:e.toggleAddForm}})],1),n("TextInput",{attrs:{placeholder:"Custom font name, ie. Helvetica",outlined:"",dense:"",solo:"",flat:"","single-line":"",size:"md","validation-function-name":"validateAlphanumericHyphenUnderscore"},model:{value:e.fontFamily,callback:function(t){e.fontFamily=t},expression:"fontFamily"}}),n("v-btn",{attrs:{disabled:!e.fontFamily||!0!==e.validFontFamily,type:"submit",text:""}},[n("Icon",{staticClass:"mr-2",attrs:{icon:"PlusIcon"}}),e._v(" Add ")],1)],1)])],1):e._e(),e.internalValue.length>0&&!e.showAddForm?n("v-btn",{attrs:{outlined:"",disabled:e.isFreeMode},on:{click:e.toggleAddForm}},[e._v(" Add Font ")]):e._e(),n("h4",{staticClass:"my-4 font-weight-medium mt-12"},[e._v(" Use Fonts In External CSS ")]),e.showCssForm||0!=e.internalValue.length?e._e():n("EmptyStatePreferences",[n("p",[e._v(" Use hosted fonts from providers like Adobe Fonts. ")]),n("v-btn",{attrs:{outlined:"",disabled:e.isFreeMode},on:{click:e.toggleCssForm}},[e._v(" Add External CSS ")])],1),e.showCssForm?n("div",[n("v-form",{ref:"cssForm",on:{submit:function(t){return t.preventDefault(),e.saveCssUrl(t)}},model:{value:e.validCssForm,callback:function(t){e.validCssForm=t},expression:"validCssForm"}},[n("div",{staticClass:"add-font-family-form-content-wrapper mb-4"},[n("div",{staticClass:"add-font-heading-box"},[n("h4",{staticClass:"add-font-heading"},[e._v("CSS URL")]),n("IconButton",{staticClass:"add-font-cloe-button",attrs:{icon:"CloseIcon",size:"18"},on:{click:e.toggleCssForm}})],1),n("TextInput",{attrs:{rules:[function(e){return!!e||"Please enter a value"},function(t){return e.isValidUrl(t)||"Please enter a valid URL"}],placeholder:"URL to CSS file containing Font Face definitions",outlined:"",dense:"",solo:"",flat:"","single-line":"",size:"md"},model:{value:e.cssUrl,callback:function(t){e.cssUrl=t},expression:"cssUrl"}}),n("v-btn",{attrs:{disabled:e.saveInProgress,type:"submit",text:""}},[n("Icon",{staticClass:"mr-2",attrs:{icon:"PlusIcon"}}),e._v(" Add ")],1)],1)])],1):e._e(),e.internalValue.length>0&&!e.showCssForm?n("v-btn",{attrs:{outlined:"",disabled:e.isFreeMode},on:{click:e.toggleCssForm}},[e._v(" Add CSS URL ")]):e._e()]},proxy:!0}])})},is=[],rs=n("1d98");function os(e){return ss.apply(this,arguments)}function ss(){return ss=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(B["a"])({action:"breakdance_save_font_file",dataToPost:{file:t},decoder:rs["c"]});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),ss.apply(this,arguments)}function ls(e){return cs.apply(this,arguments)}function cs(){return cs=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(B["a"])({action:"breakdance_get_font_families_from_css_file",dataToPost:{cssUrl:t},decoder:rs["b"]});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),cs.apply(this,arguments)}function us(e){return ds.apply(this,arguments)}function ds(){return ds=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(B["a"])({action:"breakdance_save_font_families",dataToPost:{customFontFamilies:Object(U["a"])(t)},decoder:rs["b"]});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),ds.apply(this,arguments)}var ps=function(e){var t=Object(Ue["a"])(kt["b"].fonts),n=t.findIndex((function(t){return t.slug===e.slug}));-1===n?t.unshift(e):t[n]=e,kt["b"].setFonts(t)},vs=function(e){var t=Object(Ue["a"])(kt["b"].fonts),n=t.findIndex((function(t){return t.slug===e}));n>-1&&t.splice(n,1),kt["b"].setFonts(t)},hs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"custom-font-family"},[n("div",{staticClass:"custom-font-family-titlebar",on:{click:e.toggleFaces}},[n("div",{staticClass:"custom-font-family-title"},[e._v(" "+e._s(e.value.family)+" ")]),n("v-btn",{attrs:{icon:""},on:{click:function(t){return t.stopPropagation(),e.deleteFontFamily(t)}}},[n("Icon",{attrs:{icon:"TrashIcon"}})],1)],1),e.isOpen?n("div",{staticClass:"custom-font-family-edit"},[e.value.hasExternalCssUrl?e._e():n("div",[n("FontFaces",{attrs:{value:e.value.faces},on:{input:e.editFontFamily}}),n("TextField",{attrs:{placeholder:"CSS Fallback String (separate font families with commas)",value:e.value.fallbackString,size:"md"},on:{input:e.editFallbackString}}),e.fallbackStringHasBeenEdited?[n("v-alert",{staticClass:"mt-4",attrs:{dense:"",border:"left",text:"",type:"warning"}},[e._v(" Changes to the CSS fallback string will take effect after "),n("strong",[e._v("saving and refreshing")]),e._v(". ")])]:e._e()],2),e.value.hasExternalCssUrl?n("div",[n("span",{staticStyle:{"font-size":"var(--text-sm)","font-weight":"500"}},[e._v("Sourced from "+e._s(e.value.cssUrl))]),n("TextField",{staticClass:"mt-4",attrs:{placeholder:"CSS Fallback String (separate font families with commas)",value:e.value.fallbackString,size:"md"},on:{input:e.editFallbackString}})],1):e._e()]):e._e()])},ms=[],fs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"custom-font-family-font-faces"},[e._l(e.value,(function(t,a){return n("UpdateFontFace",{key:t.id,attrs:{value:t,existingFontFaces:e.existingFontFaces(a)},on:{input:function(t){return e.updateFontFace(t,a)},delete:function(t){return e.deleteFontFace(a)}}})})),n("FontFileUpload",{on:{save:e.newFontFileSuccessfullyUploaded}})],2)},bs=[],gs=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"custom-font-family-font-face"},[n("v-form",{ref:"form",model:{value:e.isFontFaceUnique,callback:function(t){e.isFontFaceUnique=t},expression:"isFontFaceUnique"}},[n("div",{staticClass:"custom-font-family-font-face-titlebar"},[n("div",{staticClass:"custom-font-family-font-face-titlebar-title"},e._l(e.value.files,(function(t){return n("div",{key:t.fileUrl,staticClass:"mr-3"},[e._v(" "+e._s(t.fileName)+" ")])})),0),n("v-btn",{attrs:{icon:""},on:{click:e.deleteFontFace}},[n("Icon",{attrs:{icon:"TrashIcon"}})],1)],1),n("div",{staticClass:"custom-font-family-font-face-controls"},[n("div",{staticClass:"custom-font-family-font-face-controls-control"},[n("v-select",{staticClass:"mr-4",attrs:{dense:"",outlined:"",value:e.value.weight,items:e.weights,rules:[e.validateWeight],label:"Font Weight"},on:{input:e.updateWeight}})],1),n("div",{staticClass:"custom-font-family-font-face-controls-control"},[n("v-radio-group",{staticClass:"pt-0 mt-0 mr-4",attrs:{value:e.value.style,rules:[e.validateStyle],row:"",dense:""},on:{change:e.updateStyle}},[n("v-radio",{attrs:{label:"Normal",value:"normal"}}),n("v-radio",{attrs:{label:"Italic",value:"italic"}})],1)],1)])])],1)},ys=[],Os=[{text:"100 (Thin)",value:100},{text:"200 (Extra Light)",value:200},{text:"300 (Light)",value:300},{text:"400 (Normal)",value:400},{text:"500 (Medium)",value:500},{text:"600 (Semi Bold)",value:600},{text:"700 (Bold)",value:700},{text:"800 (Extra Bold)",value:800},{text:"900 (Black)",value:900}],ks=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.isFontFaceUnique=!0,e}return Object(s["a"])(n,[{key:"validateWeight",value:function(e){var t,n=this;return e?!(null===(t=this.existingFontFaces.find((function(t){return t.weight===e&&t.style===n.value.style})))||void 0===t?void 0:t.files.find((function(e){return n.valueFormats.includes(e.format)})))||"This font weight already exists with this style, and format":"A weight is required"}},{key:"validateStyle",value:function(e){var t,n=this;return!(null===(t=this.existingFontFaces.find((function(t){return t.weight===n.value.weight&&t.style===e})))||void 0===t?void 0:t.files.find((function(e){return n.valueFormats.includes(e.format)})))||"This font style already exists with this weight, and format"}},{key:"revalidateOnValueChange",value:function(){this.form.validate()}},{key:"updateWeight",value:function(e){var t=Object(C["a"])({},this.value,{weight:e});this.$emit("input",t)}},{key:"updateStyle",value:function(e){var t=Object(C["a"])({},this.value,{style:e});this.$emit("input",t)}},{key:"deleteFontFace",value:function(){this.$emit("delete")}},{key:"valueFormats",get:function(){return this.value.files.map((function(e){return e.format}))}},{key:"weights",get:function(){return Os}},{key:"currentWeight",get:function(){var e=this;return Os.find((function(t){return t.value===e.value.weight}))}}]),n}(a["a"]);Object(u["a"])([Object(d["f"])()],ks.prototype,"form",void 0),Object(u["a"])([Object(d["d"])()],ks.prototype,"value",void 0),Object(u["a"])([Object(d["d"])({default:[]})],ks.prototype,"existingFontFaces",void 0),Object(u["a"])([Object(d["h"])("value")],ks.prototype,"revalidateOnValueChange",null),ks=Object(u["a"])([Object(d["a"])({components:{Icon:Z["a"]}})],ks);var js=ks,Ss=js,Cs=(n("5714"),n("4bd4")),xs=n("67b6"),ws=n("43a6"),Ps=n("b974"),_s=Object(ne["a"])(Ss,gs,ys,!1,null,null,null),Es=_s.exports;Na()(_s,{VBtn:$a["a"],VForm:Cs["a"],VRadio:xs["a"],VRadioGroup:ws["a"],VSelect:Ps["a"]});var Is=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-font-file-uploader"},[n("FileUpload",{attrs:{height:"150px",accept:".woff,.woff2",saveInProgress:e.saveInProgress},on:{input:e.handleFiles}},[e._v(" drag .woff or .woff2 files or "),n("span",{staticClass:"breakdance-font-file-uploader-choose-link"},[e._v("browse...")])])],1)},Ds=[],Ts=(n("ace4"),n("1276"),n("5cc6"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d8"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("6e2f")),As=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.saveInProgress=!1,e}return Object(s["a"])(n,[{key:"handleFiles",value:function(e){var t=this;Array.from(e).forEach((function(e){var n=new FileReader;n.onloadend=function(){var n=Object(f["a"])(regeneratorRuntime.mark((function n(a){var i,r,o,s,l;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:if(null===a||void 0===a?void 0:a.target){n.next=2;break}return n.abrupt("return");case 2:if(i=new Uint8Array(a.target.result).subarray(0,4),r="",i.forEach((function(e){return r+=e.toString(16)})),o=e.name.split(".").pop(),s="774f4646"===r&&"woff"===o,l="774f4632"===r&&"woff2"===o,s||l){n.next=11;break}return ke["a"].log.message('Only  ".woff" and ".woff2" files are supported'),n.abrupt("return");case 11:return t.saveInProgress=!0,n.t0=q["pipe"],n.next=15,os(e);case 15:n.t1=n.sent,n.t2=Object(K["fold"])((function(e){Object(Oi["e"])(e)}),(function(e){t.$emit("save",{fileUrl:e.fileUrl,format:s?"woff":"woff2",fileName:e.fileName})})),(0,n.t0)(n.t1,n.t2),t.saveInProgress=!1;case 19:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),n.readAsArrayBuffer(e)}))}}]),n}(a["a"]);As=Object(u["a"])([Object(d["a"])({components:{FileUpload:Ts["a"]}})],As);var Rs=As,Bs=Rs,Ms=(n("cc59"),Object(ne["a"])(Bs,Is,Ds,!1,null,null,null)),Fs=Ms.exports,Vs=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"newFontFileSuccessfullyUploaded",value:function(e){var t=Ws(e),n=[].concat(Object(k["a"])(this.value),[t]);this.$emit("input",n)}},{key:"updateFontFace",value:function(e,t){var n=Object(k["a"])(this.value),a=e.files.map((function(e){return e.format})),i=n.findIndex((function(t){return t.weight===e.weight&&t.style===e.style&&!t.files.find((function(e){return a.includes(e.format)}))}));-1===i?n[t]=e:(n[i].files=[].concat(Object(k["a"])(n[i].files),Object(k["a"])(e.files)),n.splice(t,1)),this.$emit("input",n)}},{key:"deleteFontFace",value:function(e){var t=Object(k["a"])(this.value);t.splice(e,1),this.$emit("input",t)}},{key:"existingFontFaces",value:function(e){return this.value.filter((function(t,n){return n!==e}))}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Vs.prototype,"value",void 0),Vs=Object(u["a"])([Object(d["a"])({components:{FontFileUpload:Fs,UpdateFontFace:Es}})],Vs);var Ls=Vs;function Ws(e){return{id:Object(He["a"])(),files:[e],style:"normal",weight:0}}var Ns=Ls,$s=(n("7256"),Object(ne["a"])(Ns,fs,bs,!1,null,null,null)),Us=$s.exports,Hs=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.fallbackStringHasBeenEdited=!1,e}return Object(s["a"])(n,[{key:"toggleFaces",value:function(){this.$emit("open",!this.isOpen)}},{key:"deleteFontFamily",value:function(){this.$emit("delete")}},{key:"editFallbackString",value:function(e){this.fallbackStringHasBeenEdited=!0,this.$emit("input",Object(C["a"])({},this.value,{fallbackString:e}))}},{key:"editFontFamily",value:function(e){this.$emit("input",Object(C["a"])({},this.value,{faces:e}))}},{key:"editCssUrl",value:function(e){this.$emit("input",Object(C["a"])({},this.value,{cssUrl:e}))}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Hs.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],Hs.prototype,"isOpen",void 0),Hs=Object(u["a"])([Object(d["a"])({components:{Icon:Z["a"],FontFaces:Us,TextField:mo["a"]}})],Hs);var zs=Hs,Gs=zs,qs=(n("ea7f"),Object(ne["a"])(Gs,hs,ms,!1,null,null,null)),Ks=qs.exports;Na()(qs,{VAlert:xo["a"],VBtn:$a["a"]});var Xs=n("6160"),Ys=n("4992"),Qs=n("9671"),Zs=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.internalValue=Object(Ue["a"])(e.value),e.fontFamily="",e.cssUrl="",e.validForm=!0,e.validCssForm=!0,e.saveInProgress=!1,e.openedFontIndex=-1,e.showAddForm=!1,e.showCssForm=!1,e}return Object(s["a"])(n,[{key:"toggleAddForm",value:function(){this.showAddForm=!this.showAddForm}},{key:"toggleCssForm",value:function(){this.showCssForm=!this.showCssForm}},{key:"applyChanges",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.saveInProgress=!0,e.t0=q["pipe"],e.next=4,us(this.internalValue);case 4:e.t1=e.sent,e.t2=Object(K["fold"])((function(e){Object(Oi["e"])(e)}),(function(e){e.forEach((function(e){var n=t.internalValue.findIndex((function(t){return t.id===e.fontId}));t.internalValue[n].cssUrl=e.cssUrl,t.internalValue[n].cssName=e.fontRegistrationData.cssName,ps(e.fontRegistrationData)})),t.$emit("input",t.internalValue)})),(0,e.t0)(e.t1,e.t2),this.saveInProgress=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"openFont",value:function(e){this.isFreeMode||(this.openedFontIndex=e)}},{key:"updateFontFamily",value:function(e,t){var n=Object(Ue["a"])(this.internalValue);n[t]=e,this.internalValue=n}},{key:"deleteFontFamily",value:function(e){if(!this.isFreeMode){var t=Object(Ue["a"])(this.internalValue);t.splice(e,1),vs(this.internalValue[e].id),this.internalValue=t}}},{key:"saveNewFontFamily",value:function(){this.form.validate()&&this.fontFamily&&(this.internalValue.push({id:"custom_font_"+this.fontFamily.toLowerCase().replace(/ /g,"_"),family:this.fontFamily,fallbackString:"",cssUrl:"",hasExternalCssUrl:!1,cssName:this.fontFamily,faces:[]}),this.openedFontIndex=this.internalValue.length-1,this.fontFamily="",this.form.reset(),this.showAddForm=!1)}},{key:"saveCssUrl",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.cssForm.validate()&&this.cssUrl){e.next=2;break}return e.abrupt("return");case 2:return this.saveInProgress=!0,e.t0=q["pipe"],e.next=6,ls(this.cssUrl);case 6:e.t1=e.sent,e.t2=Object(K["fold"])((function(e){Object(Oi["e"])(e)}),(function(e){e.forEach((function(e){var n=t.internalValue.findIndex((function(t){return t.id===e.fontId}))>-1;n||t.internalValue.unshift({id:e.fontId,family:e.fontRegistrationData.label,fallbackString:e.fontRegistrationData.fallbackString,cssUrl:e.cssUrl,hasExternalCssUrl:!0,cssName:e.fontRegistrationData.cssName,faces:[]})}))})),(0,e.t0)(e.t1,e.t2),this.saveInProgress=!1,this.cssUrl="",this.showCssForm=!1;case 12:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"isValidUrl",value:function(e){var t;try{t=new URL(e)}catch(n){return!1}return"http:"===t.protocol||"https:"===t.protocol}},{key:"unsavedChangesPresent",get:function(){return!Object(_["isEqual"])(Object(Ue["a"])(this.internalValue),Object(Ue["a"])(this.value))}},{key:"validFontFamily",get:function(){return Object(Xs["b"])(this.fontFamily)}},{key:"isFreeMode",get:function(){return"free"===kt["b"].subscriptionMode}}]),n}(a["a"]);Object(u["a"])([Object(d["f"])()],Zs.prototype,"form",void 0),Object(u["a"])([Object(d["f"])()],Zs.prototype,"cssForm",void 0),Object(u["a"])([Object(d["d"])()],Zs.prototype,"value",void 0),Zs=Object(u["a"])([Object(d["a"])({components:{ProOnlyAlertBox:Qs["a"],AlertBox:Ys["a"],FontFamily:Ks,PreferencesPanel:Qo,EmptyStatePreferences:Lo,Icon:Z["a"],TextInput:mo["a"],IconButton:Ai["a"]}})],Zs);var Js=Zs,el=Js,tl=(n("f358"),Object(ne["a"])(el,as,is,!1,null,null,null)),nl=tl.exports;Na()(tl,{VBtn:$a["a"],VForm:Cs["a"]});var al=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PreferencesPanel",{attrs:{"hide-save-button":!0},scopedSlots:e._u([{key:"title",fn:function(){return[e._v("UI Settings")]},proxy:!0},{key:"content",fn:function(){return[n("h4",{staticClass:"mb-4 font-weight-medium"},[e._v("Settings")]),n("div",{staticClass:"ui-setting"},[n("v-switch",{attrs:{"input-value":e.autoScrollEnabled,inset:"",label:"Auto-scroll to active element"},on:{change:e.setAutoScrollEnabled}})],1),n("div",{staticClass:"ui-setting"},[n("v-switch",{attrs:{"input-value":e.isScaledToFit,label:"Scale content to fit the screen (zoom)",inset:""},on:{change:e.setScaleToFit}})],1),n("div",{staticClass:"ui-setting"},[n("v-switch",{attrs:{"input-value":e.isDarkMode,label:"Dark Mode",inset:""},on:{change:e.toggleTheme}})],1),e.displayShowExperimentalElementsSetting?n("div",{staticClass:"ui-setting"},[n("v-switch",{attrs:{"input-value":e.showExperimentalElements,label:"Show Experimental Elements",inset:""},on:{change:e.setShowExperimentalElements}})],1):e._e(),n("div",{staticClass:"ui-setting"},[n("v-switch",{attrs:{"input-value":e.disableNoticeForEmptySSRElements,label:"Disable Message For Empty SSR Elements",inset:""},on:{change:e.setDisableNoticeForEmptySSRElements}})],1),n("div",{staticClass:"ui-setting"},[n("v-switch",{attrs:{"input-value":e.isShowingIdsInStructurePanel,label:"Show elements ID in the Structure Panel",inset:""},on:{change:e.setIsShowingIdsInStructurePanel}})],1),n("div",{staticClass:"mt-4"},[n("h4",{staticClass:"mb-4 font-weight-medium"},[e._v("Panel Positions")]),e._l(e.panelsState,(function(t,a){return[n("div",{key:a,staticClass:"d-flex align-center justify-space-between mb-3 panel-positions"},[n("div",{staticClass:"ui-panel-title"},[e._v(e._s(t.label))]),n("ButtonBarInput",{attrs:{value:t.value,items:e.panelPositionsAsItems,options:{mandatory:!0}},on:{input:function(n){return e.setPanelPosition(t.id,n)}}})],1)]})),n("div",{staticClass:"d-flex align-center justify-space-between mb-3 panel-positions"},[n("div",{staticClass:"ui-panel-title"},[e._v("Popout Position")]),n("ButtonBarInput",{attrs:{value:e.popoutPosition,items:e.popoutPositionItems,options:{mandatory:!0}},on:{input:e.setPopoutPosition}})],1),n("div",{staticClass:"d-flex justify-end mt-4"},[n("NiceButton",{attrs:{disabled:e.arePanelPositionsDefault},on:{click:e.resetUiPanelPositionsToDefault}},[e._v("Reset to defaults")])],1)],2)]},proxy:!0}])})},il=[],rl=n("ee5f"),ol=n("6eb3"),sl=n("34bc"),ll=n("63ea"),cl=n.n(ll),ul=n("b45a"),dl=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.panelsState=e.getPanelsInitialState(),e}return Object(s["a"])(n,[{key:"getPanelsInitialState",value:function(){var e=[{id:"add",label:"Add"},{id:"elementproperties",label:"Element Properties"},{id:"selectors",label:"Selectors"},{id:"globalSettings",label:"Global Settings"},{id:"structure",label:"Structure"},{id:"history",label:"History & Revisions"}];return e.map((function(e){return Object(C["a"])({},e,{value:Object(Q["c"])(e.id)})}))}},{key:"setPanelPosition",value:function(e,t){var n=this.panelsState.findIndex((function(t){return t.id===e}));this.panelsState[n].value=t,Object(Q["g"])(e,t),Object(Q["a"])(),Object(Q["e"])(e)}},{key:"resetUiPanelPositionsToDefault",value:function(){Object(Q["f"])(),this.panelsState=this.getPanelsInitialState()}},{key:"setScaleToFit",value:function(e){this.setUiSettings(Object(Ar["c"])(e))}},{key:"toggleTheme",value:function(){var e=Object(Ue["a"])(kt["h"].settings);e.theme=this.isDarkMode?"light":"dark",this.setUiSettings(e)}},{key:"setDisableNoticeForEmptySSRElements",value:function(e){var t=Object(Ue["a"])(kt["h"].settings);t.disableNoticeForEmptySSRElements=e,this.setUiSettings(t)}},{key:"setShowExperimentalElements",value:function(e){var t=Object(Ue["a"])(kt["h"].settings);t.showExperimentalElements=e,this.setUiSettings(t)}},{key:"setIsShowingIdsInStructurePanel",value:function(e){var t=Object(Ue["a"])(kt["h"].settings);t.showElementIdInStructurePanel=e,this.setUiSettings(t)}},{key:"setAutoScrollEnabled",value:function(e){var t=Object(Ue["a"])(kt["h"].settings);t.autoScrollEnabled=e,this.setUiSettings(t)}},{key:"setPopoutPosition",value:function(e){var t=Object(Ue["a"])(kt["h"].settings);t.popoutPosition=e,this.setUiSettings(t)}},{key:"setUiSettings",value:function(e){var t=Object(Me["a"])(Object(C["a"])({},Ar["d"],{},e));t&&Object(sl["b"])(Ar["a"],t),kt["h"].setSettings(e)}},{key:"arePanelPositionsDefault",get:function(){return cl()(Q["j"],this.panelsState.reduce((function(e,t){return e[t.id]=t.value,e}),{}))}},{key:"panelPositionsAsItems",get:function(){return["left","right"].map((function(e){return{text:e,value:e}}))}},{key:"popoutPositionItems",get:function(){return[{text:"Stacked",value:"STACKED"},{text:"Stacked (First Visible)",value:"STACKED_FIRST_VISIBLE"},{text:"Side By Side",value:"SIDE_BY_SIDE"}]}},{key:"displayShowExperimentalElementsSetting",get:function(){return Object(ul["a"])()}},{key:"isDarkMode",get:function(){return"dark"===kt["h"].settings.theme}},{key:"isScaledToFit",get:function(){return"SCALED_TO_FIT"===kt["h"].settings.scaleToFit}},{key:"isShowingIdsInStructurePanel",get:function(){return kt["h"].settings.showElementIdInStructurePanel}},{key:"disableNoticeForEmptySSRElements",get:function(){return kt["h"].settings.disableNoticeForEmptySSRElements}},{key:"showExperimentalElements",get:function(){return kt["h"].settings.showExperimentalElements}},{key:"autoScrollEnabled",get:function(){return kt["h"].settings.autoScrollEnabled}},{key:"popoutPosition",get:function(){return kt["h"].settings.popoutPosition}}]),n}(a["a"]);dl=Object(u["a"])([Object(d["a"])({components:{NiceButton:yo["a"],PreferencesPanel:Qo,ButtonBarInput:rl["a"],ToggleInput:ol["a"]}})],dl);var pl=dl,vl=pl,hl=(n("5283"),n("b73d")),ml=Object(ne["a"])(vl,al,il,!1,null,null,null),fl=ml.exports;Na()(ml,{VSwitch:hl["a"]});var bl=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.tab=0,e.currentTab=0,e.uiSettingsTab=0,e.fontFamiliesTab=1,e.customBreakpointsTab=2,e.saveInProgress=!1,e.hasUnsavedChanges=!1,e}return Object(s["a"])(n,[{key:"updateBreakpoints",value:function(e){var t=Object(Ue["a"])(this.preferences);t.customBreakpoints=e,this.save(t)}},{key:"updateCustomFontFamilies",value:function(e){var t=Object(Ue["a"])(this.preferences);t.customFonts=e,this.save(t)}},{key:"handleClickOutside",value:function(){if(this.checkForUnsavedChanges(),!this.hasUnsavedChanges)return this.$emit("update:dialog",!1);var e=confirm("Exit without saving?");return e?this.$emit("update:dialog",!1):this}},{key:"handleChangeTab",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.checkForUnsavedChanges(),!this.hasUnsavedChanges){e.next=8;break}if(t=confirm("Exit without saving?"),t){e.next=8;break}return e.next=6,this.$nextTick();case 6:return this.tab=this.currentTab,e.abrupt("return",!0);case 8:return this.currentTab=this.tab,e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.saveInProgress=!0,e.t0=q["pipe"],e.next=4,Oi["g"]("preferences",t);case 4:e.t1=e.sent,e.t2=Object(K["fold"])((function(e){Object(Oi["e"])(e)}),(function(){p["b"].setPreferences(t)})),(0,e.t0)(e.t1,e.t2),this.saveInProgress=!1,this.checkForUnsavedChanges();case 9:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"checkForUnsavedChanges",value:function(){return this.currentTab===this.fontFamiliesTab?(this.hasUnsavedChanges=this.customFontFamiliesPanel.unsavedChangesPresent,this.hasUnsavedChanges):this.currentTab===this.customBreakpointsTab?(this.hasUnsavedChanges=this.customBreakpointsPanel.unsavedChangesPresent,this.hasUnsavedChanges):this.hasUnsavedChanges=!1}},{key:"preferences",get:function(){return p["b"].preferences}},{key:"customBreakpoints",get:function(){return this.preferences.customBreakpoints}},{key:"customFontFamilies",get:function(){return p["b"].preferences.customFonts}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],bl.prototype,"open",void 0),Object(u["a"])([Object(d["f"])()],bl.prototype,"customFontFamiliesPanel",void 0),Object(u["a"])([Object(d["f"])()],bl.prototype,"customBreakpointsPanel",void 0),bl=Object(u["a"])([Object(d["a"])({components:{Icon:Z["a"],CustomUiSettings:fl,CustomFontFamilies:nl,CustomBreakpointsPanel:ns,Loading:ni["a"]}})],bl);var gl=bl,yl=gl,Ol=(n("1738"),n("490a")),kl=n("71a3"),jl=n("fe57"),Sl=Object(ne["a"])(yl,lo,co,!1,null,null,null),Cl=Sl.exports;Na()(Sl,{VCard:pr["a"],VDialog:Po["a"],VProgressCircular:Ol["a"],VTab:kl["a"],VTabs:jl["a"]});var xl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-dialog",{attrs:{"content-class":"keyboard-shortcuts-help-modal",value:e.open,"max-width":"850"},on:{input:function(t){return e.$emit("update:dialog",!1)}}},[n("v-card",{staticClass:"d-flex flex-column",attrs:{height:"100%"}},[n("v-card-text",[n("table",{staticClass:"styled-table"},[n("thead",[n("tr",[n("th",[e._v("Shortcut")]),n("th",[e._v("Description")])])]),n("tbody",[n("tr",[n("td",[e._v(e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_A)))]),n("td",[e._v("Open add elements panel")])]),n("tr",[n("td",[e._v(e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_B)))]),n("td",[e._v("Open design sets modal")])]),n("tr",[n("td",[e._v(e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_S)))]),n("td",[e._v("Save")])]),n("tr",[n("td",[e._v(e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_Z)))]),n("td",[e._v("Undo")])]),n("tr",[n("td",[e._v(" "+e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_SHIFT_Z))+" ")]),n("td",[e._v("Redo")])]),n("tr",[n("td",[e._v(e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_C)))]),n("td",[e._v("Copy the active element")])]),n("tr",[n("td",[e._v(e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_V)))]),n("td",[e._v("Paste copied element")])]),n("tr",[n("td",[e._v(e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_D)))]),n("td",[e._v("Duplicate the active element")])]),n("tr",[n("td",[e._v(e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.ESC)))]),n("td",[e._v("de-activate the active element "),n("b",[e._v("or")]),e._v(" close modal")])]),n("tr",[n("td",[e._v(" "+e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.BACKSPACE))),n("br"),e._v(" "+e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.DELETE))+" ")]),n("td",[e._v("Delete active element")])]),n("tr",[n("td",[e._v(" "+e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_OPTION_R))+" ")]),n("td",[e._v("Cycle to the next breakpoint")])]),n("tr",[n("td",[e._v(" "+e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_SHIFT_SLASH))),n("br"),e._v(e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_QUESTION))+" ")]),n("td",[e._v("Show keyboard shortcuts help modal")])]),n("tr",[n("td",[e._v(" "+e._s(e.getKeyboardShortcutValue(e.keyboardShortcuts.CMD_SHIFT_S))+" ")]),n("td",[e._v('Switch between "scale to fit" and "actual size" content')])])])])])],1)],1)],1)},wl=[],Pl=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"getKeyboardShortcutValue",value:function(e){var t=/(Mac|iPhone|iPod|iPad)/i.test(navigator.platform),n=e?e[0]:"";return t||2!=e.length||(n=e[1]),n.toUpperCase().split("+").join(" + ")}},{key:"keyboardShortcuts",get:function(){return Si}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Pl.prototype,"open",void 0),Pl=Object(u["a"])([Object(d["a"])({components:{}})],Pl);var _l=Pl,El=_l,Il=(n("5834"),Object(ne["a"])(El,xl,wl,!1,null,null,null)),Dl=Il.exports;Na()(Il,{VCard:pr["a"],VCardText:wo["b"],VDialog:Po["a"]});var Tl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio",style:e.styles},[n("ElementStudioWidthAdjustmentBar",{on:{change:e.adjustWidth}}),n("div",{staticClass:"element-studio-wrapper",attrs:{"data-test-id":"element-studio-wrapper"}},[(e.isProdEnv,n("div",{staticClass:"element-studio__beta-warning"},[e._m(0)])),e.activeItemType&&"element"!==e.activeItemType?e._e():n("ElementStudioElements",{attrs:{value:e.data,width:e.width},on:{input:e.updateData,width:e.updateWidth,active:e.updateActiveItemType}}),e.activeItemType&&"macro"!==e.activeItemType?e._e():n("ElementStudioMacros",{attrs:{value:e.data},on:{input:e.updateData,active:e.updateActiveItemType}}),e.activeItemType&&"preset"!==e.activeItemType?e._e():n("ElementStudioPresets",{attrs:{value:e.data},on:{input:e.updateData,active:e.updateActiveItemType}})],1)],1)},Al=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("b",[n("a",{attrs:{target:"_blank",href:"https://breakdance.com/documentation/developers/element-studio/"}},[e._v("Element Studio is in alpha. Use at your own risk.")])])}],Rl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("ElementStudioWidthAdjustmentBarAdjustmentHandle",{staticClass:"element-studio-width-adjustment-bar",attrs:{"on-dragging":e.dragging}})},Bl=[],Ml=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._g(e._b({staticClass:"breakdance-element-studio-adjustment-handle",on:{mousedown:e.dragStart}},"div",e.$attrs,!1),e.$listeners),[e._t("default")],2)},Fl=[],Vl=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.lastMouseX=0,e}return Object(s["a"])(n,[{key:"draggingFunc",value:function(e){e.preventDefault(),this.onDragging(e,this.lastMouseX),this.lastMouseX=e.clientX}},{key:"dragStart",value:function(e){e.preventDefault(),e.stopPropagation(),document.addEventListener("mousemove",this.draggingFunc),document.addEventListener("mouseup",this.dragEnd),this.lastMouseX=e.clientX,document.getElementById("iframe").style.pointerEvents="none"}},{key:"dragEnd",value:function(e){e.preventDefault(),document.removeEventListener("mousemove",this.draggingFunc),document.removeEventListener("mouseup",this.dragEnd),document.getElementById("iframe").style.pointerEvents="auto"}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Vl.prototype,"onDragging",void 0),Vl=Object(u["a"])([Object(d["a"])({})],Vl);var Ll=Vl,Wl=Ll,Nl=(n("44c1"),Object(ne["a"])(Wl,Ml,Fl,!1,null,null,null)),$l=Nl.exports,Ul=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"dragging",value:function(e,t){this.$emit("change",-1*(e.clientX-t))}}]),n}(a["a"]);Ul=Object(u["a"])([Object(d["a"])({components:{ElementStudioWidthAdjustmentBarAdjustmentHandle:$l}})],Ul);var Hl=Ul,zl=Hl,Gl=(n("967b"),Object(ne["a"])(zl,Rl,Bl,!1,null,null,null)),ql=Gl.exports,Kl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-top-bar d-flex"},[e.showNewItemDialog?n("ElementStudioSaveNewDialog",{attrs:{"save-locations":e.saveLocations,"item-type":e.itemType},on:{input:e.saveNewItem,close:function(t){e.showNewItemDialog=!1}}}):e._e(),n("div",{staticClass:"d-flex ml-4"},[e.value?e._e():[n("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[n("v-btn",e._g(e._b({attrs:{text:"",disabled:0===e.itemsSlug.length,"data-test-id":"element-studio-open-element"}},"v-btn",i,!1),a),[n("Icon",{staticClass:"mr-2",attrs:{icon:"OpenFolderIcon",size:"18"}}),e._v(" Open "+e._s(e.itemType)+" ")],1)]}}],null,!1,4260211493)},[n("v-list",{staticStyle:{"max-height":"500px",overflow:"auto"}},[n("v-text-field",{staticClass:"breakdance-element-studio-searchbar",staticStyle:{padding:"12px 16px","margin-bottom":"24px"},attrs:{label:"Search "+e.itemType+"s",flat:"",autofocus:""},model:{value:e.availableItemsSearch,callback:function(t){e.availableItemsSearch=t},expression:"availableItemsSearch"}}),e._l(e.availableItemsBySearch,(function(t,a){return n("v-list-item",{key:a,attrs:{dense:""},on:{click:function(n){return e.openItem(t)}}},[n("v-list-item-title",[e._v(" "+e._s(t)+" ")])],1)}))],2)],1),n("v-btn",{staticClass:"ml-2",attrs:{text:"","data-test-id":"element-studio-new-element-button"},on:{click:e.handleNewItem}},[n("Icon",{staticClass:"mr-2",attrs:{icon:"AddFileIcon"}}),e._v(" New "+e._s(e.itemType)+" ")],1)],e.value?[n("div",{staticClass:"d-flex align-center flex-wrap"},[n("div",{staticClass:"mr-2 element-studio-element-name"},[e._v(" "+e._s(e.itemName)+" ")]),n("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[n("div",[e.value.directoryPath&&e.canSaveOrIsAdvancedUser?n("NiceButton",e._b({staticClass:"ma-2",attrs:{loading:e.saveInProgress,"data-test-id":"element-studio-save-button",title:"Save element","left-icon":"SaveIcon"},on:{contextmenu:function(e){return e.preventDefault(),a.click(e)},click:function(t){e.saveOverwrite(!1)}}},"NiceButton",i,!1),[e._v(" Save ")]):!e.value.directoryPath||e.value.onlyForAdvancedUsers?n("NiceButton",e._g(e._b({staticClass:"ma-2",attrs:{loading:e.saveInProgress,"data-test-id":"element-studio-save-button",title:"Save element","left-icon":"SaveIcon"},on:{contextmenu:function(e){return e.preventDefault(),a.click(e)}}},"NiceButton",i,!1),a),[e._v(" Save ")]):e._e()],1)]}}],null,!1,4107073749)},[n("v-list",[e.value.directoryPath?[e.showAdvancedFeatures?n("v-list-item",{attrs:{dense:""},on:{click:function(t){return e.saveOverwrite(!0)}}},[n("v-list-item-title",[n("h3",[e._v("Save & Bypass Psalm...")])])],1):e.canSaveOrIsAdvancedUser?n("v-list-item",{attrs:{dense:""},on:{click:function(t){return e.saveOverwrite(!0)}}},[n("v-list-item-title",[n("h3",[e._v("Save")])])],1):e._e()]:e._e(),n("v-list-item",{attrs:{dense:""}},[n("v-list-item-title",[n("h3",[e._v("Save A Copy In...")])])],1),e._l(e.saveLocations,(function(t,a){return[e.showSaveLocation(t)?n("v-list-item",{key:a,attrs:{dense:""},on:{click:function(n){return e.saveAs(t)}}},[n("v-list-item-title",[e._v(" "+e._s(t.label)+"  ")])],1):e._e()]}))],2)],1),e.value&&e.value.directoryPath?n("v-dialog",{attrs:{"max-width":"360"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[n("NiceButton",e._g(e._b({staticClass:"mr-2",attrs:{elevation:"0","data-test-id":"element-studio-delete-button",title:"Delete element","left-icon":"TrashIcon"}},"NiceButton",i,!1),a),[e._v(" Delete ")])]}}],null,!1,2278590123),model:{value:e.deleteDialog,callback:function(t){e.deleteDialog=t},expression:"deleteDialog"}},[n("v-card",[n("v-card-title",{staticClass:"subtitle-1"},[e._v(' Delete "'+e._s(e.itemName)+'" '+e._s(e.itemType)+"? ")]),n("v-card-text",[e._v("This action cannot be undone.")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{text:""},on:{click:function(t){e.deleteDialog=!1}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.deleteItem}},[e._v(" Delete ")])],1)],1)],1):e._e(),n("v-btn",{attrs:{icon:"","data-test-id":"element-studio-close-element",title:"Close "+e.itemType},on:{click:e.closeItem}},[n("Icon",{attrs:{icon:"CloseSquareIcon"}})],1)],1)]:e._e()],2),n("v-spacer"),e.value?n("v-btn",{staticClass:"mr-1 element-studio-switch-mode",attrs:{icon:"",title:"Switch mode","data-test-id":"element-studio-topbar-switch-mode"},on:{click:e.switchMode}},[n("Icon",{attrs:{icon:"TableColumnIcon",size:"18"}})],1):e._e(),n("v-btn",{staticClass:"mr-4 element-studio-close-panel",attrs:{icon:"",title:"Close Element Studio Panel"},on:{click:e.closePanel}},[n("Icon",{attrs:{icon:"CloseCircleIcon",size:"18"}})],1),n("v-dialog",{attrs:{value:e.closeItemOrPanelDialog,persistent:"","max-width":"400"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v(" You have unsaved changes ")]),n("v-card-text",[e._v(" Please save your changes before closing this "+e._s(e.itemType)+", or discard your changes. ")]),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.discardChanges}},[e._v(" Discard my changes ")]),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){e.closeItemOrPanelDialog=!1}}},[e._v(" I'll save them ")])],1)],1)],1)],1)},Xl=[],Yl=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{value:!0,"max-width":"400",persistent:""}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v(" Create new "+e._s(e.itemType)+" ")]),n("v-card-text",{staticClass:"pb-1"},[n("div",[e._v("Please enter the "+e._s(e.itemType)+"'s name.")])]),n("v-card-text",[n("v-text-field",{attrs:{rules:[e.nameIsValid],label:"Name"},model:{value:e.newItemName,callback:function(t){e.newItemName=t},expression:"newItemName"}}),e.saveLocations.length?n("v-radio-group",{attrs:{mandatory:""},scopedSlots:e._u([{key:"label",fn:function(){return[e._v(" Select a saving location ")]},proxy:!0}]),model:{value:e.newItemSaveLocation,callback:function(t){e.newItemSaveLocation=t},expression:"newItemSaveLocation"}},[e._l(e.saveLocations,(function(t){return[e.showSaveLocation(t)?n("v-radio",{key:t.directoryPath,attrs:{label:t.label,value:t}}):e._e()]}))],2):[n("b",[e._v("Error: no registered saving locations. Using the "),n("a",{attrs:{href:"https://github.com/soflyy/breakdance-custom-elements"}},[e._v("Breakdance Custom Elements")]),e._v(" plugin will automatically register a saving location.")])]],2),n("v-card-actions",[n("v-spacer"),n("v-btn",{attrs:{color:"green darken-1",text:""},on:{click:e.closeNewItemDialog}},[e._v(" Cancel ")]),n("v-btn",{attrs:{color:"blue darken-1",text:"",disabled:!0!==e.nameIsValid(e.newItemName)||!e.newItemSaveLocation},on:{click:e.saveNewItem}},[e._v(" Create ")])],1)],1)],1)},Ql=[],Zl=n("1c93"),Jl=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.newItemDialog=!1,e.newItemName="",e.newItemSaveLocation=!1,e}return Object(s["a"])(n,[{key:"nameIsValid",value:function(e){return Object(Zl["f"])(e)}},{key:"showSaveLocation",value:function(e){return e.type===this.itemType&&(!e.onlyForAdvancedUsers||this.showAdvancedFeatures)}},{key:"saveNewItem",value:function(){this.$emit("input",Object(C["a"])({},this.newItemSaveLocation,{name:this.newItemName})),this.closeNewItemDialog()}},{key:"closeNewItemDialog",value:function(){this.newItemDialog=!1,this.newItemName="",this.newItemSaveLocation=!1,this.$emit("close")}},{key:"showAdvancedFeatures",get:function(){return Object(ul["a"])()||kt["b"].isElementStudioPowerUser}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Jl.prototype,"saveLocations",void 0),Object(u["a"])([Object(d["d"])()],Jl.prototype,"itemType",void 0),Jl=Object(u["a"])([Object(d["a"])({components:{Icon:Z["a"]}})],Jl);var ec=Jl,tc=ec,nc=Object(ne["a"])(tc,Yl,Ql,!1,null,null,null),ac=nc.exports;Na()(nc,{VBtn:$a["a"],VCard:pr["a"],VCardActions:wo["a"],VCardText:wo["b"],VCardTitle:wo["c"],VDialog:Po["a"],VRadio:xs["a"],VRadioGroup:ws["a"],VSpacer:ro["a"],VTextField:vr["a"]});var ic=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.deleteDialog=!1,e.availableItemsSearch="",e.closeItemOrPanelDialog=!1,e.showNewItemDialog=!1,e}return Object(s["a"])(n,[{key:"mounted",value:function(){var e=this;document.addEventListener("breakdanceSaveButtonClicked",this.mainAppSaveButtonClicked),this.warnIfUnsavedFunction=Object(xi["b"])((function(){return e.hasUnsavedChanges}))}},{key:"destroyed",value:function(){document.removeEventListener("breakdanceSaveButtonClicked",this.mainAppSaveButtonClicked)}},{key:"beforeDestroy",value:function(){Object(xi["a"])(this.warnIfUnsavedFunction)}},{key:"handleNewItem",value:function(){this.showNewItemDialog=!0}},{key:"discardChanges",value:function(){"panel"===this.closeItemOrPanelDialog&&p["g"].toggleElementStudio(),this.closeItemOrPanelDialog=!1,this.$emit("discardChanges")}},{key:"mainAppSaveButtonClicked",value:function(){this.hasUnsavedChanges&&confirm("Also save your Element Studio ".concat(this.itemType,"?"))&&this.saveOverwrite(!1)}},{key:"openItem",value:function(e){this.availableItemsSearch="",this.$emit("open",e)}},{key:"closeItem",value:function(){this.hasUnsavedChanges?this.closeItemOrPanelDialog="item":this.$emit("reset")}},{key:"closePanel",value:function(){this.hasUnsavedChanges?this.closeItemOrPanelDialog="panel":p["g"].toggleElementStudio()}},{key:"saveNewItem",value:function(e){this.$emit("saveNew",e)}},{key:"saveAs",value:function(e){this.$emit("saveAs",e)}},{key:"saveOverwrite",value:function(e){this.value&&this.value.directoryPath&&this.canSaveOrIsAdvancedUser&&this.$emit("saveOverride",e)}},{key:"showSaveLocation",value:function(e){return e.type===this.itemType&&(!e.onlyForAdvancedUsers||this.showAdvancedFeatures)}},{key:"deleteItem",value:function(){this.deleteDialog=!1,this.$emit("delete")}},{key:"switchMode",value:function(){this.$emit("switchMode")}},{key:"availableItemsBySearch",get:function(){var e=this;return this.itemsSlug.filter((function(t){return t.toLowerCase().includes(e.availableItemsSearch.toLowerCase().replace(/ /g,""))}))}},{key:"showAdvancedFeatures",get:function(){return Object(ul["a"])()||p["b"].isElementStudioPowerUser}},{key:"canSaveOrIsAdvancedUser",get:function(){return this.value&&(!this.value.onlyForAdvancedUsers||this.showAdvancedFeatures)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],ic.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],ic.prototype,"saveLocations",void 0),Object(u["a"])([Object(d["d"])()],ic.prototype,"hasUnsavedChanges",void 0),Object(u["a"])([Object(d["d"])()],ic.prototype,"itemType",void 0),Object(u["a"])([Object(d["d"])()],ic.prototype,"itemName",void 0),Object(u["a"])([Object(d["d"])()],ic.prototype,"saveInProgress",void 0),Object(u["a"])([Object(d["d"])()],ic.prototype,"itemsSlug",void 0),ic=Object(u["a"])([Object(d["a"])({components:{ElementStudioSaveNewDialog:ac,NiceButton:yo["a"],Icon:Z["a"],Dropdown:Ri["a"]}})],ic);var rc=ic,oc=rc,sc=(n("4e9a"),Object(ne["a"])(oc,Kl,Xl,!1,null,null,null)),lc=sc.exports;Na()(sc,{VBtn:$a["a"],VCard:pr["a"],VCardActions:wo["a"],VCardText:wo["b"],VCardTitle:wo["c"],VDialog:Po["a"],VList:Vi["a"],VListItem:Li["a"],VListItemTitle:Wi["c"],VSpacer:ro["a"],VTextField:vr["a"]});var cc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"element-studio-wrapper":e.currentlyEditingElement}},[n("ElementStudioTopbar",{attrs:{"save-locations":e.value.saveLocations,"items-slug":e.elementsSlug,value:e.currentlyEditingElement,itemType:"element","item-name":e.currentlyEditingElement?e.currentlyEditingElement.element.name:"",hasUnsavedChanges:e.hasUnsavedChanges,saveInProgress:e.saveInProgress},on:{open:e.openElement,switchMode:e.switchMode,delete:e.deleteElement,saveOverride:e.saveOverride,saveAs:e.saveAs,saveNew:e.saveNewItem,discardChanges:e.discardChanges,reset:e.resetCurrentlyEditingElement}}),e.currentlyEditingElement?n("div",{staticClass:"element-studio-content"},["split-vertical"===e.mode?[n("div",{staticClass:"panel-50 panel-50-top-panel vscroll-scroll"},[n("ElementStudioTabsAndPanels",{attrs:{available:e.value,element:e.currentlyEditingElement.element},on:{input:e.updateElement,update:e.updateData}})],1),n("div",{staticClass:"panel-50 vscroll-scroll"},[n("ElementStudioTabsAndPanels",{attrs:{available:e.value,element:e.currentlyEditingElement.element,type:"secondary"},on:{input:e.updateElement,update:e.updateData}})],1)]:"split-horizontal"===e.mode?[n("div",{staticClass:"d-flex flex-row",staticStyle:{height:"100%"}},[n("div",{staticClass:"panel-50-h panel-50-h-first-panel vscroll-scroll"},[n("ElementStudioTabsAndPanels",{attrs:{available:e.value,element:e.currentlyEditingElement.element},on:{input:e.updateElement,update:e.updateData}})],1),n("div",{staticClass:"panel-50-h vscroll-scroll"},[n("ElementStudioTabsAndPanels",{attrs:{available:e.value,element:e.currentlyEditingElement.element,type:"secondary"},on:{input:e.updateElement,update:e.updateData}})],1)])]:[n("div",{staticClass:"panel-100 vscroll-scroll"},[n("ElementStudioTabsAndPanels",{attrs:{available:e.value,element:e.currentlyEditingElement.element},on:{input:e.updateElement,update:e.updateData}})],1)]],2):e._e()],1)},uc=[],dc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-tabs-panel d-flex flex-column",staticStyle:{height:"100%"}},[e.showNewMacroDialog?n("ElementStudioSaveNewDialog",{attrs:{"save-locations":e.available.saveLocations,"item-type":"macro"},on:{input:e.saveNewMacro,close:function(t){e.showNewMacroDialog=!1}}}):e._e(),n("Dropdown",{attrs:{value:!!e.contextMenu,absolute:!0,"position-x":e.contextMenu.x,"position-y":e.contextMenu.y,transition:!1},on:{input:function(t){e.contextMenu=!1}},scopedSlots:e._u([{key:"activator",fn:function(){return[e._t("default")]},proxy:!0}],null,!0)},[n("v-list",{attrs:{dense:""}},[n("v-list-item",{attrs:{link:!0},nativeOn:{click:function(t){return e.handleCreateMacro(t)}}},[n("v-list-item-title",[e._v("Make into a macro")])],1)],1)],1),n("div",{staticClass:"element-studio-tabs"},[n("v-tabs",{attrs:{value:e.tab},on:{change:e.updateTab}},[n("v-tab",{attrs:{href:"#content",title:"Content","data-test-id":"element-studio-content-tab"}},[n("Icon",{attrs:{icon:"PenIcon",size:"16"}})],1),n("v-tab",{attrs:{href:"#design",title:"Design","data-test-id":"element-studio-design-tab"}},[n("Icon",{attrs:{icon:"PaletteIcon",size:"16"}})],1),n("v-tab",{attrs:{href:"#html",title:"HTML","data-test-id":"element-studio-html-tab"}},[n("Icon",{attrs:{icon:"CodeIcon",size:"16"}})],1),n("v-tab",{attrs:{href:"#css",title:"CSS","data-test-id":"element-studio-css-tab"}},[n("Icon",{attrs:{icon:"Css3Icon",size:"16"}})],1),n("v-tab",{attrs:{href:"#defaultCss",title:"Default CSS","data-test-id":"element-studio-default-css-tab"}},[n("Icon",{attrs:{icon:"CssIcon",size:"16"}})],1),e.nestingRuleTypeIsContainer?n("v-tab",{attrs:{href:"#default-elements",title:"Default Elements","data-test-id":"element-studio-default-elements"}},[n("Icon",{attrs:{icon:"BoxIcon",size:"16"}})],1):e._e(),n("v-tab",{attrs:{href:"#attributes",title:"HTML Attributes","data-test-id":"element-studio-attributes"}},[n("Icon",{attrs:{icon:"AttributesIcon",size:"16"}})],1),n("v-tab",{attrs:{href:"#prop-paths",title:"Property Paths","data-test-id":"element-studio-property-paths"}},[n("Icon",{attrs:{icon:"SlidersSimpleIcon",size:"16"}})],1),n("v-tab",{attrs:{href:"#dependencies",title:"Dependencies","data-test-id":"element-studio-dependencies-tab"}},[n("Icon",{attrs:{icon:"DownloadFileIcon",size:"16"}})],1),n("v-tab",{attrs:{href:"#actions",title:"Actions","data-test-id":"element-studio-actions-tab"}},[n("Icon",{attrs:{icon:"ActionsIcon",size:"16"}})],1),n("v-tab",{attrs:{href:"#settings",title:"Settings","data-test-id":"element-studio-settings-tab"}},[n("Icon",{attrs:{icon:"CogsIcon",size:"16"}})],1)],1)],1),n("div",{staticClass:"element-studio-tabs-items vscroll-scroll"},["settings"===e.tab?n("div",[n("v-list-item",{attrs:{"two-line":""}},[n("v-list-item-content",[n("v-list-item-title",{staticClass:"font-weight-bold"},[e._v("Slug")]),n("v-list-item-subtitle",[e._v(" "+e._s(e.element.slug))])],1)],1),n("div",{staticClass:"px-4 pt-2"},[n("div",{staticClass:"d-flex align-center"},[n("v-text-field",{attrs:{label:"Name",value:e.element.name,"data-test-id":"element-studio-name-input",rules:[e.isValidItemName]},on:{input:e.updateElementName}}),e.nameHasChanged?n("v-btn",{staticClass:"ml-3",attrs:{outlined:"",small:""},on:{click:e.updateSlug}},[e._v(" Update slug ")]):e._e()],1),n("v-text-field",{staticClass:"mb-4",attrs:{label:"Class Name",placeholder:"the_best_class",value:e.element.className||"","data-test-id":"element-studio-classname-input","persistent-hint":"",hint:"Updating the Class Name will make the previous class obsolete. You'll need to update your CSS",rules:[e.htmlClassNameRule]},on:{input:e.updateClassName}}),n("v-select",{attrs:{items:e.elementCategories,label:"Category",value:e.cleanElement.category},on:{input:function(t){return e.updateElementValue("category",t)}}}),n("div",{staticClass:"breakdance-element-studio-element-badges"},[n("v-autocomplete",{attrs:{clearable:"",items:e.badgeColors,value:!!e.cleanElement.badge&&e.cleanElement.badge.backgroundColor,label:"Badge Background"},on:{input:function(t){return e.updateElementValue("badge.backgroundColor",t)}}}),n("v-autocomplete",{attrs:{clearable:"",items:e.badgeColors,value:!!e.cleanElement.badge&&e.cleanElement.badge.textColor,label:"Badge Text"},on:{input:function(t){return e.updateElementValue("badge.textColor",t)}}}),n("v-text-field",{attrs:{label:"Badge Label",value:!!e.cleanElement.badge&&e.cleanElement.badge.label},on:{input:function(t){return e.updateElementValue("badge.label",t)}}}),n("v-btn",{attrs:{outlined:"",small:""},on:{click:function(t){return e.updateElementValue("badge",!1)}}},[e._v("clear badge")])],1),n("h3",[e._v("HTML Tag options")]),n("div",{staticClass:"breakdance-element-studio__html-tags"},[n("v-autocomplete",{attrs:{label:"Default Tag",value:e.cleanElement.htmlTag.default,hint:"Tag of the root element",clearable:"",items:e.defaultTag},on:{input:function(t){return e.updateElementValue("htmlTag.default",t)}}}),n("v-autocomplete",{attrs:{label:"Tag Options",value:e.cleanElement.htmlTag.options,items:e.htmlTags,multiple:!0,clearable:""},on:{input:function(t){return e.updateElementValue("htmlTag.options",t)}}}),n("v-autocomplete",{attrs:{label:"Get the Tag from a Control's path",value:e.cleanElement.htmlTag.pathToControl||"",items:e.pathsToAllControls,hint:"This will disable the 'Settings -> Html -> Tag' control",clearable:""},on:{input:function(t){return e.updateElementValue("htmlTag.pathToControl",t)}}})],1),n("h3",[e._v("UI Icon")]),n("div",{staticClass:"mb-5 d-flex align-center"},[e.showAdvancedFeatures?[n("ToggleInput",{attrs:{value:e.useLocalIcon},on:{input:e.updateUseLocalIcon}}),n("span",{staticClass:"mr-4"},[e._v("Local")])]:e._e(),n("div",{staticClass:"d-flex align-center"},[n("ElementIcon",{staticClass:"mr-2",attrs:{icon:e.cleanElement.uiIcon||"SquareIcon",size:"16"}}),e.useLocalIcon&&e.showAdvancedFeatures?n("ElementStudioIconsAutocomplete",{attrs:{value:e.cleanElement.uiIcon||"SquareIcon"},on:{input:e.updateUiIcon}}):n("v-text-field",{attrs:{label:"SVG code for icon",value:e.cleanElement.uiIcon,"data-test-id":"element-studio-ui-icon-input"},on:{input:e.updateUiIcon}})],1)],2),n("v-text-field",{attrs:{label:"UI Order (number)",value:e.cleanElement.order},on:{input:e.updateUiOrder}}),n("h3",[e._v("Nesting rules")]),n("v-autocomplete",{attrs:{items:e.containerRestrictedElements,label:"Element to be a direct child of",hint:"This element will only be allowed as a direct child of the selected elements","persistent-hint":"",value:e.cleanElement.nestingRule.restrictedToBeADirectChildOf,multiple:""},on:{input:function(t){e.updateElementValue("nestingRule.restrictedToBeADirectChildOf",Array.isArray(t)&&0===t.length?void 0:t)}}}),n("v-autocomplete",{staticClass:"mt-4",attrs:{items:e.elementsThisElementIsAllowedToBeInsideOf,label:"Element to be a descendant of",hint:"This element will only be allowed inside the selected elements","persistent-hint":"",value:e.cleanElement.nestingRule.restrictedToBeADescendantOf,multiple:""},on:{input:function(t){e.updateElementValue("nestingRule.restrictedToBeADescendantOf",Array.isArray(t)&&0===t.length?void 0:t)}}}),n("v-autocomplete",{staticClass:"mt-4",attrs:{items:e.allElementSlugs,label:"Disallow if others are present",hint:"This element will not be allowed on a page if one of the following elements is already present on the page","persistent-hint":"",value:e.cleanElement.nestingRule.notAllowedWhenNodeTypeIsPresentInTree,multiple:""},on:{input:function(t){e.updateElementValue("nestingRule.notAllowedWhenNodeTypeIsPresentInTree",Array.isArray(t)&&0===t.length?void 0:t)}}}),n("h3",[e._v("Misc options")]),n("v-select",{attrs:{items:e.elementType,label:"Element Type",value:e.cleanElement.nestingRule.type,hint:"Only change to create complex elements","persistent-hint":""},on:{input:function(t){return e.updateElementValue("nestingRule.type",t)}}}),n("v-combobox",{staticClass:"mt-3",attrs:{label:"Required plugins",items:e.requiredPluginItems,"hide-details":"",value:e.cleanElement.settings?e.cleanElement.settings.requiredPlugins:[],multiple:!0},on:{input:function(t){return e.updateElementValue("settings.requiredPlugins",t&&t.length?t:void 0)}}}),n("v-checkbox",{attrs:{label:"Is Pro Only","input-value":e.cleanElement.settings&&e.cleanElement.settings.proOnly,"hide-details":""},on:{change:function(t){return e.updateElementValue("settings.proOnly",!!t)}}}),n("v-checkbox",{attrs:{label:"Element depends on global scripts to work","input-value":e.cleanElement.settings&&e.cleanElement.settings.dependsOnGlobalScripts,"hide-details":""},on:{change:function(t){return e.updateElementValue("settings.dependsOnGlobalScripts",!!t)}}}),n("v-checkbox",{attrs:{label:"Experimental Element?","input-value":e.cleanElement.experimental,"hide-details":""},on:{change:function(t){return e.updateElementValue("experimental",!!t)}}}),n("v-checkbox",{attrs:{label:"Bypass Pointer Events",hint:"Use this if clicking on the element doesn't active it, but instead clicks something inside of it","persistent-hint":"","input-value":e.cleanElement.settings&&e.cleanElement.settings.bypassPointerEvents},on:{change:function(t){return e.updateElementValue("settings.bypassPointerEvents",!!t)}}}),n("v-checkbox",{attrs:{label:"Share props with SSR children",hint:"Use this if you need to access the properties data from this element in a child SSR element.","persistent-hint":"","input-value":e.cleanElement.settings&&e.cleanElement.settings.sharePropsWithSSRChildren},on:{change:function(t){return e.updateElementValue("settings.shareStateWithChildSSR",!!t)}}}),n("div",{staticClass:"pt-4"},[n("h3",[e._v("Add panel rules")]),n("v-checkbox",{attrs:{label:"Always hide element from the Add Panel","input-value":e.cleanElement.addPanelRules&&e.cleanElement.addPanelRules.alwaysHide,"hide-details":""},on:{change:function(t){return e.updateElementValue("addPanelRules.alwaysHide",!!t)}}}),e.cleanElement.addPanelRules&&e.cleanElement.addPanelRules.alwaysHide?e._e():[n("v-combobox",{attrs:{label:"Allowed post type",items:["breakdance_template"],"hide-details":"",value:e.cleanElement.addPanelRules?e.cleanElement.addPanelRules.allowedPostTypes:[],multiple:!0},on:{input:function(t){return e.updateElementValue("addPanelRules.allowedPostTypes",t&&t.length?t:void 0)}}})]],2),n("ElementStudioDefaultProperties",{staticClass:"my-8",attrs:{elementSlug:e.cleanElement.slug,value:e.cleanElement.defaultProperties},on:{input:function(t){return e.updateElementValue("defaultProperties",t)}}})],1)],1):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:"design"===e.tab,expression:"tab === 'design'"}]},[n("ElementStudioControls",{attrs:{value:e.cleanElement.controls,section:"design"}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:"content"===e.tab,expression:"tab === 'content'"}]},[n("ElementStudioControls",{attrs:{value:e.cleanElement.controls,section:"content"}})],1),"html"===e.tab?n("div",[n("CodeInput",{attrs:{value:e.cleanElement.template,tags:e.tags,"twig-variables":e.pathsToAllControls,language:"html"},on:{input:function(t){return e.updateElementValue("template",t||"")}}})],1):e._e(),"css"===e.tab?n("div",[n("CodeInput",{attrs:{value:e.cleanElement.cssTemplate,tags:e.tags,"twig-variables":e.pathsToAllControls,language:"css"},on:{input:function(t){return e.updateElementValue("cssTemplate",t||"")}}})],1):e._e(),"defaultCss"===e.tab?n("div",[n("div",{staticClass:"px-4 py-2"},[e._v(" Element's class: "),n("span",{staticClass:"font-weight-bold mr-2"},[e._v(e._s(e.elementClass))]),n("CopyButton",{attrs:{"value-to-copy":".breakdance "+e.elementClass}})],1),n("CodeInput",{attrs:{value:e.cleanElement.defaultCss,language:"css"},on:{input:function(t){return e.updateElementValue("defaultCss",t||"")}}})],1):e._e(),e.nestingRuleTypeIsContainer?n("div",{directives:[{name:"show",rawName:"v-show",value:"default-elements"===e.tab,expression:"tab === 'default-elements'"}],staticClass:"studio-default-elements-panel"},[n("ElementStudioDefaultElements",{attrs:{value:e.cleanElement.defaultChildren,"parent-element-slug":e.cleanElement.slug},on:{input:function(t){return e.updateElementValue("defaultChildren",t||"")}}})],1):e._e(),n("div",{directives:[{name:"show",rawName:"v-show",value:"attributes"===e.tab,expression:"tab === 'attributes'"}],staticClass:"studio-dependencies-panel"},[e._v(" Attributes are added to the container of the element "),n("ElementStudioAttributes",{attrs:{value:e.cleanElement.attributes},on:{input:function(t){return e.updateElementValue("attributes",t)}}}),n("br"),e._v(" Classes are added to the container of the element "),n("ElementStudioAdditionalClasses",{attrs:{value:e.cleanElement.additionalClasses||[]},on:{input:function(t){return e.updateElementValue("additionalClasses",t)}}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:"prop-paths"===e.tab,expression:"tab === 'prop-paths'"}]},[n("ElementStudioManagePropertyPaths",{attrs:{value:e.cleanElement}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:"dependencies"===e.tab,expression:"tab === 'dependencies'"}],staticClass:"studio-dependencies-panel"},[n("ElementStudioDependencies",{attrs:{value:e.cleanElement.dependencies}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:"actions"===e.tab,expression:"tab === 'actions'"}]},[n("ElementStudioAction",{attrs:{"action-key":"onPropertyChange",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs after one of this element's property changes (a value in a control) ")]},proxy:!0},{key:"dependency-description-title",fn:function(){return[e._v(" Based on the "),n("b",[e._v("control's path")]),e._v(". ")]},proxy:!0},{key:"dependency-description",fn:function(){return[n("code",[e._v("design.background.color")]),e._v(": action will only run for that path. "),n("code",[e._v("design.background.*")]),e._v(": action will run for any control below 'background' ")]},proxy:!0}])}),n("ElementStudioAction",{attrs:{"action-key":"onMovedElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs after this element is moved in the canvas ")]},proxy:!0},{key:"dependency-description-title",fn:function(){return[e._v(" Based on the "),n("b",[e._v("element's and moved-on element's type ")]),e._v(". ")]},proxy:!0},{key:"dependency-description",fn:function(){return[n("code",[e._v("EssentialElements\\Text")]),e._v(": action will only run if element being moved is of that type, "),n("b",[e._v("OR")]),e._v(" if the element was moved onto an element with that type. ")]},proxy:!0}])}),n("ElementStudioAction",{attrs:{"action-key":"onAfterDeletedElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs AFTER this element was deleted "),n("br")]},proxy:!0},{key:"dependency-description-title",fn:function(){return[e._v(" Based on the "),n("b",[e._v("deleted element's parent type")]),e._v(". ")]},proxy:!0},{key:"dependency-description",fn:function(){return[n("code",[e._v("EssentialElements\\Section")]),e._v(": action will only run if the deleted element was inside a Section element. ")]},proxy:!0}])}),n("ElementStudioAction",{attrs:{"action-key":"onBeforeDeletingElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState,"with-dependencies":!1},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs BEFORE this element is deleted ")]},proxy:!0}])}),n("ElementStudioAction",{attrs:{"action-key":"onMountedElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState,"with-dependencies":!1},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs after this element renders in the canvas ")]},proxy:!0}])}),n("ElementStudioAction",{attrs:{"action-key":"onCreatedElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState,"with-dependencies":!1},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs after adding this element to the canvas for the first time ")]},proxy:!0}])}),n("ElementStudioAction",{attrs:{"action-key":"onActivatedElement",value:e.cleanElement.actions,"accordion-state":e.actionsAccordionState,"with-dependencies":!1},on:{toggle:e.toggleActionAccordion},scopedSlots:e._u([{key:"action-description",fn:function(){return[e._v(" Runs after the element is activated (selected) ")]},proxy:!0}])})],1)])],1)},pc=[],vc=(n("07ac"),n("3835")),hc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("draggable",{attrs:{value:e.value[this.sectionName]},on:{input:e.handleDrag}},e._l(e.value[this.sectionName],(function(t,a){return n("ControlSectionOrControl",{key:t.slug,attrs:{value:t,index:a,path:e.sectionName+"["+a+"]",parentPath:e.sectionName,twigParentPath:e.section}})})),1),n("div",{staticClass:"text-center py-4"},[n("v-btn",{attrs:{tile:"",text:"","data-test-id":"element-studio-add-control-section"},on:{click:e.addSection}},[e._v(" Add Control Section ")]),n("v-btn",{attrs:{tile:"",text:""},on:{click:e.addPreset}},[e._v(" Add Preset ")]),e.canPaste?n("v-btn",{attrs:{tile:"",text:""},on:{click:e.handlePaste}},[e._v(" Paste ")]):e._e()],1)],1)},mc=[],fc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e.showNewPresetDialog?n("ElementStudioSaveNewDialog",{attrs:{"item-type":"preset","save-locations":e.elementStudioData.saveLocations},on:{input:e.saveNewPreset,close:function(t){e.showNewPresetDialog=!1}}}):e._e(),n("div",{class:e.classList},[n("Accordion",{attrs:{expanded:e.accordionState[e.index],disableToggle:e.isPresetSection},on:{toggle:function(t){return e.toggleAccordion(e.index)}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"d-flex flex-row justify-space-between align-center",attrs:{"data-test-id":"element-studio-control-accordion"}},["section"!==e.value.options.type||e.isPresetSection?n("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1,"max-height":"450"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[n("v-btn",e._g(e._b({staticClass:"mr-2",attrs:{color:"black",small:"",icon:"",title:"Open Twig Code Helper"}},"v-btn",i,!1),a),[n("Icon",{attrs:{icon:"BracketsIcon"}})],1)]}}],null,!1,1714806599),model:{value:e.codeHelpOpen,callback:function(t){e.codeHelpOpen=t},expression:"codeHelpOpen"}},[n("v-card",{staticClass:"element-studio-poppy-card",staticStyle:{width:"400px",height:"300px"}},[n("TwigCodeHelper",{key:e.keyToRerenderCodeHelp,attrs:{control:e.value,twigParentPath:e.twigParentPath,inRepeater:e.isParentARepeater},on:{close:function(t){e.codeHelpOpen=!1}}})],1)],1):e._e(),n("input",{staticClass:"element-studio-control-label-input",attrs:{placeholder:"Label"},domProps:{value:e.value.label},on:{click:function(e){e.stopPropagation()},focusout:e.updateLabelAndSlugOnFocusOut}}),e.isPresetSection?n("v-autocomplete",{staticClass:"element-studio-control-type-dropdown mr-2",attrs:{value:e.presetSectionSlug,items:e.availablePresetSections,dense:"","hide-details":"","data-test-id":"element-studio-control-type-dropdown"},on:{input:e.updatePresetSectionSlug}}):e._e(),"section"!==e.value.options.type?n("v-autocomplete",{staticClass:"element-studio-control-type-dropdown mr-2",attrs:{value:e.value.options.type,items:e.controlTypes,dense:"","hide-details":"","data-test-id":"element-studio-control-type-dropdown"},on:{input:e.updateControlType}}):e._e(),e.isSection?e._e():n("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1,"max-height":"450"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[n("v-btn",e._g(e._b({attrs:{color:"black",small:"",icon:"",title:"Open options","data-test-id":"element-studio-control-open-options"}},"v-btn",i,!1),a),[n("Icon",{attrs:{icon:"SlidersIcon",size:"12"}})],1)]}}],null,!1,1074570844)},[n("v-card",{staticClass:"element-studio-poppy-card",attrs:{"data-test-id":"element-studio-control-options-card"}},[n("v-checkbox",{staticClass:"mb-3 mt-2",attrs:{label:"Make this control's value available in all breakpoints","input-value":!!e.shouldControlValueBeAddedInAllBreakpoints,"hide-details":""},on:{change:e.updatePropertyPathsToWhitelistInFlatProps}}),e.autofocusSupported?n("v-switch",{attrs:{label:"Autofocus",value:e.value.options.autofocus},on:{change:function(t){return e.updateOptions(t,"autofocus")}}}):e._e(),e.hasSsr?n("v-checkbox",{staticClass:"mb-3 mt-2",attrs:{label:"Make the element SSR when this control's value changes","input-value":!!e.shouldControlValueCauseSsr,"hide-details":""},on:{change:e.updatePropertyPathsToSsrElementWhenValueChanges}}):e._e(),"alert_box"===e.value.options.type||"pro_only_alert_box"===e.value.options.type?[n("ElementStudioAlertBoxOptions",{attrs:{value:e.value.options.alertBoxOptions},on:{input:function(t){return e.updateOptions(t,"alertBoxOptions")}}})]:e._e(),"date_picker"===e.value.options.type?[n("h3",{staticClass:"mb-3"},[e._v("Date picker options")]),n("DropdownInput",{attrs:{value:e.value.options.datePickerOptions?Object.keys(e.value.options.datePickerOptions)[0]:"",items:e.datePickerOptions,clearable:""},on:{input:function(t){var n;return e.updateOptions((n={},n[t]=t,n),"datePickerOptions")}}})]:e._e(),"multiselect"===e.value.options.type||"dropdown"===e.value.options.type||"button_bar"===e.value.options.type?[n("ElementStudioDropdownOptions",{attrs:{path:e.path,control:e.value,value:e.value.options.dropdownOptions},on:{input:function(t){return e.updateOptions(t,"dropdownOptions")},updateDropdownItems:e.updateDropdownItems,updateDropdownItem:e.updateDropdownItem}})]:e._e(),"button_bar"===e.value.options.type?[n("v-switch",{attrs:{label:"Big Button Bar",value:e.value.options.buttonBarOptions&&"big"===e.value.options.buttonBarOptions.size&&"default"===e.value.options.buttonBarOptions.layout,"hide-details":""},on:{change:e.updateButtonBarOptionsSize}}),n("v-switch",{attrs:{label:"Multiline Bar",value:e.value.options.buttonBarOptions&&"multiline"===e.value.options.buttonBarOptions.layout&&"small"===e.value.options.buttonBarOptions.size,"hide-details":""},on:{change:e.updateButtonBarOptionsLayout}})]:e._e(),"trigger_action_button"===e.value.options.type?[n("h3",{staticClass:"mb-3"},[e._v("Trigger action button options")]),n("TextInput",{staticClass:"mr-3 d-inline-block",attrs:{label:"Button Text",value:e.value.options.triggerActionsButtonOptions&&e.value.options.triggerActionsButtonOptions.text},on:{input:function(t){return e.updateOptions(Object.assign({},e.value.options.triggerActionsButtonOptions,{text:t||""}),"triggerActionsButtonOptions")}}}),n("ElementStudioIconsAutocomplete",{staticClass:"d-inline-block",attrs:{value:e.value.options.triggerActionsButtonOptions&&e.value.options.triggerActionsButtonOptions.icon},on:{input:function(t){return e.updateOptions(Object.assign({},e.value.options.triggerActionsButtonOptions,{icon:t}),"triggerActionsButtonOptions")}}})]:e._e(),e.isRepeater?[n("ElementStudioRepeaterOptions",{attrs:{control:e.value,value:e.value.options.repeaterOptions},on:{input:function(t){return e.updateOptions(t,"repeaterOptions")}}})]:e._e(),"unit"===e.value.options.type?[n("ElementStudioUnitOptions",{attrs:{value:e.value.options.unitOptions},on:{input:function(t){return e.updateOptions(t,"unitOptions")}}})]:e._e(),"wpmedia"===e.value.options.type?[n("ElementStudioMediaOptions",{attrs:{value:e.value.options.mediaOptions},on:{input:function(t){return e.updateOptions(t,"mediaOptions")}}})]:e._e(),"video"===e.value.options.type?[n("ElementStudioVideoOptions",{attrs:{value:e.value.options.videoOptions},on:{input:function(t){return e.updateOptions(t,"videoOptions")}}})]:e._e(),"unit"===e.value.options.type||"number"===e.value.options.type||"slider"===e.value.options.type?[n("ElementStudioRangeOptions",{attrs:{value:e.value.options.rangeOptions},on:{input:function(t){return e.updateOptions(t,"rangeOptions")}}})]:e._e(),"shadow"===e.value.options.type?[e._v(" Shadow Type "),n("v-select",{staticClass:"pt-3",attrs:{dense:"",items:e.shadowTypes,value:e.value.options.shadowOptions&&e.value.options.shadowOptions.type||"box"},on:{input:e.updateShadowType}})]:e._e(),"breakpoint_dropdown"===e.value.options.type?[n("ElementStudioBreakpointOptions",{attrs:{value:e.value.options.breakpointOptions},on:{input:function(t){return e.updateOptions(t,"breakpointOptions")}}})]:e._e(),"text"===e.value.options.type?[n("v-switch",{attrs:{label:"Multiline",value:e.value.options.textOptions&&e.value.options.textOptions.multiline,"hide-details":""},on:{change:e.updateTextOptionsMultiline}})]:e._e(),"focus_point"===e.value.options.type?[n("ElementStudioFocusPointOptions",{attrs:{value:e.value.options.focusPointOptions,control:e.value},on:{input:function(t){return e.updateOptions(t,"focusPointOptions")}}})]:e._e(),"media_size_dropdown"===e.value.options.type?[n("ElementStudioMediaSizeOptions",{attrs:{value:e.value.options.mediaSizeOptions,control:e.value},on:{input:function(t){return e.updateOptions(t,"mediaSizeOptions")}}})]:e._e(),"post_chooser"===e.value.options.type?[n("ElementStudioPostChooserOptions",{attrs:{value:e.value.options.postChooserOptions,control:e.value},on:{input:function(t){return e.updateOptions(t,"postChooserOptions")}}})]:e._e(),"icon"===e.value.options.type?[n("ElementStudioIconOptions",{attrs:{value:e.value.options.iconOptions},on:{input:function(t){return e.updateOptions(t,"iconOptions")}}})]:e._e(),"color"===e.value.options.type?[n("h3",{staticClass:"mb-2"},[e._v("Color Type")]),n("DropdownInput",{attrs:{value:e.value.options.colorOptions&&e.value.options.colorOptions.type||"solidOnly",items:[{text:"Solid Only",value:"solidOnly"},{text:"Solid and Gradient",value:"solidAndGradient"},{text:"Gradient Only",value:"gradientOnly"}]},on:{input:e.updateColorType}})]:e._e(),e.isSection?e._e():[n("h3",[e._v("Dynamic Property")]),n("v-checkbox",{staticClass:"mb-3 mt-2",attrs:{label:"Enable dynamic property","input-value":!!e.dynamicPropertyPath,"hide-details":""},on:{change:e.updateDynamicPropertyPaths}}),e.dynamicPropertyPath?[n("v-checkbox",{staticClass:"mb-3 mt-2",attrs:{label:"Make dynamic data Pro only","input-value":e.dynamicPropertyPath&&e.dynamicPropertyPath.proOnly,"hide-details":""},on:{change:function(t){return e.updateDynamicPropertyPaths(!0,e.dynamicPropertyPath?e.dynamicPropertyPath.accepts:void 0,t)}}}),n("h4",{staticClass:"mb-1"},[e._v("Dynamic Property Type")]),n("DropdownInput",{attrs:{items:e.dynamicPathAcceptsItems,value:e.dynamicPropertyPath.accepts},on:{input:function(t){return e.updateDynamicPropertyPaths(!0,t)}}})]:e._e()],"add_registered_children"===e.value.options.type?[n("h3",[e._v("Registered Children options: add extra elements")]),e.availableDescendantElements.length?n("div",{staticClass:"d-flex align-center"},[n("v-autocomplete",{staticClass:"element-studio-control-type-dropdown mr-4 mt-2",attrs:{items:e.availableDescendantElements,value:e.value.options.addRegisteredChildrenOptions&&e.value.options.addRegisteredChildrenOptions.addExtraElementsBySlug,dense:"","hide-details":"","data-test-id":"element-studio-control-type-dropdown",multiple:""},on:{input:e.updateAddExtraElementsBySlug}}),n("IconButton",{attrs:{icon:"TrashIcon"},on:{click:function(t){return e.updateAddExtraElementsBySlug([])}}})],1):n("div",[e._v(" No available extra elements. ")])]:e._e(),"code"===e.value.options.type?[n("h3",[e._v("Code input options")]),n("DropdownInput",{staticClass:"pt-3",attrs:{items:e.codeTypes,value:e.value.options.codeOptions&&e.value.options.codeOptions.language},on:{input:e.updateCodeType}})]:e._e(),"text"===e.value.options.type||"richtext"===e.value.options.type?[n("ElementStudioVariableOptions",{attrs:{path:e.path,control:e.value,value:e.value.options.variableOptions},on:{input:function(t){return e.updateOptions(t,"variableOptions")},updateVariableItems:e.updateVariableItems,updateVariableItem:e.updateVariableItem}})]:e._e(),n("h3",[e._v("Misc Options")]),e.isInContentTab?[n("v-checkbox",{attrs:{label:"See content editable code","hide-details":""},model:{value:e.showContentEditableCode,callback:function(t){e.showContentEditableCode=t},expression:"showContentEditableCode"}}),e.showContentEditableCode?[n("Copyable",{staticClass:"element-studio-inline-helper-code",attrs:{shouldCopy:!1}},[e._v(" "+e._s(e.contentEditableHelperCode)+" ")])]:e._e()]:e._e(),n("div",[e.isInContentTab?e._e():[n("div",{staticClass:"d-flex flex-row"},[n("v-checkbox",{attrs:{disabled:e.canHaveMediaQueries,label:"Enable Media Queries","input-value":e.value.enableMediaQueries,"hide-details":""},on:{change:function(t){return e.updateControlBoolean(t,"enableMediaQueries")}}})],1)],n("div",{staticClass:"d-flex flex-row"},[n("v-checkbox",{attrs:{label:"Enable Hover","input-value":e.value.enableHover,"hide-details":""},on:{change:function(t){return e.updateControlBoolean(t,"enableHover")}}})],1),n("h3",[e._v("Layout")]),n("DropdownInput",{staticClass:"pt-3",attrs:{items:e.controlLayouts,value:e.value.options.layout},on:{input:e.updateControlLayout}}),"text"===e.value.options.type||"dropdown"===e.value.options.type||"multiselect"===e.value.options.type?[n("h3",[e._v("Placeholder")]),n("TextInput",{attrs:{value:e.value.options.placeholder},on:{input:e.updatePlaceholder}})]:e._e(),n("h3",[e._v("Keywords")]),n("TextInput",{attrs:{value:e.keywordsValue},on:{input:e.updateKeywords}}),n("ElementStudioConditionInput",{attrs:{value:e.value.options.condition},on:{input:e.updateConditions}}),n("ElementStudioHideControlInput",{attrs:{value:e.value.options.hideForElements},on:{input:e.updateHideForElements,remove:e.deleteHideForElements}})],2)],2)],1),e.isSection?n("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1,"max-height":"450"},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on,i=t.attrs;return[n("v-btn",e._g(e._b({attrs:{color:"black",small:"",icon:"",title:"Open options","data-test-id":"element-studio-control-open-options"}},"v-btn",i,!1),a),[n("Icon",{attrs:{icon:"SlidersIcon",size:"12"}})],1)]}}],null,!1,1074570844)},[n("v-card",{staticClass:"element-studio-poppy-card",attrs:{"data-test-id":"element-studio-control-options-card"}},[e.isPresetSection?e._e():n("v-checkbox",{staticClass:"mb-3 mt-2",attrs:{label:"Make all control values in this section available in all breakpoints","input-value":!!e.shouldControlValueBeAddedInAllBreakpoints,"hide-details":""},on:{change:e.updatePropertyPathsToWhitelistInFlatProps}}),e.hasSsr?n("v-checkbox",{staticClass:"mb-3 mt-2",attrs:{label:"Make the element SSR when any child control value changes","input-value":!!e.shouldControlValueCauseSsr,"hide-details":""},on:{change:e.updatePropertyPathsToSsrElementWhenValueChanges}}):e._e(),n("h3",[e._v("Section Layout")]),n("v-select",{staticClass:"pt-3",attrs:{dense:"",items:e.sectionLayouts,value:e.value.options.sectionOptions&&e.value.options.sectionOptions.type},on:{input:e.updateSectionLayoutType}}),n("ElementStudioConditionInput",{attrs:{value:e.value.options.condition},on:{input:e.updateConditions}}),n("ElementStudioHideControlInput",{attrs:{value:e.value.options.hideForElements},on:{input:e.updateHideForElements,remove:e.deleteHideForElements}}),e.spacingBarPresetSlug?[n("v-checkbox",{staticClass:"mb-3 mt-2",attrs:{label:"Enable spacing bars","input-value":e.isSpacingBarEnabled(),"hide-details":""},on:{change:e.updateSpacingBar}})]:e._e()],2)],1):e._e(),n("v-spacer"),n("Dropdown",{attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("v-btn",e._g({staticClass:"mr-1",attrs:{color:"black",icon:"",small:""}},a),[n("Icon",{attrs:{icon:"EllipsisIcon",size:"18"}})],1)]}}])},[n("v-list",[n("v-list-item",{attrs:{dense:""},on:{click:e.copy}},[n("v-list-item-title",[e._v("Copy")])],1),e.canPaste?n("v-list-item",{attrs:{dense:""},on:{click:e.handlePaste}},[n("v-list-item-title",[e._v("Paste As Child")])],1):e._e(),e.canReplace?n("v-list-item",{attrs:{dense:""},on:{click:e.handleReplace}},[n("v-list-item-title",[e._v("Replace")])],1):e._e(),e.isSection?n("v-list-item",{attrs:{dense:""},on:{click:e.handleMakePreset}},[n("v-list-item-title",[e._v("Make into a Preset")])],1):e._e()],1)],1),n("v-btn",{staticClass:"mr-3",attrs:{color:"black",icon:"",small:""},on:{click:function(t){return t.stopPropagation(),e.deleteControl(t)}}},[n("Icon",{attrs:{icon:"TrashIcon",size:"12"}})],1)],1)]},proxy:!0},{key:"content",fn:function(){return[n("draggable",{attrs:{value:e.value.children},on:{input:e.handleDrag}},e._l(e.value.children,(function(t,a){return n("ControlSectionOrControl",{key:t.slug,attrs:{value:t,path:e.path+".children["+a+"]",index:a,parentPath:e.path,twigParentPath:e.twigParentPath+(e.isParentARepeater?"["+a+"]":"")+"."+e.value.slug,parentControl:e.value}})})),1),e.controlAcceptsChildren?n("v-btn",{staticClass:"mt-2",attrs:{tile:"",text:"","data-test-id":"element-studio-add-control"},on:{click:e.addControl}},[e._v(" Add Control ")]):e._e(),e.controlAcceptsChildren?n("v-btn",{staticClass:"mt-2",attrs:{tile:"",text:"","data-test-id":"element-studio-add-preset"},on:{click:e.addPreset}},[e._v(" Add Preset ")]):e._e()]},proxy:!0}])})],1)],1)},bc=[],gc=(n("fb6a"),n("19a4")),yc=n("310e"),Oc=n.n(yc),kc=n("628e"),jc=n("b875"),Sc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex"},[n("v-text-field",e._b({staticClass:"breakdance-dense-input",attrs:{value:e.value,rules:e.rules,clearable:e.clearable,solo:"",flat:"",dense:"","full-width":"","single-line":"","background-color":"var(--gray150)","data-test-id":e.testId},on:{input:e.edit,blur:function(t){return e.$emit("blur",t)}}},"v-text-field",e.inputOptions,!1))],1)},Cc=[],xc=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"edit",value:function(e){this.isNumber&&e?this.$emit("input",parseFloat(e)):this.$emit("input",e)}},{key:"isNumber",get:function(){var e;return"number"===(null===(e=this.inputOptions)||void 0===e?void 0:e.type)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],xc.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],xc.prototype,"inputOptions",void 0),Object(u["a"])([Object(d["d"])()],xc.prototype,"rules",void 0),Object(u["a"])([Object(d["d"])()],xc.prototype,"testId",void 0),Object(u["a"])([Object(d["d"])({default:!0})],xc.prototype,"clearable",void 0),xc=Object(u["a"])([d["a"]],xc);var wc=xc,Pc=wc,_c=(n("cd2c"),Object(ne["a"])(Pc,Sc,Cc,!1,null,null,null)),Ec=_c.exports;Na()(_c,{VTextField:vr["a"]});var Ic=n("5624"),Dc=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-element-studio-twig-code-helper"},[e.codeForControl?n("Copyable",{on:{onCopy:e.close}},[e._v(e._s(e.codeForControl))]):[e._v("No code help available for "),n("code",[e._v(e._s(e.control.options.type))]),e._v(" control type")]],2)},Tc=[],Ac=(n("4d63"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-element-studio-copyable"},[n("textarea",{ref:"input",attrs:{readonly:""},domProps:{value:e.textToCopy}}),e.shouldCopy?n("v-btn",{attrs:{small:""},on:{click:e.copy}},[e._v("Copy")]):e._e()],1)}),Rc=[],Bc=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"mounted",value:function(){var e=this;this.shouldCopy&&Object(it["a"])((function(){e.$refs.input.select(),document.execCommand("copy")}))}},{key:"copy",value:function(){this.$refs.input.select(),document.execCommand("copy"),this.$emit("onCopy")}},{key:"textToCopy",get:function(){var e,t;return(null===(e=this.$slots)||void 0===e||null===(t=e.default[0])||void 0===t?void 0:t.text)||""}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:!0})],Bc.prototype,"shouldCopy",void 0),Bc=Object(u["a"])([Object(d["a"])({})],Bc);var Mc=Bc,Fc=Mc,Vc=(n("3865"),Object(ne["a"])(Fc,Ac,Rc,!1,null,null,null)),Lc=Vc.exports;Na()(Vc,{VBtn:$a["a"]});var Wc=function(e){var t=e.twigPath;return"{{ "+t+" }}"},Nc=function(e){var t=e.twigPath;return"{% if ".concat(t," %}\ntoggle is on\n{% else %}\ntoggle is off\n{% endif %}")},$c=function(e){var t=e.control,n=e.twigPath;return t.options.items?t.options.items.map((function(e,t){var a=t?"elseif":"if";return"{% ".concat(a," ").concat(n," == '").concat(e.value,"' %}")+"\n  CSS or HTML here\n"})).join("")+"\n{% endif %}":"no items yo"},Uc=function(e){var t=e.control,n=e.twigPath;return t.options.items?t.options.items.map((function(e,t){var a=t?"elseif":"if";return"{% ".concat(a," '").concat(e.value,"' in ").concat(n," %}")+"\n  CSS or HTML here\n"})).join("")+"\n{% endif %}":"no items yo"},Hc=function(e){var t,n,a=e.control,i=e.twigPath,r="text"===(null===a||void 0===a||null===(t=a.options)||void 0===t||null===(n=t.shadowOptions)||void 0===n?void 0:n.type),o=r?"text-shadow":"box-shadow";return"".concat(o,": {{ ").concat(i,".style }};")},zc=function(e){var t=e.twigPath;return'\n<style>\n/* put this in your default CSS */\n.some-class-to-wrap-the-icon-svg { /* prefix with element classname, i.e. .element-classname .some-class-to-wrap-the-icon */\n    display: flex;\n    font-size: 24px;\n}\n\n.some-class-to-wrap-the-icon-svg > svg { /* also, prefix with element classname */\n    font-size: inherit;\n    width: 1em;\n    height: 1em;\n    stroke-width: 0;\n    stroke: currentColor;\n    fill: currentColor;\n}\n\n/* put this in your twig CSS */\n%%SELECTOR%% .some-class-to-wrap-the-icon-svg {\n    color: #ff0000;\n    font-size: 30px;\n}\n</style>\n<div class="some-class-to-wrap-the-icon-svg">\n{{ '.concat(t,".svgCode }}\n</div>\n")},Gc=function(e){var t=e.twigPath;return"\n    {% for item in ".concat(t," %}\n        <div>\n            repeated\n        </div>\n    {% endfor %}\n    ")},qc=function(e){var t=e.twigPath;return"\n  /* could be used for transforms */\n  transform-origin: {{ ".concat(t,".x }}% {{ ").concat(t,".y }}%;\n\n  /* or positioning a background */\n  background-position: {{ ").concat(t,".x }}% {{ ").concat(t,".y }}%;\n  ")},Kc=["layout_basic_flex","layout","borders","background","css","size","grid"].concat(Object(k["a"])(le["h"])),Xc=function(e){var t,n,a,i=e.control,r=e.twigPath,o=null===(t=i.options.sectionOptions)||void 0===t||null===(n=t.preset)||void 0===n||null===(a=n.slug)||void 0===a?void 0:a.replace("EssentialElements\\","");return o?Kc.includes(o)?"{{ macros.".concat(o,"(").concat(r,") }}"):"effects"===o?"\n    {{ macros.effects(".concat(r,", '%%SELECTOR%%') }}\n    {{ macros.effectsHover(").concat(r,", '%%SELECTOR%%:hover') }}\n    "):"effects_no_hover"===o?"{{ macros.effects(".concat(r,", '%%SELECTOR%%') }}"):"filter"===o?"{{ macros.filters(".concat(r,") }}"):"typography"===o||"typography_with_nothing"===o||"typography_with_align"===o||"typography_with_effects"===o||"typography_with_effects_and_align"===o?"{{ macros.typography(".concat(r,", globalSettings) }}"):"simpleLayout"===o?"{{ macros.simpleLayout(".concat(r,", breakpoint) }}"):"fancy_background"===o?"\n      {{ macros.fancyBackgroundHtml(".concat(r,") }}\n      {{ macros.fancyBackgroundCss('%%SELECTOR%%', ").concat(r,", breakpoint) }}\n    "):"typography_with_hoverable_color"===o||"typography_with_align_with_hoverable_color"===o||"typography_with_effects_with_hoverable_color_and_effects"===o||"typography_with_effects_and_align_with_hoverable_color_and_effects"===o?"\n    %%SELECTOR%% {\n      {{ macros.typography(".concat(r,", globalSettings) }}\n    }\n\n    %%SELECTOR%%:hover {\n      {{ macros.typographyWithHoverableColorAndEffects(").concat(r,") }}\n    }\n    "):"typography_with_hoverable_everything"===o||"typography_with_align_with_hoverable_everything"===o||"typography_with_effects_with_hoverable_everything"===o||"typography_with_effects_and_align_with_hoverable_everything"===o?"\n    %%SELECTOR%% {\n      {{ macros.typography(".concat(r,", globalSettings) }}\n    }\n\n    %%SELECTOR%%:hover {\n      {{ macros.typographyWithHoverableEverything(").concat(r,") }}\n    }\n    "):"AtomV1ButtonContent"===o?"\n    \x3c!-- In order to set default styles for your buttons, use the following macros: --\x3e\n    \x3c!-- You can overwrite these settings using design options  --\x3e\n\n    \x3c!-- Button (Primary) --\x3e\n    {{ macros.atomV1ButtonHtml(".concat(r,", 'my-button-custom-class', path.to.button_design_preset_section, '").concat(r,".text') }}\n\n    \x3c!-- Button (Secondary) --\x3e\n    {{ macros.atomV1ButtonHtml(").concat(r,", 'my-button-custom-class', path.to.button_design_preset_section, 'secondary', '").concat(r,".text') }}\n\n    \x3c!-- Button (Custom) --\x3e\n    {{ macros.atomV1ButtonHtml(").concat(r,", 'my-button-custom-class', path.to.button_design_preset_section, 'custom', '").concat(r,".text') }}\n\n    \x3c!-- Button (Text) --\x3e\n    {{ macros.atomV1ButtonHtml(").concat(r,", 'my-button-custom-class', path.to.button_design_preset_section, 'text', '").concat(r,".text') }}\n\n    \x3c!-- Form Button (Submit) --\x3e\n    {{ macros.atomV1ButtonHtmlManual('Submit', false, '%%SELECTOR%% .my-button-custom-class', path.to.button_design_preset_section, 'primary/secondary/custom/text', 'custom-button-id', true, '").concat(r,".text') }}\n\n    \x3c!-- SSR Button --\x3e\n    echo /Breakdance/Elements/AtomV1Button/render($propertiesData['content']['button'], 'my-button-custom-class', $propertiesData['design']['button'], 'primary/secondary/custom/text');\n\n    \x3c!-- SSR Form Button --\x3e\n    echo /Breakdance/Elements/AtomV1Button/renderFormButton($propertiesData['content']['submit_button']['text'], 'my-button-custom-class', $propertiesData['design']['form_button'], 'primary/secondary/custom/text', 'custom-button-id');\n\n\n"):"AtomV1ButtonDesign"===o?"\n      {{ macros.atomV1ButtonCss(".concat(r,", 'my-button-custom-class', '%%SELECTOR%%', breakpoint, globalSettings) }}\n    "):"AtomV1CustomButtonDesign"===o?"\n\n      {{ macros.atomV1ButtonButton(".concat(r,", '%%SELECTOR%% .my-button-custom-class', 'primary/secondary/custom', breakpoint, globalSettings) }}\n\n\n    "):"AtomV1IconDesignWithHover"===o?"\n    HTML:\n    {{ macros.atomV1IconHtml('my-icon-class', path.to.icon, path.to.rotate (number between 1 and 360) or false, path.to.link (link control) or false, ".concat(r,") }}\n\n    CSS:\n    {{ macros.atomV1IconCss(").concat(r,", 'my-icon-class', '%%SELECTOR%%', true) }}"):"AtomV1IconDesign"===o?"\n    HTML:\n    {{ macros.atomV1IconHtml('my-icon-class', path.to.icon, path.to.rotate (number between 1 and 360) or false, path.to.link (link control) or false, ".concat(r,") }}\n\n    CSS:\n    {{ macros.atomV1IconCss(").concat(r,", 'my-icon-class', '%%SELECTOR%%') }}"):"AtomV1FormDesign"===o?"{{ macros.atomV1FormCss(".concat(r,", '%%SELECTOR%%') }}"):"tabs_design"===o?"{{ macros.atomV1TabsCss('%%SELECTOR%%', ".concat(r,", breakpoint, globalSettings) }}"):"WooGlobalStylerOverride"===o?"{{ macros.wooGlobalStyler(".concat(r,", '%%SELECTOR%%', breakpoint, globalSettings) }}"):"pagination"===o?"{{ macros.pagination(".concat(r,", '%%SELECTOR%%', listSelector, activeSelector, dotsSelector) }}"):"wooPresetInputsDesign"===o||"wooPresetInputsDesignNoSelect2"===o?"\n    %%SELECTOR%% {\n      {{ macros.wooPresetInputsDesign(".concat(r,") }}\n    }"):"wooProductsListElements"===o?"\n    {{ macros.wooPresetProductsListElementsDesign('%%SELECTOR%%', ".concat(r,") }}\n    "):"wooProductsListLayout"===o?"\n    {{ macros.wooPresetProductsListLayoutDesign('%%SELECTOR%%', ".concat(r,") }}\n    "):"wooProductWrapperDesign"===o?"\n    {{ macros.wooPresetProductWrapperDesign('%%SELECTOR%%', ".concat(r,") }}\n    "):["lightbox_design","lightbox_single_design"].includes(o)?"{{ macros.atomV1LightboxCss(".concat(r,") }}"):"AtomV1SwiperSettings"===o?'\nHTML:\n\n<div class="breakdance-swiper-wrapper">\n  <div class="swiper">\n    <div class="swiper-wrapper">\n      %%CHILDREN%%\n    </div>\n  </div>\n  \n  {{ macros.AtomV1SwiperPaginationAndArrowsHtml(design.slider) }}\n</div>\n\n----\n\nCSS:\n{{ macros.AtomV1SwiperCss('.concat(r,", '%%SELECTOR%%', globalSettings, isBaseBreakpoint) }}\n"):"borders_without_shadows"===o?"\n    {{ macros.borders_without_shadows(".concat(r,") }}\n    "):"no code help for preset section type of ".concat(o):"undefined preset type"},Yc={trigger_action_button:void 0,border_complex:function(e){var t=e.twigPath;return"{{ macros.border_complex(".concat(t,") }}")},border_radius:function(e){var t=e.twigPath;return"{{ macros.border_radius(".concat(t,") }}")},breakpoint_dropdown:function(e){var t=e.twigPath;return"\n    {% if breakpoint == ".concat(t," %}\n    %%SELECTOR%% {\n        /** some css that will apply to the selected breakpoint */\n    }\n    {% endif %}\n    ")},button_bar:$c,dropdown:$c,code:Wc,color:function(e){var t,n=e.control,a=e.twigPath;return"solidAndGradient"===(null===(t=n.options.colorOptions)||void 0===t?void 0:t.type)?"\n        /* Background Color */\n        {{ macros.backgroundColor(".concat(a,") }}\n        \n        /* Or */\n        \n        /* Text Color */\n        {{ macros.textColor(").concat(a,") }}\n        \n        /* Or */\n        \n        /* Border Color */\n        {{ macros.borderColor(").concat(a,") }}\n      "):"background-color: {{ ".concat(a," }}")},gradient:function(e){var t=e.twigPath;return"background-image: {{ ".concat(t,".style }}")},shadow:Hc,icon:zc,number:Wc,repeater:Gc,inline_repeater:Gc,richtext:Wc,toggle:Nc,spacing_complex:function(e){var t=e.twigPath;return"{{ macros.spacing_complex(".concat(t,", 'margin') }}")},text:Wc,url:Wc,unit:function(e){var t=e.twigPath;return"font-size: {{ ".concat(t,".style }};")},wpmedia:function(e){var t,n,a=e.control,i=e.twigPath;return(null===(t=a.options)||void 0===t||null===(n=t.mediaOptions)||void 0===n?void 0:n.multiple)?"\n      {% for item in ".concat(i," %}\n        {{ macros.getMedia(item, content.content.size, content.content.lazyLoad) }}\n      {% endfor %}\n      "):"\n      This macro might return an img, video, or iframe tag, depending on the media type.\n      {{ macros.getMedia(".concat(i,", content.content.size, content.content.lazyLoad) }}\n      \n      Or you can render only images\n      {{ macros.image(").concat(i,", content.content.size, alt, lazyLoad) }}\n    ")},video:function(e){var t=e.twigPath;return"\n      {{ macros.video(".concat(t,") }}\n    ")},focus_point:qc,section:Xc,multiselect:Uc,condition:void 0,font_family:void 0,class:void 0,global_colors:void 0,global_block_chooser:void 0,typography:void 0,custom_typography:void 0,typography_preset:void 0,message:void 0,post_chooser:void 0,element_screenshot:void 0,slider:void 0,add_registered_children:void 0,builder_behavior:void 0,alert_box:void 0,pro_only_alert_box:void 0,date_picker:function(e){var t=e.twigPath;return"{{ ".concat(t," }}")},time_picker:function(e){var t=e.twigPath;return"{{ ".concat(t," }}")},api_key_input:void 0,link:function(e){var t=e.twigPath;return"\n     {{ macros.linkStart(".concat(t,") }}\n         Link Text\n     {{ macros.linkEnd() }}\n    ")},media_size_dropdown:function(e){var t=e.twigPath;return"{{ ".concat(t," }}")},wp_query:function(){return"Use this control in your SSR.php file. For example:\n    \\Breakdance\\WpQueryControl\\getWpQueryArgumentsFromWpQueryControlProperties($propertiesData['content']['wp_query']['query']);"},conditional_form_field:void 0},Qc=function(e,t){var n="";if(Array.isArray(e))n=e.reduce((function(e,t){var n=t.reduce((function(e,t){var n=t.path,a=t.value;return e?"".concat(e," and ").concat(n,' == "').concat(a,'"'):"".concat(n,' == "').concat(a,'"')}),"");return e?"".concat(e," or (").concat(n,")"):"(".concat(n,")")}),"");else{var a=e.path,i=e.value;n="".concat(a,' == "').concat(i,'"')}return"\n      {% if ".concat(n," %}\n      ").concat(t,"\n      TODO - examples of not equals, is one of, is set, is not set\n      {% elseif %}\n      ...\n      {% else %}\n      ...\n      {% endif %}\n      ")},Zc=n("579b"),Jc=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"close",value:function(){this.$emit("close")}},{key:"twigPath",get:function(){return this.inRepeater?"item.".concat(this.control.slug):"".concat(this.twigParentPath,".").concat(this.control.slug)}},{key:"codeForControl",get:function(){var e,t,n,a=Yc[this.control.options.type],i=null===(e=this.control.options.sectionOptions)||void 0===e||null===(t=e.preset)||void 0===t||null===(n=t.codeHelp)||void 0===n?void 0:n.replace("%%TWIG_PATH%%",this.twigPath),r=i||a&&a({control:this.control,twigPath:this.twigPath});if(!r)return!1;if(this.control.options.condition&&(r=Qc(this.control.options.condition,r)),this.control.enableHover){var o=r.replace(new RegExp(this.twigPath,"g"),Object(Zc["a"])(this.twigPath));r+="\n\n.some-selector:hover {\n"+o+"\n}\n"}return r}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Jc.prototype,"control",void 0),Object(u["a"])([Object(d["d"])()],Jc.prototype,"twigParentPath",void 0),Object(u["a"])([Object(d["d"])()],Jc.prototype,"inRepeater",void 0),Jc=Object(u["a"])([Object(d["a"])({components:{Copyable:Lc}})],Jc);var eu=Jc,tu=eu,nu=(n("833c"),Object(ne["a"])(tu,Dc,Tc,!1,null,null,null)),au=nu.exports,iu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",[e._v(e._s(e.label))]),n("Repeater",{attrs:{value:this.internalValue,control:{options:{repeaterOptions:{defaultNewValue:[e.getBlankCondition()],titleTemplate:"OR",buttonName:"Add new OR condition",forceDontProcessDefaultNewValueWhenAddingItemsHack:!0}}}},on:{input:e.emit},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.index;return[n("Repeater",{attrs:{value:e.internalValue[a],control:{options:{repeaterOptions:{defaultNewValue:e.getBlankCondition(),forceDontProcessDefaultNewValueWhenAddingItemsHack:!0,titleTemplate:"(AND) "+e.title+" for '{path}'",buttonName:"Add new (AND) "+e.title}}}},on:{input:function(t){return e.updateOrCondition(t,a)}},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.index,r=t.value;return[n("div",{staticClass:"element-studio-condition-input"},[r?n("div",{staticClass:"element-studio-condition-input-row"},[n("v-combobox",{attrs:{label:"Path",items:e.paths,value:r.path},on:{input:function(t){return e.updatePath(t,a,i)}}}),n("v-select",{attrs:{label:"Operand","no-data-text":"No data. Select a path first",value:r.operand,items:e.getOperands(r)},on:{input:function(t){return e.updateOperand(t,a,i)}}}),"is set"!==r.operand&&"is not set"!==r.operand?["is one of"!==r.operand&&"is none of"!==r.operand?[n("v-combobox",{attrs:{label:"Value",items:e.getPossibleValues(r),value:r.value},on:{input:function(t){return e.updateValue(t,a,i)}}})]:[n("v-combobox",{attrs:{multiple:"",label:"Values",items:e.getPossibleValues(r),value:e.hasMultipleValues(r)},on:{input:function(t){return e.updateValue(t,a,i)}}})]]:e._e()],2):e._e()])]}}],null,!0)})]}}])})],1)},ru=[],ou=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"mounted",value:function(){this.value&&!Array.isArray(this.value)&&this.emit([[this.value]])}},{key:"getBlankCondition",value:function(){return{path:"",operand:"equals",value:""}}},{key:"getOperands",value:function(e){var t=e.path;if(!t)return[];var n=this.getControl(t),a=["equals","not equals","is one of","is none of","is set","is not set","contains","does not contain"];return"multiselect"===(null===n||void 0===n?void 0:n.options.type)&&(a=["includes"]),"toggle"===(null===n||void 0===n?void 0:n.options.type)&&(a=["is set","is not set"]),a.map((function(e){return{text:e,value:e}}))}},{key:"hasMultipleValues",value:function(e){return Array.isArray(e.value)?e.value:[]}},{key:"getPossibleValues",value:function(e){var t,n=e.path;if(!n)return[];var a=this.getControl(n);if(!a)return[];var i=null===(t=a.options.items)||void 0===t?void 0:t.map((function(e){return String(e.value)}));return i||[]}},{key:"getControl",value:function(e){return Object(Re["e"])(this.context.element(),e)}},{key:"updatePath",value:function(e,t,n){var a=Object(Ue["a"])(this.internalValue);a[t][n].path=e,this.emit(a)}},{key:"updateOperand",value:function(e,t,n){var a=Object(Ue["a"])(this.internalValue);a[t][n].operand=e,this.emit(a)}},{key:"updateValue",value:function(e,t,n){var a=Object(Ue["a"])(this.internalValue);a[t][n].value=e,this.emit(a)}},{key:"updateOrCondition",value:function(e,t){var n=Object(Ue["a"])(this.internalValue);n[t]=e,this.emit(n)}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"internalValue",get:function(){return this.value?Array.isArray(this.value)?this.value:[[this.value]]:[]}},{key:"paths",get:function(){var e=this,t=this.context.getPathsToAllControls().filter((function(e){return!e.includes("settings.animations")}));return this.pathStartsWith?t.filter((function(t){return t.startsWith(e.pathStartsWith)})).map((function(t){return t.replace(e.pathStartsWith,"")})):t}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],ou.prototype,"value",void 0),Object(u["a"])([Object(d["d"])({default:"Condition"})],ou.prototype,"title",void 0),Object(u["a"])([Object(d["d"])({default:"Only Show Control When Condition Is Met"})],ou.prototype,"label",void 0),Object(u["a"])([Object(d["d"])()],ou.prototype,"pathStartsWith",void 0),Object(u["a"])([Object(d["b"])("context")],ou.prototype,"context",void 0),ou=Object(u["a"])([Object(d["a"])({components:{Repeater:jc["default"]}})],ou);var su=ou,lu=su,cu=n("2b5d"),uu=Object(ne["a"])(lu,iu,ru,!1,null,null,null),du=uu.exports;Na()(uu,{VCombobox:cu["a"],VSelect:Ps["a"]});var pu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-unit-options"},[n("h2",{staticClass:"mb-2"},[e._v("Unit Options")]),n("h3",[e._v("Allowed types")]),n("v-autocomplete",{attrs:{label:"Types",value:e.value&&e.value.types,items:e.availableTypes,multiple:!0,"hide-details":""},on:{input:e.updateTypes}}),n("h3",{staticClass:"mb-1"},[e._v("Default Type")]),n("DropdownInput",{attrs:{label:"Default Type",items:e.value&&e.value.types||[],value:e.value&&e.value.defaultType},on:{input:e.updateDefaultType}})],1)},vu=[],hu=n("8bac"),mu=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.control={options:{repeaterOptions:{titleTemplate:"Type",buttonName:"Add type"}}},e}return Object(s["a"])(n,[{key:"updateTypes",value:function(e){var t=Object(Ue["a"])(this.internalValue);this.emit(Object(C["a"])({},t,{types:e}))}},{key:"updateDefaultType",value:function(e){var t=Object(Ue["a"])(this.internalValue);this.emit(Object(C["a"])({},t,{defaultType:e}))}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"internalValue",get:function(){return this.value||{}}},{key:"availableTypes",get:function(){return hu["b"]}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],mu.prototype,"value",void 0),Object(u["a"])([Object(d["b"])("context")],mu.prototype,"context",void 0),mu=Object(u["a"])([Object(d["a"])({components:{Repeater:jc["default"],DropdownInput:go["a"]}})],mu);var fu=mu,bu=fu,gu=n("c6a6"),yu=Object(ne["a"])(bu,pu,vu,!1,null,null,null),Ou=yu.exports;Na()(yu,{VAutocomplete:gu["a"]});var ku=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-range-options"},[n("h3",{staticClass:"mb-2"},[e._v("Range Options")]),n("div",{staticClass:"d-flex align-end"},[n("div",{staticClass:"flex-grow-1 flex-column"},[e._v(" Step (fixed to 2 decimals) "),n("input",{class:e.inputClass,attrs:{type:"number"},domProps:{value:e.internalValue.step},on:{input:function(t){return e.updateStep(t.target.value)}}})]),n("div",{staticClass:"flex-grow-1 mx-1 flex-column"},[e._v(" Min (Integer) "),n("input",{class:e.inputClass,attrs:{type:"number"},domProps:{value:e.internalValue.min},on:{input:function(t){return e.updateMin(t.target.value)}}})]),n("div",{staticClass:"flex-grow-1 flex-column"},[e._v(" Max (Integer) "),n("input",{class:e.inputClass,attrs:{type:"number"},domProps:{value:e.internalValue.max},on:{input:function(t){return e.updateMax(t.target.value)}}})])])])},ju=[],Su=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updateStep",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{step:e?Object(de["a"])(e):void 0}))}},{key:"updateMin",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{min:e?parseInt(e):void 0}))}},{key:"updateMax",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{max:e?parseInt(e):void 0}))}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"internalValue",get:function(){return this.value||{min:void 0,max:void 0,step:void 0}}},{key:"inputClass",get:function(){return"d-flex breakdance-white-gray-outlined-input breakdance-simple-input breakdance-simple-input--text breakdance-simple-input--base"}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Su.prototype,"value",void 0),Object(u["a"])([Object(d["b"])("context")],Su.prototype,"context",void 0),Su=Object(u["a"])([Object(d["a"])({components:{TextInput:mo["a"]}})],Su);var Cu=Su,xu=Cu,wu=Object(ne["a"])(xu,ku,ju,!1,null,null,null),Pu=wu.exports,_u=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-repeater-options"},[n("h3",{staticClass:"mb-2"},[e._v("Repeater Options")]),n("div",[e._v(" Title Template "),n("TextInput",{attrs:{value:e.internalValue.titleTemplate},on:{input:function(t){return e.update(t,"titleTemplate")}}}),e.controlSlugs.length?n("div",{staticClass:"element-studio-repeater-options-variables"},[e._v(" Available variables: "),e._l(e.controlSlugs,(function(t){return n("span",{staticClass:"element-studio-repeater-options-variable",on:{click:function(n){return e.appendVariableToTitle(t)}}},[n("span",[e._v("{")]),e._v(e._s(t)),n("span",[e._v("}")])])}))],2):e._e()],1),n("div",{staticClass:"my-2"},[e._v(" Default Title "),n("TextInput",{attrs:{value:e.internalValue.defaultTitle},on:{input:function(t){return e.update(t,"defaultTitle")}}}),e._v(" Used as a fallback when the title template is blank. ")],1),n("div",[e._v(" Button Name "),n("TextInput",{attrs:{value:e.internalValue.buttonName},on:{input:function(t){return e.update(t,"buttonName")}}}),e._v(' Defaults to "Add Item". ')],1),n("div",[n("v-checkbox",{staticClass:"mb-3",attrs:{label:"Enable gallery mode","hide-details":"","input-value":e.internalValue.galleryMode},on:{change:e.updateGalleryMode}}),e.internalValue.galleryMode?[n("h3",{staticClass:"mb-3"},[e._v("Gallery Media Path")]),n("DropdownInput",{attrs:{value:e.internalValue.galleryMediaPath,items:e.mediaControlSlugs},on:{input:function(t){return e.update(t,"galleryMediaPath")}}})]:e._e()],2)])},Eu=[],Iu={titleTemplate:"",defaultTitle:"",buttonName:""},Du=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"appendVariableToTitle",value:function(e){var t=this.internalValue.titleTemplate,n=t.includes("{".concat(e,"}"));if(!n){var a="".concat(t," {").concat(e,"}").trim();this.update(a,"titleTemplate")}}},{key:"update",value:function(e,t){this.emit(Object(C["a"])({},this.internalValue,Object(Rt["a"])({},t,null!==e&&void 0!==e?e:"")))}},{key:"updateGalleryMode",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{galleryMode:e}))}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"internalValue",get:function(){return this.value||Iu}},{key:"controlSlugs",get:function(){return this.control.children.map((function(e){return e.slug}))}},{key:"mediaControlSlugs",get:function(){return this.control.children.filter((function(e){return"wpmedia"===e.options.type})).map((function(e){return e.slug}))}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Du.prototype,"value",void 0),Object(u["a"])([Object(d["b"])("context")],Du.prototype,"context",void 0),Object(u["a"])([Object(d["d"])()],Du.prototype,"control",void 0),Du=Object(u["a"])([Object(d["a"])({components:{DropdownInput:go["a"],TextInput:mo["a"]}})],Du);var Tu=Du,Au=Tu,Ru=(n("8a74"),n("ac7c")),Bu=Object(ne["a"])(Au,_u,Eu,!1,null,null,null),Mu=Bu.exports;Na()(Bu,{VCheckbox:Ru["a"]});var Fu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-dropdown-options"},[n("h2",{staticClass:"mb-2"},[e._v("Dropdown options")]),"dropdown"===e.control.options.type?[this.element.htmlTag.options.length>0?n("NiceButton",{on:{click:e.populateWithHtmlTagOptions}},[e._v("Populate with HTML Tag Options")]):e._e(),n("v-checkbox",{attrs:{"input-value":!!e.internalValue.populate,label:"Populate dropdown dynamically","hide-details":""},on:{change:e.updateEnablePopulate}}),e.internalValue.populate?[n("v-divider",{staticClass:"my-3"}),n("h3",{staticClass:"mb-2"},[e._v("Populate from a Repeater's Input")]),e.internalValue.populate.fetchDataAction?n("div",[e._v(" Populating from server data. To use items instead, clear those fields below. ")]):e.repeaterPaths.length?n("div",[n("v-combobox",{attrs:{label:"Path",items:e.repeaterPaths,value:e.internalValue.populate.path,"hide-details":"",clearable:""},on:{input:function(t){return e.updatePopulateValue("path",t)}}}),n("v-combobox",{attrs:{label:"Label",items:e.possibleValues,value:e.internalValue.populate.text,"hide-details":"",clearable:""},on:{input:function(t){return e.updatePopulateValue("text",t)}}}),n("v-combobox",{attrs:{label:"Value",items:e.possibleValues,value:e.internalValue.populate.value,"hide-details":"",clearable:""},on:{input:function(t){return e.updatePopulateValue("value",t)}}})],1):n("div",[n("h4",[e._v("No repeaters presenta")])]),n("v-divider",{staticClass:"my-3"}),n("h3",{staticClass:"mb-2"},[e._v("Populate from server data")]),n("v-text-field",{attrs:{label:"Fetch data action route name",value:e.internalValue.populate.fetchDataAction,clearable:"","hide-details":""},on:{input:function(t){return e.updatePopulateValue("fetchDataAction",t)}}}),n("v-combobox",{attrs:{label:"Fetch context path",items:e.controlPaths,value:e.internalValue.populate.fetchContextPath,clearable:"","hide-details":""},on:{input:function(t){return e.updatePopulateValue("fetchContextPath",t)}}}),n("h3",[e._v("Refetch data if a control's value changes (specify path)")]),n("Repeater",{attrs:{value:e.internalValue.populate.refetchPaths},on:{input:e.updateRefetchPaths},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.index;return[n("v-combobox",{staticClass:"mb-2",attrs:{items:e.controlPaths,value:e.internalValue.populate.refetchPaths[a],"hide-details":""},on:{input:function(t){return e.updateRefetchPath(a,t)}}})]}}],null,!1,3001308231)}),n("v-divider",{staticClass:"my-3"}),n("ElementStudioConditionInput",{attrs:{title:"Filtering",label:"Show items in the dropdown only if a condition is met","path-starts-with":e.internalValue.populate.path+".",value:e.internalValue.populate.condition},on:{input:e.updateCondition}})]:e._e()]:e._e(),e.internalValue.populate?e._e():[n("h3",{staticClass:"mb-2"},[e._v("Dropdown items")]),n("Repeater",{attrs:{path:e.path,value:e.dropdownItems,control:e.control},on:{input:e.updateDropdownItems},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.index;return[e._v(" Label "),n("TextInput",{staticClass:"mb-2",attrs:{value:e.dropdownItems[a].text,testId:"element-studio-control-dropdown-label-input"},on:{input:function(t){return e.updateDropdownItem(Object.assign({},e.dropdownItems[a],{text:t||""}),a)}}}),e._v(" Value "),n("TextInput",{attrs:{value:e.dropdownItems[a].value,testId:"element-studio-control-dropdown-value-input"},on:{input:function(t){return e.updateDropdownItem(Object.assign({},e.dropdownItems[a],{value:t||""}),a)}}}),"button_bar"===e.control.options.type?n("div",{staticClass:"breakdance-dropdown-input d-flex mt-2"},[e.dropdownItems[a].icon?n("div",{staticClass:"mr-2 d-flex align-center"},[n("Icon",{attrs:{icon:e.dropdownItems[a].icon,size:"18"}})],1):e._e(),n("ElementStudioIconsAutocomplete",{attrs:{value:e.dropdownItems[a].icon},on:{input:function(t){return e.updateDropdownItem(Object.assign({},e.dropdownItems[a],{icon:t}),a)}}})],1):e._e()]}}],null,!1,280151685)})]],2)},Vu=[],Lu=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-autocomplete",{staticClass:"breakdance-dense-select breakdance-white-gray-outlined-input",attrs:{label:"Icon",dense:"",solo:"",flat:"",filled:"","hide-details":"",clearable:"",placeholder:"CloseIcon",items:e.iconNames,value:e.value},on:{input:function(t){return e.$emit("input",t)}}})},Wu=[],Nu=n("e9a4"),$u=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"iconNames",get:function(){return Nu["iconNames"]}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],$u.prototype,"value",void 0),$u=Object(u["a"])([Object(d["a"])({})],$u);var Uu=$u,Hu=Uu,zu=Object(ne["a"])(Hu,Lu,Wu,!1,null,null,null),Gu=zu.exports;Na()(zu,{VAutocomplete:gu["a"]});var qu={path:"",text:"",value:"",condition:void 0,fetchDataAction:"",fetchContextPath:"",refetchPaths:[]},Ku=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"getControl",value:function(e){return Object(Re["e"])(this.element,e)}},{key:"updateDropdownItems",value:function(e){this.$emit("updateDropdownItems",e)}},{key:"updateDropdownItem",value:function(e,t){this.$emit("updateDropdownItem",{newItem:e,index:t})}},{key:"updateEnablePopulate",value:function(e){e?this.emit({populate:qu}):this.emit(void 0)}},{key:"updateCondition",value:function(e){var t=Object(Ue["a"])(this.populate);t.condition=e,this.emit({populate:t})}},{key:"updatePopulateValue",value:function(e,t){var n=Object(Ue["a"])(this.populate);n[e]=t,this.emit({populate:n})}},{key:"updateRefetchPaths",value:function(e){var t=Object(Ue["a"])(this.populate);t.refetchPaths=e.map((function(e){return"string"===typeof e?e:""})),this.emit({populate:t})}},{key:"updateRefetchPath",value:function(e,t){var n=Object(Ue["a"])(this.populate);n.refetchPaths&&(n.refetchPaths[e]=t,this.emit({populate:n}))}},{key:"populateWithHtmlTagOptions",value:function(){if(this.element.htmlTag.options){var e=this.element.htmlTag.options.map((function(e){return{text:e,value:e}}));this.updateDropdownItems(e)}}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"internalValue",get:function(){return this.value||{}}},{key:"repeaterPaths",get:function(){return this.context.getPathsToAllControls(["repeater"])}},{key:"controlPaths",get:function(){return this.context.getPathsToAllControls()}},{key:"possibleValues",get:function(){var e,t,n=null===(e=this.internalValue)||void 0===e||null===(t=e.populate)||void 0===t?void 0:t.path;if(!n)return[];var a=this.getControl(n);if(!a)return[];var i=a.children.map((function(e){return e.slug}));return i||[]}},{key:"populate",get:function(){return this.internalValue.populate||qu}},{key:"dropdownItems",get:function(){return this.control.options.items||[{value:"value",text:"Label"}]}},{key:"element",get:function(){return this.context.element()}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Ku.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],Ku.prototype,"control",void 0),Object(u["a"])([Object(d["d"])()],Ku.prototype,"path",void 0),Object(u["a"])([Object(d["b"])("context")],Ku.prototype,"context",void 0),Ku=Object(u["a"])([Object(d["a"])({components:{NiceButton:yo["a"],ElementStudioIconsAutocomplete:Gu,Icon:Z["a"],DropdownInput:go["a"],Dropdown:Ri["a"],ElementStudioConditionInput:du,Repeater:jc["default"],TextInput:mo["a"]}})],Ku);var Xu=Ku,Yu=Xu,Qu=(n("ddc2"),n("ce7e")),Zu=Object(ne["a"])(Yu,Fu,Vu,!1,null,null,null),Ju=Zu.exports;Na()(Zu,{VCheckbox:Ru["a"],VCombobox:cu["a"],VDivider:Qu["a"],VTextField:vr["a"]});var ed=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-dropdown-options"},[n("h2",{staticClass:"mb-2"},[e._v("Breakpoint options")]),e._v(" Support Multiple "),n("v-checkbox",{staticClass:"mb-3 mt-2",attrs:{label:"Support Multiple","input-value":e.value&&!!e.value.multiple,"hide-details":""},on:{change:e.updateMultiple}}),e._v(" Enable Never "),n("v-checkbox",{staticClass:"mb-3 mt-2",attrs:{label:"Enable Never","input-value":e.value&&!!e.value.enableNever,"hide-details":""},on:{change:e.updateEnableNever}})],1)},td=[],nd=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updateMultiple",value:function(e){var t=Object(Ue["a"])(this.value);t.multiple=e,this.emit(t)}},{key:"updateEnableNever",value:function(e){var t=Object(Ue["a"])(this.value);t.enableNever=e,this.emit(t)}},{key:"emit",value:function(e){this.$emit("input",e)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],nd.prototype,"value",void 0),nd=Object(u["a"])([Object(d["a"])({components:{}})],nd);var ad=nd,id=ad,rd=Object(ne["a"])(id,ed,td,!1,null,null,null),od=rd.exports;Na()(rd,{VCheckbox:Ru["a"]});var sd=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-variable-options"},[n("h3",[e._v("Variables")]),n("v-checkbox",{staticClass:"mb-3 mt-2",attrs:{label:"Enable variables","input-value":e.internalValue.enabled,"hide-details":""},on:{change:e.toggleEnabled}}),e.internalValue.enabled?[n("Repeater",{attrs:{path:e.path,value:e.variables,control:e.control},on:{input:e.updateVariableItems},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.index;return[e._v(" Label "),n("TextInput",{staticClass:"mb-2",attrs:{value:e.variables[a].label,testId:"element-studio-control-variable-label-input"},on:{input:function(t){return e.updateVariableItem(Object.assign({},e.variables[a],{label:t}),a)}}}),e._v(" Value "),n("TextInput",{attrs:{value:e.variables[a].value,testId:"element-studio-control-variable-value-input"},on:{input:function(t){return e.updateVariableItem(Object.assign({},e.variables[a],{value:t}),a)}}})]}}],null,!1,98037988)}),n("v-checkbox",{attrs:{"input-value":!!e.internalValue.populate,label:"Populate variables based on a Repeater Input"},on:{change:e.updateEnablePopulate}}),e.internalValue.populate?n("div",[n("div",[n("v-combobox",{attrs:{label:"Path",items:e.paths,value:e.internalValue.populate.path},on:{input:function(t){return e.updatePopulateValue("path",t)}}}),n("v-combobox",{attrs:{label:"Label",items:e.possibleValues,value:e.internalValue.populate.text},on:{input:function(t){return e.updatePopulateValue("text",t)}}}),n("v-combobox",{attrs:{label:"Value",items:e.possibleValues,value:e.internalValue.populate.value},on:{input:function(t){return e.updatePopulateValue("value",t)}}})],1),n("ElementStudioConditionInput",{attrs:{title:"Filtering",label:"Show items in the variable only if a condition is met","path-starts-with":e.internalValue.populate.path+".",value:e.internalValue.populate.condition},on:{input:e.updateCondition}}),n("v-divider")],1):e._e()]:e._e()],2)},ld=[],cd={path:"",text:"",value:"",condition:void 0},ud=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.enabled=!1,e}return Object(s["a"])(n,[{key:"getControl",value:function(e){return Object(Re["e"])(this.element,e)}},{key:"updateVariableItems",value:function(e){this.$emit("updateVariableItems",e)}},{key:"updateVariableItem",value:function(e,t){this.$emit("updateVariableItem",{newItem:e,index:t})}},{key:"updateEnablePopulate",value:function(e){e?this.emit({populate:cd}):this.emit({populate:void 0})}},{key:"updateCondition",value:function(e){var t=Object(Ue["a"])(this.populate);t.condition=e,this.emit({populate:t})}},{key:"updatePopulateValue",value:function(e,t){var n=Object(Ue["a"])(this.populate);n[e]=t,this.emit({populate:n})}},{key:"toggleEnabled",value:function(e){this.emit({enabled:e})}},{key:"emit",value:function(e){this.$emit("input",Object(C["a"])({},this.internalValue,{},e))}},{key:"internalValue",get:function(){return this.value||{}}},{key:"paths",get:function(){return this.context.getPathsToAllControls(["repeater"])}},{key:"possibleValues",get:function(){var e,t,n=null===(e=this.internalValue)||void 0===e||null===(t=e.populate)||void 0===t?void 0:t.path;if(!n)return[];var a=this.getControl(n);if(!a)return[];var i=a.children.map((function(e){return e.slug}));return i||[]}},{key:"populate",get:function(){return this.internalValue.populate||cd}},{key:"variables",get:function(){return this.control.options.variableItems||[{value:"value",text:"Label"}]}},{key:"element",get:function(){return this.context.element()}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],ud.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],ud.prototype,"control",void 0),Object(u["a"])([Object(d["d"])()],ud.prototype,"path",void 0),Object(u["a"])([Object(d["b"])("context")],ud.prototype,"context",void 0),ud=Object(u["a"])([Object(d["a"])({components:{NiceButton:yo["a"],ElementStudioIconsAutocomplete:Gu,Icon:Z["a"],ElementStudioConditionInput:du,Repeater:jc["default"],TextInput:mo["a"]}})],ud);var dd=ud,pd=dd,vd=(n("a387"),Object(ne["a"])(pd,sd,ld,!1,null,null,null)),hd=vd.exports;Na()(vd,{VCheckbox:Ru["a"],VCombobox:cu["a"],VDivider:Qu["a"]});var md=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-media-options"},[n("div",{staticClass:"mb-3"},[n("h2",{staticClass:"mb-2"},[e._v("WP Media Options")]),n("v-checkbox",{attrs:{label:"Enable gallery mode","input-value":e.internalValue.multiple,"hide-details":""},on:{change:e.updateMultiple}})],1),n("v-checkbox",{attrs:{label:"Allow only certain file types","input-value":e.fileTypesEnabled,"hide-details":""},on:{change:e.updateEnableFileTypes}}),e.fileTypesEnabled?n("v-autocomplete",{staticClass:"mt-2",attrs:{label:"Accepted File Types",value:e.internalValue.acceptedFileTypes,items:e.types,multiple:!0,hint:"All file types are allowed by default."},on:{input:e.updateType}}):e._e()],1)},fd=[],bd=n("24ff"),gd={acceptedFileTypes:void 0,multiple:!1},yd=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updateType",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{acceptedFileTypes:e}))}},{key:"updateMultiple",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{multiple:e}))}},{key:"updateEnableFileTypes",value:function(e){e?this.updateType([]):this.updateType(void 0)}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"fileTypesEnabled",get:function(){return Array.isArray(this.internalValue.acceptedFileTypes)}},{key:"types",get:function(){return bd["d"].types.map((function(e){return e.value}))}},{key:"internalValue",get:function(){return this.value||gd}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],yd.prototype,"value",void 0),yd=Object(u["a"])([Object(d["a"])({components:{DropdownInput:go["a"],Repeater:jc["default"]}})],yd);var Od=yd,kd=Od,jd=Object(ne["a"])(kd,md,fd,!1,null,null,null),Sd=jd.exports;Na()(jd,{VAutocomplete:gu["a"],VCheckbox:Ru["a"]});var Cd=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-media-size-options"},[n("div",{staticClass:"mb-3"},[n("h3",{staticClass:"mb-2"},[e._v("Media Size Options")]),n("v-combobox",{attrs:{label:"Image Path",value:e.internalValue.imagePropertyPath,items:e.paths,hint:"Will only show an image's available sizes. Use [] when inside a repeater.","persistent-hint":"",clearable:""},on:{input:e.updatePath}}),e.internalValue.imagePropertyPath?n("v-checkbox",{staticClass:"mb-3 mt-2",attrs:{"input-value":e.internalValue.disableSrcset,label:"Don't add srcset attribute to the Image object","persistent-hint":"","hide-details":""},on:{change:e.toggleSrcset}}):e._e()],1)])},xd=[],wd=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updatePath",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{imagePropertyPath:e||""}))}},{key:"toggleSrcset",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{disableSrcset:e}))}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"internalValue",get:function(){return this.value||{}}},{key:"paths",get:function(){return this.context.getPathsToAllControls(["wpmedia"])}}]),n}(a["a"]);Object(u["a"])([Object(d["b"])("context")],wd.prototype,"context",void 0),Object(u["a"])([Object(d["d"])()],wd.prototype,"value",void 0),wd=Object(u["a"])([Object(d["a"])({components:{DropdownInput:go["a"],Repeater:jc["default"]}})],wd);var Pd=wd,_d=Pd,Ed=Object(ne["a"])(_d,Cd,xd,!1,null,null,null),Id=Ed.exports;Na()(Ed,{VCheckbox:Ru["a"],VCombobox:cu["a"]});var Dd=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-icon-options"},[n("div",{staticClass:"mb-3"},[n("h3",{staticClass:"mb-2"},[e._v("Icon Options")]),n("v-combobox",{attrs:{clearable:"",multiple:"",value:e.internalValue.suggestions,label:"Suggestions"},on:{input:e.updateSuggestions}})],1)])},Td=[],Ad=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updateSuggestions",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{suggestions:e}))}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"internalValue",get:function(){return this.value||{}}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Ad.prototype,"value",void 0),Ad=Object(u["a"])([Object(d["a"])({components:{DropdownInput:go["a"],Repeater:jc["default"]}})],Ad);var Rd=Ad,Bd=Rd,Md=Object(ne["a"])(Bd,Dd,Td,!1,null,null,null),Fd=Md.exports;function Vd(e,t){function n(e,n,a,i){var r="";return r="control"===i?"".concat(t,".").concat(n,"_").concat(a,".%%BREAKPOINT%%"):"complex"===i?"".concat(t,".").concat(n,".%%BREAKPOINT%%.").concat(a):"".concat(t,".").concat(n,".").concat(a),{location:"".concat(e,"-").concat(a),cssProperty:"".concat(n,"-").concat(a),affectedPropertyPath:r}}var a=[n("outside","margin","top","complex"),n("outside","margin","bottom","complex"),n("outside","margin","right","complex"),n("outside","margin","left","complex")],i=[n("inside","padding","top","complex"),n("inside","padding","bottom","complex"),n("inside","padding","right","complex"),n("inside","padding","left","complex")],r=[n("outside","margin","top","control"),n("outside","margin","bottom","control")],o=[n("outside","margin","right","control"),n("outside","margin","left","control")],s=[n("inside","padding","top","control"),n("inside","padding","bottom","control")],l=[n("inside","padding","right","control"),n("inside","padding","left","control")],c=[n("outside","margin","top","not_responsive"),n("outside","margin","bottom","not_responsive"),n("outside","margin","right","not_responsive"),n("outside","margin","left","not_responsive"),n("inside","padding","top","not_responsive"),n("inside","padding","bottom","not_responsive"),n("inside","padding","right","not_responsive"),n("inside","padding","left","not_responsive")];switch(e){case"spacing_all":return[].concat(a,i);case"spacing_all_y":return[].concat(r,s);case"spacing_all_x":return[].concat(o,l);case"spacing_margin_all":return a;case"spacing_margin_y":return r;case"spacing_margin_x":return o;case"spacing_padding_all":return i;case"spacing_padding_y":return s;case"spacing_padding_x":return l;case"spacing_all_not_responsive":return c}}Na()(Md,{VCombobox:cu["a"]});var Ld=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-post-chooser-options"},[n("div",{staticClass:"mb-3"},[n("h2",{staticClass:"mb-2"},[e._v("Post Chooser Options")]),n("div",{staticClass:"mt-2"},[n("h4",{staticClass:"mb-1"},[e._v("Post Type")]),n("TextInput",{attrs:{value:e.internalValue.postType},on:{input:function(t){return e.update("postType",t)}}})],1),n("v-checkbox",{attrs:{label:"Multiple","input-value":e.internalValue.multiple,"hide-details":""},on:{change:function(t){return e.update("multiple",t)}}}),n("v-checkbox",{attrs:{label:"Show Thumbnails","input-value":e.internalValue.showThumbnails,"hide-details":""},on:{change:function(t){return e.update("showThumbnails",t)}}})],1)])},Wd=[],Nd={multiple:!1,showThumbnails:!1,postType:"post"},$d=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updateMultiple",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{multiple:e}))}},{key:"update",value:function(e,t){this.emit(Object(C["a"])({},this.internalValue,Object(Rt["a"])({},e,null!==t&&void 0!==t?t:"")))}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"internalValue",get:function(){return this.value||Nd}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],$d.prototype,"value",void 0),$d=Object(u["a"])([Object(d["a"])({components:{TextInput:mo["a"],DropdownInput:go["a"],Repeater:jc["default"]}})],$d);var Ud=$d,Hd=Ud,zd=Object(ne["a"])(Hd,Ld,Wd,!1,null,null,null),Gd=zd.exports;Na()(zd,{VCheckbox:Ru["a"]});var qd=n("3814"),Kd=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-media-options mb-3"},[n("h2",{staticClass:"mb-2"},[e._v("Video Options")]),n("v-autocomplete",{attrs:{label:"Providers",value:e.internalValue.providers,items:e.types,multiple:!0,hint:"All providers are allowed by default."},on:{input:e.updateProviders}})],1)},Xd=[],Yd={providers:[]},Qd=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updateProviders",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{providers:e}))}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"types",get:function(){return gc["f"].types.map((function(e){return e.value}))}},{key:"internalValue",get:function(){return this.value||Yd}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Qd.prototype,"value",void 0),Qd=Object(u["a"])([Object(d["a"])({components:{DropdownInput:go["a"],Repeater:jc["default"]}})],Qd);var Zd=Qd,Jd=Zd,ep=Object(ne["a"])(Jd,Kd,Xd,!1,null,null,null),tp=ep.exports;Na()(ep,{VAutocomplete:gu["a"]});var np=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-media-options mb-3"},[n("h3",{staticClass:"mb-2"},[e._v("Alert Box Options")]),n("DropdownInput",{staticClass:"mb-4",attrs:{placeholder:"Style",items:e.styles,value:e.internalValue.style},on:{input:e.updateStyle}}),n("TipTapWrapper",{attrs:{value:e.internalValue.content},on:{input:e.updateContent}})],1)},ap=[],ip=n("ef4f"),rp={style:"default",content:""},op=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updateStyle",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{style:e}))}},{key:"updateContent",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{content:null!==e&&void 0!==e?e:""}))}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"internalValue",get:function(){return this.value||rp}},{key:"styles",get:function(){return gc["a"].types.map((function(e){return e.value}))}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],op.prototype,"value",void 0),op=Object(u["a"])([Object(d["a"])({components:{DropdownInput:go["a"],TipTapWrapper:ip["a"]}})],op);var sp=op,lp=sp,cp=Object(ne["a"])(lp,np,ap,!1,null,null,null),up=cp.exports,dp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-focus-point-options mb-3"},[n("h2",{staticClass:"mb-2"},[e._v("Focus Point Options")]),n("v-checkbox",{staticClass:"mb-3",attrs:{label:"Enable Grid Mode","hide-details":"","input-value":e.internalValue.gridMode},on:{change:e.updateGridMode}}),n("v-autocomplete",{staticClass:"mb-2",attrs:{label:"Image Path",value:e.internalValue.imagePropertyPath,items:e.paths,"persistent-hint":"",hint:"Shows an image as background of this input",clearable:"",disabled:e.internalValue.gridMode},on:{input:e.updatePath}}),e.internalValue.gridMode?n("AlertBox",{attrs:{options:{type:"info",content:"Not available when grid mode is enabled."}}}):e._e()],1)},pp=[],vp=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updatePath",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{imagePropertyPath:e||""}))}},{key:"updateGridMode",value:function(e){this.emit(Object(C["a"])({},this.internalValue,{gridMode:e}))}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"internalValue",get:function(){return this.value||{}}},{key:"paths",get:function(){return this.context.getPathsToAllControls(["wpmedia"])}}]),n}(a["a"]);Object(u["a"])([Object(d["b"])("context")],vp.prototype,"context",void 0),Object(u["a"])([Object(d["d"])()],vp.prototype,"value",void 0),vp=Object(u["a"])([Object(d["a"])({components:{AlertBox:Ys["a"],DropdownInput:go["a"],Repeater:jc["default"]}})],vp);var hp=vp,mp=hp,fp=Object(ne["a"])(mp,dp,pp,!1,null,null,null),bp=fp.exports;Na()(fp,{VAutocomplete:gu["a"],VCheckbox:Ru["a"]});var gp=n("f25d"),yp=n("3666"),Op=n.n(yp);function kp(e,t,n,a){return jp.apply(this,arguments)}function jp(){return jp=Object(f["a"])(regeneratorRuntime.mark((function e(t,n,a,i){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(B["a"])({action:"breakdance_save_preset",dataToPost:{directoryPath:n,filename:a,preset:Object(gp["f"])(Object(gp["h"])(i),t.section,Object(Zl["d"])(i))},decoder:M["v"]});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)}))),jp.apply(this,arguments)}function Sp(e,t){return"".concat(e,"\\").concat(Op()(t))}var Cp=n("4837"),xp=n("a336"),wp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio-hide-control-input"},[n("v-checkbox",{attrs:{"input-value":!!e.value,label:"Hide Control From Specific Elements","hide-details":""},on:{change:e.toggleControl}}),e.value?n("v-combobox",{attrs:{label:"Elements",items:e.items,value:e.value,multiple:""},on:{input:e.updateValue}}):e._e()],1)},Pp=[],_p=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"toggleControl",value:function(e){e?this.$emit("input",[]):this.$emit("remove")}},{key:"updateValue",value:function(e){this.$emit("input",e)}},{key:"items",get:function(){return Object.keys(kt["b"].elements)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],_p.prototype,"value",void 0),Object(u["a"])([Object(d["b"])("context")],_p.prototype,"context",void 0),_p=Object(u["a"])([Object(d["a"])({})],_p);var Ep=_p,Ip=Ep,Dp=Object(ne["a"])(Ip,wp,Pp,!1,null,null,null),Tp=Dp.exports;Na()(Dp,{VCheckbox:Ru["a"],VCombobox:cu["a"]});var Ap=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.codeHelpOpen=!1,e.showContentEditableCode=!1,e.showNewPresetDialog=!1,e.accordionState=[!1],e}return Object(s["a"])(n,[{key:"saveNewPreset",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,r=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.isSection){e.next=2;break}return e.abrupt("return");case 2:if(n=Op()(t.name),a=Sp(t.namespace,n),!this.elementStudioData.presets.find((function(e){return e.slug===a}))){e.next=7;break}return Object(Zl["h"])(this.elementStudioData.saveLocations,t,"preset"),e.abrupt("return");case 7:return i=this.value,i.options.sectionOptions=Object(C["a"])({},i.options.sectionOptions,{preset:{slug:a}}),e.t0=Cp["c"],e.next=12,kp({slug:a,section:i},t.directoryPath,n,a);case 12:e.t1=e.sent,e.t2=Object(xp["a"])((function(e){console.error(e),ke["a"].log.message("Failed to save element, check console")}),(function(){var e=Object(Ue["a"])(r.elementStudioData);e.presets.push({slug:a,directoryPath:t.directoryPath}),e.presetSections.push({slug:a,section:i}),r.context.updateElementStudioData(e),r.context.updateControl(r.parentPath,r.index,i)})),(0,e.t0)(e.t1,e.t2);case 15:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"toggleAccordion",value:function(e){a["a"].set(this.accordionState,e,!this.accordionState[e])}},{key:"handleDrag",value:function(e){this.context.replaceControls("".concat(this.path,".children"),e)}},{key:"handlePaste",value:function(){if(this.controlAcceptsChildren&&p["g"].clipboard.elementStudio){var e=p["g"].clipboard.elementStudio.copiedControl;e&&this.context.pasteControl("".concat(this.path,".children"),e)}}},{key:"handleReplace",value:function(){if(p["g"].clipboard.elementStudio){var e=p["g"].clipboard.elementStudio.copiedControl;e&&this.context.updateControl(this.parentPath,this.index,e)}}},{key:"handleMakePreset",value:function(){this.showNewPresetDialog=!0}},{key:"copy",value:function(){var e=Object(Ue["a"])(this.value);p["g"].copyElementStudioControl(e)}},{key:"updatePresetSectionSlug",value:function(e){var t=Object(Ue["a"])(this.context.getPresetSection(e));void 0!==t&&(t.section.options.sectionOptions=Object(C["a"])({},t.section.options.sectionOptions,{type:"popout"}),this.context.updateControl(this.parentPath,this.index,t.section),this.turnRelativePropPathsToWhitelistInFlatPropsIntoAbsolutePathsAndUpdateElement(t.section.options.sectionOptions,t.section.slug),this.turnRelativeDynamicPropPathsIntoAbsoluteAndUpdateElement(t.section.options.sectionOptions,t.section.slug))}},{key:"turnRelativePropPathsToWhitelistInFlatPropsIntoAbsolutePathsAndUpdateElement",value:function(e,t){var n,a=this;if(e&&(null===(n=e.preset)||void 0===n?void 0:n.relativePropertyPathsToWhitelistInFlatProps)){var i=t||Object(gp["h"])(t),r=Object(Ue["a"])(this.context.element().propertyPathsToWhitelistInFlatProps),o=e.preset.relativePropertyPathsToWhitelistInFlatProps.map((function(e){return"".concat(a.twigParentPath,".").concat(i,".").concat(e)})),s=e.preset.relativePropertyPathsToWhitelistInFlatProps.map((function(e){return"".concat(a.twigParentPath,".").concat(a.value.slug,".").concat(e)}));r?(r=r.filter((function(e){return!o.includes(e)&&!s.includes(e)})),r=[].concat(Object(k["a"])(r),Object(k["a"])(o))):r=o,Object(it["a"])((function(){return a.context.updateElementValue("propertyPathsToWhitelistInFlatProps",r)}))}}},{key:"turnRelativeDynamicPropPathsIntoAbsoluteAndUpdateElement",value:function(e,t){var n,a=this;if(e&&(null===(n=e.preset)||void 0===n?void 0:n.relativeDynamicPropertyPaths)){var i=t||Object(gp["h"])(t),r=Object(Ue["a"])(this.context.element().dynamicPropertyPaths),o=e.preset.relativeDynamicPropertyPaths.map((function(e){return Object(C["a"])({},e,{path:"".concat(a.twigParentPath,".").concat(i,".").concat(e.path)})})),s=e.preset.relativeDynamicPropertyPaths.map((function(e){return Object(C["a"])({},e,{path:"".concat(a.twigParentPath,".").concat(a.value.slug,".").concat(e.path)})}));r?(r=r.filter((function(e){return!o.some((function(t){return t.path===e.path}))&&!s.some((function(t){return t.path===e.path}))})),r=[].concat(Object(k["a"])(r),Object(k["a"])(o))):r=o,Object(it["a"])((function(){return a.context.updateElementValue("dynamicPropertyPaths",r)}))}}},{key:"removeDisallowedControlTypes",value:function(e){var t=["class","font_family","global_colors","message"];return!t.includes(e)}},{key:"addControl",value:function(){this.context.addControl(this.path)}},{key:"deleteControl",value:function(){this.context.deleteControl(this.parentPath,this.index)}},{key:"updateControlType",value:function(e){var t=Object(Ue["a"])(this.value);if(t.options.type=e,!this.isInContentTab){var n=["code","repeater","inline_repeater","spacing_complex","border_complex","gradient","icon","richtext","shadow","wpmedia","text","focus_point","url"];n.includes(e)?t.options.layout="vertical":t.options.layout="inline"}this.context.updateControl(this.parentPath,this.index,t)}},{key:"updateVariableItems",value:function(e){var t=Object(Ue["a"])(this.value);t.options.variableItems=e,this.context.updateControl(this.parentPath,this.index,t)}},{key:"updateVariableItem",value:function(e){var t=e.newItem,n=e.index,a=Object(Ue["a"])(this.value);a.options.variableItems||(a.options.variableItems=[]),a.options.variableItems[n]=t,this.context.updateControl(this.parentPath,this.index,a)}},{key:"updateDropdownItems",value:function(e){var t=Object(Ue["a"])(this.value);t.options.items=e,this.context.updateControl(this.parentPath,this.index,t)}},{key:"updateDropdownItem",value:function(e){var t=e.newItem,n=e.index,a=Object(Ue["a"])(this.value);a.options.items||(a.options.items=[]),a.options.items[n]=t,this.context.updateControl(this.parentPath,this.index,a)}},{key:"updateOptions",value:function(e,t){var n=Object(Ue["a"])(this.value),a="options.".concat(t);E.a.set(n,a,e),this.context.updateControl(this.parentPath,this.index,n)}},{key:"updateAddExtraElementsBySlug",value:function(e){var t=Object(Ue["a"])(this.value);t.options.addRegisteredChildrenOptions=Object(C["a"])({},t.options.addRegisteredChildrenOptions,{addExtraElementsBySlug:e}),this.context.updateControl(this.parentPath,this.index,t)}},{key:"updateCodeType",value:function(e){var t=Object(Ue["a"])(this.value);t.options.codeOptions=Object(C["a"])({},t.options.codeOptions,{language:e}),this.context.updateControl(this.parentPath,this.index,t)}},{key:"updateShadowType",value:function(e){var t=Object(Ue["a"])(this.value);t.options.shadowOptions=Object(C["a"])({},t.options.shadowOptions,{type:e}),this.context.updateControl(this.parentPath,this.index,t)}},{key:"updateTextOptionsMultiline",value:function(e){var t=Object(Ue["a"])(this.value);t.options.textOptions=Object(C["a"])({},t.options.textOptions,{multiline:e}),this.context.updateControl(this.parentPath,this.index,t)}},{key:"updateButtonBarOptionsSize",value:function(e){var t=Object(Ue["a"])(this.value);t.options.buttonBarOptions=Object(C["a"])({},t.options.buttonBarOptions,{size:e?"big":"small",layout:"default"}),this.context.updateControl(this.parentPath,this.index,t)}},{key:"updateButtonBarOptionsLayout",value:function(e){var t=Object(Ue["a"])(this.value);t.options.buttonBarOptions=Object(C["a"])({},t.options.buttonBarOptions,{layout:e?"multiline":"default",size:"small"}),this.context.updateControl(this.parentPath,this.index,t)}},{key:"addPreset",value:function(){this.context.addPreset(this.path)}},{key:"updateControlLayout",value:function(e){var t=Object(Ue["a"])(this.value);t.options.layout=e,this.context.updateControl(this.parentPath,this.index,t)}},{key:"updateKeywords",value:function(e){var t=Object(Ue["a"])(this.value);t.keywords=null===e?void 0:e.split(","),this.context.updateControl(this.parentPath,this.index,t)}},{key:"updatePlaceholder",value:function(e){var t=Object(Ue["a"])(this.value);t.options.placeholder=null!==e&&void 0!==e?e:void 0,this.context.updateControl(this.parentPath,this.index,t)}},{key:"updateColorType",value:function(e){var t=Object(Ue["a"])(this.value);t.options.colorOptions=Object(C["a"])({},t.options.colorOptions,{type:e}),this.context.updateControl(this.parentPath,this.index,t)}},{key:"updateConditions",value:function(e){var t=Object(Ue["a"])(this.value);t.options.condition=e,this.context.updateControl(this.parentPath,this.index,t)}},{key:"updateHideForElements",value:function(e){var t=Object(Ue["a"])(this.value);t.options.hideForElements=e,this.context.updateControl(this.parentPath,this.index,t)}},{key:"deleteHideForElements",value:function(){var e=Object(Ue["a"])(this.value);delete e.options.hideForElements,this.context.updateControl(this.parentPath,this.index,e)}},{key:"updateSectionLayoutType",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"accordion",t=Object(Ue["a"])(this.value);t.options.sectionOptions=Object(C["a"])({},t.options.sectionOptions,{type:e}),this.context.updateControl(this.parentPath,this.index,t)}},{key:"updateLabelAndSlugOnFocusOut",value:function(e){var t=e.target.value,n=Object(Ue["a"])(this.value);n.label=t,n.slug=t.replace(/[^a-z0-9]+/gi,"_").toLowerCase(),/^\d/.test(n.slug)&&(n.slug="slug_cant_start_with_number_".concat(n.slug)),this.context.updateControl(this.parentPath,this.index,n),this.updateElementPropertiesNotTiedToControl(n)}},{key:"updateControlBoolean",value:function(e,t){var n=Object(Ue["a"])(this.value);n[t]=e,this.context.updateControl(this.parentPath,this.index,n)}},{key:"updateDynamicPropertyPaths",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"string",a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=Object(Ue["a"])(this.context.element().dynamicPropertyPaths);i&&(i=i.filter((function(e){return e.path!==t.twigPathWithoutRepeaterIndex}))),e&&(i||(i=[]),i.push(Object(C["a"])({accepts:n,path:this.twigPathWithoutRepeaterIndex},a&&{proOnly:a}))),this.context.updateElementValue("dynamicPropertyPaths",i)}},{key:"isSpacingBarEnabled",value:function(){var e=this.context.element().spacingBars;if(!e||!e.length)return!1;if(!this.spacingBarPresetSlug)return!1;var t=Vd(this.spacingBarPresetSlug,this.twigPathWithoutRepeaterIndex).map((function(e){return e.affectedPropertyPath})),n=e.find((function(e){return t.includes(e.affectedPropertyPath)}));return!!n}},{key:"updateSpacingBar",value:function(e){if(this.spacingBarPresetSlug){var t=Object(Ue["a"])(this.context.element().spacingBars),n=Vd(this.spacingBarPresetSlug,this.twigPathWithoutRepeaterIndex);if(e)t||(t=[]),t=[].concat(Object(k["a"])(t),Object(k["a"])(n));else if(t){var a=n.map((function(e){return e.affectedPropertyPath}));t=t.filter((function(e){return!a.includes(e.affectedPropertyPath)}))}this.context.updateElementValue("spacingBars",t)}}},{key:"updateElementPropertiesNotTiedToControl",value:function(e){var t=this;Object(it["a"])((function(){return t.updateSpacingBar(!1)})),Object(it["a"])((function(){return t.updateDynamicPropertyPaths(!1)})),Object(it["a"])((function(){return t.updatePropertyPathsToWhitelistInFlatProps(!1)})),Object(it["a"])((function(){return t.updatePropertyPathsToSsrElementWhenValueChanges(!1)})),this.turnRelativePropPathsToWhitelistInFlatPropsIntoAbsolutePathsAndUpdateElement(e.options.sectionOptions,e.slug),this.turnRelativeDynamicPropPathsIntoAbsoluteAndUpdateElement(e.options.sectionOptions,e.slug)}},{key:"updatePropertyPathsToWhitelistInFlatProps",value:function(e){var t=this,n=Object(Ue["a"])(this.context.element().propertyPathsToWhitelistInFlatProps);if(e)n||(n=[]),n.push(this.twigPathWithoutRepeaterIndex);else if(n){var a=n.findIndex((function(e){return e===t.twigPathWithoutRepeaterIndex}));a>-1&&n.splice(a,1)}this.context.updateElementValue("propertyPathsToWhitelistInFlatProps",n)}},{key:"updatePropertyPathsToSsrElementWhenValueChanges",value:function(e){var t=this,n=Object(Ue["a"])(this.context.element().propertyPathsToSsrElementWhenValueChanges);e?(n||(n=[]),n.push(this.twigPathWithoutRepeaterIndex)):n&&(n=n.filter((function(e){return e!==t.twigPathWithoutRepeaterIndex}))),this.context.updateElementValue("propertyPathsToSsrElementWhenValueChanges",n)}},{key:"canHaveMediaQueries",get:function(){var e;return!!(null===(e=this.parentControl)||void 0===e?void 0:e.enableMediaQueries)}},{key:"parentType",get:function(){var e;return null===(e=this.parentControl)||void 0===e?void 0:e.options.type}},{key:"keyToRerenderCodeHelp",get:function(){var e=Object(Me["a"])(this.value);return Object(We["a"])("".concat(e))}},{key:"isPresetSection",get:function(){return!!this.presetSectionSlug}},{key:"presetSectionSlug",get:function(){var e,t;return null===(e=this.value.options.sectionOptions)||void 0===e||null===(t=e.preset)||void 0===t?void 0:t.slug}},{key:"isSection",get:function(){return"section"===this.value.options.type}},{key:"isRepeater",get:function(){return Object(Re["k"])(this.value.options.type)}},{key:"isParentARepeater",get:function(){return Object(Re["k"])(this.parentType)}},{key:"controlAcceptsChildren",get:function(){return Object(Re["a"])(this.value.options.type)}},{key:"isInContentTab",get:function(){return this.path.startsWith("contentSections")}},{key:"spacingBarPresetSlug",get:function(){var e=this;if(this.isSection)return le["h"].find((function(t){var n,a,i;return t===(null===(n=e.value.options)||void 0===n||null===(a=n.sectionOptions)||void 0===a||null===(i=a.preset)||void 0===i?void 0:i.slug)}))}},{key:"classList",get:function(){return{"element-studio-control-or-control-section":!0,"element-studio-control-section":!0,"element-studio-control":!this.controlAcceptsChildren}}},{key:"dynamicPropertyPath",get:function(){var e=this,t=this.context.element().dynamicPropertyPaths;if(!t)return!1;var n=t.find((function(t){return Object(ye["d"])(t.path)===e.twigPathWithoutRepeaterIndex}));return n}},{key:"twigPathWithoutRepeaterIndex",get:function(){return Object(ye["d"])("".concat(this.twigParentPath).concat(this.isParentARepeater?"[]":"",".").concat(this.value.slug))}},{key:"dynamicPathAcceptsItems",get:function(){return Object(ye["c"])()}},{key:"contentEditableHelperCode",get:function(){return"// Add to the control value's wrapper HTML to make it ContentEditable\n\n    ".concat(this.twigPathForContentEditable,"\n    ")}},{key:"twigPathForContentEditable",get:function(){return this.isRepeater||this.isParentARepeater?"{{ dataContentEditablePropertyPath('".concat(this.twigParentPath,"['~ loop.index0 ~ '].your_control') }}"):"{{ dataContentEditablePropertyPath('".concat(this.twigPathWithoutRepeaterIndex,"') }}")}},{key:"datePickerOptions",get:function(){return Object.keys(gc["e"].props)}},{key:"elementStudioData",get:function(){return this.context.getElementStudioData()}},{key:"canPaste",get:function(){return this.controlAcceptsChildren&&!this.isPresetSection&&p["g"].clipboard.elementStudio&&p["g"].clipboard.elementStudio.copiedControl}},{key:"canReplace",get:function(){if(!p["g"].clipboard.elementStudio||!p["g"].clipboard.elementStudio.copiedControl)return!1;var e=p["g"].clipboard.elementStudio.copiedControl;return!this.isSection||"section"===e.options.type}},{key:"controlTypes",get:function(){var e=this,t=function(e){return e.charAt(0).toUpperCase()+e.slice(1)},n=[];return gc["b"].sort().filter(this.removeDisallowedControlTypes).map((function(e){return{text:t(e),value:e}})).map((function(t){return e.isInContentTab&&n.includes(t.value)?Object(C["a"])({},t,{disabled:!0}):t}))}},{key:"availablePresetSections",get:function(){return this.context.getPresetSections().map((function(e){return{text:e.slug,value:e.slug}}))}},{key:"availableDescendantElements",get:function(){var e=this;return Object.values(p["b"].elements).filter((function(t){return!!t&&(!t.nestingRule.restrictedToBeADirectChildOf&&Object(Be["j"])(t.nestingRule,e.context.element().nestingRule,e.context.element().slug))})).map((function(e){return null===e||void 0===e?void 0:e.slug}))}},{key:"autofocusSupported",get:function(){switch(this.value.options.type){case"text":return!0;case"video":return!0;default:return!1}}},{key:"codeTypes",get:function(){return gc["c"].props.language.types.map((function(e){return e.value}))}},{key:"shadowTypes",get:function(){return gc["h"].props.type.types.map((function(e){return e.value}))}},{key:"controlLayouts",get:function(){return["inline","vertical"]}},{key:"keywordsValue",get:function(){return this.value.keywords?this.value.keywords.join(","):""}},{key:"sectionLayouts",get:function(){return gc["j"]}},{key:"shouldControlValueBeAddedInAllBreakpoints",get:function(){var e=this.context.element().propertyPathsToWhitelistInFlatProps;return e&&e.includes(this.twigPathWithoutRepeaterIndex)}},{key:"hasSsr",get:function(){return this.context.element().template.includes("%%SSR%%")}},{key:"shouldControlValueCauseSsr",get:function(){var e=this.context.element().propertyPathsToSsrElementWhenValueChanges;return e&&e.includes(this.twigPathWithoutRepeaterIndex)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Ap.prototype,"path",void 0),Object(u["a"])([Object(d["d"])()],Ap.prototype,"parentPath",void 0),Object(u["a"])([Object(d["d"])()],Ap.prototype,"index",void 0),Object(u["a"])([Object(d["d"])()],Ap.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],Ap.prototype,"twigParentPath",void 0),Object(u["a"])([Object(d["d"])()],Ap.prototype,"parentControl",void 0),Object(u["a"])([Object(d["b"])("context")],Ap.prototype,"context",void 0),Ap=Object(u["a"])([Object(d["a"])({name:"ControlSectionOrControl",components:{ElementStudioHideControlInput:Tp,ElementStudioSaveNewDialog:ac,ElementStudioFocusPointOptions:bp,ElementStudioVideoOptions:tp,ElementStudioIconsAutocomplete:Gu,IconButton:Ai["a"],InlineRepeater:qd["a"],ElementStudioBreakpointOptions:od,Icon:Z["a"],ElementStudioIconOptions:Fd,ElementStudioMediaSizeOptions:Id,ElementStudioMediaOptions:Sd,ElementStudioPostChooserOptions:Gd,TextInput:mo["a"],Copyable:Lc,ElementStudioDropdownOptions:Ju,ElementStudioVariableOptions:hd,DropdownInput:go["a"],ElementStudioRepeaterOptions:Mu,ElementStudioRangeOptions:Pu,Dropdown:Ri["a"],CopyButton:Ic["a"],ShittyTextInput:Ec,Repeater:jc["default"],ControlSectionOrControl:Ap,draggable:Oc.a,Accordion:kc["a"],TwigCodeHelper:au,ElementStudioConditionInput:du,ElementStudioUnitOptions:Ou,ElementStudioAlertBoxOptions:up}})],Ap);var Rp=Ap,Bp=Rp,Mp=(n("589b"),Object(ne["a"])(Bp,fc,bc,!1,null,null,null)),Fp=Mp.exports;Na()(Mp,{VAutocomplete:gu["a"],VBtn:$a["a"],VCard:pr["a"],VCheckbox:Ru["a"],VList:Vi["a"],VListItem:Li["a"],VListItemTitle:Wi["c"],VSelect:Ps["a"],VSpacer:ro["a"],VSwitch:hl["a"]});var Vp=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"handleDrag",value:function(e){this.context.replaceControls(this.sectionName,e)}},{key:"handlePaste",value:function(){if(kt["h"].clipboard.elementStudio){var e=kt["h"].clipboard.elementStudio.copiedControl;e&&this.context.pasteControl(this.sectionName,e)}}},{key:"addSection",value:function(){this.context.addControl(this.sectionName,"section")}},{key:"addPreset",value:function(){this.context.addPreset(this.sectionName)}},{key:"sectionName",get:function(){return"".concat(this.section,"Sections")}},{key:"canPaste",get:function(){return kt["h"].clipboard.elementStudio&&kt["h"].clipboard.elementStudio.copiedControl}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Vp.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],Vp.prototype,"section",void 0),Object(u["a"])([Object(d["b"])("context")],Vp.prototype,"context",void 0),Vp=Object(u["a"])([Object(d["a"])({components:{ControlSectionOrControl:Fp,draggable:Oc.a}})],Vp);var Lp=Vp,Wp=Lp,Np=Object(ne["a"])(Wp,hc,mc,!1,null,null,null),$p=Np.exports;Na()(Np,{VBtn:$a["a"]});var Up=n("a1a9"),Hp=n("f48c"),zp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._v(" Dependencies "),n("Repeater",{attrs:{value:e.value||[],control:{options:{repeaterOptions:{titleTemplate:"{title}",defaultTitle:"Dependency"}}}},on:{input:function(t){return e.updateDependenciesRoot(t)}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.index,i=t.value;return[n("v-text-field",{attrs:{label:"Title",value:i.title},on:{input:function(t){return e.updateDependency(t,"["+a+"].title")}}}),n("Accordion",{attrs:{expanded:"scripts"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("scripts")}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"pa-4"},[e._v(" Scripts ("+e._s(i.scripts?i.scripts.length:0)+") ")])]},proxy:!0},{key:"content",fn:function(){return[n("Repeater",{attrs:{value:i.scripts,control:{options:{repeaterOptions:{titleTemplate:"URL to script"}}}},on:{input:function(t){return e.updateDependencies(t,"["+a+"].scripts")}},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.index,r=t.value;return[n("v-autocomplete",{attrs:{placeholder:"Script",value:r,items:e.jsLocalDependencies},on:{input:function(t){return e.updateDependency(t,"["+a+"].scripts["+i+"]")}}}),!r||e.dependencyIsNotLocal(r,e.jsLocalDependencies)?n("div",[n("div",r?[e._v("The dependency is a hardcoded value:")]:[e._v("Hardcode a value:")]),n("div",[e._v(" Remember to use "),n("pre",[e._v("%%BREAKDANCE_ELEMENTS_PLUGIN_URL%%")])]),n("ShittyTextInput",{attrs:{value:r},on:{input:function(t){return e.updateDependency(t,"["+a+"].scripts["+i+"]")}}})],1):e._e(),n("v-btn",{attrs:{outlined:"",small:""},on:{click:e.getLocalDependenciesFilesFromWordpress}},[e._v(" Reload dependencies files ")])]}}],null,!0)})]},proxy:!0}],null,!0)}),n("Accordion",{attrs:{expanded:"inlineScripts"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("inlineScripts")}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"pa-4"},[e._v(" Inline Scripts ("+e._s(i.inlineScripts?i.inlineScripts.length:0)+") ")])]},proxy:!0},{key:"content",fn:function(){return[n("Repeater",{attrs:{value:i.inlineScripts,control:{options:{repeaterOptions:{titleTemplate:"JavaScript"}}}},on:{input:function(t){return e.updateDependencies(t,"["+a+"].inlineScripts")}},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.index,r=t.value;return[n("div",{staticClass:"element-studio__execute-inline-script-dependencies"},[n("v-btn",{attrs:{small:"",outlined:""},on:{click:function(t){return e.executeInlineScript("["+a+"].inlineScripts["+i+"]")}}},[e._v(" Execute code ")])],1),n("CodeInput",{attrs:{value:r,language:"javascript","twig-variables":e.twigVariables,tags:e.tags},on:{input:function(t){return e.updateDependency(t||"","["+a+"].inlineScripts["+i+"]")}}})]}}],null,!0)})]},proxy:!0}],null,!0)}),n("Accordion",{attrs:{expanded:"styles"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("styles")}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"pa-4"},[e._v(" Styles ("+e._s(i.styles?i.styles.length:0)+") ")])]},proxy:!0},{key:"content",fn:function(){return[n("Repeater",{attrs:{value:i.styles,control:{options:{repeaterOptions:{titleTemplate:"URL to style"}}}},on:{input:function(t){return e.updateDependencies(t,"["+a+"].styles")}},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.index,r=t.value;return[n("v-autocomplete",{attrs:{placeholder:"Style",value:r,items:e.cssLocalDependencies},on:{input:function(t){return e.updateDependency(t,"["+a+"].styles["+i+"]")}}}),!r||e.dependencyIsNotLocal(r,e.cssLocalDependencies)?n("div",[n("div",r?[e._v("The dependency is a hardcoded value:")]:[e._v("Hardcode a value:")]),n("div",[e._v(" Remember to use "),n("pre",[e._v("%%BREAKDANCE_ELEMENTS_PLUGIN_URL%%")])]),n("ShittyTextInput",{attrs:{value:r},on:{input:function(t){return e.updateDependency(t,"["+a+"].styles["+i+"]")}}})],1):e._e(),n("v-btn",{attrs:{outlined:"",small:""},on:{click:e.getLocalDependenciesFilesFromWordpress}},[e._v(" Reload dependencies files ")])]}}],null,!0)})]},proxy:!0}],null,!0)}),n("Accordion",{attrs:{expanded:"inlineStyles"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("inlineStyles")}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"pa-4"},[e._v(" Inline Styles ("+e._s(i.inlineStyles?i.inlineStyles.length:0)+") ")])]},proxy:!0},{key:"content",fn:function(){return[n("Repeater",{attrs:{path:"inlineStyles",value:i.inlineStyles,control:{options:{repeaterOptions:{titleTemplate:"CSS"}}}},on:{input:function(t){return e.updateDependencies(t,"["+a+"].inlineStyles")}},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.index,r=t.value;return[n("CodeInput",{attrs:{value:r,language:"css","twig-variables":e.twigVariables,tags:e.tags},on:{input:function(t){return e.updateDependency(t||"","["+a+"].inlineStyles["+i+"]")}}})]}}],null,!0)})]},proxy:!0}],null,!0)}),n("div",{staticClass:"element-studio-dependencies-separator"}),n("Accordion",{attrs:{expanded:"builderCondition"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("builderCondition")}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"pa-4"},[e._v(" Builder Condition ("+e._s(i.builderCondition?"present":"empty")+") ")])]},proxy:!0},{key:"content",fn:function(){return[n("CodeInput",{attrs:{value:i.builderCondition,language:"javascript","twig-variables":e.twigVariables},on:{input:function(t){return e.updateDependency(t||"","["+a+"].builderCondition")}}}),n("div",{class:{"element-studio-action-info":!0,"element-studio-action-info__open":e.conditionInfoOpen},on:{click:function(t){e.conditionInfoOpen=!e.conditionInfoOpen}}},[n("TextWithChevron",{attrs:{open:e.conditionInfoOpen}},[e._t("default",[e._v("Decides if the dependencies are added to the builder")])],2),n("div",{staticClass:"mt-2"},[e._v(" Can run Twig and JS code. ")]),n("div",[e._v(" When left empty the dependencies will always be added. ")]),n("div",[e._v(" If any code is present and the result returns a "),n("code",[e._v("true")]),e._v(" value the dependencies will be added. ")]),n("div",[e._v(" If it returns "),n("code",[e._v("false")]),e._v(" no dependencies are added. ")])],1)]},proxy:!0}],null,!0)}),n("Accordion",{attrs:{expanded:"frontendCondition"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("frontendCondition")}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"pa-4"},[e._v(" Frontend Condition ("+e._s(i.frontendCondition?"present":"empty")+") ")])]},proxy:!0},{key:"content",fn:function(){return[n("CodeInput",{attrs:{value:i.frontendCondition,language:"x-php","twig-variables":e.twigVariables},on:{input:function(t){return e.updateDependency(t||"","["+a+"].frontendCondition")}}}),n("div",{class:{"element-studio-action-info":!0,"element-studio-action-info__open":e.conditionInfoOpen},on:{click:function(t){e.conditionInfoOpen=!e.conditionInfoOpen}}},[n("TextWithChevron",{attrs:{open:e.conditionInfoOpen}},[e._t("default",[e._v("Decides if the dependencies are added to the frontend")])],2),n("div",{staticClass:"mt-2"},[e._v(" Can run Twig and PHP code. ")]),n("div",[e._v(" When left empty the dependencies will always be added. ")]),n("div",[e._v(" If any code is present and the result returns a "),n("code",[e._v("true")]),e._v(" value the dependencies will be added. ")]),n("div",[e._v(" If it returns "),n("code",[e._v("false")]),e._v(" no dependencies are added. ")])],1)]},proxy:!0}],null,!0)})]}}])})],1)},Gp=[],qp=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex align-center"},[n("Icon",{staticClass:"mr-2",attrs:{icon:"ChevronDownIcon",rotate:e.open?"90":void 0,size:"12"}}),n("b",[e._t("default")],2)],1)},Kp=[],Xp=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(a["a"]);Object(u["a"])([Object(d["d"])()],Xp.prototype,"open",void 0),Xp=Object(u["a"])([Object(d["a"])({components:{Icon:Z["a"]}})],Xp);var Yp=Xp,Qp=Yp,Zp=Object(ne["a"])(Qp,qp,Kp,!1,null,null,null),Jp=Zp.exports,ev=n("41ae"),tv=M["u"]([M["l"]("id"),M["l"]("parentId"),M["l"]("selector"),M["l"]("parent_selector"),M["l"]("postId"),M["l"]("ssr")]),nv=tv.types.map((function(e){var t=e.value;return t})),av=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.accordionState="",e.index=0,e.conditionInfoOpen=!1,e}return Object(s["a"])(n,[{key:"mounted",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!kt["b"].localDependenciesFiles.length){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getLocalDependenciesFilesFromWordpress();case 4:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"getLocalDependenciesFilesFromWordpress",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=q["pipe"],e.next=3,Object(B["a"])({action:"breakdance_get_local_dependency_files",decoder:M["g"](F["a"]),resultKey:"localDependencyFiles"});case 3:e.t1=e.sent,e.t2=Object(K["fold"])((function(e){return e.forEach((function(e){return ke["a"].log.message(e.msg)}))}),(function(e){kt["b"].setLocalDependenciesFiles(e)})),(0,e.t0)(e.t1,e.t2);case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateDependenciesRoot",value:function(e){this.context.updateDependency(e)}},{key:"updateDependencies",value:function(e,t){var n=Object(Ue["a"])(this.value)||[];E.a.set(n,t,e.map((function(e){return"string"===typeof e?e:""}))),this.context.updateDependency(n)}},{key:"updateDependency",value:function(e,t){var n=Object(Ue["a"])(this.value)||[];E.a.set(n,t,e),this.context.updateDependency(n)}},{key:"toggleAccordion",value:function(e){this.accordionState=this.accordionState===e?"":e}},{key:"executeInlineScript",value:function(e){var t=E.a.get(this.value,e);t&&Object(ev["a"])(Object(Ae["c"])(),{code:t,origin:"Executed inline script from Element Studio"})}},{key:"dependencyIsNotLocal",value:function(e,t){return!t.find((function(t){return"value"in t&&t.value===e}))}},{key:"localDependenciesAsVuetifySelectShape",value:function(e){var t=[];return kt["b"].localDependenciesFiles.forEach((function(n){n.files[e].length&&(t.push({header:n.name}),n.files[e].forEach((function(e){t.push({text:e.name,value:e.url})})))})),t}},{key:"tags",get:function(){return nv}},{key:"twigVariables",get:function(){return this.context.getPathsToAllControls()}},{key:"jsLocalDependencies",get:function(){return this.localDependenciesAsVuetifySelectShape("js")}},{key:"cssLocalDependencies",get:function(){return this.localDependenciesAsVuetifySelectShape("css")}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],av.prototype,"value",void 0),Object(u["a"])([Object(d["b"])("context")],av.prototype,"context",void 0),av=Object(u["a"])([Object(d["a"])({components:{TextInput:mo["a"],TextWithChevron:Jp,CodeInput:Up["default"],Accordion:kc["a"],ShittyTextInput:Ec,Repeater:jc["default"]}})],av);var iv=av,rv=iv,ov=(n("a435"),Object(ne["a"])(rv,zp,Gp,!1,null,null,null)),sv=ov.exports;Na()(ov,{VAutocomplete:gu["a"],VBtn:$a["a"],VTextField:vr["a"]});var lv=function(e){var t=Object(Ue["a"])(e),n=cv(t);return n.controls.settingsSections=[],n.cssTemplate=n.cssTemplate.split("\n{#%---")[0],n};function cv(e){var t=Object(Ue["a"])(e);return Object(Hp["b"])(t.controls).forEach((function(e){t.controls[e]=t.controls[e].filter((function(e){return!e.options.isExternal}))})),t}var uv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Accordion",{attrs:{expanded:e.accordionState===e.actionKey},on:{toggle:e.toggleAccordion},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"pa-4"},[e._v(" "+e._s(e.actionName)+" ("+e._s(e.value&&e.value[e.actionKey]?e.value[e.actionKey].length:0)+") ")])]},proxy:!0},{key:"content",fn:function(){return[n("b",[e._t("action-description")],2),n("Repeater",{attrs:{value:e.value[e.actionKey],control:{options:{repeaterOptions:{titleTemplate:"Script",buttonName:"Add script"}}},"default-new-value":{script:""}},on:{input:function(t){return e.updateActions(t)}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.index,i=t.value;return[n("CodeInput",{attrs:{language:"javascript",value:i.script,"twig-variables":e.twigVariables,tags:e.tags},on:{input:function(t){return e.updateAction(t||"",e.actionKey+"["+a+"].script")}}}),n("div",{class:{"element-studio-action-info":!0,"element-studio-action-info__open":e.actionInfoOpen},on:{click:function(t){e.actionInfoOpen=!e.actionInfoOpen}}},[n("TextWithChevron",{attrs:{open:e.actionInfoOpen}},[e._t("default",[e._v(" Available within the action's code: ")])],2),"onAfterDeletedElement"===e.actionKey?[n("div",{staticClass:"mt-3"},[e._v(" Tags: "),n("code",[e._v("%%PARENT_SELECTOR%%")]),e._v(" and "),n("code",[e._v("%%PARENT_ID%%")]),e._v(" are available. ")])]:[n("div",{staticClass:"mt-3"},[e._v(" You can use Twig to access the element properties. eg. "),n("code",[e._v("{ { design.background.color } }")]),e._v(". ")]),n("div",{staticClass:"mt-3"},[n("code",[e._v("%%SELECTOR%%, %%ID%%")]),e._v(" are also available. ")])]],2),e.withDependencies?n("Repeater",{attrs:{value:i.dependencies,control:{options:{repeaterOptions:{titleTemplate:"Dependency",buttonName:"Add dependency"}}}},on:{input:function(t){return e.updateDependencies(t,a)}},scopedSlots:e._u([{key:"default",fn:function(t){var i=t.index,r=t.value;return[n("v-combobox",{attrs:{items:e.pathsToAllControls,value:r},on:{input:function(t){return e.updateDependency(t,e.actionKey+"["+a+"].dependencies["+i+"]")}}}),n("div",{class:{"element-studio-action-info":!0,"element-studio-action-info__open":e.dependencyInfoOpen},on:{click:function(t){e.dependencyInfoOpen=!e.dependencyInfoOpen}}},[n("TextWithChevron",{attrs:{open:e.dependencyInfoOpen}},[e._t("default",[e._t("dependency-description-title")])],2),n("div",{staticClass:"mt-2"},[e._t("dependency-description")],2)],1)]}}],null,!0)}):e._e(),n("v-checkbox",{attrs:{"input-value":i.runForAllChildren,label:"Run for all children",hint:"beware that the Twig code running in the action will be with the child's data, including tags","persistent-hint":""},on:{change:function(t){return e.updateAction(t,e.actionKey+"["+a+"].runForAllChildren")}}})]}}],null,!0)})]},proxy:!0}],null,!0)})],1)},dv=[],pv=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.index=0,e.actionInfoOpen=!1,e.dependencyInfoOpen=!1,e}return Object(s["a"])(n,[{key:"toggleAccordion",value:function(){this.$emit("toggle",this.accordionState===this.actionKey?"":this.actionKey)}},{key:"getValueOrDefault",value:function(e){var t=Object(Ue["a"])(this.value);return t?t[e]||(t[e]=[{script:""}]):t=Object(Rt["a"])({},e,[{script:""}]),t}},{key:"updateActions",value:function(e){var t=this.getValueOrDefault(this.actionKey);t[this.actionKey]=e,this.context.updateActions(t)}},{key:"updateAction",value:function(e,t){var n=Object(Ue["a"])(this.value);E.a.set(n,t,e),this.context.updateActions(n)}},{key:"updateDependencies",value:function(e,t){var n=this.getValueOrDefault(this.actionKey),a=n[this.actionKey];a||(a=[]),a[t].dependencies=e.map((function(e){return"string"===typeof e?e:""})),n[this.actionKey]=a,this.context.updateActions(n)}},{key:"updateDependency",value:function(e,t){var n=Object(Ue["a"])(this.value);E.a.set(n,t,e),this.context.updateActions(n)}},{key:"actionName",get:function(){return E.a.lowerCase(this.actionKey)}},{key:"tags",get:function(){return nv}},{key:"twigVariables",get:function(){return this.context.getPathsToAllControls()}},{key:"pathsToAllControls",get:function(){var e=this.context.element().controls;return[e.designSections.length?"design":null,e.contentSections.length?"content":null].concat(Object(k["a"])(this.context.getPathsToAllControls([],[]))).filter(Boolean)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],pv.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],pv.prototype,"actionKey",void 0),Object(u["a"])([Object(d["d"])()],pv.prototype,"accordionState",void 0),Object(u["a"])([Object(d["d"])({default:!0})],pv.prototype,"withDependencies",void 0),Object(u["a"])([Object(d["b"])("context")],pv.prototype,"context",void 0),pv=Object(u["a"])([Object(d["a"])({components:{TextWithChevron:Jp,CodeInput:Up["default"],ShittyTextInput:Ec,Repeater:jc["default"],Accordion:kc["a"]}})],pv);var vv=pv,hv=vv,mv=(n("d55e"),Object(ne["a"])(hv,uv,dv,!1,null,null,null)),fv=mv.exports;Na()(mv,{VCheckbox:Ru["a"],VCombobox:cu["a"]});var bv=n("c881"),gv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Repeater",{attrs:{value:e.value||[],control:{options:{repeaterOptions:{defaultNewValue:{name:"",template:""},titleTemplate:"HTML Attribute",buttonName:"Add new HTML attribute"}}}},on:{input:function(t){return e.updateAttributes(t)}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.index,i=t.value;return[n("b",[e._v("Attribute Name")]),n("v-text-field",{attrs:{value:i.name,rules:[e.htmlAttributeNameRule]},on:{input:function(t){return e.updateName(a,t)}}}),n("b",[e._v("Attribute Value")]),"template"in i?n("CodeInput",{attrs:{value:i.template,language:"html"},on:{input:function(t){return e.updateTemplateValue(a,t)}}}):"propertyPath"in i?n("v-text-field",{attrs:{value:i.template},on:{input:function(t){return e.updatePropertyPathValue(a,t)}}}):"rawValue"in i?n("v-text-field",{attrs:{value:i.template},on:{input:function(t){return e.updateRawValue(a,t)}}}):e._e()]}}])})},yv=[],Ov=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updateAttributes",value:function(e){this.$emit("input",e)}},{key:"updateName",value:function(e,t){var n=Object(Ue["a"])(this.value);!0===this.htmlAttributeNameRule(t)&&(n[e].name=t.trim(),this.$emit("input",n))}},{key:"updateTemplateValue",value:function(e,t){var n=Object(Ue["a"])(this.value);n[e].template=null!==t&&void 0!==t?t:"",this.$emit("input",n)}},{key:"updatePropertyPathValue",value:function(e,t){var n=Object(Ue["a"])(this.value);n[e].propertyPath=t,this.$emit("input",n)}},{key:"updateRawValue",value:function(e,t){var n=Object(Ue["a"])(this.value);n[e].rawValue=t,this.$emit("input",n)}},{key:"htmlAttributeNameRule",value:function(e){return Xs["a"].validateHtmlAttributeName(e)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:function(){return[]}})],Ov.prototype,"value",void 0),Object(u["a"])([Object(d["b"])("context")],Ov.prototype,"context",void 0),Ov=Object(u["a"])([Object(d["a"])({components:{CodeInput:Up["default"],Repeater:jc["default"],Dropdown:Ri["a"],Accordion:kc["a"],draggable:Oc.a}})],Ov);var kv=Ov,jv=kv,Sv=Object(ne["a"])(jv,gv,yv,!1,null,null,null),Cv=Sv.exports;Na()(Sv,{VTextField:vr["a"]});var xv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Repeater",{attrs:{value:e.value||[],control:{options:{repeaterOptions:{titleTemplate:"Class .{name}",buttonName:"Add Class",defaultNewValue:{name:"my-class",template:"yes"}}}}},on:{input:function(t){return e.updateClasses(t)}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.index,i=t.value;return[n("b",[e._v("Class Name")]),n("v-text-field",{attrs:{value:i.name,rules:[e.htmlClassNameRule]},on:{input:function(t){return e.updateName(a,t)}}}),n("b",[e._v("Class Condition Twig Template")]),n("CodeInput",{attrs:{value:i.template,language:"html"},on:{input:function(t){return e.updateValue(a,t)}}}),n("div",{staticClass:"mt-2"},[e._v(" The template can run Twig code. Properties like design.something.whatever are available. If the template returns a blank string, the class will not be added. If the template returns anything, the class will be added. ")]),n("div",[e._v(" (the returned value is trimmed for spaces and newlines) ")])]}}])})},wv=[],Pv=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updateClasses",value:function(e){this.$emit("input",e)}},{key:"updateName",value:function(e,t){var n=Object(Ue["a"])(this.value);!0===this.htmlClassNameRule(t)&&(n[e].name=t.trim(),this.$emit("input",n))}},{key:"updateValue",value:function(e,t){var n=Object(Ue["a"])(this.value);n[e].template=null!==t&&void 0!==t?t:"",this.$emit("input",n)}},{key:"htmlClassNameRule",value:function(e){return Xs["a"].validateHtmlClassName(e)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:[]})],Pv.prototype,"value",void 0),Object(u["a"])([Object(d["b"])("context")],Pv.prototype,"context",void 0),Pv=Object(u["a"])([Object(d["a"])({components:{CodeInput:Up["default"],Repeater:jc["default"],Dropdown:Ri["a"],Accordion:kc["a"],draggable:Oc.a}})],Pv);var _v=Pv,Ev=_v,Iv=Object(ne["a"])(Ev,xv,wv,!1,null,null,null),Dv=Iv.exports;Na()(Iv,{VTextField:vr["a"]});var Tv=n("dc3b"),Av=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-card",[n("v-card-text",[e._v(" Looks Good "),n("DropdownInput",{attrs:{items:e.dropdownItems,value:e.value.looksGood,clearable:""},on:{input:function(t){return e.updateValueForKey("looksGood",t)}}}),n("br"),e._v(" Options Are Good "),n("DropdownInput",{attrs:{items:e.dropdownItems,value:e.value.optionsGood,clearable:""},on:{input:function(t){return e.updateValueForKey("optionsGood",t)}}}),n("br"),e._v(" Options Work "),n("DropdownInput",{attrs:{items:e.dropdownItems,value:e.value.optionsWork,clearable:""},on:{input:function(t){return e.updateValueForKey("optionsWork",t)}}}),n("br"),e._v(" Dynamic Behavior Works "),n("DropdownInput",{attrs:{items:e.dropdownItems,value:e.value.dynamicBehaviorWorks,clearable:""},on:{input:function(t){return e.updateValueForKey("dynamicBehaviorWorks",t)}}}),n("br"),n("br"),n("v-textarea",{staticStyle:{border:"1px solid var(--gray500)"},attrs:{filled:"",value:e.value.notes},on:{input:e.updateNotes}}),n("br")],1)],1)},Rv=[],Bv=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updateValueForKey",value:function(e,t){var n=Object(Ue["a"])(this.value);n[e]=t,this.emit(n)}},{key:"updateNotes",value:function(e){var t=Object(Ue["a"])(this.value);t.notes="string"===typeof e?e:"",this.emit(t)}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"dropdownItems",get:function(){return["yes","no","unknown","sort of"]}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Bv.prototype,"value",void 0),Bv=Object(u["a"])([Object(d["a"])({components:{DropdownInput:go["a"]}})],Bv);var Mv=Bv,Fv=Mv,Vv=n("a844"),Lv=Object(ne["a"])(Fv,Av,Rv,!1,null,null,null),Wv=Lv.exports;Na()(Lv,{VCard:pr["a"],VCardText:wo["b"],VTextarea:Vv["a"]});var Nv=n("dbcc"),$v=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("InlineRepeater",{attrs:{value:e.value||[]},on:{input:function(t){return e.updateElementValue(t)}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.index,i=t.value;return[n("v-combobox",{attrs:{value:i,hint:'To describe a repeater, use "[]". e.g: "content.list.my_repeater[].url"',rules:[e.pathRules],items:e.allPaths},on:{input:function(t){return e.updatePropertyPathByIndex(a,t)}}})]}}])})},Uv=[],Hv=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updateElementValue",value:function(e){var t=e.map((function(e){return"string"===typeof e?e:""}));this.$emit("input",t)}},{key:"updatePropertyPathByIndex",value:function(e,t){var n=Object(Ue["a"])(this.value);t&&this.pathRules(t)&&(n[e]=t.trim(),this.updateElementValue(n))}},{key:"pathRules",value:function(e){return Object(Re["n"])(e)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:function(){return[]}})],Hv.prototype,"value",void 0),Object(u["a"])([Object(d["d"])({default:function(){return[]}})],Hv.prototype,"allPaths",void 0),Hv=Object(u["a"])([Object(d["a"])({components:{InlineRepeater:qd["a"],Repeater:jc["default"],DropdownInput:go["a"],CodeInput:Up["default"],Dropdown:Ri["a"],Accordion:kc["a"],draggable:Oc.a}})],Hv);var zv=Hv,Gv=zv,qv=Object(ne["a"])(Gv,$v,Uv,!1,null,null,null),Kv=qv.exports;Na()(qv,{VCombobox:cu["a"]});var Xv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("Accordion",{attrs:{expanded:"dynamicPropertyPaths"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("dynamicPropertyPaths")}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"pa-4"},[e._v("Dynamic Property Paths")])]},proxy:!0},{key:"content",fn:function(){return[n("ElementStudioDynPropPaths",{attrs:{value:e.value.dynamicPropertyPaths,"all-paths":e.allPaths},on:{input:function(t){return e.updateElementValuePropPath(t,"dynamicPropertyPaths")}}})]},proxy:!0}])}),n("Accordion",{attrs:{expanded:"propertyPathsToWhitelistInFlatProps"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("propertyPathsToWhitelistInFlatProps")}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"pa-4"},[e._v("Property paths to whitelist in flat props")])]},proxy:!0},{key:"content",fn:function(){return[n("ElementStudioPropertyPaths",{attrs:{value:e.value.propertyPathsToWhitelistInFlatProps,"all-paths":e.allPathsWithDesignAndContent},on:{input:function(t){return e.updateElementValuePropPath(t,"propertyPathsToWhitelistInFlatProps")}}})]},proxy:!0}])}),n("Accordion",{attrs:{expanded:"dynamic-prop-paths"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("dynamic-prop-paths")}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"pa-4"},[e._v(" Property paths to SSR the element when value changes ")])]},proxy:!0},{key:"content",fn:function(){return[n("ElementStudioPropertyPaths",{attrs:{value:e.value.propertyPathsToSsrElementWhenValueChanges,"all-paths":e.allPathsWithDesignAndContent},on:{input:function(t){return e.updateElementValuePropPath(t,"propertyPathsToSsrElementWhenValueChanges")}}})]},proxy:!0}])}),n("Accordion",{attrs:{expanded:"spacing-bars"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("spacing-bars")}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"pa-4"},[e._v("Spacing Bars")])]},proxy:!0},{key:"content",fn:function(){return[n("ElementStudioSpacingBars",{attrs:{value:e.value.spacingBars}})]},proxy:!0}])})],1)},Yv=[],Qv=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Repeater",{attrs:{value:e.value||[],control:{options:{repeaterOptions:{titleTemplate:"{path} - {accepts}",buttonName:"Add new Dynamic Property Path",defaultNewValue:{accepts:"string",path:""}}}}},on:{input:function(t){return e.updateElementValue(t)}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.index,i=t.value;return[n("b",[e._v("Dynamic Property Path")]),n("v-combobox",{attrs:{value:i.path,hint:'To describe a repeater, use "[]". e.g: "content.list.my_repeater[].url"',rules:[e.pathRules],items:e.allPaths},on:{input:function(t){return e.updateDynamicPropertyPath(a,t)}}}),n("b",{staticClass:"d-block pt-2"},[e._v("Accepts:")]),n("DropdownInput",{attrs:{items:e.getDynamicPathAcceptsItems,value:i.accepts},on:{input:function(t){return e.updateValue(a,t)}}})]}}])})},Zv=[],Jv=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updateElementValue",value:function(e){this.$emit("input",e)}},{key:"updateDynamicPropertyPath",value:function(e,t){var n=Object(Ue["a"])(this.value);this.pathRules(t)&&(n[e].path=t.trim(),this.updateElementValue(n))}},{key:"pathRules",value:function(e){return Object(Re["n"])(e)}},{key:"updateValue",value:function(e,t){var n=Object(Ue["a"])(this.value);n[e].accepts=t,this.updateElementValue(n)}},{key:"getDynamicPathAcceptsItems",get:function(){return Object(ye["c"])()}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:function(){return[]}})],Jv.prototype,"value",void 0),Object(u["a"])([Object(d["d"])({default:function(){return[]}})],Jv.prototype,"allPaths",void 0),Jv=Object(u["a"])([Object(d["a"])({components:{Repeater:jc["default"],DropdownInput:go["a"],CodeInput:Up["default"],Dropdown:Ri["a"],Accordion:kc["a"],draggable:Oc.a}})],Jv);var eh=Jv,th=eh,nh=Object(ne["a"])(th,Qv,Zv,!1,null,null,null),ah=nh.exports;Na()(nh,{VCombobox:cu["a"]});var ih=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Repeater",{attrs:{value:e.value||[],control:{options:{repeaterOptions:{titleTemplate:"Spacing bar",buttonName:"Add new spacing bar"}}}},on:{input:function(t){return e.updateSpaceBars(t)}},scopedSlots:e._u([{key:"default",fn:function(t){var a=t.value,i=t.index;return[n("ElementStudioSpacingBar",{attrs:{value:a},on:{input:function(t){return e.updateSpaceBar(t,i)}}})]}}])})},rh=[],oh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"mt-4"},[e._v("Location")]),n("DropdownInput",{attrs:{items:e.cssProperties,value:e.newSpaceBar.cssProperty},on:{input:e.updateLocationAndProperty}}),n("div",{staticClass:"mt-4"},[e._v("Affected property path")]),n("v-combobox",{attrs:{items:e.pathsToAllControls,placeholder:"design.spacing.%%BREAKPOINT%%.top"},model:{value:e.newSpaceBar.affectedPropertyPath,callback:function(t){e.$set(e.newSpaceBar,"affectedPropertyPath",t)},expression:"newSpaceBar.affectedPropertyPath"}}),n("NiceButton",{on:{click:e.saveNewSpaceBar}},[e._v("Save")])],1)},sh=[],lh=n("e7ff"),ch=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.newSpaceBar=e.value||{},e}return Object(s["a"])(n,[{key:"updateLocationAndProperty",value:function(e){this.newSpaceBar.cssProperty=e,this.newSpaceBar.location=this.propertiesLocationsKeyPair[e]}},{key:"saveNewSpaceBar",value:function(){var e=this;Object(Cp["c"])(F["j"].decode(this.newSpaceBar),Object(xp["a"])((function(e){ke["a"].log.message("Error saving new space bar, please fill out all fields"),Object(lh["a"])(e)}),(function(){e.$emit("input",e.newSpaceBar)})))}},{key:"pathsToAllControls",get:function(){return this.context.getPathsToAllControls()}},{key:"propertiesLocationsKeyPair",get:function(){var e=F["k"].types.map((function(e){return e.value})),t=F["i"].types.map((function(e){return e.value}));return t.reduce((function(t,n,a){return Object(C["a"])({},t,Object(Rt["a"])({},n,e[a]))}),{})}},{key:"cssProperties",get:function(){return Object.keys(this.propertiesLocationsKeyPair)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],ch.prototype,"value",void 0),Object(u["a"])([Object(d["b"])("context")],ch.prototype,"context",void 0),ch=Object(u["a"])([Object(d["a"])({components:{NiceButton:yo["a"],DropdownInput:go["a"]}})],ch);var uh=ch,dh=uh,ph=Object(ne["a"])(dh,oh,sh,!1,null,null,null),vh=ph.exports;Na()(ph,{VCombobox:cu["a"]});var hh=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"updateSpaceBar",value:function(e,t){var n=Object(Ue["a"])(this.value);n[t]=e,this.updateSpaceBars(n)}},{key:"updateSpaceBars",value:function(e){this.context.updateElementValue("spacingBars",e)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:[]})],hh.prototype,"value",void 0),Object(u["a"])([Object(d["b"])("context")],hh.prototype,"context",void 0),hh=Object(u["a"])([Object(d["a"])({components:{ElementStudioSpacingBar:vh,NiceButton:yo["a"],TextInput:mo["a"],InlineRepeater:qd["a"],Repeater:jc["default"],DropdownInput:go["a"],CodeInput:Up["default"],Dropdown:Ri["a"],Accordion:kc["a"],draggable:Oc.a}})],hh);var mh=hh,fh=mh,bh=(n("70e8"),Object(ne["a"])(fh,ih,rh,!1,null,null,null)),gh=bh.exports,yh=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.accordionState="",e}return Object(s["a"])(n,[{key:"toggleAccordion",value:function(e){this.accordionState=this.accordionState===e?"":e}},{key:"updateElementValuePropPath",value:function(e,t){this.context.updateElementValue(t,e)}},{key:"allPathsWithDesignAndContent",get:function(){return[this.context.element().controls.designSections.length?"design":null,this.context.element().controls.contentSections.length?"content":null].concat(Object(k["a"])(this.context.getPathsToAllControls([],[]))).filter(Boolean)}},{key:"allPaths",get:function(){return this.context.getPathsToAllControls()}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],yh.prototype,"value",void 0),Object(u["a"])([Object(d["b"])("context")],yh.prototype,"context",void 0),yh=Object(u["a"])([Object(d["a"])({components:{ElementStudioSpacingBars:gh,ElementStudioPropertyPaths:Kv,ElementStudioDynPropPaths:ah,Accordion:kc["a"]}})],yh);var Oh=yh,kh=Oh,jh=Object(ne["a"])(kh,Xv,Yv,!1,null,null,null),Sh=jh.exports,Ch=n("b4c8"),xh=n.n(Ch),wh=n("f1cd"),Ph=n.n(wh);function _h(e){kt["b"].setTwigMacros(e),Object(be["b"])(Object(be["c"])(e),be["a"]),kt["h"].forceUpdateEntireCanvas()}var Eh=_["debounce"](ge["a"].registerAllStoreActions,500),Ih=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.tab=Object(sl["a"])("element-studio-tab-".concat(e.type))||"content",e.actionsAccordionState="",e.nameHasChanged=!1,e.useLocalIcon=!!Nu["iconNames"].find((function(t){return t===e.element.uiIcon}))||!e.element.uiIcon||!1,e.contextMenu=!1,e.showNewMacroDialog=!1,e.savedCssSelection="",e.elementStudioContext={replaceControls:function(t,n){var a=Object(Ue["a"])(e.element);_["set"](a.controls,t,n),e.emit(a)},pasteControl:function(t,n){var a=Object(Ue["a"])(e.element),i=_["get"](a.controls,t);i.push(n),_["set"](a.controls,t,i),e.emit(a)},addControl:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text",a=Object(Ue["a"])(e.element),i={slug:"section"===n?"new_section":"new_control",label:"section"===n?"New Section":"New Control",keywords:[],options:{type:n},enableMediaQueries:!1,enableHover:!1,children:[]};(t.startsWith("contentSections")||"text"===n||"number"===n)&&(i.options.layout="vertical");var r=e.cleanElement.controls,o=_["get"](r,t);Array.isArray(o)?o.push(i):o.children.push(i),_["set"](r,t,o),a.controls=e.mergeElementControlsWithExternalControls(r),e.emit(a)},addPreset:function(t){var n=Object(Ue["a"])(e.element),a=Object(Ue["a"])(e.elementStudioContext.getPresetSection("EssentialElements\\typography"));if(a){a.section.options.sectionOptions=Object(C["a"])({},a.section.options.sectionOptions,{type:"popout"});var i=e.cleanElement.controls,r=_["get"](i,t);Array.isArray(r)?r.push(a.section):r.children.push(a.section),_["set"](i,t,r),n.controls=e.mergeElementControlsWithExternalControls(i),e.emit(n)}},deleteControl:function(t,n){var a=Object(Ue["a"])(e.element),i=e.parentControls(t);Array.isArray(i)?i.splice(n,1):i.children.splice(n,1),_["set"](a.controls,t,i),e.emit(a)},updateControl:function(t,n,a){var i=Object(Ue["a"])(e.element),r=e.parentControls(t);Array.isArray(r)?r.splice(n,1,a):r.children.splice(n,1,a),_["set"](i.controls,t,r),e.emit(i)},updateDependency:function(t){e.updateElementValue("dependencies",t)},updateActions:function(t){e.updateElementValue("actions",t),Eh()},getPresetSection:function(t){return e.available.presetSections.find((function(e){return e.slug===t}))},getPresetSections:function(){return e.available.presetSections},getPathsToAllControls:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["section"],a=Object(Zl["e"])(e.element.controls.contentSections,t,n,"content"),i=Object(Zl["e"])(e.element.controls.designSections,t,n,"design");return[].concat(Object(k["a"])(a),Object(k["a"])(i))},element:function(){return e.element},updateElementValue:e.updateElementValue,getElementStudioData:function(){return e.available},updateElementStudioData:function(t){e.update(t)}},e}return Object(s["a"])(n,[{key:"mounted",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:document.addEventListener("contextmenu",this.handleRightClickInCodeInput);case 1:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"beforeDestroy",value:function(){document.removeEventListener("contextmenu",this.handleRightClickInCodeInput)}},{key:"onElementSlugChange",value:function(){this.nameHasChanged=!0}},{key:"handleRightClickInCodeInput",value:function(e){var t,n=null===(t=window.getSelection())||void 0===t?void 0:t.toString();!n||"css"!==this.tab&&"html"!==this.tab||(e.preventDefault(),this.contextMenu={x:e.clientX,y:e.clientY})}},{key:"handleCreateMacro",value:function(){var e;this.savedCssSelection=(null===(e=window.getSelection())||void 0===e?void 0:e.toString())||"",this.showNewMacroDialog=!0}},{key:"saveNewMacro",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,r,o,s,l,c=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.savedCssSelection){e.next=2;break}return e.abrupt("return");case 2:if(this.contextMenu=!1,a=null===(n=this.savedCssSelection)||void 0===n?void 0:n.toString(),i=Object(gp["d"])(t.namespace,t.name),r=Object(be["j"])(a,{selector:"{{ selector }}",id:"{{ id }}",postId:"{{ postId }}"}).replace("macros.","_self."),o="{% macro ".concat(i,"() %}\n\n").concat(r," \n\n{% endmacro %}"),s=Op()(t.name),l=Sp(t.namespace,t.name),!this.available.macros.find((function(e){return e.slug===l}))){e.next=12;break}return Object(Zl["h"])(this.available.saveLocations,t,"macro"),e.abrupt("return");case 12:return e.t0=Cp["c"],e.next=15,Object(B["a"])({action:"breakdance_save_macro",dataToPost:{directoryPath:t.directoryPath,filename:s,macro:o},decoder:M["v"]});case 15:e.t1=e.sent,e.t2=Object(xp["a"])((function(e){console.error(e),ke["a"].log.message("Failed to save element, check console")}),(function(){var e="{{ macros.".concat(i,"() }}");ke["a"].log.message("New macro created: ".concat(e,". ")),Ph()(e);var n=Object(Ue["a"])(c.available);n.macros.push({slug:l,directoryPath:t.directoryPath}),c.elementStudioContext.updateElementStudioData(n);var a=Object(Ue["a"])(kt["b"].twigMacros);a.push({macro:o,slug:l}),_h(a)})),(0,e.t0)(e.t1,e.t2);case 18:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateSlug",value:function(){if(window.confirm("Changing the slug of an existing element will make it obsolete in all pages, everywhere. Continue anyway?")){var e=Object(Zl["b"])(Object(Zl["d"])(this.element.slug),this.element.name);this.updateElementValue("slug",e)}}},{key:"updateUiOrder",value:function(e){var t=Number(e);Number.isNaN(t)?this.updateElementValue("order",0):this.updateElementValue("order",t)}},{key:"updateUiIcon",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"SquareIcon";this.updateElementValue("uiIcon",e)}},{key:"updateUseLocalIcon",value:function(e){this.useLocalIcon=e,e||this.updateUiIcon("")}},{key:"updateClassName",value:function(e){!0===this.htmlClassNameRule(e)&&this.updateElementValue("className",e||!1)}},{key:"htmlClassNameRule",value:function(e){return!e||Xs["a"].validateHtmlClassName(e)}},{key:"isValidItemName",value:function(e){return Object(Zl["f"])(e)}},{key:"updateElementName",value:function(e){if(!0===Object(Zl["f"])(e)){var t=Object(Ue["a"])(this.element);t.name=e,this.emit(t)}}},{key:"updateElementValue",value:function(e,t){var n=Object(Ue["a"])(this.element),a=Object(Zc["h"])(t);_["set"](n,e,a),this.emit(n)}},{key:"emit",value:function(e){this.$emit("input",e)}},{key:"updateTab",value:function(e){Object(sl["b"])("element-studio-tab-".concat(this.type),e),this.tab=e}},{key:"mergeElementControlsWithExternalControls",value:function(e){var t=this,n=Object(Ue["a"])(e);return Object(Hp["b"])(this.element.controls).forEach((function(e){t.element.controls[e].forEach((function(t){t.options.isExternal&&n[e].push(t)}))})),n}},{key:"parentControls",value:function(e){return Object(Ue["a"])(_["get"](this.element.controls,e))}},{key:"update",value:function(e){this.$emit("update",e)}},{key:"toggleActionAccordion",value:function(e){this.actionsAccordionState=e}},{key:"showAdvancedFeatures",get:function(){return Object(ul["a"])()||kt["b"].isElementStudioPowerUser}},{key:"requiredPluginItems",get:function(){return F["h"].types.map((function(e){return e.value}))}},{key:"tags",get:function(){return nv}},{key:"pathsToAllControls",get:function(){return this.elementStudioContext.getPathsToAllControls()}},{key:"nestingRuleTypeIsContainer",get:function(){return Object(Be["g"])(this.cleanElement.nestingRule.type).length>0||"container-restricted"===this.cleanElement.nestingRule.type}},{key:"cleanElement",get:function(){return lv(this.element)}},{key:"elementCategories",get:function(){return kt["b"].builderElementCategories.map((function(e){return{text:e.label,value:e.slug}}))}},{key:"badgeColors",get:function(){return Object.entries(xh.a).map((function(e){var t=Object(vc["a"])(e,1),n=t[0],a=n.replace(/brand_/g,"brand").replace(/_dark|_light|breakdance_/g,"");return{text:a,value:"var(--".concat(a,")")}}))}},{key:"elementType",get:function(){return F["g"].types.map((function(e){return e.value}))}},{key:"containerRestrictedElements",get:function(){return Object.values(kt["b"].elements).filter((function(e){return"container-restricted"===(null===e||void 0===e?void 0:e.nestingRule.type)&&(null===e||void 0===e?void 0:e.slug)!==le["a"]})).map((function(e){return null===e||void 0===e?void 0:e.slug}))}},{key:"elementsThisElementIsAllowedToBeInsideOf",get:function(){var e=this;return Object.values(kt["b"].elements).filter((function(t){return t&&Object(Be["j"])(e.element.nestingRule,t.nestingRule,t.slug)})).map((function(e){return null===e||void 0===e?void 0:e.slug}))}},{key:"allElementSlugs",get:function(){return Object.values(kt["b"].elements).map((function(e){return null===e||void 0===e?void 0:e.slug}))}},{key:"elementClass",get:function(){return".".concat(Object(Re["b"])(this.element))}},{key:"htmlTags",get:function(){var e=this;return["section","div","span","p","h1","h2","h3","h4","h5","h6","footer","header","nav","aside","figure","ul","ol","li","a","article","main","details","summary","img"].filter((function(t){return t!==e.cleanElement.htmlTag.default}))}},{key:"defaultTag",get:function(){return[].concat(Object(k["a"])(this.htmlTags),[this.cleanElement.htmlTag.default])}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Ih.prototype,"element",void 0),Object(u["a"])([Object(d["d"])({default:"primary"})],Ih.prototype,"type",void 0),Object(u["a"])([Object(d["d"])()],Ih.prototype,"available",void 0),Object(u["a"])([Object(d["h"])("element.name")],Ih.prototype,"onElementSlugChange",null),Object(u["a"])([Object(d["e"])("context")],Ih.prototype,"elementStudioContext",void 0),Ih=Object(u["a"])([Object(d["a"])({components:{Dropdown:Ri["a"],ElementStudioSaveNewDialog:ac,TextInput:mo["a"],ElementStudioIconsAutocomplete:Gu,ElementStudioManagePropertyPaths:Sh,ElementStudioPropertyPaths:Kv,Accordion:kc["a"],ElementIcon:Nv["a"],ToggleInput:ol["a"],Icon:Z["a"],ElementStudioAttributes:Cv,ElementStudioAdditionalClasses:Dv,ElementStudio:um,ElementStudioDefaultElements:bv["default"],CopyButton:Ic["a"],ElementStudioAction:fv,ElementStudioDependencies:sv,ElementStudioControls:$p,CodeInput:Up["default"],ElementStudioDefaultProperties:Tv["a"],ElementStudioProjectManagement:Wv}})],Ih);var Dh=Ih,Th=Dh,Ah=(n("f426"),Object(ne["a"])(Th,dc,pc,!1,null,null,null)),Rh=Ah.exports;Na()(Ah,{VAutocomplete:gu["a"],VBtn:$a["a"],VCheckbox:Ru["a"],VCombobox:cu["a"],VList:Vi["a"],VListItem:Li["a"],VListItemContent:Wi["a"],VListItemSubtitle:Wi["b"],VListItemTitle:Wi["c"],VSelect:Ps["a"],VTab:kl["a"],VTabs:jl["a"],VTextField:vr["a"]});var Bh={className:!1,uiIcon:!1,category:"other",badge:!1,htmlTag:{default:"div",options:[],pathToControl:!1},template:"Blank Element",attributes:!1,cssTemplate:"%%SELECTOR%% { }",defaultCss:" ",defaultProperties:!1,defaultChildren:!1,controls:{contentSections:[],designSections:[],settingsSections:[]},dependencies:!1,actions:!1,nestingRule:{type:"final"},spacingBars:!1,dynamicPropertyPaths:!1,settings:!1,addPanelRules:!1,experimental:!1,order:0,additionalClasses:!1,projectManagement:!1,propertyPathsToWhitelistInFlatProps:!1,propertyPathsToSsrElementWhenValueChanges:!1},Mh=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.lastSavedElement=!1,e.currentlyEditingElement=!1,e.saveInProgress=!1,e.throttledUpdateElement=E.a.throttle(Re["p"],500),e.mode=Object(sl["a"])("element-studio-mode")||"split-horizontal",e}return Object(s["a"])(n,[{key:"updateCurrentlyEditingElement",value:function(e){this.currentlyEditingElement=Object(Ue["a"])(e),!1===this.lastSavedElement&&(this.lastSavedElement=Object(Ue["a"])(e))}},{key:"updateAvailableElementsAndStore",value:function(e){var t=e.element.slug;this.lastSavedElement&&t!==this.lastSavedElement.element.slug&&Object(Zl["d"])(t)===Object(Zl["d"])(this.lastSavedElement.element.slug)&&this.deleteElementFromServer(this.lastSavedElement);var n=!!this.value.elements.find((function(e){return e.slug===t}));if(!n&&e.directoryPath){var a=Object(Ue["a"])(this.value);a.elements.push({slug:t,directoryPath:e.directoryPath}),this.$emit("input",a)}this.lastSavedElement=e}},{key:"updateData",value:function(e){this.$emit("input",e)}},{key:"updateElement",value:function(e){if(this.currentlyEditingElement&&this.lastSavedElement&&this.lastSavedElement.element){var t=e.slug!==this.lastSavedElement.element.slug,n=this.currentlyEditingElement.directoryPath;t&&this.currentlyEditingElement.directoryPath&&(n=Object(gp["c"])({directoryPath:Object(gp["g"])(this.currentlyEditingElement.directoryPath),elementName:this.currentlyEditingElement.element.name})),this.currentlyEditingElement={directoryPath:n,element:e,onlyForAdvancedUsers:this.currentlyEditingElement.onlyForAdvancedUsers},this.throttledUpdateElement(e)}}},{key:"deleteElementFromStore",value:function(e){var t=this.value.elements.findIndex((function(t){return t.slug===e}));p["b"].deleteElement(e),-1!==t&&this.value.elements.splice(t,1)}},{key:"deleteElement",value:function(){var e=this;this.currentlyEditingElement&&this.deleteElementFromServer(this.currentlyEditingElement,(function(){e.currentlyEditingElement=!1}))}},{key:"deleteElementFromServer",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n,a=this,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]?i[1]:function(){},t.element){e.next=3;break}return e.abrupt("return");case 3:return e.t0=q["pipe"],e.next=6,Object(B["a"])({action:"breakdance_delete_element",dataToPost:{directoryPath:t.directoryPath},decoder:M["l"]("success"),resultKey:"data"});case 6:e.t1=e.sent,e.t2=Object(K["fold"])((function(){ke["a"].log.message("Failed to delete element")}),(function(){t.element?(a.deleteElementFromStore(t.element.slug),n()):ke["a"].log.message("Failed to delete element")})),(0,e.t0)(e.t1,e.t2);case 9:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"discardChanges",value:function(){this.lastSavedElement&&this.lastSavedElement.element&&this.updateElement(this.lastSavedElement.element),this.resetCurrentlyEditingElement()}},{key:"resetCurrentlyEditingElement",value:function(){this.currentlyEditingElement=!1,this.lastSavedElement=!1,this.$emit("active",null)}},{key:"switchMode",value:function(){switch(this.mode){case"split-vertical":this.mode="split-horizontal",this.$emit("width",750);break;case"split-horizontal":this.$emit("width",600),this.mode="normal";break;case"normal":this.$emit("width",600),this.mode="split-vertical";break}Object(sl["b"])("element-studio-mode",this.mode)}},{key:"openElement",value:function(e){var t=Object(Ue["a"])(p["b"].element(e)),n=this.value.elements.find((function(t){return t.slug===e}));if(n){var a=this.value.saveLocations.find((function(e){return n.directoryPath.startsWith(e.directoryPath)})),i=!!(null===a||void 0===a?void 0:a.onlyForAdvancedUsers);this.updateCurrentlyEditingElement({element:t,directoryPath:n.directoryPath,onlyForAdvancedUsers:i}),this.$emit("active","element")}}},{key:"saveAs",value:function(e){if(this.currentlyEditingElement){var t=e.namespace,n=e.directoryPath,a=e.onlyForAdvancedUsers;this.saveToServer(this.currentlyEditingElement.element,Object(gp["c"])({directoryPath:n,elementName:this.currentlyEditingElement.element.name}),t,!1,a)}}},{key:"saveNewItem",value:function(e){var t=Object(Zl["b"])(e.namespace,e.name);if(this.value.elements.find((function(e){return e.slug===t})))Object(Zl["h"])(this.value.saveLocations,e,"element");else{var n=Object(C["a"])({},Object(Ue["a"])(Bh),{slug:t,name:e.name});this.saveToServer(n,Object(gp["c"])({directoryPath:e.directoryPath,elementName:e.name}),e.namespace,!1,e.onlyForAdvancedUsers),this.$emit("active","element")}}},{key:"saveOverride",value:function(e){this.currentlyEditingElement&&this.currentlyEditingElement.directoryPath&&this.saveToServer(this.currentlyEditingElement.element,this.currentlyEditingElement.directoryPath,Object(Zl["d"])(this.currentlyEditingElement.element.slug),e,this.currentlyEditingElement.onlyForAdvancedUsers)}},{key:"saveToServer",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t,n,a){var i,r,o,s,l,c=this,u=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return i=u.length>3&&void 0!==u[3]&&u[3],r=u.length>4?u[4]:void 0,this.saveInProgress=!0,o=a||Object(Zl["d"])(t.slug),s=lv(t),l=t.slug||Object(Zl["b"])(o,t.name),e.t0=q["pipe"],e.next=9,Object(B["a"])({action:"breakdance_save_element",dataToPost:Object(C["a"])({},Object(gp["b"])(s,o),{directoryPath:n,bypassPsalm:i?"yes":"no"}),decoder:M["v"]});case 9:e.t1=e.sent,e.t2=Object(K["fold"])((function(e){console.error(e),ke["a"].log.message("Failed to save element, check console")}),(function(){var e={element:Object(C["a"])({},Object(Ue["a"])(t),{slug:l,name:t.name.split(" ").map((function(e){return e.charAt(0).toUpperCase()+e.substring(1)})).join(" ")}),directoryPath:n,onlyForAdvancedUsers:r};c.updateCurrentlyEditingElement(e),c.updateAvailableElementsAndStore(e),Object(Re["p"])(e.element)})),(0,e.t0)(e.t1,e.t2),this.saveInProgress=!1;case 13:case"end":return e.stop()}}),e,this)})));function t(t,n,a){return e.apply(this,arguments)}return t}()},{key:"elementsSlug",get:function(){return this.value.elements.map((function(e){return e.slug}))}},{key:"hasUnsavedChanges",get:function(){return!(!this.currentlyEditingElement||!this.lastSavedElement)&&!E.a.isEqual(this.lastSavedElement.element,this.currentlyEditingElement.element)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Mh.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],Mh.prototype,"width",void 0),Mh=Object(u["a"])([Object(d["a"])({components:{ElementStudioTabsAndPanels:Rh,ElementStudioWidthAdjustmentBar:ql,ElementStudioTopbar:lc}})],Mh);var Fh=Mh,Vh=Fh,Lh=Object(ne["a"])(Vh,cc,uc,!1,null,null,null),Wh=Lh.exports,Nh=M["s"]({slug:M["r"],directoryPath:M["r"]}),$h=M["u"]([M["l"]("element"),M["l"]("macro"),M["l"]("preset")]),Uh=M["s"]({directoryPath:M["r"],namespace:M["r"],type:$h,label:M["r"],onlyForAdvancedUsers:M["h"]}),Hh=M["s"]({slug:M["r"],section:gc["d"]}),zh=M["s"]({elements:M["g"](Nh),macros:M["g"](Nh),presets:M["g"](Nh),saveLocations:M["g"](Uh),presetSections:M["g"](Hh)}),Gh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"element-studio-wrapper":e.currentlyEditingMacro,"element-studio__hide-the-close-button":!e.currentlyEditingMacro,"element-studio__hide-the-switch-mode-button":!0}},[n("ElementStudioTopbar",{attrs:{"save-locations":e.value.saveLocations,"items-slug":e.macrosSlug,value:e.currentlyEditingMacro,itemType:"macro","item-name":e.currentMacroName,hasUnsavedChanges:e.hasUnsavedChanges,saveInProgress:e.saveInProgress},on:{open:e.openMacro,delete:e.deleteMacro,saveOverride:e.saveOverride,saveAs:e.saveAs,saveNew:e.saveNewItem,discardChanges:e.discardChanges,reset:e.resetCurrentlyEditingMacro}}),e.currentlyEditingMacro?n("div",{staticClass:"element-studio-content"},[n("div",{staticClass:"panel-100 vscroll-scroll"},[n("div",{staticClass:"element-studio-tabs-panel d-flex flex-column"},[n("div",{staticClass:"element-studio-tabs"},[n("v-tabs",{attrs:{value:e.activeTab},on:{change:e.updateTab}},[n("v-tab",{attrs:{href:"#macro",title:"Macro"}},[n("Icon",{attrs:{icon:"PenIcon",size:"16"}})],1),n("v-tab",{attrs:{href:"#settings",title:"Settings"}},[n("Icon",{attrs:{icon:"GearIcon",size:"16"}})],1)],1)],1)]),n("div",{staticClass:"element-studio-tabs-items vscroll-scroll"},[n("CodeInput",{directives:[{name:"show",rawName:"v-show",value:"macro"===e.activeTab,expression:"activeTab === 'macro'"}],attrs:{value:e.currentlyEditingMacro.macroData.macro,language:"twig"},on:{input:e.updateMacroValue}}),"settings"===e.activeTab?n("div",{staticClass:"pa-4"},[n("v-text-field",{attrs:{value:e.currentMacroName,label:"Name",rules:[e.isValidItemName]},on:{input:e.updateMacroName}})],1):e._e()],1)])]):e._e()],1)},qh=[],Kh=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.lastSavedMacro=!1,e.currentlyEditingMacro=!1,e.saveInProgress=!1,e.activeTab="macro",e.throttledUpdateElement=E.a.debounce(e.updateMacroAndRecompileTwigTemplates,1e3),e}return Object(s["a"])(n,[{key:"isValidItemName",value:function(e){return Object(Zl["f"])(e)}},{key:"updateCurrentlyEditingMacro",value:function(e){this.currentlyEditingMacro=Object(Ue["a"])(e),!1===this.lastSavedMacro&&(this.lastSavedMacro=Object(Ue["a"])(e))}},{key:"updateTab",value:function(e){this.activeTab=e}},{key:"updateMacroName",value:function(e){this.currentlyEditingMacro&&(this.currentlyEditingMacro.macroData.slug=Sp(Object(Zl["d"])(this.currentlyEditingMacro.macroData.slug),e))}},{key:"updateMacroAndRecompileTwigTemplates",value:function(e){var t=Object(Ue["a"])(p["b"].twigMacros),n=t.findIndex((function(t){return t.slug===e.slug}));if(-1===n){t.push(e);var a=Object(Ue["a"])(this.value);a.macros.push(e),this.$emit("input",a)}else t[n].macro=e.macro;this.lastSavedMacro&&this.lastSavedMacro.directoryPath&&e.slug!==this.lastSavedMacro.macroData.slug&&e.directoryPath===this.lastSavedMacro.directoryPath&&this.deleteMacroFromServer(this.lastSavedMacro),_h(t)}},{key:"deleteMacroAndRecompileTwigTemplates",value:function(e){var t=Object(Ue["a"])(p["b"].twigMacros),n=t.findIndex((function(t){return t.slug===e})),a=this.value.macros.findIndex((function(t){return t.slug===e}));if(-1!==n&&t.splice(n,1),-1!==a){var i=Object(Ue["a"])(this.value);i.macros.splice(a,1),this.$emit("input",i)}_h(t)}},{key:"updateMacroValue",value:function(e){this.currentlyEditingMacro&&(this.currentlyEditingMacro.macroData.macro=e,this.throttledUpdateElement(this.currentlyEditingMacro.macroData))}},{key:"deleteMacro",value:function(){var e=this;this.currentlyEditingMacro&&this.deleteMacroFromServer(this.currentlyEditingMacro,(function(){e.currentlyEditingMacro=!1}))}},{key:"deleteMacroFromServer",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n,a=this,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:function(){},e.t0=q["pipe"],e.next=4,Object(B["a"])({action:"breakdance_delete_macro",dataToPost:{directoryPath:t.directoryPath,filename:Object(Zl["c"])(t.macroData.slug)},decoder:M["l"]("success"),resultKey:"data"});case 4:e.t1=e.sent,e.t2=Object(K["fold"])((function(){ke["a"].log.message("Failed to delete element")}),(function(){n(),a.deleteMacroAndRecompileTwigTemplates(t.macroData.slug)})),(0,e.t0)(e.t1,e.t2);case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"discardChanges",value:function(){this.lastSavedMacro&&this.lastSavedMacro.macroData&&this.updateMacroAndRecompileTwigTemplates(this.lastSavedMacro.macroData),this.resetCurrentlyEditingMacro()}},{key:"resetCurrentlyEditingMacro",value:function(){this.currentlyEditingMacro=!1,this.lastSavedMacro=!1,this.$emit("active",null)}},{key:"openMacro",value:function(e){var t,n=Object(Ue["a"])(this.value.macros.find((function(t){return t.slug===e})));if(n){var a=null===(t=p["b"].twigMacros.find((function(t){return t.slug===e})))||void 0===t?void 0:t.macro;if(a){var i=this.value.saveLocations.find((function(e){return n.directoryPath.startsWith(e.directoryPath)})),r=!!(null===i||void 0===i?void 0:i.onlyForAdvancedUsers);this.updateCurrentlyEditingMacro({macroData:Object(C["a"])({},n,{macro:a}),directoryPath:n.directoryPath,onlyForAdvancedUsers:r}),this.$emit("active","macro")}}}},{key:"saveAs",value:function(e){if(this.currentlyEditingMacro){var t=Object(Zl["c"])(this.currentlyEditingMacro.macroData.slug);this.saveToServer(this.currentlyEditingMacro.macroData.macro,e.directoryPath,t,Sp(e.namespace,t),e.onlyForAdvancedUsers)}}},{key:"saveNewItem",value:function(e){var t=Object(gp["d"])(e.namespace,e.name),n=Op()(e.name),a=Sp(e.namespace,e.name);this.value.macros.find((function(e){return e.slug===a}))?Object(Zl["h"])(this.value.saveLocations,e,"macro"):(this.saveToServer("{% macro ".concat(t,"() %}\n  {# Your code here #} \n{% endmacro %}"),e.directoryPath,n,a,e.onlyForAdvancedUsers),this.$emit("active","macro"))}},{key:"saveOverride",value:function(){this.currentlyEditingMacro&&this.currentlyEditingMacro.directoryPath&&this.saveToServer(this.currentlyEditingMacro.macroData.macro,this.currentlyEditingMacro.directoryPath,Object(Zl["c"])(this.currentlyEditingMacro.macroData.slug),this.currentlyEditingMacro.macroData.slug,this.currentlyEditingMacro.onlyForAdvancedUsers)}},{key:"saveToServer",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t,n,a,i,r){var o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.saveInProgress=!0,e.t0=q["pipe"],e.next=4,Object(B["a"])({action:"breakdance_save_macro",dataToPost:{directoryPath:n,filename:a,macro:t},decoder:M["v"]});case 4:e.t1=e.sent,e.t2=Object(K["fold"])((function(e){console.error(e),ke["a"].log.message("Failed to save element, check console")}),(function(){var e={macroData:{macro:t,slug:i,directoryPath:n},directoryPath:n,onlyForAdvancedUsers:r};o.updateCurrentlyEditingMacro(e),o.updateMacroAndRecompileTwigTemplates(e.macroData),o.lastSavedMacro=e})),(0,e.t0)(e.t1,e.t2),this.saveInProgress=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(t,n,a,i,r){return e.apply(this,arguments)}return t}()},{key:"macrosSlug",get:function(){return this.value.macros.map((function(e){return e.slug}))}},{key:"currentMacroName",get:function(){return this.currentlyEditingMacro?Object(Zl["c"])(this.currentlyEditingMacro.macroData.slug):""}},{key:"hasUnsavedChanges",get:function(){return!(!this.currentlyEditingMacro||!this.lastSavedMacro)&&!E.a.isEqual(this.lastSavedMacro.macroData,this.currentlyEditingMacro.macroData)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Kh.prototype,"value",void 0),Kh=Object(u["a"])([Object(d["a"])({components:{TextInput:mo["a"],Icon:Z["a"],CodeInput:Up["default"],ElementStudioTabsAndPanels:Rh,ElementStudioWidthAdjustmentBar:ql,ElementStudioTopbar:lc}})],Kh);var Xh=Kh,Yh=Xh,Qh=Object(ne["a"])(Yh,Gh,qh,!1,null,null,null),Zh=Qh.exports;Na()(Qh,{VTab:kl["a"],VTabs:jl["a"],VTextField:vr["a"]});var Jh=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"element-studio-wrapper":e.currentlyEditingPreset,"element-studio__hide-the-close-button":!e.currentlyEditingPreset,"element-studio__hide-the-switch-mode-button":!0}},[n("ElementStudioTopbar",{attrs:{"save-locations":e.value.saveLocations,"items-slug":e.presetsSlug,value:e.currentlyEditingPreset,itemType:"preset","item-name":e.currentPresetName,hasUnsavedChanges:e.hasUnsavedChanges,saveInProgress:e.saveInProgress},on:{open:e.openPreset,delete:e.deletePreset,saveOverride:e.saveOverride,saveAs:e.saveAs,saveNew:e.saveNewItem,discardChanges:e.discardChanges,reset:e.resetCurrentlyEditingPreset}}),e.currentlyEditingPreset?n("div",{staticClass:"element-studio-content"},[n("div",{staticClass:"panel-100 vscroll-scroll"},[n("div",{staticClass:"element-studio-tabs-panel d-flex flex-column"},[n("div",{staticClass:"element-studio-tabs"},[n("v-tabs",{attrs:{value:e.activeTab},on:{change:e.updateTab}},[n("v-tab",{attrs:{href:"#preset",title:"Preset"}},[n("Icon",{attrs:{icon:"PenIcon",size:"16"}})],1),n("v-tab",{attrs:{href:"#code-help",title:"Code Help"}},[n("Icon",{attrs:{icon:"CodeIcon",size:"16"}})],1),n("v-tab",{attrs:{href:"#prop-paths",title:"Property Paths"}},[n("Icon",{attrs:{icon:"SlidersSimpleIcon",size:"16"}})],1),n("v-tab",{attrs:{href:"#settings",title:"Settings"}},[n("Icon",{attrs:{icon:"GearIcon",size:"16"}})],1)],1)],1)]),n("div",{staticClass:"element-studio-tabs-items vscroll-scroll"},[n("ControlSectionOrControl",{directives:[{name:"show",rawName:"v-show",value:"preset"===e.activeTab,expression:"activeTab === 'preset'"}],attrs:{value:e.currentPresetWithoutPresetSlug?e.currentPresetWithoutPresetSlug.presetData.preset.section:[],index:0,path:"control",parentPath:"presetSection",twigParentPath:""}}),n("div",{directives:[{name:"show",rawName:"v-show",value:"code-help"===e.activeTab,expression:"activeTab === 'code-help'"}]},[e._m(0),n("CodeInput",{attrs:{language:"twig",value:e.codeHelpValue,placeholder:e.codeHelpPlaceholder},on:{input:e.updateCodeHelp}})],1),n("div",{directives:[{name:"show",rawName:"v-show",value:"prop-paths"===e.activeTab,expression:"activeTab === 'prop-paths'"}]},[n("Accordion",{attrs:{expanded:"relativePropertyPathsToWhitelistInFlatProps"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("relativePropertyPathsToWhitelistInFlatProps")}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"pa-4"},[e._v(" Relative Property Paths To Whitetlist In Flatprops ")])]},proxy:!0},{key:"content",fn:function(){return[n("ElementStudioPropertyPaths",{attrs:{value:e.presetRelativePropertyPathsToWhitelistInFlatProps,"all-paths":e.allPaths},on:{input:function(t){return e.updateElementValuePropPath(t,"relativePropertyPathsToWhitelistInFlatProps")}}})]},proxy:!0}],null,!1,3695337097)}),n("Accordion",{attrs:{expanded:"relativeDynamicPropertyPaths"===e.accordionState},on:{toggle:function(t){return e.toggleAccordion("relativeDynamicPropertyPaths")}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"pa-4"},[e._v(" Relative Dynamic Property Paths ")])]},proxy:!0},{key:"content",fn:function(){return[n("ElementStudioDynPropPaths",{attrs:{value:e.relativeDynamicPropertyPaths,"all-paths":e.allPaths},on:{input:function(t){return e.updateElementValuePropPath(t,"relativeDynamicPropertyPaths")}}})]},proxy:!0}],null,!1,63984396)})],1),"settings"===e.activeTab?n("div",{staticClass:"pa-4"},[n("v-text-field",{attrs:{value:e.currentPresetName,label:"Name",rules:[e.isValidItemName]},on:{input:e.updatePresetSlug}}),n("ToggleInput",{attrs:{value:e.autoRefresh},on:{input:e.updateAutoRefresh}}),n("label",{staticClass:"ml-2"},[e._v("Live preview changes")])],1):e._e()],1)])]):e._e()],1)},em=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"element-studio__presets-code-help"},[n("div",[n("b",[e._v("Code Help")])]),n("pre",[e._v("%%TWIG_PATH%%")]),e._v(" will be replaced with the correct path in the element. ")])}],tm=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.lastSavedPreset=!1,e.currentlyEditingPreset=!1,e.saveInProgress=!1,e.activeTab="preset",e.accordionState="",e.autoRefresh=!0,e.elementStudioContext=e.reactiveContext(),e}return Object(s["a"])(n,[{key:"toggleAccordion",value:function(e){this.accordionState=this.accordionState===e?"":e}},{key:"reactiveContext",value:function(){var e=this;return{replaceControls:function(t,n){if(e.currentlyEditingPreset){var a=Object(Ue["a"])(e.currentlyEditingPreset),i=e.getCorrectPathForPresetFromContextPath(t);E.a.set(a.presetData.preset,i,n),e.updateCurrentlyEditingPreset(a)}},pasteControl:function(t,n){if(e.currentlyEditingPreset){var a=Object(Ue["a"])(e.currentlyEditingPreset),i=e.getCorrectPathForPresetFromContextPath(t),r=E.a.get(a.presetData.preset,i);r.push(n),E.a.set(a.presetData.preset,i,r),e.updateCurrentlyEditingPreset(a)}},addControl:function(t){if(e.currentlyEditingPreset){var n=Object(Ue["a"])(e.currentlyEditingPreset),a=e.getCorrectPathForPresetFromContextPath(t),i=e.getParentControlOrControls(a);i&&(Array.isArray(i)?i.push(Object(Zc["e"])()):i.children.push(Object(Zc["e"])()),E.a.set(n.presetData.preset,a,i),e.updateCurrentlyEditingPreset(n))}},addPreset:function(t){if(e.currentlyEditingPreset){var n=Object(Ue["a"])(e.elementStudioContext.getPresetSection("EssentialElements\\typography"));if(n){n.section.options.sectionOptions=Object(C["a"])({},n.section.options.sectionOptions,{type:"popout"});var a=Object(Ue["a"])(e.currentlyEditingPreset),i=e.getCorrectPathForPresetFromContextPath(t),r=e.getParentControlOrControls(i);r&&(Array.isArray(r)?r.push(n.section):r.children.push(n.section),E.a.set(a.presetData.preset,i,r),e.updateCurrentlyEditingPreset(a))}}},deleteControl:function(t,n){if(e.currentlyEditingPreset){var a=Object(Ue["a"])(e.currentlyEditingPreset),i=e.getCorrectPathForPresetFromContextPath(t),r=e.getParentControlOrControls(i);r&&(Array.isArray(r)?r.splice(n,1):r.children.splice(n,1),E.a.set(a.presetData.preset,i,r),e.updateCurrentlyEditingPreset(a))}},updateControl:function(t,n,a){if(e.currentlyEditingPreset){var i=Object(Ue["a"])(e.currentlyEditingPreset);if("presetSection"===t)i.presetData.preset.section=a;else{var r=e.getCorrectPathForPresetFromContextPath(t),o=e.getParentControlOrControls(r);if(!o)return;Array.isArray(o)?o.splice(n,1,a):o.children.splice(n,1,a),E.a.set(i.presetData.preset,r,o)}e.updateCurrentlyEditingPreset(i)}},getPresetSection:function(t){return e.value.presetSections.find((function(e){return e.slug===t}))},getPresetSections:function(){return e.value.presetSections},getPathsToAllControls:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:["section"];if(e.currentlyEditingPreset)return Object(Zl["e"])(e.currentlyEditingPreset.presetData.preset.section.children,t,n,"")},element:Re["h"],updateDependency:function(){},updateActions:function(){},updateElementValue:function(){},getElementStudioData:function(){return e.value},updateElementStudioData:function(t){e.$emit("input",t)}}}},{key:"updateAutoRefresh",value:function(e){this.autoRefresh=e,e&&this.currentlyEditingPreset&&this.updateCurrentlyEditingPreset(this.currentlyEditingPreset)}},{key:"getCorrectPathForPresetFromContextPath",value:function(e){return e.replace("control","section")}},{key:"getParentControlOrControls",value:function(e){if(this.currentlyEditingPreset)return Object(Ue["a"])(E.a.get(this.currentlyEditingPreset.presetData.preset,e))}},{key:"updateCodeHelp",value:function(e){if(this.currentlyEditingPreset){var t=Object(Ue["a"])(this.currentlyEditingPreset);E.a.set(t,"presetData.preset.section.options.sectionOptions.preset.codeHelp",e),this.updateCurrentlyEditingPreset(t)}}},{key:"updateElementValuePropPath",value:function(e,t){if(this.currentlyEditingPreset){var n=Object(Ue["a"])(this.currentlyEditingPreset);E.a.set(n,"presetData.preset.section.options.sectionOptions.preset[".concat(t,"]"),e),this.currentlyEditingPreset=n}}},{key:"isValidItemName",value:function(e){return Object(Zl["f"])(e)}},{key:"updateCurrentlyEditingPreset",value:function(e){var t=this;if(e.presetData.preset=this.getPresetWithRestoredSectionSlug(e.presetData.preset),this.currentlyEditingPreset=Object(Ue["a"])(e),!1===this.lastSavedPreset&&(this.lastSavedPreset=Object(Ue["a"])(e)),this.autoRefresh){var n=Object.values(kt["b"].elements).map((function(e){return e?(e.controls.designSections=e.controls.designSections.map(t.updateSectionWithCurrentPresetSection),e.controls.contentSections=e.controls.contentSections.map(t.updateSectionWithCurrentPresetSection),e.controls.settingsSections=e.controls.settingsSections.map(t.updateSectionWithCurrentPresetSection),e):e})).filter((function(e){return void 0!==e}));kt["b"].addElements(n)}}},{key:"updateSectionWithCurrentPresetSection",value:function(e){var t,n;if((null===(t=e.options.sectionOptions)||void 0===t||null===(n=t.preset)||void 0===n?void 0:n.slug)&&this.currentlyEditingPreset&&e.options.sectionOptions.preset.slug===this.currentlyEditingPreset.presetData.slug)return Object(Ue["a"])(this.currentlyEditingPreset.presetData.preset.section);if(e.children.length){var a=Object(Ue["a"])(e);return a.children=a.children.map(this.updateSectionWithCurrentPresetSection),a}return e}},{key:"filterOutCurrentSection",value:function(e,t){var n,a,i=this;if(!(null===(n=e.options.sectionOptions)||void 0===n||null===(a=n.preset)||void 0===a?void 0:a.slug)||e.options.sectionOptions.preset.slug!==t){if(e.children.length){var r=Object(Ue["a"])(e);return r.children=r.children.map((function(e){return i.filterOutCurrentSection(e,t)})).filter((function(e){return!!e})),r}return e}}},{key:"getPresetWithRestoredSectionSlug",value:function(e){return this.currentlyEditingPreset?(E.a.set(e,"section.options.sectionOptions.preset.slug",this.currentlyEditingPreset.presetData.slug),e):e}},{key:"updateTab",value:function(e){this.activeTab=e}},{key:"updatePresetSlug",value:function(e){if(this.currentlyEditingPreset){var t=Object(Ue["a"])(this.currentlyEditingPreset);t.presetData.slug=Sp(Object(Zl["d"])(this.currentlyEditingPreset.presetData.slug),e),this.updateCurrentlyEditingPreset(t)}}},{key:"updatePreset",value:function(e){var t=Object(Ue["a"])(e),n=this.value.presets.findIndex((function(e){return e.slug===t.slug})),a=this.value.presetSections.findIndex((function(e){return e.slug===t.preset.slug})),i=Object(Ue["a"])(this.value);-1===n&&-1===a?(i.presets.push(t),i.presetSections.push(t.preset)):(i.presets[n]=t,i.presetSections[a].section=t.preset.section),this.$emit("input",i),this.lastSavedPreset&&this.lastSavedPreset.directoryPath&&t.slug!==this.lastSavedPreset.presetData.slug&&t.directoryPath===this.lastSavedPreset.directoryPath&&this.deletePresetFromServer(this.lastSavedPreset)}},{key:"deletePresetAndRecompileTwigTemplates",value:function(e){var t=this,n=Object(Zl["c"])(e),a=Object(Ue["a"])(this.value.presetSections),i=a.findIndex((function(e){return e.slug===n})),r=this.value.presets.findIndex((function(t){return t.slug===e}));if(-1!==i&&a.splice(i,1),-1!==r){var o=Object(Ue["a"])(this.value);o.presets.splice(r,1),this.$emit("input",o)}if(this.autoRefresh){var s=Object.values(kt["b"].elements).map((function(n){return n?(n.controls.designSections=n.controls.designSections.map((function(n){return t.filterOutCurrentSection(n,e)})).filter((function(e){return!!e})),n.controls.contentSections=n.controls.contentSections.map((function(n){return t.filterOutCurrentSection(n,e)})).filter((function(e){return!!e})),n.controls.settingsSections=n.controls.settingsSections.map((function(n){return t.filterOutCurrentSection(n,e)})).filter((function(e){return!!e})),n):n})).filter((function(e){return void 0!==e}));kt["b"].addElements(s)}}},{key:"deletePreset",value:function(){var e=this;this.currentlyEditingPreset&&this.deletePresetFromServer(this.currentlyEditingPreset,(function(){e.currentlyEditingPreset=!1}))}},{key:"deletePresetFromServer",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n,a=this,i=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]?i[1]:function(){},e.t0=q["pipe"],e.next=4,Object(B["a"])({action:"breakdance_delete_preset",dataToPost:{directoryPath:t.directoryPath,filename:Object(Zl["c"])(t.presetData.slug)},decoder:M["l"]("success"),resultKey:"data"});case 4:e.t1=e.sent,e.t2=Object(K["fold"])((function(){ke["a"].log.message("Failed to delete element")}),(function(){n(),a.deletePresetAndRecompileTwigTemplates(t.presetData.slug)})),(0,e.t0)(e.t1,e.t2);case 7:case"end":return e.stop()}}),e)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"discardChanges",value:function(){this.lastSavedPreset&&this.lastSavedPreset.presetData&&(this.updateCurrentlyEditingPreset(this.lastSavedPreset),this.updatePreset(this.lastSavedPreset.presetData)),this.resetCurrentlyEditingPreset()}},{key:"resetCurrentlyEditingPreset",value:function(){this.currentlyEditingPreset=!1,this.lastSavedPreset=!1,this.$emit("active",null)}},{key:"openPreset",value:function(e){var t=Object(Ue["a"])(this.value.presets.find((function(t){return t.slug===e})));if(t){var n=this.value.presetSections.find((function(t){return t.slug===e}));if(n){var a=this.value.saveLocations.find((function(e){return t.directoryPath.startsWith(e.directoryPath)})),i=!!(null===a||void 0===a?void 0:a.onlyForAdvancedUsers);this.updateCurrentlyEditingPreset({presetData:Object(C["a"])({},t,{preset:n}),directoryPath:t.directoryPath,onlyForAdvancedUsers:i}),this.$emit("active","preset")}else ke["a"].log.message("".concat(e," couldn't be found"))}}},{key:"saveAs",value:function(e){this.currentlyEditingPreset&&this.saveToServer(this.currentlyEditingPreset.presetData.preset,e.directoryPath,this.currentPresetName,Sp(e.namespace,this.currentPresetName),e.onlyForAdvancedUsers)}},{key:"saveNewItem",value:function(e){var t=Op()(e.name),n=Sp(e.namespace,e.name);this.value.presets.find((function(e){return e.slug===n}))?Object(Zl["h"])(this.value.saveLocations,e,"preset"):(this.saveToServer({slug:n,section:Object(Zc["f"])()},e.directoryPath,t,n,e.onlyForAdvancedUsers),this.$emit("active","preset"))}},{key:"saveOverride",value:function(){this.currentlyEditingPreset&&this.currentlyEditingPreset.directoryPath&&this.saveToServer(this.currentlyEditingPreset.presetData.preset,this.currentlyEditingPreset.directoryPath,this.currentPresetName,this.currentlyEditingPreset.presetData.slug,this.currentlyEditingPreset.onlyForAdvancedUsers)}},{key:"saveToServer",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t,n,a,i,r){var o=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.saveInProgress=!0,e.t0=q["pipe"],e.next=4,kp(t,n,a,i);case 4:e.t1=e.sent,e.t2=Object(K["fold"])((function(e){console.error(e),ke["a"].log.message("Failed to save element, check console")}),(function(){var e={presetData:{preset:Object(Ue["a"])(t),slug:i,directoryPath:n},directoryPath:n,onlyForAdvancedUsers:r};o.updateCurrentlyEditingPreset(e),o.updatePreset(e.presetData),o.lastSavedPreset=e})),(0,e.t0)(e.t1,e.t2),this.saveInProgress=!1;case 8:case"end":return e.stop()}}),e,this)})));function t(t,n,a,i,r){return e.apply(this,arguments)}return t}()},{key:"codeHelpValue",get:function(){var e,t;return this.currentlyEditingPreset&&(null===(e=this.currentlyEditingPreset.presetData.preset.section.options.sectionOptions)||void 0===e||null===(t=e.preset)||void 0===t?void 0:t.codeHelp)||""}},{key:"codeHelpPlaceholder",get:function(){if(!this.currentlyEditingPreset)return"";var e=Object(gp["d"])(Object(Zl["d"])(this.currentlyEditingPreset.presetData.slug),this.currentPresetName);return"{{ macros.".concat(e,"(%%TWIG_PATH%%) }}")}},{key:"presetsSlug",get:function(){return this.value.presets.map((function(e){return e.slug}))}},{key:"allPaths",get:function(){return this.reactiveContext().getPathsToAllControls([],[])}},{key:"presetRelativePropertyPathsToWhitelistInFlatProps",get:function(){var e,t;return this.currentlyEditingPreset?null===(e=this.currentlyEditingPreset.presetData.preset.section.options.sectionOptions)||void 0===e||null===(t=e.preset)||void 0===t?void 0:t.relativePropertyPathsToWhitelistInFlatProps:[]}},{key:"relativeDynamicPropertyPaths",get:function(){var e,t;return this.currentlyEditingPreset?null===(e=this.currentlyEditingPreset.presetData.preset.section.options.sectionOptions)||void 0===e||null===(t=e.preset)||void 0===t?void 0:t.relativeDynamicPropertyPaths:[]}},{key:"currentPresetWithoutPresetSlug",get:function(){var e,t;if(!this.currentlyEditingPreset)return!1;var n=Object(Ue["a"])(this.currentlyEditingPreset);return(null===(e=n.presetData.preset.section.options.sectionOptions)||void 0===e||null===(t=e.preset)||void 0===t?void 0:t.slug)&&(n.presetData.preset.section.options.sectionOptions.preset.slug=void 0),n}},{key:"currentPresetName",get:function(){return this.currentlyEditingPreset?Object(Zl["c"])(this.currentlyEditingPreset.presetData.slug):""}},{key:"hasUnsavedChanges",get:function(){return!(!this.currentlyEditingPreset||!this.lastSavedPreset)&&!E.a.isEqual(this.lastSavedPreset.presetData,this.currentlyEditingPreset.presetData)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],tm.prototype,"value",void 0),Object(u["a"])([Object(d["e"])("context")],tm.prototype,"elementStudioContext",void 0),tm=Object(u["a"])([Object(d["a"])({components:{ToggleInput:ol["a"],ElementStudioDynPropPaths:ah,ElementStudioPropertyPaths:Kv,Accordion:kc["a"],ControlSectionOrControl:Fp,TextInput:mo["a"],Icon:Z["a"],CodeInput:Up["default"],ElementStudioTabsAndPanels:Rh,ElementStudioWidthAdjustmentBar:ql,ElementStudioTopbar:lc}})],tm);var nm=tm,am=nm,im=(n("c703"),Object(ne["a"])(am,Jh,em,!1,null,null,null)),rm=im.exports;Na()(im,{VTab:kl["a"],VTabs:jl["a"],VTextField:vr["a"]});var om=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.data={elements:[],macros:[],presets:[],saveLocations:[],presetSections:[]},e.width=600,e.activeItemType=null,e}return Object(s["a"])(n,[{key:"mounted",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=Cp["c"],e.next=3,Object(B["a"])({action:"breakdance_load_element_studio",decoder:zh});case 3:e.t1=e.sent,e.t2=Object(xp["a"])((function(e){return e.forEach((function(e){return ke["a"].log.message(e.msg)}))}),(function(e){t.data=e})),(0,e.t0)(e.t1,e.t2);case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"updateData",value:function(e){this.data=Object(Ue["a"])(e)}},{key:"updateActiveItemType",value:function(e){this.activeItemType=e}},{key:"updateWidth",value:function(e){this.width=e}},{key:"adjustWidth",value:function(e){this.width+=e}},{key:"styles",get:function(){return{width:"".concat(this.width,"px")}}},{key:"isProdEnv",get:function(){return!Object(ul["a"])()}}]),n}(a["a"]);om=Object(u["a"])([Object(d["a"])({components:{ElementStudioPresets:rm,ElementStudioMacros:Zh,ElementStudioElements:Wh,ElementStudioWidthAdjustmentBar:ql,ElementStudioTopbar:lc}})],om);var sm=om,lm=sm,cm=(n("716d"),Object(ne["a"])(lm,Tl,Al,!1,null,null,null)),um=cm.exports,dm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppLayoutBodyPanelArea",{attrs:{"panel-state":e.panelState,position:e.position}},[n("Add",{directives:[{name:"show",rawName:"v-show",value:"add"===e.panelState,expression:"panelState === 'add'"}]}),"selectors"===e.panelState?n("SelectorsPanel"):"structure"===e.panelState?n("StructurePanel"):e._e(),"elementproperties"===e.panelState?n("ElementPropertiesPanel",{key:e.activeElementId}):"history"===e.panelState?n("HistoryAndRevisionsPanel"):"globalSettings"===e.panelState?n("GlobalSettingsPanel"):e._e()],1)},pm=[],vm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-element-properties-panel vscroll-wrap vscroll-scroll",attrs:{"data-test-id":"element-properties-panel"}},[e.elementIsActive?[n("Titlebar"),n("TabsAndControls")]:[n("BlankSidebarContent")]],2)},hm=[],mm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"properties-panel-titlebar"},[n("div",{staticClass:"properties-panel-titlebar-title truncate"},[e._v(" "+e._s(e.elementTitle)+" ")]),e._l(e.elementBadges,(function(e,t){return n("ElementBadge",{key:t,staticClass:"ml-1",attrs:{value:e}})})),n("v-spacer"),n("IconButton",{staticClass:"properties-panel-duplicate-button",attrs:{icon:"DuplicateIcon",size:"16",small:!0},on:{click:e.duplicateElement}}),n("IconButton",{staticClass:"properties-panel-delete-button",attrs:{icon:"TrashIcon",size:"16",small:!0},on:{click:e.remove}})],2)},fm=[],bm=n("ea59"),gm=n("b109"),ym=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"duplicateElement",value:function(){p["g"].activeElementId&&p["d"].duplicateElementAndActivateIt(p["g"].activeElementId)}},{key:"remove",value:function(){null!==p["g"].activeElementId&&p["d"].deleteElement({nodeId:p["g"].activeElementId})}},{key:"elementTitle",get:function(){return p["g"].activeElement?p["b"].element(p["g"].activeElement.data.type).name:"No Active Element"}},{key:"elementBadges",get:function(){if(!p["g"].activeElement)return[];var e=p["b"].element(p["g"].activeElement.data.type),t=e.badge?[e.badge]:[];return e.settings&&e.settings.proOnly&&"free"===p["b"].subscriptionMode&&t.push(Object(gm["e"])()),t}}]),n}(a["a"]);ym=Object(u["a"])([Object(d["a"])({components:{Dropdown:Ri["a"],IconButton:Ai["a"],ElementBadge:bm["a"]}})],ym);var Om=ym,km=Om,jm=(n("3c84"),Object(ne["a"])(km,mm,fm,!1,null,null,null)),Sm=jm.exports;Na()(jm,{VSpacer:ro["a"]});var Cm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"pa-7 d-flex align-center justify-center flex-column",staticStyle:{height:"100%"}},[e._m(0),n("StandardButton",{staticClass:"open-elements-toolbar-button",attrs:{size:"22",testId:"open-elements-toolbar-button"},on:{click:e.toggleAdd}},[e._v(" Add ")])],1)},xm=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"blank-sidebar-text"},[n("p",[e._v(" Add an element to your page or click an existing element to edit it. ")])])}],wm=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"toggleAdd",value:function(){Object(Q["i"])("add")}}]),n}(a["a"]);wm=Object(u["a"])([Object(d["a"])({components:{StandardButton:Ha}})],wm);var Pm=wm,_m=Pm,Em=(n("a416"),Object(ne["a"])(_m,Cm,xm,!1,null,null,null)),Im=Em.exports,Dm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vscroll-wrap vscroll-scroll"},[e.hasSearchParameters?e._e():n("DesignContentSettingsTabs",{attrs:{value:e.tab,controls:e.controls},on:{input:e.updateTab}}),n("div",{staticClass:"vscroll-scroll"},[e.hasSearchParameters&&!e.noSearchResults?n("v-sheet",[""!==e.searchBoxState.query?n("div",{staticClass:"control-tree-search-term"},[n("span",[e._v('Search results for "'+e._s(e.searchBoxState.query)+'"')]),n("div",{staticClass:"control-tree-search-clear",on:{click:e.clearQuery}},[n("Icon",{attrs:{icon:"CloseIcon",size:"14"}})],1)]):e._e(),n("ControlsTree",{attrs:{controls:e.controlsFilteredBySearchParams.contentSections,path:"content",linear:!0}}),n("ControlsTree",{attrs:{controls:e.controlsFilteredBySearchParams.designSections,path:"design",linear:!0}}),n("ControlsTree",{attrs:{controls:e.controlsFilteredBySearchParams.settingsSections,path:"settings",linear:!0}})],1):e.hasSearchParameters&&e.noSearchResults?n("v-sheet",{staticClass:"d-flex justify-center align-center flex-column",attrs:{height:"100%"}},[n("SearchBoxEmptyState",{attrs:{label:"controls"},on:{input:e.clearQuery}})],1):n("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[e.hasContentControls?n("v-tab-item",{attrs:{value:"content",transition:!1,"reverse-transition":!1}},[n("ControlsTree",{attrs:{controls:e.contentSections,path:"content",forceFirstSectionOpen:!0}})],1):e._e(),e.hasDesignControls?n("v-tab-item",{attrs:{value:"design",transition:!1,"reverse-transition":!1}},[n("DesignTabContent",{attrs:{controls:e.designSections,path:"design"}})],1):e._e(),e.hasSettingsControls?n("v-tab-item",{attrs:{value:"settings",transition:!1,"reverse-transition":!1}},[n("ControlsTree",{attrs:{controls:e.settingsSections,path:"settings"}})],1):e._e()],1)],1),n("SearchBox",{attrs:{value:e.searchBoxState,location:"element","include-settings-toggle":!0},on:{input:e.updateSearchBoxState}})],1)},Tm=[],Am=n("67d1"),Rm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"properties-panel-search-box-wrap"},[n("div",{staticClass:"properties-panel-search-box-inner-wrap"},[n("Icon",{staticClass:"properties-panel-search-icon",attrs:{icon:"SearchIcon",size:"13"}}),n("TextInput",{staticClass:"properties-panel-search-text-input",attrs:{value:e.value.query,placeholder:e.placeholder,"data-test-id":"elements-panel-search"},on:{input:e.editQuery}}),n("div",{staticClass:"properties-panel-search-actions"},[e.value.query?n("div",{staticClass:"properties-panel-search-modified",on:{click:e.clearQuery}},[n("Icon",{attrs:{icon:"CloseIcon",size:"12"}})],1):e._e(),n("SearchFilter",{attrs:{value:e.value.modifiedOnly},on:{input:e.editModified}},[e._v("modified")]),e.includeSettingsToggle?n("SearchFilter",{attrs:{value:e.value.includeSettings},on:{input:e.editSettings}},[n("Icon",{attrs:{icon:"GearIcon",size:"12"}})],1):e._e()],1)],1)])},Bm=[],Mm=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"properties-panel-search-modified":!0,"properties-panel-search-modified-on":this.value},on:{click:e.toggle}},[e._t("default")],2)},Fm=[],Vm=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"toggle",value:function(){this.$emit("input",!this.value)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Vm.prototype,"value",void 0),Vm=Object(u["a"])([d["a"]],Vm);var Lm=Vm,Wm=Lm,Nm=(n("ae8b"),Object(ne["a"])(Wm,Mm,Fm,!1,null,null,null)),$m=Nm.exports,Um=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"emit",value:function(e){this.$emit("input",e)}},{key:"editQuery",value:function(e){"string"===typeof e?this.emit(Object(C["a"])({},this.value,{query:e.trim().toLowerCase()})):this.emit(Object(C["a"])({},this.value,{query:""}))}},{key:"clearQuery",value:function(){this.emit(Object(C["a"])({},this.value,{query:"",modifiedOnly:!1}))}},{key:"editModified",value:function(e){this.emit(Object(C["a"])({},this.value,{modifiedOnly:e}))}},{key:"editSettings",value:function(e){this.emit(Object(C["a"])({},this.value,{includeSettings:e}))}},{key:"placeholder",get:function(){return"Search"}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Um.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],Um.prototype,"includeSettingsToggle",void 0),Object(u["a"])([Object(d["d"])()],Um.prototype,"location",void 0),Um=Object(u["a"])([Object(d["a"])({components:{SearchFilter:$m,TextInput:mo["a"],Icon:Z["a"]}})],Um);var Hm=Um,zm=Hm,Gm=(n("8814"),Object(ne["a"])(zm,Rm,Bm,!1,null,null,null)),qm=Gm.exports,Km=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("TabsRow",[e.hasContentControls?n("Tab",{staticClass:"properties-panel-tab",attrs:{value:e.value,id:"content","data-test-id":"element-properties-tab-content"},on:{input:e.setTab},scopedSlots:e._u([{key:"icon",fn:function(){return[n("Icon",{attrs:{icon:"PenIcon",size:"18"}})]},proxy:!0},{key:"contextmenu",fn:function(){return[n("v-list",[n("v-list-item",{attrs:{dense:""},on:{click:function(t){return e.resetToDefault("content")}}},[n("v-list-item-title",[e._v("Reset Content")])],1)],1)]},proxy:!0}],null,!1,855652120)}):e._e(),e.hasDesignControls?n("Tab",{staticClass:"properties-panel-tab",attrs:{value:e.value,id:"design","data-test-id":"element-properties-tab-design"},on:{input:e.setTab},scopedSlots:e._u([{key:"icon",fn:function(){return[n("Icon",{attrs:{icon:"PaletteIcon",size:"18"}})]},proxy:!0},{key:"contextmenu",fn:function(){return[n("v-list",[n("v-list-item",{attrs:{dense:""},on:{click:function(t){return e.resetToDefault("design")}}},[n("v-list-item-title",[e._v("Reset Design")])],1)],1)]},proxy:!0}],null,!1,1825965438)}):e._e(),e.hasSettingsControls?n("Tab",{staticClass:"properties-panel-tab",attrs:{value:e.value,id:"settings","data-test-id":"element-properties-tab-settings"},on:{input:e.setTab},scopedSlots:e._u([{key:"icon",fn:function(){return[n("Icon",{attrs:{icon:"GearIcon",size:"18"}})]},proxy:!0},{key:"contextmenu",fn:function(){return[n("v-list",[n("v-list-item",{attrs:{dense:""},on:{click:function(t){return e.resetToDefault("settings")}}},[n("v-list-item-title",[e._v("Reset Settings")])],1)],1)]},proxy:!0}],null,!1,325617522)}):e._e(),n("SavePreset",{attrs:{open:e.savePresetDialogOpen},on:{"update:dialog":function(t){e.savePresetDialogOpen=t}}})],1)},Xm=[],Ym=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classList,on:{click:function(t){return e.$emit("input",e.id)},contextmenu:e.openContextMenu}},[e.hasIconSlot?n("div",{staticClass:"breakdance-tab__icon"},[e._t("icon")],2):e._e(),e.hasIconSlot?e._e():n("div",{staticClass:"breakdance-tab__label"},[e._t("default")],2),e.hasContextMenuSlot?n("div",{staticClass:"breakdance-tab__context-menu"},[n("Dropdown",{attrs:{"position-x":e.contextMenuX,"position-y":e.contextMenuY,absolute:"","offset-y":""},model:{value:e.contextMenu,callback:function(t){e.contextMenu=t},expression:"contextMenu"}},[e._t("contextmenu")],2)],1):e._e()])},Qm=[],Zm=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.contextMenu=!1,e.contextMenuX=0,e.contextMenuY=0,e}return Object(s["a"])(n,[{key:"openContextMenu",value:function(e){var t=this;this.hasContextMenuSlot&&(e.preventDefault(),this.contextMenu=!1,this.contextMenuX=e.clientX,this.contextMenuY=e.clientY,this.$nextTick((function(){t.contextMenu=!0})))}},{key:"classList",get:function(){var e;return e={"breakdance-tab":!0},Object(Rt["a"])(e,"breakdance-tab--id-".concat(this.id),!0),Object(Rt["a"])(e,"breakdance-tab--active",this.value===this.id),e}},{key:"hasContextMenuSlot",get:function(){return!!this.$slots.contextmenu}},{key:"hasIconSlot",get:function(){return!!this.$slots.icon}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Zm.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],Zm.prototype,"id",void 0),Zm=Object(u["a"])([Object(d["a"])({components:{Dropdown:Ri["a"]}})],Zm);var Jm=Zm,ef=Jm,tf=(n("7d1e"),Object(ne["a"])(ef,Ym,Qm,!1,null,null,null)),nf=tf.exports,af=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-tabs-row"},[e._t("default")],2)},rf=[],of=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(a["a"]);of=Object(u["a"])([Object(d["a"])({})],of);var sf=of,lf=sf,cf=(n("6ded"),Object(ne["a"])(lf,af,rf,!1,null,null,null)),uf=cf.exports,df=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{attrs:{value:e.open},on:{input:function(t){return e.$emit("update:dialog",!1)}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Save Design Settings As Preset ")]},proxy:!0},{key:"text",fn:function(){return[n("TextInput",{attrs:{size:"md",placeholder:"Present name"},model:{value:e.newPresetName,callback:function(t){e.newPresetName=t},expression:"newPresetName"}}),n("WPMediaInput",{staticClass:"mt-6",model:{value:e.newPresetScreenshot,callback:function(t){e.newPresetScreenshot=t},expression:"newPresetScreenshot"}})]},proxy:!0},{key:"actions",fn:function(){return[n("v-btn",{staticStyle:{"margin-right":"auto"},attrs:{text:""},on:{click:function(t){e.open=!1}}},[e._v("Cancel")]),n("v-btn",{attrs:{outlined:""},on:{click:e.exportPreset}},[e._v("Export To JSON")]),n("v-btn",{attrs:{dark:"",color:"blue",loading:e.saveInProgress},on:{click:e.savePreset}},[e._v("Save")])]},proxy:!0}])})},pf=[],vf=n("75e4");function hf(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/plain",a=new Blob([e],{type:n}),i=document.createElement("a");i.download=t,i.href=(window.webkitURL||window.URL).createObjectURL(a),i.dataset.downloadurl=[n,i.download,i.href].join(":"),i.click()}var mf=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.newPresetName="",e.newPresetScreenshot=null,e.saveInProgress=!1,e}return Object(s["a"])(n,[{key:"saveToLibrary",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.saveInProgress=!0,n=Object(Ue["a"])(p["b"].presetsForElements),n.push(t),e.t0=q["pipe"],e.next=6,Oi["g"]("presets_for_elements",n);case 6:e.t1=e.sent,e.t2=Object(K["fold"])((function(e){e.forEach((function(e){return ke["a"].log.message(e.msg)}))}),(function(){p["b"].setPresetsForElements(n)})),(0,e.t0)(e.t1,e.t2),this.saveInProgress=!1;case 10:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"makePreset",value:function(){var e=p["g"].activeElement;if(!e)return!1;if(!this.newPresetName||!this.newPresetScreenshot)return ke["a"].log.message("Presets must have a name and a screenshot."),!1;var t=Object(Ue["a"])(this.context.getControlValue("design"));if(!t)return ke["a"].log.message("Unable to save blank design settings as preset."),!1;var n={availableForType:e.data.type,designPropertiesData:t,label:this.newPresetName,screenshotUrl:this.newPresetScreenshot};return n}},{key:"savePreset",value:function(){var e=this.makePreset();e&&(this.saveToLibrary(e),this.clearAndClose())}},{key:"exportPreset",value:function(){var e=this.makePreset();e&&(hf(Object(Me["a"])(e)||"","preset.json"),this.clearAndClose())}},{key:"clearAndClose",value:function(){this.newPresetName="",this.newPresetScreenshot=null,this.$emit("update:dialog",!1)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],mf.prototype,"open",void 0),Object(u["a"])([Object(d["b"])("context")],mf.prototype,"context",void 0),mf=Object(u["a"])([Object(d["a"])({components:{WPMediaInput:vf["a"],TextInput:mo["a"],Dialog:na["a"]}})],mf);var ff=mf,bf=ff,gf=Object(ne["a"])(bf,df,pf,!1,null,null,null),yf=gf.exports;Na()(gf,{VBtn:$a["a"]});var Of=n("a427"),kf=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.savePresetDialogOpen=!1,e}return Object(s["a"])(n,[{key:"setTab",value:function(e){this.$emit("input",e)}},{key:"resetToDefault",value:function(e){!1!==p["g"].activeElement&&Sf(p["g"].activeElement.id,e)}},{key:"hasContentControls",get:function(){return this.controls.contentSections.length>0}},{key:"hasDesignControls",get:function(){return this.controls.designSections.length>0}},{key:"hasSettingsControls",get:function(){return this.controls.settingsSections.length>0}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:"content"})],kf.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],kf.prototype,"controls",void 0),Object(u["a"])([Object(d["b"])("context")],kf.prototype,"context",void 0),kf=Object(u["a"])([Object(d["a"])({components:{TabsRow:uf,Tab:nf,Icon:Z["a"],SavePreset:yf}})],kf);var jf=kf;function Sf(e,t){var n=Object(Te["l"])(p["d"].document.tree,e);if(n){var a=p["b"].element(n.data.type).defaultProperties,i=E.a.get(a,t,Of["a"]);p["d"].throttledPropertyChanged({elementId:n.id,path:t,value:Object(Ue["a"])(i),meta:{snapshotLabel:"Reset ".concat(Object(Ve["b"])(n.data.type)," ").concat(E.a.capitalize(t))}})}}var Cf=jf,xf=Object(ne["a"])(Cf,Km,Xm,!1,null,null,null),wf=xf.exports;Na()(xf,{VList:Vi["a"],VListItem:Li["a"],VListItemTitle:Wi["c"]});var Pf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["custom"===e.mode?[n("ControlsTree",{attrs:{controls:e.controls,path:e.path}}),e.presets.length>0?n("div",{staticClass:"design-tab-design-settings-go-back-to-presets-link",on:{click:function(t){return e.changeMode("presets")}}},[e._v(" presets  ")]):e._e()]:[n("div",{staticClass:"design-tab-presets-browser-content"},[n("div",{staticClass:"design-tab-design-settings-customize-link",attrs:{"data-test-id":"element-design-customize"},on:{click:function(t){return e.changeMode("custom")}}},[e._v(" customize  ")])])]],2)},_f=[],Ef=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.presets,(function(t,a){return n("div",{key:a,staticClass:"breakdance-presets-in-design-tab-preset",on:{click:function(n){return e.applyPreset(t)}}},[e._v(" "+e._s(t.label)+" "),n("img",{attrs:{src:t.screenshotUrl.url}})])})),0)},If=[];function Df(e){p["g"].activeElement&&p["g"].activeElement.data.type===e.availableForType||p["d"].addElement({elementSlug:e.availableForType}),p["g"].activeElement&&p["g"].activeElement.data.type===e.availableForType&&p["d"].throttledPropertyChanged({elementId:p["g"].activeElement.id,path:"design",value:Object(Ue["a"])(e.designPropertiesData),meta:{snapshotLabel:'Apply preset "'.concat(e.label,'" to ').concat(Object(Ve["b"])(p["g"].activeElement.data.type))}})}var Tf=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"applyPreset",value:function(e){Df(e),this.$emit("presetApplied")}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:[]})],Tf.prototype,"presets",void 0),Tf=Object(u["a"])([d["a"]],Tf);var Af=Tf,Rf=Af,Bf=(n("ad64"),Object(ne["a"])(Rf,Ef,If,!1,null,null,null)),Mf=Bf.exports,Ff=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.mode="custom",e}return Object(s["a"])(n,[{key:"changeMode",value:function(e){this.mode=e}},{key:"presets",get:function(){return p["g"].activeElement?p["b"].presetsForElements.filter((function(e){return e.availableForType===p["g"].activeElement.data.type})):[]}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Ff.prototype,"controls",void 0),Object(u["a"])([Object(d["d"])()],Ff.prototype,"path",void 0),Ff=Object(u["a"])([Object(d["a"])({components:{ControlsTree:Am["default"],PresetsInDesignTab:Mf}})],Ff);var Vf=Ff,Lf=Vf,Wf=(n("8ac3"),Object(ne["a"])(Lf,Pf,_f,!1,null,null,null)),Nf=Wf.exports,$f=n("62c5");n("466d");function Uf(e,t,n,a){var i=new RegExp(n.trim().replace(" ","|"),"si"),r=function(e,n){return!(i&&!"".concat(e.label).match(i)&&!"".concat(e.slug).match(i)&&!"".concat(e.keywords).match(i))&&!(t&&!Object(Of["d"])(n,e,a))};return{contentSections:zf(e.contentSections,r,"content",t),designSections:zf(e.designSections,r,"design",t),settingsSections:zf(e.settingsSections,r,"settings",t)}}function Hf(e,t,n,a,i){var r=new RegExp(n.trim().replace(" ","|"),"si"),o=function(e,n){return!(r&&!"".concat(e.label).match(r)&&!"".concat(e.slug).match(r)&&!"".concat(e.keywords).match(r))&&!(t&&!Object(Of["d"])(n,e,a))};return zf(e,o,i,t)}function zf(e,t,n,a){var i=Object(Ue["a"])(e);return i.filter((function(e){var i=t(e,"".concat(n,".").concat(e.slug));return"section"===e.options.type?!(!i||a)||(e.children=zf(e.children,t,"".concat(n,".").concat(e.slug),a),e.children.length>0):i}))}var Gf=function e(t,n){return t.forEach((function(t){n=e(t.children,n+("section"===t.options.type?0:1))})),n},qf=n("f223"),Kf=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"properties-panel-search-empty-state"},[n("svg",{staticClass:"properties-panel-search-empty-state-icon",attrs:{viewBox:"0 0 100 100",xmlns:"http://www.w3.org/2000/svg"}},[n("g",{attrs:{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5"}},[n("path",{attrs:{d:"M90.667 34.388v-25a6.25 6.25 0 0 0-6.25-6.25h-75a6.25 6.25 0 0 0-6.25 6.25v68.75a6.25 6.25 0 0 0 6.25 6.25h25M3.167 21.888h87.5","stroke-width":"6.250005"}}),n("path",{attrs:{d:"M46.917 71.888a25 25 0 1 0 50 0 25 25 0 1 0-50 0ZM81.292 62.513l-18.75 18.75M62.542 62.513l18.75 18.75","stroke-width":"6.250005"}})])]),n("h5",[e._v("No "+e._s(e.label)+" found.")]),n("v-btn",{staticClass:"mt-4",attrs:{text:"",outlined:"",small:""},on:{click:e.clearSearch}},[e._v("Clear Search")])],1)},Xf=[],Yf=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"clearSearch",value:function(){this.$emit("input")}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:"element"})],Yf.prototype,"label",void 0),Yf=Object(u["a"])([Object(d["a"])({components:{Dropdown:Ri["a"],IconButton:Ai["a"]}})],Yf);var Qf=Yf,Zf=Qf,Jf=Object(ne["a"])(Zf,Kf,Xf,!1,null,null,null),eb=Jf.exports;Na()(Jf,{VBtn:$a["a"]});var tb=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.searchBoxState={modifiedOnly:!1,includeSettings:!1,query:""},e.editingElementControlsTreeContext=ab,e.searchString="",e}return Object(s["a"])(n,[{key:"clearQuery",value:function(){this.updateSearchBoxState({modifiedOnly:!1,query:"",includeSettings:!1})}},{key:"updateSearchBoxState",value:function(e){this.searchBoxState=e}},{key:"updateTab",value:function(e){this.elementId&&p["g"].setPanelState(Object(C["a"])({},p["g"].panelState,{elementPropertiesPanelActiveTab:Object(C["a"])({},p["g"].panelState.elementPropertiesPanelActiveTab,Object(Rt["a"])({},this.elementId,e))}))}},{key:"element",get:function(){return p["g"].activeElement}},{key:"elementId",get:function(){return p["g"].activeElementId}},{key:"hasSearchParameters",get:function(){return this.searchBoxState.modifiedOnly||this.searchBoxState.query}},{key:"noSearchResults",get:function(){return Gf(this.controlsFilteredBySearchParams.contentSections,0)+Gf(this.controlsFilteredBySearchParams.designSections,0)+Gf(this.controlsFilteredBySearchParams.settingsSections,0)===0}},{key:"controlsFilteredBySearchParams",get:function(){var e=this.searchBoxState.includeSettings?{designSections:[],contentSections:[],settingsSections:this.controls.settingsSections}:Object(C["a"])({},this.controls,{settingsSections:[]});return Uf(this.searchBoxState.modifiedOnly?this.controls:e,this.searchBoxState.modifiedOnly,this.searchBoxState.query,this.editingElementControlsTreeContext)}},{key:"controls",get:function(){var e=this.element.data.type,t=p["b"].element(e).controls;return Object($f["a"])(t,p["b"].permission)}},{key:"contentSections",get:function(){return this.controls.contentSections}},{key:"designSections",get:function(){return this.controls.designSections}},{key:"settingsSections",get:function(){return this.controls.settingsSections}},{key:"hasContentControls",get:function(){return this.controls.contentSections.length>0}},{key:"hasDesignControls",get:function(){return this.controls.designSections.length>0}},{key:"hasSettingsControls",get:function(){return this.controls.settingsSections.length>0}},{key:"tab",get:function(){return this.elementId&&p["g"].panelState.elementPropertiesPanelActiveTab[this.elementId]?p["g"].panelState.elementPropertiesPanelActiveTab[this.elementId]:this.hasContentControls?"content":this.hasDesignControls?"design":this.hasSettingsControls?"settings":""}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],tb.prototype,"value",void 0),Object(u["a"])([Object(d["e"])("context")],tb.prototype,"editingElementControlsTreeContext",void 0),tb=Object(u["a"])([Object(d["a"])({components:{ControlsTree:Am["default"],SearchBox:qm,DesignContentSettingsTabs:wf,DesignTabContent:Nf,Icon:Z["a"],SearchBoxEmptyState:eb}})],tb);var nb=tb,ab={dynamicProperty:function(e){if(!p["g"].activeElement)return!1;var t=p["b"].element(p["g"].activeElement.data.type).dynamicPropertyPaths;if(!t)return!1;var n=Object(ye["d"])(e).replace(".".concat(p["g"].currentBreakpoint.id,"["),"["),a=t.find((function(e){return Object(ye["d"])(e.path)===n}));return!!(null===a||void 0===a?void 0:a.accepts)&&a},getControlValue:function(e){return E.a.get(p["g"].activeElement,"data.properties.".concat(e))},setControlValue:function(e,t,n,a){p["g"].activeElementId&&p["d"].throttledPropertyChanged(Object(Zc["b"])({elementId:p["g"].activeElementId,path:e,value:t},{control:n,controlsTree:this.getControls(e)||[]},a))},getControls:function(e){if(p["g"].activeElement){var t=Object(Re["o"])(e);return t?Object(Re["g"])(p["b"].element(p["g"].activeElement.data.type),t.prefix):void 0}},setAccordionState:function(e,t){p["g"].activeElementId&&Object(qf["f"])(p["g"].activeElementId,e,t)},getAccordionState:function(e){return!!p["g"].activeElementId&&Object(qf["b"])(p["g"].activeElementId,e)}},ib=nb,rb=(n("7d62"),n("8dd9")),ob=n("c671"),sb=n("aac8"),lb=Object(ne["a"])(ib,Dm,Tm,!1,null,null,null),cb=lb.exports;Na()(lb,{VSheet:rb["a"],VTabItem:ob["a"],VTabsItems:sb["a"]});var ub=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"elementIsActive",get:function(){return!!p["g"].activeElement}}]),n}(a["a"]);ub=Object(u["a"])([Object(d["a"])({components:{Titlebar:Sm,TabsAndControls:cb,BlankSidebarContent:Im}})],ub);var db=ub,pb=db,vb=Object(ne["a"])(pb,vm,hm,!1,null,null,null),hb=vb.exports,mb=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-add-panel"},[n("PanelHeader",{on:{close:e.close}},[e._v(" Add ")]),"success"===e.state?[n("div",{staticClass:"breakdance-add-panel__selection-wrapper"},[n("button",{staticClass:"breakdance-add-panel__panel-selection breakdance-add-panel__panel-selection--active"},[e._v(" Elements ")]),n("button",{staticClass:"breakdance-add-panel__panel-selection",on:{click:e.openDesignLibrary}},[e._v(" Library ")])]),n("ElementsList")]:"loading"===e.state?[n("div",{staticClass:"d-flex justify-center align-center",staticStyle:{height:"100%"}},[n("v-progress-circular",{attrs:{indeterminate:"",size:100,color:"var(--gray300)"}})],1)]:[n("div",{staticClass:"d-flex justify-center align-center pa-4",staticStyle:{height:"100%","font-size":"var(--text-md)","font-weight":"500",color:"var(--gray700)"}},[e._v(" error: failed to load elements ")])]],2)},fb=[],bb=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-add-panel__element-list"},[n("div",{staticClass:"breakdance-add-panel-search d-flex"},[e.isAddPanelOpen?n("SearchInput",{attrs:{tabindex:"0",placeholder:e.isElementStudioOpen?"Search "+e.elementsCount+" elements":"Search elements",value:e.searchString,autofocus:!0,"data-test-id":"breakdance-add-panel-search"},on:{input:e.handleSearch,keydown:[e.resetSelectedSearchItemIndex,function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.addSelectedSearchItem(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"tab",9,t.key,"Tab")?null:e.nextOrPreviousSelectedSearchElement(t)},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"up",38,t.key,["Up","ArrowUp"])?null:(t.preventDefault(),e.goToSelectedSearchElement("prev"))},function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"down",40,t.key,["Down","ArrowDown"])?null:(t.preventDefault(),e.goToSelectedSearchElement("next"))}]}}):e._e(),e.advancedSearchAvailable?[n("v-btn",{staticClass:"ml-2",attrs:{"x-small":"",text:"",outlined:e.hasSearchParams},on:{click:function(t){e.advancedSearchDialogOpen=!0}}},[e._v("advanced")]),n("v-dialog",{attrs:{width:"220"},model:{value:e.advancedSearchDialogOpen,callback:function(t){e.advancedSearchDialogOpen=t},expression:"advancedSearchDialogOpen"}},[n("v-card",[n("v-card-text",[n("br"),n("h4",[e._v("Internal Element Project Management Tool")]),n("v-btn",{attrs:{small:""},on:{click:e.dumpSearchResults}},[e._v("dump search results")]),n("div",{staticClass:"d-flex align-center justify-space-between"},[e._v(" Has Dynamic Stuff "),n("v-switch",{model:{value:e.advancedSearchHasDynamicStuff,callback:function(t){e.advancedSearchHasDynamicStuff=t},expression:"advancedSearchHasDynamicStuff"}})],1),e._v(" Looks Good: "),n("DropdownInput",{attrs:{items:e.advancedSearchDropdownItems,clearable:""},model:{value:e.advancedSearchLooksGood,callback:function(t){e.advancedSearchLooksGood=t},expression:"advancedSearchLooksGood"}}),n("br"),e._v(" Options Good: "),n("DropdownInput",{attrs:{items:e.advancedSearchDropdownItems,clearable:""},model:{value:e.advancedSearchOptionsGood,callback:function(t){e.advancedSearchOptionsGood=t},expression:"advancedSearchOptionsGood"}}),n("br"),e._v(" Options Work: "),n("DropdownInput",{attrs:{items:e.advancedSearchDropdownItems,clearable:""},model:{value:e.advancedSearchOptionsWork,callback:function(t){e.advancedSearchOptionsWork=t},expression:"advancedSearchOptionsWork"}}),n("br"),e._v(" Dynamic Behavior Works: "),n("DropdownInput",{attrs:{items:e.advancedSearchDropdownItems,clearable:""},model:{value:e.advancedSearchDynamicBehaviorWorks,callback:function(t){e.advancedSearchDynamicBehaviorWorks=t},expression:"advancedSearchDynamicBehaviorWorks"}}),n("br")],1)],1)],1)]:e._e()],2),n("div",{staticClass:"breakdance-add-panel__item-wrapper"},[e.hasSearchParams?e._e():e._l(e.elementCategories,(function(t,a){return n("div",{key:a},[e.elementsInActiveCategory(t.slug).length?n("Accordion",{attrs:{expanded:e.openCategoriesIndex.includes(a)},on:{toggle:function(t){return e.chooseCategory(a)}},scopedSlots:e._u([{key:"title",fn:function(){return[n("div",{staticClass:"breakdance-add-panel__item-title",attrs:{tabindex:"0","data-test-id":"elements-category-"+t.label.replace(/ /g,"-").toLowerCase()},on:{keypress:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.chooseCategory(a)}}},[e._v(" "+e._s(t.label)+" ")])]},proxy:!0},{key:"content",fn:function(){return[n("div",{staticClass:"breakdance-add-panel__item-element-wrapper"},e._l(e.elementsInActiveCategory(t.slug),(function(e,t){return n("AddElement",{key:t,attrs:{element:e}})})),1)]},proxy:!0}],null,!0)}):e._e()],1)})),e.hasSearchParams?n("div",{staticClass:"breakdance-add-panel__item-element-wrapper breakdance-add-panel__item-element-wrapper--search"},[e.searchResultsCount?e._e():n("div",{staticClass:"breakdance-add-panel__no-results-for-search"},[e._v(" no results ")]),e._l(e.elementsForSearch,(function(t,a){return n("AddElement",{key:t.slug,attrs:{element:t,isSelected:e.selectedSearchElementIndex===a}})}))],2):e._e()],2)])},gb=[],yb=n("14a0"),Ob=n("e4b2"),kb=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("v-btn",{on:{click:function(t){e.isOpen=!0}}},[e._v("Open Website Dialog")]),n("v-dialog",{model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("v-card",[n("h1",[e._v(" use the below HTML code on breakdance.com to display a list of elements. ")]),n("p",[e._v(" this is currently used at https://breakdance.com/features/elements ")]),n("div",{staticClass:"all-elements"},e._l(e.elementCategories,(function(t){return n("div",{key:t.categoryLabel,staticClass:"element-category-wrapper"},[n("div",{staticClass:"element-category"},[n("h3",{staticClass:"element-category-label"},[e._v(" "+e._s(t.categoryLabel)+" ")])]),n("div",{staticClass:"elements"},e._l(t.elements,(function(t){return n("div",{key:t.element,staticClass:"element"},[n("div",{staticClass:"element-title"},[e._v(" "+e._s(t.element)+" ")]),t.icon&&e.elementIconIsLocal(t.icon)?n("div",{staticClass:"element-icon"},[n("RawIcon",{attrs:{icon:t.icon}})],1):n("div",{staticClass:"element-icon",domProps:{innerHTML:e._s(t.icon)}})])})),0)])})),0)])],1)],1)},jb=[],Sb=n("647a"),Cb=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.isOpen=!1,e}return Object(s["a"])(n,[{key:"elementIconIsLocal",value:function(e){return Nu["iconNames"].find((function(t){return t===e}))}},{key:"elementCategories",get:function(){var e=Object.values(p["b"].elements);return p["b"].builderElementCategories.map((function(t){return{categoryLabel:t.label,elements:e.filter((function(e){return!0!==e.experimental})).filter((function(e){return!e.addPanelRules||!e.addPanelRules.alwaysHide})).filter((function(e){return e.category===t.slug})).map((function(e){return{element:e.name,icon:e.uiIcon}})).sort((function(e,t){return e.element.localeCompare(t.element)}))}})).filter((function(e){return 0!==e.elements.length}))}}]),n}(a["a"]);Cb=Object(u["a"])([Object(d["a"])({components:{RawIcon:Sb["a"]}})],Cb);var xb=Cb,wb=xb,Pb=Object(ne["a"])(wb,kb,jb,!1,null,null,null),_b=Pb.exports;Na()(Pb,{VBtn:$a["a"],VCard:pr["a"],VDialog:Po["a"]});var Eb=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.openCategoriesIndex=[0,1],e.searchString="",e.selectedSearchElementIndex=0,e.advancedSearchAvailable=!1,e.advancedSearchDialogOpen=!1,e.advancedSearchHasDynamicStuff=!1,e.advancedSearchLooksGood=!1,e.advancedSearchOptionsGood=!1,e.advancedSearchOptionsWork=!1,e.advancedSearchDynamicBehaviorWorks=!1,e}return Object(s["a"])(n,[{key:"addSelectedSearchItem",value:function(){var e,t=null===(e=this.elementsForSearch[this.selectedSearchElementIndex])||void 0===e?void 0:e.slug;t&&Object(Re["l"])(this.elementsForSearch[this.selectedSearchElementIndex])&&p["d"].addElement({elementSlug:t})}},{key:"goToSelectedSearchElement",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"next",t="next"===e?this.selectedSearchElementIndex+1:this.selectedSearchElementIndex-1;t===this.searchResultsCount?t=0:-1===t&&(t=this.searchResultsCount-1),this.selectedSearchElementIndex=t,this.scrollToActive()}},{key:"nextOrPreviousSelectedSearchElement",value:function(e){""!==this.searchString&&e.preventDefault(),this.goToSelectedSearchElement(e.shiftKey?"prev":"next")}},{key:"handleSearch",value:function(e){var t;this.searchString!==e&&(null===(t=document.querySelector(".breakdance-add-panel"))||void 0===t||t.scrollTo({top:0}));this.searchString=e}},{key:"resetSearchWhenPanelOpens",value:function(){this.isAddPanelOpen&&this.handleSearch("")}},{key:"resetSelectedSearchItemIndex",value:function(e){var t=["Enter","Tab","ShiftLeft","ShiftRight","ArrowUp","ArrowDown"];t.includes(e.code)||(this.selectedSearchElementIndex=0)}},{key:"chooseCategory",value:function(e){this.searchString="";var t=this.openCategoriesIndex.findIndex((function(t){return t===e}));-1===t?this.openCategoriesIndex=[].concat(Object(k["a"])(this.openCategoriesIndex),[e]):this.openCategoriesIndex.splice(t,1)}},{key:"elementsInActiveCategory",value:function(e){return this.elements.filter((function(t){return t.category===e}))}},{key:"scrollToActive",value:function(){Object(it["a"])((function(){var e;null===(e=document.querySelector(".breakdance-add-panel__element--selected"))||void 0===e||e.scrollIntoView({block:"center"})}))}},{key:"dumpSearchResults",value:function(){console.log(this.elementsForSearch.map((function(e){return e.name})).join("\n"))}},{key:"mounted",value:function(){var e=this;Pa["b"].register("a d v",(function(){return e.advancedSearchAvailable=!0}))}},{key:"beforeDestroy",value:function(){Pa["b"].unbind("a d v")}},{key:"updateAdvancedSearchValue",value:function(e,t){this[e]=t}},{key:"searchResultsCount",get:function(){return Object.keys(this.elementsForSearch).length}},{key:"isAddPanelOpen",get:function(){var e;return"add"===(null===(e=this.panelContext)||void 0===e?void 0:e.state)}},{key:"elementsCount",get:function(){return this.elements.length}},{key:"elementCategories",get:function(){return p["b"].builderElementCategories}},{key:"elements",get:function(){return Object.values(p["b"].elements).filter((function(e){return!!p["g"].settings.showExperimentalElements||!0!==e.experimental})).filter((function(e){return!Object(Re["m"])(e.addPanelRules,e.settings)})).filter((function(e){return Object(Re["l"])(e)})).sort((function(e,t){return e.order<t.order?-1:e.order>t.order?1:0}))}},{key:"elementsForSearch",get:function(){var e=this,t=Object(Re["i"])(this.elements,this.searchString),n=t.filter((function(t){var n=t.projectManagement?t.projectManagement:void 0;return!Object.values({looksGood:e.advancedSearchLooksGood?(null===n||void 0===n?void 0:n.looksGood)==e.advancedSearchLooksGood:void 0,optionsGood:e.advancedSearchOptionsGood?(null===n||void 0===n?void 0:n.optionsGood)==e.advancedSearchOptionsGood:void 0,optionsWork:e.advancedSearchOptionsWork?(null===n||void 0===n?void 0:n.optionsWork)==e.advancedSearchOptionsWork:void 0,dynamicBehaviorWorks:e.advancedSearchDynamicBehaviorWorks?(null===n||void 0===n?void 0:n.dynamicBehaviorWorks)==e.advancedSearchDynamicBehaviorWorks:void 0,hasDynamicStuff:e.advancedSearchHasDynamicStuff?t.dependencies||t.actions:void 0}).includes(!1)}));return n}},{key:"advancedSearchDropdownItems",get:function(){return["yes","no","unknown","sort of"]}},{key:"hasSearchParams",get:function(){return!!(this.searchString||this.advancedSearchLooksGood||this.advancedSearchOptionsGood||this.advancedSearchOptionsWork||this.advancedSearchDynamicBehaviorWorks||this.advancedSearchHasDynamicStuff)}},{key:"isElementStudioOpen",get:function(){return p["g"].panelState.elementStudioOpen}}]),n}(a["a"]);Object(u["a"])([Object(d["b"])({from:"panelContext",default:{}})],Eb.prototype,"panelContext",void 0),Object(u["a"])([Object(d["h"])("isAddPanelOpen")],Eb.prototype,"resetSearchWhenPanelOpens",null),Eb=Object(u["a"])([Object(d["a"])({components:{SearchInput:Ob["a"],TextInput:mo["a"],Accordion:kc["a"],AddElement:yb["a"],DropdownInput:go["a"],WebsiteDialog:_b}})],Eb);var Ib=Eb,Db=Ib,Tb=(n("d899"),Object(ne["a"])(Db,bb,gb,!1,null,null,null)),Ab=Tb.exports;Na()(Tb,{VBtn:$a["a"],VCard:pr["a"],VCardText:wo["b"],VDialog:Po["a"],VSwitch:hl["a"]});var Rb,Bb=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-dialog",{attrs:{fullscreen:e.fullscreen,width:e.fullscreen?null:960,"content-class":"design-library-dialog"},model:{value:e.isOpen,callback:function(t){e.isOpen=t},expression:"isOpen"}},[n("header",{staticClass:"design-library-header"},[n("TopBarSection",[n("IconButton",{attrs:{icon:"HouseIcon",size:"18"},on:{click:e.goHome}})],1),n("TopBarSection",{attrs:{"border-left":!0,"border-right":!0}},[n("DesignProviderDropdown",{attrs:{providers:e.providers},model:{value:e.selectedProvider,callback:function(t){e.selectedProvider=t},expression:"selectedProvider"}})],1),n("TopBarSection",{staticClass:"design-library-breakpoint-chooser ml-auto mr-auto",attrs:{"border-left":!0,"border-right":!0}},[n("BreakpointsSelection",{model:{value:e.breakpoint,callback:function(t){e.breakpoint=t},expression:"breakpoint"}})],1),n("TopBarSection",{staticClass:"ml-auto pr-2",attrs:{"border-right":!0}},[n("NiceButton",{attrs:{disabled:!e.canImportAll,"left-icon":"ArrowDownToLine"},on:{click:e.importAll}},[e._v(" Import Page ")])],1),n("TopBarSection",[n("IconButton",{attrs:{icon:e.fullscreen?"DownLeftAndUpRightToCenter":"UpRightAndDownLeftFromCenter",size:"18"},on:{click:e.toggleFullscreen}})],1),n("TopBarSection",{attrs:{"border-left":!0}},[n("IconButton",{attrs:{icon:"CloseIcon",size:"18"},on:{click:e.close}})],1)],1),n("div",{staticClass:"design-library-contents"},[n("DesignLibrarySidebar",{attrs:{items:e.sidebarItems},on:{select:e.onPostSelected}}),n("div",{ref:"iframeWrapper",staticClass:"design-library-iframe-wrapper"},[e.reliesOnGlobalSettings?[n("div",{staticClass:"design-library-global-settings-warning"},[n("div",[n("div",{staticClass:"design-library-global-settings-warning-text"},[e.globalSettingsLastImportedFromUrl===e.selectedProvider.url?[n("Icon",{staticClass:"design-library_success-icon",attrs:{icon:"CheckSquareIcon"}}),e._v(" You've already imported the global settings from this site. ")]:e.globalSettingsLastImportedFromUrl?[n("Icon",{staticClass:"design-library_warning-icon",attrs:{icon:"ExclamationMarkCircleIcon"}}),n("span",[e._v("This design relies on global settings. It won't look the same unless you import them. ")])]:[n("div",[e._v(" This design relies on global settings. It won't look the same unless you import them. ")])]],2)]),n("NiceButton",{on:{click:e.toggleImportGlobalSettingsScreen}},[e._v(" Import Global Settings ")])],1),e.importGlobalSettingsScreen?n("div",{staticClass:"design-library-import-global-settings-panel"},[e.loadingExternalGlobalSettings?n("div",[n("LoadingSpinner",{attrs:{color:"var(--gray500)",size:65}})],1):[n("span",[e._v("Your existing global settings will be overwritten with the global settings from this library website.")]),n("div",[n("v-btn",{staticClass:"mr-2",attrs:{text:""},on:{click:e.toggleImportGlobalSettingsScreen}},[e._v(" Cancel ")]),n("v-btn",{attrs:{dark:"",color:"blue"},on:{click:e.importGlobalSettings}},[e._v(" Confirm Overwrite & Import ")])],1)]],2):e._e()]:e._e(),n("ProOnlyAlertBox",{attrs:{options:{feature:"design-library",content:"Soon, the Design Library will only be available in Breakdance Pro. For now, enjoy your free preview!"}}}),n("div",{staticClass:"design-library-iframe-inner-wrapper",style:e.iframeWrapperStyles},[e.selectedProvider?n("iframe",{ref:"iframe",staticClass:"design-library-iframe",style:e.iframeStyles,attrs:{src:e.iframeUrl},on:{load:e.onProviderLoaded}}):e._e()]),e.previewLoaded?n("v-overlay",{attrs:{value:e.loading,absolute:""}},[n("v-progress-circular",{attrs:{indeterminate:"",size:"64"}})],1):e._e(),!e.previewLoaded&&e.selectedProvider?n("DesignLibrarySkeleton"):e._e()],2)],1)])},Mb=[],Fb=n("af0c"),Vb=n("0fdf"),Lb=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},Wb=[function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"design-library-skeleton-loader"},[n("span",{staticClass:"design-library-skeleton-header"},[n("span",{staticClass:"design-library-skeleton-line"}),n("span",{staticClass:"design-library-skeleton-line"}),n("span",{staticClass:"design-library-skeleton-line"})]),n("span",{staticClass:"design-library-skeleton-hero"},[n("span",{staticClass:"design-library-skeleton-line"}),n("span",{staticClass:"design-library-skeleton-line"})]),n("div",{staticClass:"design-library-skeleton-button"},[n("span",{staticClass:"design-library-skeleton-line"}),n("span",{staticClass:"design-library-skeleton-line"})])])}],Nb=Object(d["a"])(Rb=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(a["a"]))||Rb,$b=Nb,Ub=(n("71d3"),Object(ne["a"])($b,Lb,Wb,!1,null,null,null)),Hb=Ub.exports,zb=function(e){var t=Object(He["a"])(),n="Library:".concat(t);ce["a"].transaction((function(){e.forEach((function(e){var t=Object(Be["b"])(kt["c"].document.tree,null,Object(Be["f"])(e));Object(Cp["c"])(t,Object(xp["a"])((function(){}),(function(t){if("TOP_LEVEL"!==t){var a={nodeId:void 0};kt["c"].pasteCopiedElementMutation({element:e,placeToAddId:t.place.id,placeToAddIndex:t.index||t.place.children.length,pointer:a}),a.nodeId&&ge["a"].run.onCreatedElement({elementId:a.nodeId,transactionKey:n})}})))}))}),"Import from design library",n)},Gb=n("e1bd"),qb=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("aside",{staticClass:"design-library-sidebar"},[n("header",{staticClass:"design-library-sidebar-header"},[n("SearchInput",{attrs:{placeholder:"Search Pages",autofocus:!0},model:{value:e.searchQuery,callback:function(t){e.searchQuery=t},expression:"searchQuery"}})],1),n("v-treeview",{attrs:{hoverable:"",activatable:"","open-on-click":"",items:e.treeItems,"open-all":!!e.searchQuery},on:{"update:active":function(t){return e.$emit("select",t)}},scopedSlots:e._u([{key:"prepend",fn:function(t){var a=t.item,i=t.open;return[a.children?n("Icon",{attrs:{icon:i?"FolderOpenIcon":"FolderIcon"}}):e._e()]}}])})],1)},Kb=[],Xb=n("60624"),Yb=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.searchQuery="",e}return Object(s["a"])(n,[{key:"filteredItems",get:function(){var e=this.searchQuery;if(!e)return this.items;var t=new Xb["a"](this.items,{keys:["name"],threshold:.2});return t.search(e.trim()).map((function(e){return e.item}))}},{key:"treeItems",get:function(){var e=[],t=this.filteredItems.reduce((function(t,n){return n.tags.length?n.tags.forEach((function(e){t[e]=t[e]||[],t[e].push(n)})):e.push(n),t}),Object.create(null)),n=Object.keys(t).map((function(e){return{id:e,name:e,children:t[e]}}));return[].concat(e,Object(k["a"])(n))}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:function(){return[]}})],Yb.prototype,"items",void 0),Yb=Object(u["a"])([Object(d["a"])({components:{AlertBox:Ys["a"],SearchInput:Ob["a"],Icon:Z["a"]}})],Yb);var Qb=Yb,Zb=Qb,Jb=(n("7da6"),n("eb2a")),eg=Object(ne["a"])(Zb,qb,Kb,!1,null,null,null),tg=eg.exports;Na()(eg,{VTreeview:Jb["a"]});var ng=n("5dfa"),ag=n("25f2"),ig=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dropdown",{attrs:{"offset-y":"","close-on-content-click":!1},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("div",e._g({staticClass:"document-chooser"},a),[n("div",{staticClass:"document-chooser-text"},[n("h2",[e._v("Design Set")]),n("span",{staticClass:"ellipsis-text"},[e._v(" "+e._s(e.value&&e.value.name)+" ")])]),n("div",{staticClass:"document-chooser-dropdown-icon"},[n("Icon",{attrs:{size:"11",icon:"CaretDownIcon"}})],1)])]}}]),model:{value:e.open,callback:function(t){e.open=t},expression:"open"}},[n("v-card",{staticClass:"vscroll-scroll vscroll-wrap",attrs:{width:"300",height:"350"}},[n("v-list",{staticClass:"vscroll-scroll",attrs:{dense:""}},[e._l(e.providers,(function(t,a){return[n("v-list-item",{key:a,class:{"document-chooser-item-selected":e.value&&t.url===e.value.url},attrs:{link:""},on:{click:function(n){return e.chooseProvider(t)}}},[n("v-list-item-title",{staticClass:"previewable-item-list-item"},[n("div",{staticClass:"previewable-item-label previewable-item-label-stop-text-from-overflowing"},[e._v(" "+e._s(t.name)+" ")]),t.type?n("div",{staticClass:"previewable-item-type"},[e._v(" "+e._s(t.type)+" ")]):e._e()])],1)]}))],2)],1)],1)},rg=[],og=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.open=!1,e}return Object(s["a"])(n,[{key:"chooseProvider",value:function(e){this.$emit("input",e),this.open=!1}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],og.prototype,"value",void 0),Object(u["a"])([Object(d["d"])()],og.prototype,"providers",void 0),og=Object(u["a"])([Object(d["a"])({components:{Icon:Z["a"],Dropdown:Ri["a"],TopBarSection:Qi}})],og);var sg=og,lg=sg,cg=Object(ne["a"])(lg,ig,rg,!1,null,null,null),ug=cg.exports;Na()(cg,{VCard:pr["a"],VList:Vi["a"],VListItem:Li["a"],VListItemTitle:Wi["c"]});var dg=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.selectedProvider=null,e.selectedPostId=null,e.providerElements=[],e.reliesOnGlobalSettings=!1,e.providerPosts=[],e.breakpoint={id:Ut["a"],label:"",minWidth:void 0,maxWidth:void 0,defaultPreviewWidth:Ut["b"]},e.canvasSize={width:0,height:0},e.loading=!1,e.previewLoaded=!1,e.fullscreen=!1,e.loadingDesignSetData=!1,e.loadingExternalGlobalSettings=!1,e.importGlobalSettingsScreen=!1,e}return Object(s["a"])(n,[{key:"mounted",value:function(){kt["h"].hasFullAccess&&Pa["b"].register(Si.CMD_B,this.open)}},{key:"beforeDestroy",value:function(){Pa["b"].unbind(Si.CMD_A),this.unbindListeners()}},{key:"onDialogOpen",value:function(){this.isOpen?this.modalOpened():this.unbindListeners()}},{key:"onProviderChange",value:function(e,t){this.providerElements=[],this.selectedPostId=null,this.providerPosts=[],this.reliesOnGlobalSettings=!1,this.getDesignSetData(),e.url!==(null===t||void 0===t?void 0:t.url)&&(this.previewLoaded=!1)}},{key:"modalOpened",value:function(){this.selectedProvider||(this.selectedProvider=this.providers[1]),this.calculateSizeAfterTransition(),window.addEventListener("message",this.handleIframeMessage,!1),window.addEventListener("resize",this.setCanvasSize)}},{key:"toggleImportGlobalSettingsScreen",value:function(){this.importGlobalSettingsScreen=!this.importGlobalSettingsScreen}},{key:"unbindListeners",value:function(){window.removeEventListener("message",this.handleIframeMessage,!1),window.removeEventListener("resize",this.setCanvasSize)}},{key:"calculateSizeAfterTransition",value:function(){var e=this,t=400;setTimeout((function(){return e.setCanvasSize()}),t)}},{key:"setCanvasSize",value:function(){var e=this.$refs.iframeWrapper;if(e){var t=e.getBoundingClientRect(),n=t.width,a=t.height;this.canvasSize={width:n,height:a}}}},{key:"reloadIframe",value:function(){var e=this.$refs.iframe;e?(e.src+="",this.loading=!0):this.selectedProvider=this.providers[0]}},{key:"goHome",value:function(){this.selectedPostId=null,this.reloadIframe()}},{key:"toggleFullscreen",value:function(){this.fullscreen=!this.fullscreen,this.calculateSizeAfterTransition()}},{key:"handleIframeMessage",value:function(e){if("string"===typeof e.data){var t=e.data.split(/,([\s\S]*)/),n=Object(vc["a"])(t,2),a=n[0],i=n[1];"breakdanceGetElements"===a&&this.getElements(i),"breakdanceImportElement"===a&&this.importElement(i),"breakdanceBeforeLeave"===a&&this.navigatedAway()}}},{key:"onPostSelected",value:function(e){var t=Object(vc["a"])(e,1),n=t[0];this.loading=!0,this.selectedPostId=n||null,this.reloadIframe()}},{key:"onProviderLoaded",value:function(){this.previewLoaded=!0,this.loading=!1,this.setCanvasSize()}},{key:"getElements",value:function(e){this.loading=!1;var t=Object(Fb["a"])(e,M["g"](Vb["d"]));this.providerElements=Object(Cp["c"])(t,Object(xp["a"])((function(){return[]}),(function(e){return e})))}},{key:"navigatedAway",value:function(){this.loading=!0}},{key:"importElement",value:function(e){var t=Object(Fb["a"])(e,Vb["d"]),n=Object(Cp["c"])(t,Object(xp["a"])((function(){return null}),(function(e){return e})));n&&(zb([n]),this.close(),this.$nextTick((function(){Object(Gb["b"])()})))}},{key:"importAll",value:function(){zb(this.providerElements),this.close(),this.$nextTick((function(){Object(Gb["b"])()}))}},{key:"close",value:function(){kt["h"].setDesignLibraryModalState(!1)}},{key:"open",value:function(){kt["h"].setDesignLibraryModalState(!0)}},{key:"getDesignSetData",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=null===(t=this.selectedProvider)||void 0===t?void 0:t.url,this.loadingDesignSetData=!0,e.t0=Cp["c"],e.next=5,Object(B["a"])({action:(null===(n=this.selectedProvider)||void 0===n?void 0:n.isLocal)?"breakdance_get_local_design_set":"breakdance_get_external_design_set",decoder:ng["b"],friendlyName:"Design Set Data",dataToPost:{url:a}});case 5:e.t1=e.sent,e.t2=Object(xp["a"])((function(){i.providerPosts=[]}),(function(e){var t;i.providerPosts=e.posts,i.reliesOnGlobalSettings=!(null===(t=i.selectedProvider)||void 0===t?void 0:t.isLocal)&&e.reliesOnGlobalSettings})),(0,e.t0)(e.t1,e.t2),this.loadingDesignSetData=!1;case 9:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"importGlobalSettings",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n,a,i,r,o,s,l;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!(null===(t=this.selectedProvider)||void 0===t?void 0:t.isLocal)){e.next=2;break}return e.abrupt("return");case 2:return this.loadingExternalGlobalSettings=!0,r=null===(n=this.selectedProvider)||void 0===n?void 0:n.url,e.t0=Cp["c"],e.next=7,Object(B["a"])({action:"breakdance_get_external_global_settings",decoder:Vb["c"],friendlyName:'Global Settings for "'.concat(r,'"'),dataToPost:{url:r}});case 7:if(e.t1=e.sent,e.t2=Object(xp["a"])((function(){return!1}),(function(e){return r&&kt["b"].setDesignLibrary(Object(C["a"])({},kt["b"].designLibrary,{globalSettingsLastImportedFromUrl:r})),e&&e.globalSettings})),o=(0,e.t0)(e.t1,e.t2),this.loadingExternalGlobalSettings=!1,this.importGlobalSettingsScreen=!1,!1!==o){e.next=15;break}return ke["a"].log.errorMessage('Error importing Global Settings for "'.concat((null===(s=this.selectedProvider)||void 0===s?void 0:s.name)||(null===(l=this.selectedProvider)||void 0===l?void 0:l.url),'"')),e.abrupt("return");case 15:kt["d"].setGlobalSettings(o),kt["h"].setShouldPanelLoadFreshDataIntoStoreOnceOpened("globalSettings",!1),ke["a"].log.message('Imported Global Settings from "'.concat((null===(a=this.selectedProvider)||void 0===a?void 0:a.name)||(null===(i=this.selectedProvider)||void 0===i?void 0:i.url),'"'));case 18:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"providers",get:function(){return kt["b"].designLibrary.designProviders}},{key:"sidebarItems",get:function(){return this.providerPosts}},{key:"isOpen",get:function(){return kt["h"].panelState.designLibraryModalOpen},set:function(e){kt["h"].setDesignLibraryModalState(e)}},{key:"selectedPost",get:function(){var e=this;return this.providerPosts.find((function(t){return t.id===e.selectedPostId}))}},{key:"iframeUrl",get:function(){var e;if(!this.selectedProvider)return null;var t=(null===(e=this.selectedPost)||void 0===e?void 0:e.url)||this.selectedProvider.url,n=new URL(t);return n.searchParams.append("breakdance","design-library"),n.toString()}},{key:"previewWidth",get:function(){return this.breakpoint.id===Ut["a"]?"100%":this.breakpoint.defaultPreviewWidth}},{key:"minWidth",get:function(){return Object(Ut["g"])(kt["d"])}},{key:"iframeWrapperStyles",get:function(){return{width:"100%"===this.previewWidth?"100%":"".concat(this.previewWidth,"px")}}},{key:"iframeStyles",get:function(){var e=this,t=function(t){var n=Math.min(1,e.canvasSize.width/t);return{width:"".concat(t,"px"),transform:"scale(".concat(n,")"),height:"".concat(e.canvasSize.height*(1/n),"px")}};return"100%"===this.previewWidth?this.canvasSize.width<this.minWidth?t(this.minWidth):{width:"100%",minWidth:"".concat(this.minWidth,"px")}:t(this.previewWidth)}},{key:"canImportAll",get:function(){return this.providerElements.length}},{key:"globalSettingsLastImportedFromUrl",get:function(){return kt["b"].designLibrary.globalSettingsLastImportedFromUrl}}]),n}(a["a"]);Object(u["a"])([Object(d["h"])("isOpen")],dg.prototype,"onDialogOpen",null),Object(u["a"])([Object(d["h"])("selectedProvider")],dg.prototype,"onProviderChange",null),dg=Object(u["a"])([Object(d["a"])({components:{LoadingSpinner:ag["a"],ProOnlyAlertBox:Qs["a"],Icon:Z["a"],IconButton:Ai["a"],NiceButton:yo["a"],DesignLibrarySidebar:tg,DesignLibrarySkeleton:Hb,TopBarSection:Qi,DropdownInput:go["a"],BreakpointsSelection:$i,DesignProviderDropdown:ug}})],dg);var pg=dg,vg=pg,hg=(n("7df9"),n("a797")),mg=Object(ne["a"])(vg,Bb,Mb,!1,null,null,null),fg=mg.exports;Na()(mg,{VBtn:$a["a"],VDialog:Po["a"],VOverlay:hg["a"],VProgressCircular:Ol["a"]});var bg=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("v-sheet",{staticClass:"breakdance-panel-header d-flex align-center",attrs:{tile:""}},[n("div",{staticClass:"breakdance-panel-header-title"},[e._t("default")],2),n("v-spacer"),e._t("right"),e.backInsteadOfClose?n("IconButton",{staticClass:"breakdance-panel-header-close-button",attrs:{icon:"ChevronDownIcon",rotate:"90",size:"12",small:""},on:{click:e.close}}):n("IconButton",{staticClass:"breakdance-panel-header-close-button",attrs:{icon:"CloseIcon",size:"16",small:""},on:{click:e.close}})],2)},gg=[],yg=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"close",value:function(){this.$emit("close")}}]),n}(d["g"]);Object(u["a"])([Object(d["d"])({default:!1})],yg.prototype,"backInsteadOfClose",void 0),yg=Object(u["a"])([Object(d["a"])({components:{IconButton:Ai["a"]}})],yg);var Og=yg,kg=Og,jg=(n("5c31"),Object(ne["a"])(kg,bg,gg,!1,null,null,null)),Sg=jg.exports;Na()(jg,{VSheet:rb["a"],VSpacer:ro["a"]});var Cg=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"close",value:function(){Object(Q["b"])("add")}},{key:"openDesignLibrary",value:function(){kt["h"].setDesignLibraryModalState(!0)}},{key:"state",get:function(){return kt["b"].elementsLoadingState}}]),n}(a["a"]);Cg=Object(u["a"])([Object(d["a"])({components:{DesignLibraryModal:fg,PanelHeader:Sg,ElementsList:Ab}})],Cg);var xg=Cg,wg=xg,Pg=(n("27bd"),Object(ne["a"])(wg,mb,fb,!1,null,null,null)),_g=Pg.exports;Na()(Pg,{VProgressCircular:Ol["a"]});var Eg=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vscroll-wrap vscroll-scroll global-settings-panel"},[n("div",{staticClass:"vscroll-wrap vscroll-scroll"},[n("PanelHeader",{on:{close:e.close}},[e._v(" Global Settings "),n("BrowseModeToggle",{attrs:{"panel-to-open":"globalSettings"}}),n("PanelHeaderButton",{attrs:{enabled:"history"===e.viewMode},on:{click:e.toggleViewMode}},[e._v("history")])],1),"controls"===e.viewMode?n("GlobalSettingsPanelControlsViewMode",{attrs:{"is-loading":e.isLoading}}):"history"===e.viewMode?n("GlobalSettingsPanelHistoryViewMode"):e._e()],1)])},Ig=[],Dg=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("PanelHeaderButton",{attrs:{enabled:e.isBrowseModeEnabled},on:{click:e.toggleBrowseMode}},[e._v("browse")])},Tg=[],Ag=n("8532"),Rg=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{"breakdance-panel-header-button":!0,"breakdance-panel-header-button--enabled":e.enabled},on:{click:function(t){return e.$emit("click")}}},[e._t("default")],2)},Bg=[],Mg=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(d["g"]);Object(u["a"])([Object(d["d"])({default:!0})],Mg.prototype,"enabled",void 0),Mg=Object(u["a"])([Object(d["a"])({components:{}})],Mg);var Fg=Mg,Vg=Fg,Lg=(n("f03d"),Object(ne["a"])(Vg,Rg,Bg,!1,null,null,null)),Wg=Lg.exports,Ng=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"toggleBrowseMode",value:function(){Object(Ag["e"])(this.panelToOpen)}},{key:"isBrowseModeEnabled",get:function(){return"browse"===kt["h"].mode}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:"globalSettings"})],Ng.prototype,"panelToOpen",void 0),Ng=Object(u["a"])([Object(d["a"])({components:{PanelHeaderButton:Wg}})],Ng);var $g=Ng,Ug=$g,Hg=Object(ne["a"])(Ug,Dg,Tg,!1,null,null,null),zg=Hg.exports,Gg=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vscroll-wrap vscroll-scroll"},[e.isLoading?n("v-layout",{attrs:{"justify-center":"","align-center":""}},[n("v-progress-circular",{attrs:{size:"64",indeterminate:"",color:"var(--gray300)"}})],1):[e.hasSearchParameters?e._e():n("div",{staticClass:"vscroll-scroll"},[n("ControlsTree",{attrs:{controls:e.controls,path:"settings"}})],1),e.hasSearchParameters&&!e.noSearchResults?n("div",{staticClass:"vscroll-scroll"},[""!==e.searchBoxState.query?n("div",{staticClass:"control-tree-search-term"},[n("span",[e._v('Search results for "'+e._s(e.searchBoxState.query)+'"')]),n("div",{staticClass:"control-tree-search-clear",on:{click:e.clearQuery}},[n("Icon",{attrs:{icon:"CloseIcon",size:"14"}})],1)]):e._e(),n("ControlsTree",{attrs:{controls:e.controlsFilteredBySearchParams,path:"settings",linear:!0}})],1):e.hasSearchParameters&&e.noSearchResults?n("v-sheet",{staticClass:"d-flex justify-center align-center flex-column",attrs:{height:"100%"}},[n("SearchBoxEmptyState",{attrs:{label:"settings"},on:{input:e.clearQuery}})],1):e._e(),n("SearchBox",{attrs:{value:e.searchBoxState,location:"settings"},on:{input:e.updateSearchBoxState}})]],2)},qg=[],Kg=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.searchBoxState={modifiedOnly:!1,query:""},e.editingGlobalSettingsControlsTreeContext=Yg,e}return Object(s["a"])(n,[{key:"updateSearchBoxState",value:function(e){this.searchBoxState=e}},{key:"clearQuery",value:function(){this.updateSearchBoxState({modifiedOnly:!1,query:""})}},{key:"controls",get:function(){return kt["b"].globalSettingsControlsAndTemplate.controls}},{key:"controlsFilteredBySearchParams",get:function(){return Hf(this.controls,this.searchBoxState.modifiedOnly,this.searchBoxState.query,this.editingGlobalSettingsControlsTreeContext,"settings")}},{key:"noSearchResults",get:function(){return 0===Gf(this.controlsFilteredBySearchParams,0)}},{key:"hasSearchParameters",get:function(){return this.searchBoxState.modifiedOnly||this.searchBoxState.query}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:!1})],Kg.prototype,"isLoading",void 0),Object(u["a"])([Object(d["e"])("context")],Kg.prototype,"editingGlobalSettingsControlsTreeContext",void 0),Kg=Object(u["a"])([Object(d["a"])({components:{ControlsTree:Am["default"],SearchBox:qm,Icon:Z["a"],SearchBoxEmptyState:eb}})],Kg);var Xg=Kg,Yg={dynamicProperty:function(){return!1},getControlValue:function(e){return E.a.get(kt["d"].globalSettings,e)},setControlValue:function(e,t,n,a){kt["d"].throttledGlobalSettingsPropertyChange(Object(Zc["d"])({path:e,value:t},{control:n,controlsTree:this.getControls(e)||[]},a))},getControls:function(){return kt["b"].globalSettingsControlsAndTemplate.controls},setAccordionState:function(e,t){Object(qf["g"])(e,t)},getAccordionState:function(e){return Object(qf["c"])(e)}},Qg=Xg,Zg=n("a722"),Jg=Object(ne["a"])(Qg,Gg,qg,!1,null,null,null),ey=Jg.exports;Na()(Jg,{VLayout:Zg["a"],VProgressCircular:Ol["a"],VSheet:rb["a"]});var ty=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vscroll-wrap vscroll-scroll"},[n("RevisionsList",{attrs:{"is-loading":e.isLoading,revisions:e.revisionUiItems},on:{revisionSelected:e.onRevisionSelected}})],1)},ny=[],ay=n("fd0f"),iy=M["s"]({id:M["u"]([M["n"],M["r"]]),date:M["r"],author:M["u"]([M["r"],M["l"](!1)])}),ry=M["j"]([iy,M["s"]({globalSettings:Vb["c"]})]),oy=M["g"](ry),sy=M["j"]([iy,M["s"]({selectors:ay["a"]})]),ly=M["g"](sy),cy=M["j"]([iy,M["s"]({tree:M["r"]})]),uy=M["j"]([iy,M["s"]({tree:Vb["a"]})]),dy=(M["s"]({revisions:M["g"](uy)}),M["u"]([M["s"]({revisions:M["g"](cy)}),M["s"]({unsupported:M["r"]})]));function py(){return vy.apply(this,arguments)}function vy(){return vy=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=Cp["c"],e.next=3,Object(B["a"])({action:"breakdance_retrieve_global_settings_revisions",decoder:oy});case 3:return e.t1=e.sent,e.t2=Object(K["mapLeft"])((function(){return null})),e.t3=xp["e"],e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 7:case"end":return e.stop()}}),e)}))),vy.apply(this,arguments)}var hy=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-revisions-list vscroll-wrap vscroll-scroll"},[e.isLoading?n("v-layout",{attrs:{"justify-center":"","align-center":""}},[n("v-progress-circular",{attrs:{size:"64",indeterminate:"",color:"var(--gray300)"}})],1):e.revisionsNotSupportedMessage?n("div",{staticClass:"breakdance-revisions-list__not-found"},[n("p",[e._v(e._s(e.revisionsNotSupportedMessage))])]):e.revisions.length?n("div",{staticClass:"breakdance-revisions-list__items"},e._l(e.revisions,(function(t,a){return n("RevisionItem",{key:t.revisionData.id,attrs:{revision:t.revisionData,selected:t.isSelected},on:{click:function(n){return e.onRevisionSelected(t,a)}}})})),1):n("div",{staticClass:"breakdance-revisions-list__not-found"},[n("h2",[e._v("No revisions found")]),n("p",[e._v("Save any changes to create a new revision")])])],1)},my=[],fy=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"revisions-item",class:{"revisions-item--selected":e.selected},on:{click:function(t){return e.$emit("click",e.revision)}}},[n("span",{staticClass:"revisions-item__date"},[e._v(e._s(e.revision.date))]),e.revision.author?[n("span",[e._v(e._s(e.revision.author))])]:e._e()],2)},by=[],gy=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(a["a"]);Object(u["a"])([Object(d["d"])({default:function(){return{}}})],gy.prototype,"revision",void 0),Object(u["a"])([Object(d["d"])({default:!1})],gy.prototype,"selected",void 0),gy=Object(u["a"])([Object(d["a"])({})],gy);var yy=gy,Oy=yy,ky=(n("cef0"),Object(ne["a"])(Oy,fy,by,!1,null,null,null)),jy=ky.exports,Sy=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"onRevisionSelected",value:function(e,t){this.$emit("revisionSelected",e,t)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:!1})],Sy.prototype,"isLoading",void 0),Object(u["a"])([Object(d["d"])({default:[]})],Sy.prototype,"revisions",void 0),Object(u["a"])([Object(d["d"])({default:null})],Sy.prototype,"revisionsNotSupportedMessage",void 0),Sy=Object(u["a"])([Object(d["a"])({components:{RevisionItem:jy}})],Sy);var Cy=Sy,xy=Cy,wy=(n("07f2"),Object(ne["a"])(xy,hy,my,!1,null,null,null)),Py=wy.exports;Na()(wy,{VLayout:Zg["a"],VProgressCircular:Ol["a"]});var _y=n("7c7f"),Ey=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.isLoading=!1,e.remoteRevisions=null,e.selectedIndex=null,e.unsubscribeFromStore=function(){},e.currentUnsavedRevision=null,e}return Object(s["a"])(n,[{key:"beforeMount",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadRemoteRevisions();case 2:kt["d"].settingsHasUnsavedChangesPresent&&(this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch(),-1===this.selectedIndex&&this.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData()),this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch(),this.unsubscribeFromStore=this.$store.subscribe((function(e){var n=Object(_y["c"])(e);"global"===n&&"global/restoreGlobalSettingsRevision"!==e.type&&"global/setSelectors"!==e.type&&("global/setGlobalSettings"===e.type?t.currentUnsavedRevision=null:t.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData(),t.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch())}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"beforeDestroy",value:function(){this.unsubscribeFromStore()}},{key:"loadRemoteRevisions",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,py();case 3:this.remoteRevisions=e.sent,this.selectedIndex=null,this.isLoading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch",value:function(){this.selectedIndex=this.findSelectedIndexBasedOnStoreDataMatch()}},{key:"findSelectedIndexBasedOnStoreDataMatch",value:function(){var e=Object(Ue["a"])(kt["d"].globalSettings);return this.revisions.findIndex((function(t){return Object(_["isEqual"])(t.globalSettings,e)}))}},{key:"setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData",value:function(){this.isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData()?this.currentUnsavedRevision=null:this.setCurrentUnsavedRevisionFromCurrentStoreData()}},{key:"isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData",value:function(){if(null===this.remoteRevisions||0===this.remoteRevisions.length)return!1;var e=Object(vc["a"])(this.remoteRevisions,1),t=e[0],n=Object(Ue["a"])(kt["d"].globalSettings);return Object(_["isEqual"])(t.globalSettings,n)}},{key:"setCurrentUnsavedRevisionFromCurrentStoreData",value:function(){this.currentUnsavedRevision={id:-1,author:!1,date:"Current",globalSettings:Object(Ue["a"])(kt["d"].globalSettings)}}},{key:"onRevisionSelected",value:function(e,t){this.selectedIndex=t,ce["a"].transaction((function(){return kt["d"].restoreGlobalSettingsRevision(e.revisionData)}),"Restore Global Settings From Revision")}},{key:"updateRevisionsAfterSaving",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(kt["h"].unsavedChangesPresent){e.next=5;break}return e.next=3,this.loadRemoteRevisions();case 3:this.currentUnsavedRevision=null,this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"revisionUiItems",get:function(){var e=this;return this.revisions.map((function(t,n){return{isSelected:n===e.selectedIndex,revisionData:t}}))}},{key:"revisions",get:function(){var e,t=null!==(e=this.remoteRevisions)&&void 0!==e?e:[];return this.currentUnsavedRevision?[this.currentUnsavedRevision].concat(Object(k["a"])(t)):t}},{key:"unsavedChangesPresent",get:function(){return kt["h"].unsavedChangesPresent}}]),n}(a["a"]);Object(u["a"])([Object(d["h"])("unsavedChangesPresent")],Ey.prototype,"updateRevisionsAfterSaving",null),Ey=Object(u["a"])([Object(d["a"])({components:{RevisionsList:Py}})],Ey);var Iy=Ey,Dy=Iy,Ty=Object(ne["a"])(Dy,ty,ny,!1,null,null,null),Ay=Ty.exports,Ry=n("2064"),By=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.storedData=null,e.isStoringData=!1,e.isLoadingData=!1,e}return Object(s["a"])(n,[{key:"toggleViewMode",value:function(){kt["h"].setPanelState(Object(C["a"])({},kt["h"].panelState,{globalSettingsPanelActiveViewMode:"controls"===this.viewMode?"history":"controls"}))}},{key:"beforeMount",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!kt["h"].panelState.shouldLoadFreshDataIntoStoreOnceOpened.globalSettings){e.next=6;break}return kt["h"].setPanelState(Object(C["a"])({},kt["h"].panelState,{globalSettingsPanelActiveViewMode:"controls"})),e.next=4,this.loadSettings();case 4:e.next=7;break;case 6:kt["h"].setShouldPanelLoadFreshDataIntoStoreOnceOpened("globalSettings",!0);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"storeSettings",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isStoringData=!0,e.next=3,Object(Ry["b"])();case 3:return t=e.sent,this.storedData=Object(Ue["a"])(kt["d"].globalSettings),this.isStoringData=!1,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"loadSettings",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoadingData=!0,e.next=3,Object(Ry["a"])();case 3:return t=e.sent,this.storedData=Object(Ue["a"])(kt["d"].globalSettings),this.isLoadingData=!1,e.abrupt("return",t);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"requestPanelClosingConfirmation",value:function(){kt["h"].requestClosingConfirmation({subject:"globalSettings",confirmationDefinition:{title:"You have unsaved changes to your Global Settings.",text:"Would you like to save or discard these changes?",type:"info"}})}},{key:"handleUnsavedChangesPresentChange",value:function(e){e?this.requestPanelClosingConfirmation():kt["h"].noClosingConfirmationIsNeededFor("globalSettings")}},{key:"handleConfirmationChosenOptionChange",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("discard"!==t){e.next=11;break}return kt["h"].setClosingConfirmationIsDiscarding({subject:"globalSettings",isDiscarding:!0}),e.next=4,this.loadSettings();case 4:if(!e.sent){e.next=8;break}this.close(),e.next=9;break;case 8:this.requestPanelClosingConfirmation();case 9:e.next=20;break;case 11:if("save"!==t){e.next=20;break}return kt["h"].setClosingConfirmationIsSaving({subject:"globalSettings",isSaving:!0}),e.next=15,this.storeSettings();case 15:if(!e.sent){e.next=19;break}this.close(),e.next=20;break;case 19:this.requestPanelClosingConfirmation();case 20:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){Object(Q["b"])("globalSettings")}},{key:"viewMode",get:function(){return kt["h"].panelState.globalSettingsPanelActiveViewMode}},{key:"isLoading",get:function(){return this.isStoringData||this.isLoadingData}},{key:"unsavedChangesPresent",get:function(){return kt["d"].settingsHasUnsavedChangesPresent}},{key:"confirmationChosenOption",get:function(){var e;return null===(e=kt["h"].closingConfirmations.globalSettings)||void 0===e?void 0:e.chosenOption}}]),n}(a["a"]);Object(u["a"])([Object(d["h"])("unsavedChangesPresent",{immediate:!0})],By.prototype,"handleUnsavedChangesPresentChange",null),Object(u["a"])([Object(d["h"])("confirmationChosenOption",{immediate:!0})],By.prototype,"handleConfirmationChosenOptionChange",null),By=Object(u["a"])([Object(d["a"])({components:{GlobalSettingsPanelHistoryViewMode:Ay,GlobalSettingsPanelControlsViewMode:ey,PanelHeaderButton:Wg,BrowseModeToggle:zg,PanelHeader:Sg}})],By);var My=By,Fy=My,Vy=(n("ab9c"),Object(ne["a"])(Fy,Eg,Ig,!1,null,null,null)),Ly=Vy.exports,Wy=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vscroll-wrap vscroll-scroll selectors-panel"},[e.isLoadingData?n("v-layout",{attrs:{row:"","justify-center":"","align-center":""}},[n("v-progress-circular",{attrs:{size:"64",indeterminate:"",color:"var(--gray300)"}})],1):e._e(),e.activeSelector?n("EditSelector",{on:{close:e.close}}):e._e(),e.activeSelector||e.isLoadingData?e._e():n("ManageSelectors",{on:{close:e.close}})],1)},Ny=[],$y=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vscroll-wrap vscroll-scroll"},[n("PanelHeader",{on:{close:function(t){return e.$emit("close")}}},[e._v("Selectors "),n("BrowseModeToggle",{attrs:{"panel-to-open":"selectors"}}),n("PanelHeaderButton",{attrs:{enabled:"history"===e.viewMode},on:{click:e.toggleViewMode}},[e._v("history")])],1),n("FreeModeAlertForSelectors",{staticClass:"ma-4"}),"controls"===e.viewMode?[n("AddSelector"),n("div",{staticClass:"vscroll-wrap vscroll-scroll breakdance-manage-selectors"},[n("SelectorsList",{attrs:{selectors:e.selectors,searchable:!0},on:{input:e.updateSelectors}})],1)]:"history"===e.viewMode?[n("SelectorsPanelHistoryViewMode")]:e._e()],2)},Uy=[],Hy=n("7e9b"),zy=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"d-flex flex-row add-selector"},[n("TextInput",{staticClass:"flex-grow-1",attrs:{placeholder:".your.css > #selector-69::after"},model:{value:e.newSelectorName,callback:function(t){e.newSelectorName=t},expression:"newSelectorName"}}),n("NiceButton",{staticClass:"ml-1",attrs:{size:"small"},on:{click:e.addSelector}},[e._v(" Add ")])],1)},Gy=[],qy=n("7be2"),Ky=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.newSelectorName="",e}return Object(s["a"])(n,[{key:"addSelector",value:function(){this.newSelectorName&&(Object(q["pipe"])(Object(qy["b"])(this.newSelectorName),Object(K["fold"])((function(e){return e.forEach(ke["a"].log.message)}),(function(e){return Object(qy["a"])(e)}))),this.newSelectorName="")}}]),n}(a["a"]);Ky=Object(u["a"])([Object(d["a"])({components:{NiceButton:yo["a"],TextInput:mo["a"]}})],Ky);var Xy=Ky,Yy=Xy,Qy=(n("0519"),Object(ne["a"])(Yy,zy,Gy,!1,null,null,null)),Zy=Qy.exports,Jy=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"vscroll-wrap vscroll-scroll"},[n("RevisionsList",{attrs:{"is-loading":e.isLoading,revisions:e.revisionUiItems},on:{revisionSelected:e.onRevisionSelected}})],1)},eO=[];function tO(){return nO.apply(this,arguments)}function nO(){return nO=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=Cp["c"],e.next=3,Object(B["a"])({action:"breakdance_retrieve_selectors_revisions",decoder:ly});case 3:return e.t1=e.sent,e.t2=Object(K["mapLeft"])((function(){return null})),e.t3=xp["e"],e.abrupt("return",(0,e.t0)(e.t1,e.t2,e.t3));case 7:case"end":return e.stop()}}),e)}))),nO.apply(this,arguments)}var aO=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.isLoading=!1,e.remoteRevisions=null,e.selectedIndex=null,e.unsubscribeFromStore=function(){},e.currentUnsavedRevision=null,e}return Object(s["a"])(n,[{key:"beforeMount",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.loadRemoteRevisions();case 2:kt["d"].selectorsHasUnsavedChangesPresent&&(this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch(),-1===this.selectedIndex&&this.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData()),this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch(),this.unsubscribeFromStore=this.$store.subscribe((function(e){var n=Object(_y["c"])(e);"global"===n&&"global/restoreSelectorsRevision"!==e.type&&"global/setGlobalSettings"!==e.type&&("global/setSelectors"===e.type?t.currentUnsavedRevision=null:t.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData(),t.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch())}));case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"beforeDestroy",value:function(){this.unsubscribeFromStore()}},{key:"loadRemoteRevisions",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoading=!0,e.next=3,tO();case 3:this.remoteRevisions=e.sent,this.selectedIndex=null,this.isLoading=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch",value:function(){this.selectedIndex=this.findSelectedIndexBasedOnStoreDataMatch()}},{key:"findSelectedIndexBasedOnStoreDataMatch",value:function(){var e=Object(Ue["a"])(kt["d"].cssSelectors);return this.revisions.findIndex((function(t){return Object(_["isEqual"])(t.selectors,e)}))}},{key:"setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData",value:function(){this.isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData()?this.currentUnsavedRevision=null:this.setCurrentUnsavedRevisionFromCurrentStoreData()}},{key:"isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData",value:function(){if(null===this.remoteRevisions)return!1;var e=Object(vc["a"])(this.remoteRevisions,1),t=e[0],n=Object(Ue["a"])(kt["d"].cssSelectors);return Object(_["isEqual"])(t.selectors,n)}},{key:"setCurrentUnsavedRevisionFromCurrentStoreData",value:function(){this.currentUnsavedRevision={id:-1,author:!1,date:"Current",selectors:Object(Ue["a"])(kt["d"].cssSelectors)}}},{key:"onRevisionSelected",value:function(e,t){this.selectedIndex=t,ce["a"].transaction((function(){return kt["d"].restoreSelectorsRevision(e.revisionData)}),"Restore Selectors From Revision")}},{key:"updateRevisionsAfterSaving",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(kt["h"].unsavedChangesPresent){e.next=5;break}return e.next=3,this.loadRemoteRevisions();case 3:this.currentUnsavedRevision=null,this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();case 5:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"revisionUiItems",get:function(){var e=this;return this.revisions.map((function(t,n){return{isSelected:n===e.selectedIndex,revisionData:t}}))}},{key:"revisions",get:function(){var e,t=null!==(e=this.remoteRevisions)&&void 0!==e?e:[];return this.currentUnsavedRevision?[this.currentUnsavedRevision].concat(Object(k["a"])(t)):t}},{key:"unsavedChangesPresent",get:function(){return kt["h"].unsavedChangesPresent}}]),n}(a["a"]);Object(u["a"])([Object(d["h"])("unsavedChangesPresent")],aO.prototype,"updateRevisionsAfterSaving",null),aO=Object(u["a"])([Object(d["a"])({components:{RevisionsList:Py}})],aO);var iO=aO,rO=iO,oO=Object(ne["a"])(rO,Jy,eO,!1,null,null,null),sO=oO.exports,lO=n("33d1"),cO=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"toggleViewMode",value:function(){p["g"].setPanelState(Object(C["a"])({},p["g"].panelState,{selectorsPanelPanelActiveViewMode:"controls"===this.viewMode?"history":"controls"}))}},{key:"updateSelectors",value:function(e){p["e"].setSelectors(Object(Ue["a"])(e))}},{key:"viewMode",get:function(){return p["g"].panelState.selectorsPanelPanelActiveViewMode}},{key:"selectors",get:function(){return p["e"].cssSelectors}}]),n}(a["a"]);cO=Object(u["a"])([Object(d["a"])({components:{FreeModeAlertForSelectors:lO["a"],AlertBox:Ys["a"],SelectorsPanelHistoryViewMode:sO,PanelHeaderButton:Wg,BrowseModeToggle:zg,draggable:Oc.a,SelectorsList:Hy["a"],AddSelector:Zy,PanelHeader:Sg}})],cO);var uO=cO,dO=uO,pO=(n("f451"),Object(ne["a"])(dO,$y,Uy,!1,null,null,null)),vO=pO.exports,hO=function(){var e=this,t=e.$createElement,n=e._self._c||t;return e.activeSelector?n("div",{staticClass:"vscroll-wrap vscroll-scroll"},[n("PanelHeader",{attrs:{backInsteadOfClose:!0},on:{close:e.close}},[e._v(" Editing Selector ")]),n("FreeModeAlertForSelectors",{staticClass:"ma-4"}),n("div",{staticClass:"breakdance-selector-titlebar"},[n("div",{staticClass:"flex-grow-1 mr-2"},[e.editingClassOrClassHover?[n("div",{staticClass:"d-flex flex-row align-center flex-wrap mr-2"},[n("transition",{attrs:{name:"blink-on-change"}},[n("div",{key:e.activeSelector.name,staticClass:"selector-titlebar-classname mr-1 ml-n1"},[e._v(" "+e._s(e.activeSelector.name.replace(":hover",""))+" ")])]),n("v-btn",{class:["editing-class-hover-hover-button-always",e.editingClassHover?"editing-class-hover-hover-button-active":"editing-class-hover-hover-button"],attrs:{"x-small":"",depressed:""},on:{click:e.toggleHover}},[e._v(" :hover ")])],1)]:[n("div",{staticClass:"d-flex flex-column"},[n("TextInput",{attrs:{value:e.activeSelector.name},on:{input:e.tryToRenameActiveSelector}})],1)]],2),e.selectorIsHighlightable?n("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("IconButton",e._g({attrs:{icon:"SearchFileIcon",size:"16",active:e.highlight},on:{click:e.toggleHighlight}},a))]}}],null,!1,3251607670)},[n("span",[e._v(e._s(e.howManyOnPage)+" on page")])]):e._e(),n("IconButton",{attrs:{icon:"TrashIcon",size:"16"},on:{click:e.deleteSelector}})],1),""!==e.searchBoxState.query&&e.hasSearchParameters&&!e.noSearchResults?n("div",{staticClass:"control-tree-search-term control-tree-search-term-selector"},[n("span",[e._v('Search results for "'+e._s(e.searchBoxState.query)+'"')]),n("div",{staticClass:"control-tree-search-clear",on:{click:e.clearQuery}},[n("Icon",{attrs:{icon:"CloseIcon",size:"14"}})],1)]):e._e(),e.editingClassOrClassHover||!e.attemptingToRename||e.isAttemptedRenameValid?e._e():n("div",{staticClass:"edit-selector-invalid-name-error"},[e._v(" invalid selector name ")]),n("div",{staticClass:"edit-selector-border"}),e.hasSearchParameters?e._e():n("div",{staticClass:"vscroll-scroll"},[n("ControlsTree",{attrs:{controls:e.controls,path:"properties"}})],1),e.hasSearchParameters&&!e.noSearchResults?n("div",{staticClass:"vscroll-scroll"},[n("ControlsTree",{attrs:{controls:e.controlsFilteredBySearchParams,path:"properties",linear:!0}})],1):e.hasSearchParameters&&e.noSearchResults?n("v-sheet",{staticClass:"d-flex justify-center align-center flex-column",attrs:{height:"100%"}},[n("SearchBoxEmptyState",{attrs:{label:"selectors"},on:{input:e.clearQuery}})],1):e._e(),n("SearchBox",{attrs:{value:e.searchBoxState,location:"selector"},on:{input:e.updateSearchBoxState}})],1):e._e()},mO=[],fO=(n("8a79"),n("8c63")),bO=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.searchBoxState={modifiedOnly:!1,query:""},e.highlight=!1,e.attemptingToRename=!1,e.editingClassControlsTreeContext=OO,e}return Object(s["a"])(n,[{key:"updateSearchBoxState",value:function(e){this.searchBoxState=e}},{key:"clearQuery",value:function(){this.updateSearchBoxState({modifiedOnly:!1,query:""})}},{key:"toggleHighlight",value:function(){this.highlight?this.clearHighlight():this.setHighlight()}},{key:"beforeDestroy",value:function(){this.clearHighlight()}},{key:"setHighlight",value:function(){if(this.highlight=!0,p["g"].activeSelector){var e=this.editingClassHover?p["g"].activeSelector.name.replace(":hover",""):p["g"].activeSelector.name;Object(fO["a"])(Object(Ae["c"])(),"breakdance-selector-highlight","".concat(e," {\n          outline: 10px dashed rgba(255,200,0) !important;\n          outline-offset: -5px;\n          animation-duration: 2000ms;\n          animation-iteration-count: infinite;\n        }\n        "))}}},{key:"clearHighlight",value:function(){this.highlight=!1,Object(fO["a"])(Object(Ae["c"])(),"breakdance-selector-highlight","")}},{key:"deleteSelector",value:function(){if(this.activeSelector){var e=this.activeSelector,t=p["e"].cssSelectors.findIndex((function(t){return t.name===e.name}));if(-1!==t){var n=Object(Ue["a"])(p["e"].cssSelectors);n.splice(t,1),p["e"].setSelectors(n)}}}},{key:"close",value:function(){this.backToAllSelectors()}},{key:"openElementProperties",value:function(){Object(Q["e"])("elementproperties")}},{key:"backToAllSelectors",value:function(){p["g"].setActiveSelectorName(null)}},{key:"tryToRenameActiveSelector",value:function(e){var t=this;if(e&&(this.attemptingToRename=e,this.clearHighlight(),Object(qy["d"])(e))){var n=p["e"].cssSelectors.findIndex((function(e){return e===t.activeSelector})),a=Object(Ue["a"])(p["e"].cssSelectors);a[n]&&(a[n].name=e,p["e"].setSelectors(a),p["g"].setActiveSelectorName(e),this.attemptingToRename=!1)}}},{key:"toggleHover",value:function(){if(p["g"].activeSelector)if(this.editingClass){var e=p["g"].activeSelectorName+":hover",t=function(){return p["e"].cssSelectors.find((function(t){return t.name===e}))},n=t();if(n||(Object(qy["a"])({name:e,type:"custom",properties:{}}),n=t()),!n)return void ke["a"].log.message("Unable to create or find a :hover selector for ".concat(p["g"].activeSelectorName));p["g"].setActiveSelectorName(n.name),Object(Q["e"])("selectors")}else if(this.editingClassHover&&this.activeSelector){var a=yO(this.activeSelector.name.replace(":hover",""));a&&(p["g"].setActiveSelectorName(a.name),Object(Q["e"])("selectors"))}}},{key:"hasSearchParameters",get:function(){return this.searchBoxState.modifiedOnly||this.searchBoxState.query}},{key:"controlsFilteredBySearchParams",get:function(){return Hf(this.controls,this.searchBoxState.modifiedOnly,this.searchBoxState.query,this.editingClassControlsTreeContext,"properties")}},{key:"noSearchResults",get:function(){return 0===Gf(this.controlsFilteredBySearchParams,0)}},{key:"howManyOnPage",get:function(){if(!p["g"].activeSelector)return 0;var e=this.editingClassHover?p["g"].activeSelector.name.replace(":hover",""):p["g"].activeSelector.name,t=window.Breakdance.canvas.document.querySelectorAll(e);return t.length}},{key:"editingClass",get:function(){return!!this.activeSelector&&"class"===this.activeSelector.type}},{key:"editingClassHover",get:function(){return!!this.activeSelector&&(!!this.activeSelector.name.endsWith(":hover")&&!!yO(this.activeSelector.name.replace(":hover","")))}},{key:"editingClassOrClassHover",get:function(){return this.editingClass||this.editingClassHover}},{key:"selectorIsHighlightable",get:function(){return!!p["g"].activeSelectorName&&!(p["g"].activeSelectorName.includes(":")&&!this.editingClassHover)}},{key:"controls",get:function(){return p["b"].selectorControls}},{key:"activeSelector",get:function(){return p["g"].activeSelector}},{key:"activeElementTitle",get:function(){return!!p["g"].activeElement&&p["b"].element(p["g"].activeElement.data.type).name}},{key:"isAttemptedRenameValid",get:function(){return!this.attemptingToRename||Object(qy["d"])(this.attemptingToRename)}}]),n}(a["a"]);Object(u["a"])([Object(d["e"])("context")],bO.prototype,"editingClassControlsTreeContext",void 0),bO=Object(u["a"])([Object(d["a"])({components:{FreeModeAlertForSelectors:lO["a"],AlertBox:Ys["a"],ControlsTree:Am["default"],SearchBox:qm,IconButton:Ai["a"],PanelHeader:Sg,TextInput:mo["a"],SearchBoxEmptyState:eb,Icon:Z["a"]}})],bO);var gO=bO,yO=function(e){return p["e"].cssSelectors.find((function(t){return t.name===e}))},OO={dynamicProperty:function(){return!1},getControls:function(){return p["b"].selectorControls},getControlValue:function(e){return E.a.get(p["g"].activeSelector,"".concat(e),void 0)},setControlValue:function(e,t,n,a){p["g"].activeSelector&&p["e"].throttledSelectorPropertyChange(Object(Zc["c"])({selector:p["g"].activeSelector,path:e,value:t},{control:n,controlsTree:this.getControls(e)||[]},a))},setAccordionState:function(e,t){var n=p["g"].activeSelector&&p["g"].activeSelector.name;n&&Object(qf["h"])(n,e,t)},getAccordionState:function(e){var t=p["g"].activeSelector&&p["g"].activeSelector.name;return!!t&&Object(qf["d"])(t,e)}},kO=gO,jO=(n("91c2"),n("3a2f")),SO=Object(ne["a"])(kO,hO,mO,!1,null,null,null),CO=SO.exports;Na()(SO,{VBtn:$a["a"],VSheet:rb["a"],VTooltip:jO["a"]});var xO=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.isLoadingData=!1,e.isStoringData=!1,e}return Object(s["a"])(n,[{key:"beforeMount",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(!p["g"].panelState.shouldLoadFreshDataIntoStoreOnceOpened.selectors){e.next=6;break}return p["g"].setPanelState(Object(C["a"])({},p["g"].panelState,{selectorsPanelPanelActiveViewMode:"controls"})),e.next=4,this.load();case 4:e.next=7;break;case 6:p["g"].setShouldPanelLoadFreshDataIntoStoreOnceOpened("selectors",!0);case 7:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"load",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isLoadingData=!0,e.next=3,Object(qy["e"])();case 3:return t=e.sent,this.isLoadingData=!1,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"save",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.isStoringData=!0,e.next=3,Object(qy["f"])();case 3:return t=e.sent,this.isStoringData=!1,e.abrupt("return",t);case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"requestPanelClosingConfirmation",value:function(){p["g"].requestClosingConfirmation({subject:"selectors",confirmationDefinition:{title:"You have unsaved changes to your Selectors.",text:"Would you like to save or discard these changes?",type:"info"}})}},{key:"handleUnsavedChangesPresentChange",value:function(e){e?this.requestPanelClosingConfirmation():p["g"].noClosingConfirmationIsNeededFor("selectors")}},{key:"handleConfirmationChosenOptionChange",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("discard"!==t){e.next=11;break}return p["g"].setClosingConfirmationIsDiscarding({subject:"globalSettings",isDiscarding:!0}),e.next=4,this.load();case 4:if(!e.sent){e.next=8;break}this.close(),e.next=9;break;case 8:this.requestPanelClosingConfirmation();case 9:e.next=20;break;case 11:if("save"!==t){e.next=20;break}return p["g"].setClosingConfirmationIsSaving({subject:"globalSettings",isSaving:!0}),e.next=15,this.save();case 15:if(!e.sent){e.next=19;break}this.close(),e.next=20;break;case 19:this.requestPanelClosingConfirmation();case 20:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"close",value:function(){Object(Q["b"])("selectors")}},{key:"activeSelector",get:function(){return p["g"].activeSelector}},{key:"unsavedChangesPresent",get:function(){return p["e"].selectorsHasUnsavedChangesPresent}},{key:"confirmationChosenOption",get:function(){var e;return null===(e=p["g"].closingConfirmations.selectors)||void 0===e?void 0:e.chosenOption}},{key:"isLoading",get:function(){return this.isLoadingData||this.isStoringData}}]),n}(a["a"]);Object(u["a"])([Object(d["h"])("unsavedChangesPresent",{immediate:!0})],xO.prototype,"handleUnsavedChangesPresentChange",null),Object(u["a"])([Object(d["h"])("confirmationChosenOption",{immediate:!0})],xO.prototype,"handleConfirmationChosenOptionChange",null),xO=Object(u["a"])([Object(d["a"])({components:{EditSelector:CO,ManageSelectors:vO}})],xO);var wO=xO,PO=wO,_O=(n("8ac9"),Object(ne["a"])(PO,Wy,Ny,!1,null,null,null)),EO=_O.exports;Na()(_O,{VLayout:Zg["a"],VProgressCircular:Ol["a"]});var IO=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-structure-panel vscroll-wrap vscroll-scroll"},[n("PanelHeader",{ref:"panelHeader",on:{close:e.close},scopedSlots:e._u([{key:"right",fn:function(){return[e.rootElement.children.length?n("button",{staticClass:"breakdance-structure-panel__toggle-button mr-2",on:{click:e.toggleNodes}},[1===e.toggleStage?[e._v("Expand")]:e._e(),[0,2].includes(e.toggleStage)?[e._v("Collapse")]:e._e()],2):e._e()]},proxy:!0}])},[e._v(" Structure ")]),n("div",{class:e.classList,on:{contextmenu:e.onContextMenu}},[n("div",{staticClass:"structure-node root-node",attrs:{"data-element-id":e.ROOT_ELEMENT_ID},on:{mousedown:e.dragStart}},[n("div",{staticClass:"structure-node-title-wrapper"},[n("div",{staticClass:"structure-node-title",staticStyle:{"margin-left":"-16px",display:"none"}},[e._v(" Root Node ")]),n("div",{staticClass:"top-half",attrs:{"data-element-id":e.ROOT_ELEMENT_ID,"data-depth":-1}}),n("div",{staticClass:"bottom-half",attrs:{"data-element-id":e.ROOT_ELEMENT_ID,"data-depth":-1}})]),e.rootElement.children.length>0?n("ChildStructureNodes",{attrs:{nodes:e.rootElement.children,depth:0}}):n("div",{staticClass:"structure-panel-empty-state"},[n("h5",[e._v("No Elements")]),n("p",[e._v("Add an element to your page and it will show up here.")]),n("StandardButton",{staticClass:"open-elements-toolbar-button ml-auto mr-auto",attrs:{size:"22",testId:"open-elements-toolbar-button"},on:{click:e.toggleAdd}},[e._v(" Add ")])],1)],1)]),n("StructureContextMenu")],1)},DO=[];function TO(){return{overTopHalf:!1,overBottomHalf:!1,overIndex:!1,overNodeId:!1,overNodeParentId:!1,overSelf:!1,overNestDeeper:!1,overNestShallower:!1}}function AO(e,t){var n=document.elementsFromPoint(e,t).filter(RO("structure-node")).sort(BO).reverse().pop();if(n){var a=n.dataset.elementId;if(a)return parseInt(a)}return!1}var RO=function(e){return function(t){return!!t.classList.contains(e)}},BO=function(e,t){return parseInt(e.dataset.depth)>parseInt(t.dataset.depth)?-1:parseInt(t.dataset.depth)>parseInt(e.dataset.depth)?1:0},MO=function(e,t){var n=e.filter(RO(t));return n.length>0&&parseInt(n[0].dataset.elementId)},FO=function(e,t,n){var a=document.elementsFromPoint(e,t),i=TO();if(i.overNestDeeper=MO(a,"nest-deeper"),i.overNestShallower=MO(a,"nest-shallower"),i.overTopHalf=MO(a,"top-half"),i.overBottomHalf=MO(a,"bottom-half"),i.overSelf=!1!==MO(a,"breakdance--currently-dragging"),i.overBottomHalf?i.overNodeId=i.overBottomHalf:i.overTopHalf&&(i.overNodeId=i.overTopHalf),i.overNodeId){var r=Object(Te["q"])(n,i.overNodeId),o=Object(Te["p"])(n,i.overNodeId);!1!==o&&!1!==r&&(i.overIndex=o,i.overNodeParentId=r.id)}return i},VO=n("2b91");function LO(e,t,n){var a=!1,i=Object(Te["l"])(t,n);if(!i)return!1;if(e.overSelf){if(e.overSelf){if(KO(n,t)&&e.overNestShallower===n){var r=!1;a=HO(n,t),a&&(r=a.parentId);while(r){if(Object(Be["k"])(t,i,r))break;if(!a||Object(Be["k"])(t,i,a.parentId)||!KO(r,t))break;var o=Object(Te["q"])(t,r);r=!!o&&o.id,r&&(a=UO(r,t))}}XO(n,t)&&e.overNestDeeper===n&&(a=zO(n,t))}}else if(e.overTopHalf){a=WO(e.overTopHalf,t),n===GO(e.overTopHalf,t)&&(a=!1);var s=GO(e.overTopHalf,t);a&&s&&Object(Be["k"])(t,i,s)&&(a=UO(s,t))}else if(e.overBottomHalf&&(0===qO(e.overBottomHalf,t)||Object(VO["c"])(e.overBottomHalf))){if(a=NO(e.overBottomHalf,t),a&&Object(Be["k"])(t,i,a.parentId)){var l=Object(Te["p"])(t,i.id),c=Object(Te["q"])(t,i.id);!1!==l&&!1!==c&&a&&e.overIndex&&a.parentId===c.id&&l<e.overIndex&&(a.index=a.index-1)}else a&&!Object(Be["k"])(t,i,a.parentId)&&(a=$O(e.overBottomHalf));if(a&&!Object(Be["k"])(t,i,a.parentId)&&KO(e.overBottomHalf,t)){var u=!1;if(e.overBottomHalf){var d=Object(Te["q"])(t,e.overBottomHalf);u=!!d&&d.id}while(u){a=NO(u,t);var p=Object(Te["q"])(t,i.id);if(a&&p&&a.parentId===p.id){var v=Object(Te["p"])(t,i.id),h=Object(Te["p"])(t,u);v<h&&(a.index=a.index-1)}if(a)if(!Object(Be["k"])(t,i,a.parentId)&&KO(u,t)){var m=Object(Te["q"])(t,u);u=!!m&&m.id}else u=!1;else u=!1}}}else e.overBottomHalf&&qO(e.overBottomHalf,t)>0&&(a=$O(e.overBottomHalf));if(!a)return!1;var f=Object(Be["k"])(t,i,a.parentId);return!!f&&a}function WO(e,t){var n=Object(Te["p"])(t,e),a=Object(Te["q"])(t,e);return!1!==n&&!1!==a&&{parentId:a.id,index:n}}function NO(e,t){var n=Object(Te["p"])(t,e),a=Object(Te["q"])(t,e);return!1!==n&&!1!==a&&{parentId:a.id,index:n+1}}function $O(e){return{parentId:e,index:0}}function UO(e,t){var n=qO(e,t);return!1!==n&&{parentId:e,index:n}}function HO(e,t){var n=Object(Te["q"])(t,e);return!!n&&NO(n.id,t)}function zO(e,t){var n=GO(e,t);return!!n&&UO(n,t)}function GO(e,t){var n=Object(Te["p"])(t,e),a=Object(Te["q"])(t,e);return!1!==n&&!1!==a&&(!(n<1)&&a.children[n-1].id)}function qO(e,t){var n=Object(Te["l"])(t,e);return!!n&&n.children.length}function KO(e,t){var n=Object(Te["p"])(t,e),a=Object(Te["q"])(t,e);if(!1!==n&&!1!==a){var i=qO(a.id,t);if(i)return 1===i||n===i-1}}function XO(e,t){var n=Object(Te["p"])(t,e);if(!1!==n)return n>0}var YO=n("bb26"),QO=function(e){Object(c["a"])(a,e);var t=Object(l["a"])(a);function a(){var e;return Object(o["a"])(this,a),e=t.apply(this,arguments),e.mouseDragStatus=Object(C["a"])({},TO()),e.forceGrabbingCursor=!1,e.firstDragMovement=!0,e.draggedNodeId=!1,e.lastSubmittedDrag=!1,e.didMoveElement=!1,e.unsubscribeFromActivateElementMutation=null,e.easyEvent=new Pe["a"],e.delayedExpandNodeTimeout=null,e.toggleStage=2,e}return Object(s["a"])(a,[{key:"close",value:function(){Object(Q["b"])("structure")}},{key:"beforeCreate",value:function(){this.$options.components.ChildStructureNodes=n("7a63").default}},{key:"mounted",value:function(){var e=this;this.expandToShowActiveElementWatch(),this.unsubscribeFromActivateElementMutation=this.$store.subscribe((function(t){var n=t.type;"ui/activateElementMutation"===n&&e.expandToShowActiveElementWatch()}))}},{key:"expandToShowActiveElementWatch",value:function(){var e=this;if(this.activeElementId){var t=Object(VO["a"])(p["d"].document.tree,this.activeElementId);t&&p["g"].setStructurePanelNodesExpandedState(Object(C["a"])({},p["g"].structurePanelNodesExpandedState,{},t)),this.$nextTick((function(){if(e.$el&&e.panelHeader){var t=e.$el.querySelector('[data-element-id="'.concat(e.activeElementId,'"] .structure-node-title-wrapper'));t&&Object(Q["h"])(e.$el,e.panelHeader.$el,t)}}))}}},{key:"onContextMenu",value:function(e){if(this.hasPermission){e.preventDefault(),e.stopPropagation();var t=AO(e.clientX,e.clientY)||void 0;t&&p["g"].activateElement(t),p["g"].setOnStructurePanelRightClickMenuState({elementId:t,position:{x:e.clientX,y:e.clientY}})}}},{key:"dragStart",value:function(e){if(0===e.button&&this.hasPermission){var t=AO(e.clientX,e.clientY);t&&(p["g"].activateElement(t),this.draggedNodeId=t,this.easyEvent.on("mousemove",this.dragging),this.easyEvent.on("mouseup",this.dragEnd),this.forceGrabbingCursor=!0,this.didMoveElement=!1,ce["a"].startTransaction())}}},{key:"dragging",value:function(e){if(!Object(Pe["b"])(e)&&(e.preventDefault(),e.stopPropagation(),this.draggedNodeId)){var t=null;if(this.firstDragMovement){var n=Object(Te["p"])(p["d"].document.tree,this.draggedNodeId),a=Object(Te["q"])(p["d"].document.tree,this.draggedNodeId);if(!1===n||!1===a)return;p["g"].setCanvasElementDraggedId(this.draggedNodeId),t={draggedElementId:this.draggedNodeId,droppedOnElementId:a.id,index:n},this.firstDragMovement=!1}else{this.mouseDragStatus=FO(e.clientX,e.clientY,p["d"].document.tree),this.ifMouseIsOverACollapsedNodeForLongEnoughThenWeShouldExpandIt(e);var i=LO(this.mouseDragStatus,p["d"].document.tree,this.draggedNodeId);i&&(t={draggedElementId:this.draggedNodeId,droppedOnElementId:i.parentId,index:i.index})}if(t){var r=Object(Te["l"])(p["d"].document.tree,t.droppedOnElementId),o=Object(VO["d"])(t.droppedOnElementId)||0===(null===r||void 0===r?void 0:r.children.length);o&&(p["d"].moveElement(Object(C["a"])({},t,{wrapWithTransaction:!1})),this.didMoveElement=!0,p["g"].setStructurePanelNodesExpandedState(Object(C["a"])({},p["g"].structurePanelNodesExpandedState,Object(Rt["a"])({},t.droppedOnElementId.toString(),!0))),this.lastSubmittedDrag=t)}}}},{key:"dragEnd",value:function(e){if(e.preventDefault(),e.stopPropagation(),this.easyEvent.removeAll(),this.lastSubmittedDrag&&(p["d"].moveElement(Object(C["a"])({},this.lastSubmittedDrag,{wrapWithTransaction:!1})),this.didMoveElement=!0),!1!==this.draggedNodeId&&this.didMoveElement){var t=Object(Te["l"])(p["d"].document.tree,this.draggedNodeId);ce["a"].endTransaction("Move ".concat(Object(Ve["b"])(null===t||void 0===t?void 0:t.data.type)))}else ce["a"].cancelTransactionIfItIsStillInProgress();p["g"].endCanvasElementDrag(),this.lastSubmittedDrag=!1,this.mouseDragStatus=Object(C["a"])({},TO()),this.firstDragMovement=!0,this.draggedNodeId=!1,this.forceGrabbingCursor=!1,this.didMoveElement=!1}},{key:"ifMouseIsOverACollapsedNodeForLongEnoughThenWeShouldExpandIt",value:function(e){this.mouseDragStatus.overNodeId&&this.delayedExpandNode(this.mouseDragStatus.overNodeId,e)}},{key:"delayedExpandNode",value:function(e,t){var n=this;this.delayedExpandNodeTimeout&&clearTimeout(this.delayedExpandNodeTimeout),this.delayedExpandNodeTimeout=setTimeout((function(){if(n.delayedExpandNodeTimeout=null,e===n.mouseDragStatus.overNodeId){var a=Object(Ue["a"])(p["g"].structurePanelNodesExpandedState);a[e]=!0,p["g"].setStructurePanelNodesExpandedState(a),n.dragging(t)}}),500)}},{key:"collapseAllNodes",value:function(){p["g"].setStructurePanelNodesExpandedState(Object(VO["b"])(p["d"].document.tree,!1))}},{key:"expandAllNodes",value:function(){p["g"].setStructurePanelNodesExpandedState(Object(VO["b"])(p["d"].document.tree,!0))}},{key:"collapseAllNodesExcept",value:function(e){var t=Object(VO["b"])(p["d"].document.tree,!1),n=Object(VO["a"])(p["d"].document.tree,e);p["g"].setStructurePanelNodesExpandedState(Object(C["a"])({},t,{},n))}},{key:"toggleNodes",value:function(){if(0===this.toggleStage)this.toggleStage=1,this.collapseAllNodes();else if(1===this.toggleStage)this.expandAllNodes(),this.toggleStage=2;else if(p["g"].activeElementId){var e=Object(Te["q"])(p["d"].document.tree,p["g"].activeElementId);if(e&&(null===e||void 0===e?void 0:e.id)===Te["a"])return this.collapseAllNodes(),void(this.toggleStage=1);this.collapseAllNodesExcept(p["g"].activeElementId),this.toggleStage=0}else this.collapseAllNodes(),this.toggleStage=1}},{key:"beforeDestroy",value:function(){this.unsubscribeFromActivateElementMutation&&this.unsubscribeFromActivateElementMutation()}},{key:"toggleAdd",value:function(){Object(Q["i"])("add")}},{key:"classList",get:function(){return{"structure-panel-content-wrapper":!0,"is-draggable":this.hasPermission,"drag-in-progress":p["g"].isCanvasElementBeingDragged,"force-grabbing-cursor":this.forceGrabbingCursor}}},{key:"activeElementId",get:function(){return p["g"].activeElementId}},{key:"rootElement",get:function(){return p["d"].document.tree.root}},{key:"hasPermission",get:function(){return p["g"].hasFullAccess}},{key:"ROOT_ELEMENT_ID",get:function(){return Te["a"]}}]),a}(d["g"]);Object(u["a"])([Object(d["f"])()],QO.prototype,"panelHeader",void 0),QO=Object(u["a"])([Object(d["a"])({components:{StructureContextMenu:YO["a"],PanelHeader:Sg,StandardButton:Ha}})],QO);var ZO=QO,JO=ZO,ek=(n("a292"),Object(ne["a"])(JO,IO,DO,!1,null,null,null)),tk=ek.exports,nk=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-history-and-revisions-panel vscroll-wrap vscroll-scroll"},[n("PanelHeader",{ref:"panelHeader",staticClass:"breakdance-history-and-revisions-panel__header",on:{close:e.close}},[e._v(" History ")]),e.disableRevisions?e._e():n("TabsRow",[n("Tab",{attrs:{value:e.tab,id:"history"},on:{input:function(t){e.tab=t}}},[e._v(" History ")]),n("Tab",{attrs:{value:e.tab,id:"revisions"},on:{input:function(t){e.tab=t}}},[e._v(" Revisions ")])],1),"history"===e.tab?n("History",{on:{scrollToActiveEl:e.scrollToActiveElement}}):"revisions"===e.tab?n("Revisions"):e._e()],1)},ak=[],ik=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"snapshots-list"},e._l(e.snapshots,(function(t,a){return n("SnapshotItem",{key:e.snapshots.length-1-a,attrs:{"data-snapshot-index":e.snapshots.length-1-a,snapshot:t,selected:e.currentIndex===e.snapshots.length-1-a},on:{click:function(t){return e.onSnapshotSelected(e.snapshots.length-1-a)}}})})),1)},rk=[],ok=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"snapshots-item",class:{"snapshots-item--selected":e.selected},attrs:{"data-test-id":"snapshots-item"},on:{click:function(t){return e.$emit("click",e.snapshot)}}},[n("span",{staticClass:"snapshots-item__title"},[e._v(e._s(e.snapshot.title))])])},sk=[],lk=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(d["g"]);Object(u["a"])([Object(d["d"])({default:function(){return{}}})],lk.prototype,"snapshot",void 0),Object(u["a"])([Object(d["d"])({default:!1})],lk.prototype,"selected",void 0),lk=Object(u["a"])([Object(d["a"])({})],lk);var ck=lk,uk=ck,dk=(n("f548"),Object(ne["a"])(uk,ok,sk,!1,null,null,null)),pk=dk.exports,vk=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"onSnapshotSelected",value:function(e){kt["g"].setCurrentSnapshotIndex(e),ce["a"].setStoreFromCurrentSnapshot()}},{key:"close",value:function(){Object(Q["b"])("history")}},{key:"handleCurrentIndexChange",value:function(){this.scrollToActiveSnapshotElement()}},{key:"scrollToActiveSnapshotElement",value:function(){var e=this;d["g"].nextTick((function(){var t=e.$el.querySelector('[data-snapshot-index="'.concat(e.currentIndex,'"]'));t&&e.$emit("scrollToActiveEl",t)}))}},{key:"snapshots",get:function(){return Object(k["a"])(kt["g"].snapshots).reverse()}},{key:"currentIndex",get:function(){return kt["g"].index}}]),n}(d["g"]);Object(u["a"])([Object(d["h"])("currentIndex",{immediate:!0})],vk.prototype,"handleCurrentIndexChange",null),vk=Object(u["a"])([Object(d["a"])({components:{PanelHeader:Sg,SnapshotItem:pk}})],vk);var hk=vk,mk=hk,fk=(n("f3b1"),Object(ne["a"])(mk,ik,rk,!1,null,null,null)),bk=fk.exports,gk=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"revisions-panel"},[n("RevisionsList",{attrs:{"is-loading":e.loading,revisions:e.revisionUiItems,"revisions-not-supported-message":e.revisionsNotSupportedMessage},on:{revisionSelected:e.onRevisionSelected}})],1)},yk=[],Ok=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.loading=!1,e.selectedRevisionIndex=0,e.unsubscribeFromStore=function(){},e.revisionsNotSupportedMessage=null,e}return Object(s["a"])(n,[{key:"mounted",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.loading=!0,e.next=3,this.fetchRemoteRevisions();case 3:if(t=e.sent,this.loading=!1,t){e.next=7;break}return e.abrupt("return");case 7:kt["h"].setRevisionsData({revisions:t,currentUnsavedRevision:this.getCurrentUnsavedRevision(t)}),this.setActiveRevision(),this.unsubscribeFromStore=this.$store.subscribe((function(e){var t=Object(_y["c"])(e);"document"===t&&"document/loadRevision"!==e.type&&(kt["h"].setRevisionsData({revisions:kt["h"].revisionsData.revisions,currentUnsavedRevision:n.getCurrentUnsavedRevision(kt["h"].revisionsData.revisions)}),n.setActiveRevision())}));case 10:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"destroyed",value:function(){this.unsubscribeFromStore()}},{key:"updateRevisionsAfterSaving",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(kt["h"].unsavedChangesPresent){e.next=6;break}return e.next=3,this.fetchRemoteRevisions();case 3:t=e.sent,t&&kt["h"].setRevisionsData({revisions:t,currentUnsavedRevision:null}),this.setActiveRevision();case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"setActiveRevision",value:function(){var e=this.getActiveRevisionIndex(kt["h"].revisionsData.revisions);-1!==e?(this.selectedRevisionIndex=kt["h"].revisionsData.currentUnsavedRevision?e+1:e,this.scrollToActiveRevision("smooth")):(this.selectedRevisionIndex=0,this.scrollToActiveRevision("auto"))}},{key:"getActiveRevisionIndex",value:function(e){var t=this;return e.findIndex((function(e){return Object(Te["x"])(e.tree,t.currentTree)}))}},{key:"getCurrentUnsavedRevision",value:function(e){var t,n=this.getActiveRevisionIndex(e);if(-1===n)return{id:-1,author:!1,date:"Current",tree:this.currentTree};var a=0===n&&kt["h"].revisionsData.currentUnsavedRevision&&Object(Te["x"])(e[n].tree,null===(t=kt["h"].revisionsData.currentUnsavedRevision)||void 0===t?void 0:t.tree);return a?null:kt["h"].revisionsData.currentUnsavedRevision}},{key:"fetchRemoteRevisions",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.t0=q["pipe"],e.next=3,Object(B["a"])({action:"breakdance_retrieve_revisions",decoder:dy,dataToPost:{id:kt["c"].document.documentMeta.id}});case 3:return e.t1=e.sent,e.t2=Object(K["fold"])((function(e){return Object(Oi["e"])(e),null}),(function(e){return"unsupported"in e?(t.revisionsNotSupportedMessage=e.unsupported,null):e.revisions.map((function(e){var t=Object(Fb["a"])(e.tree,Vb["a"]),n=Object(q["pipe"])(t,Object(K["fold"])((function(){return null}),(function(e){return e})));return Object(C["a"])({},e,{tree:n})})).filter((function(e){return null!==e.tree}))})),e.abrupt("return",(0,e.t0)(e.t1,e.t2));case 6:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"onRevisionSelected",value:function(e,t){var n=this.revisions.find((function(t){return t.id===e.revisionData.id}));n&&(this.selectedRevisionIndex=t,kt["h"].activateElement(null),kt["h"].setInterfaceState("loading"),kt["c"].loadRevision(n),kt["h"].setInterfaceState("normal"))}},{key:"scrollToActiveRevision",value:function(e){Object(it["a"])((function(){var t;return null===(t=document.querySelector(".revisions-panel .revisions-item--selected"))||void 0===t?void 0:t.scrollIntoView({behavior:e,block:"center"})}))}},{key:"revisionUiItems",get:function(){var e=this;return this.revisions.map((function(t,n){return{revisionData:t,isSelected:e.selectedRevisionIndex===n}}))}},{key:"revisions",get:function(){return kt["h"].revisionsData.currentUnsavedRevision?[kt["h"].revisionsData.currentUnsavedRevision].concat(Object(k["a"])(kt["h"].revisionsData.revisions)):kt["h"].revisionsData.revisions}},{key:"currentTree",get:function(){return Object(Te["k"])(kt["c"].document.tree)}},{key:"unsavedChangesPresent",get:function(){return kt["h"].unsavedChangesPresent}}]),n}(a["a"]);Object(u["a"])([Object(d["h"])("unsavedChangesPresent")],Ok.prototype,"updateRevisionsAfterSaving",null),Ok=Object(u["a"])([Object(d["a"])({components:{RevisionsList:Py,RevisionItem:jy,PanelHeader:Sg}})],Ok);var kk=Ok,jk=kk,Sk=(n("8aee"),Object(ne["a"])(jk,gk,yk,!1,null,null,null)),Ck=Sk.exports,xk=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.tab="history",e}return Object(s["a"])(n,[{key:"close",value:function(){Object(Q["b"])("history")}},{key:"scrollToActiveElement",value:function(e){Object(Q["h"])(this.$el,this.panelHeader.$el,e)}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])({default:!1})],xk.prototype,"disableRevisions",void 0),Object(u["a"])([Object(d["f"])()],xk.prototype,"panelHeader",void 0),xk=Object(u["a"])([Object(d["a"])({components:{Revisions:Ck,History:bk,PanelHeader:Sg,TabsRow:uf,Tab:nf}})],xk);var wk=xk,Pk=wk,_k=(n("327a"),Object(ne["a"])(Pk,nk,ak,!1,null,null,null)),Ek=_k.exports,Ik=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:e.classList},[e._t("default")],2)},Dk=[],Tk=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"classList",get:function(){return"closed"===this.panelState?{}:{width288:!0,"vscroll-wrap":!0,borderOnLeft:"right"===this.position,borderOnRight:"left"===this.position,"breakdance-app-left-area":"left"===this.position,"breakdance-app-right-area":"right"===this.position}}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Tk.prototype,"position",void 0),Object(u["a"])([Object(d["d"])()],Tk.prototype,"panelState",void 0),Tk=Object(u["a"])([d["a"]],Tk);var Ak=Tk,Rk=Ak,Bk=(n("955a7"),Object(ne["a"])(Rk,Ik,Dk,!1,null,null,null)),Mk=Bk.exports,Fk=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.reactivePanelContext={state:e.panelState,position:e.position},e.panelContext=e.reactivePanelContext,e}return Object(s["a"])(n,[{key:"updatePanelContext",value:function(){this.reactivePanelContext.state=this.panelState}},{key:"activeElementId",get:function(){return p["g"].activeElementId}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],Fk.prototype,"position",void 0),Object(u["a"])([Object(d["d"])()],Fk.prototype,"panelState",void 0),Object(u["a"])([Object(d["h"])("panelState")],Fk.prototype,"updatePanelContext",null),Object(u["a"])([Object(d["e"])("panelContext")],Fk.prototype,"panelContext",void 0),Fk=Object(u["a"])([Object(d["a"])({components:{AppLayoutBodyPanelArea:Mk,HistoryAndRevisionsPanel:Ek,StructurePanel:tk,ElementPropertiesPanel:hb,Add:_g,GlobalSettingsPanel:Ly,SelectorsPanel:EO}})],Fk);var Vk=Fk,Lk=Vk,Wk=Object(ne["a"])(Lk,dm,pm,!1,null,null,null),Nk=Wk.exports,$k=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"breakdance-app-wrapper"},[n("div",{staticClass:"breakdance-top-bar-wrapper"},[e._t("topbar")],2),n("div",{staticClass:"breakdance-app-body-wrapper"},[e._t("body")],2)])},Uk=[],Hk=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(a["a"]);Hk=Object(u["a"])([d["a"]],Hk);var zk=Hk,Gk=zk,qk=(n("4f37"),Object(ne["a"])(Gk,$k,Uk,!1,null,null,null)),Kk=qk.exports,Xk=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",e._l(e.closingConfirmations,(function(t,a){return n("ConfirmDialog",{key:a,attrs:{type:t.type,"save-is-enabled":!t.chosenOption,"save-is-in-progress":t.isSaving,"discard-is-enabled":!t.chosenOption,"discard-is-in-progress":t.isDiscarding,"has-cancel":t.hasCancel,"has-discard":t.hasDiscard,"action-text":t.actionText,show:t.show},on:{discard:function(t){return e.markClosingConfirmationAs(a,"discard")},save:function(t){return e.markClosingConfirmationAs(a,"save")},cancel:function(t){return e.hideClosingConfirmation(a)},"click:outside":function(t){return e.hideClosingConfirmation(a)}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(e._s(t.title)+" ")]},proxy:!0},{key:"text",fn:function(){return[e._v(e._s(t.text))]},proxy:!0}],null,!0)})})),1)},Yk=[],Qk=(n("c1f9"),function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"markClosingConfirmationAs",value:function(e,t){kt["h"].chooseOptionForClosingConfirmation({subject:e,chosenOption:t})}},{key:"hideClosingConfirmation",value:function(e){kt["h"].hideClosingConfirmation(e)}},{key:"closingConfirmations",get:function(){return Object.fromEntries(Object.entries(kt["h"].closingConfirmations).filter((function(e){var t=Object(vc["a"])(e,2),n=t[1];return n&&n.show})))}}]),n}(d["g"]));Qk=Object(u["a"])([Object(d["a"])({components:{ConfirmDialog:Eo}})],Qk);var Zk=Qk,Jk=Zk,ej=Object(ne["a"])(Jk,Xk,Yk,!1,null,null,null),tj=ej.exports,nj=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{attrs:{value:!0,persistent:""},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" This post can't be edited directly. ")]},proxy:!0},{key:"text",fn:function(){return[e.templateName?[n("p",[e._v(" This post is rendered with "+e._s(e.templateIsFallback?"Breakdance's internal":"the")+' "'),n("em",[e._v(e._s(e.decodedTemplateName))]),e._v('" template. ')])]:[n("p",[e._v(" This post is rendered with a "+e._s(e.templateIsFallback?"Breakdance's internal":"")+" template. ")])],e.templateIsFallback?n("p",[e._v(" Please create your own template. ")]):n("p",[e._v(" The template does not contain a "),n("em",[e._v("Template Content Area")]),e._v(" element. Therefore, the posts it applies to are not editable in Breakdance. ")])]},proxy:!0},{key:"actions",fn:function(){return[e.templateIsFallback&&e.templatesPageUrl?n("v-btn",{attrs:{text:"",href:e.templatesPageUrl}},[e._v("Templates page")]):e.templateIsFallback?e._e():n("v-btn",{attrs:{text:"",href:e.templateUrl}},[e._v("Edit Template")]),n("v-btn",{attrs:{dark:"",color:"blue",href:e.backToAdmin}},[e._v(" Go back ")])]},proxy:!0}])})},aj=[],ij=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"decodedTemplateName",get:function(){var e=document.createElement("textarea");return e.innerHTML=this.templateName,e.value}},{key:"templateUrl",get:function(){return Object(lr["a"])(this.templateId)}},{key:"backToAdmin",get:function(){var e;return kt["b"].documentSpecificNeededUrls&&null!==(e=kt["b"].documentSpecificNeededUrls.backToWordPressUrl)&&void 0!==e?e:""}}]),n}(a["a"]);Object(u["a"])([Object(d["d"])()],ij.prototype,"templateName",void 0),Object(u["a"])([Object(d["d"])()],ij.prototype,"templateId",void 0),Object(u["a"])([Object(d["d"])()],ij.prototype,"templateIsFallback",void 0),Object(u["a"])([Object(d["d"])()],ij.prototype,"templatesPageUrl",void 0),ij=Object(u["a"])([Object(d["a"])({components:{Dialog:na["a"]}})],ij);var rj=ij,oj=rj,sj=Object(ne["a"])(oj,nj,aj,!1,null,null,null),lj=sj.exports;Na()(sj,{VBtn:$a["a"]});var cj=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{attrs:{value:!0,persistent:""},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Invalid post ")]},proxy:!0},{key:"text",fn:function(){return["post_does_not_exist"===e.invalidPostData.errorType?n("div",[e._v(" The requested post doesn't exist. It may have been deleted, or maybe you used an outdated URL. ")]):e._e(),"post_is_in_trash"===e.invalidPostData.errorType?n("div",[e._v(" You can't edit this item because it is in the Trash. Please restore it and try again. ")]):e._e(),"post_type_is_banned"===e.invalidPostData.errorType?n("div",[e.invalidPostData.postType?[e._v(" Posts with post type "),n("b",[e._v('"'+e._s(e.invalidPostData.postType)+'"')]),e._v(" can't be edited with Breakdance directly. Please use a "),n("b",[e._v("Breakdance Template")]),e._v(" instead. ")]:[e._v(" The requested post can't be edited with Breakdance. ")]],2):e._e(),"post_type_is_restricted"===e.invalidPostData.errorType?n("div",[e._v(" You don't have enough permissions to edit "),n("b",[e._v('"'+e._s(e.invalidPostData.postType)+'"')]),e._v(" post type. ")]):e._e()]},proxy:!0},{key:"actions",fn:function(){return[n("v-btn",{attrs:{dark:"",color:"blue",href:e.invalidPostData.backToAdminUrl}},[e._v(" Back to WordPress admin ")])]},proxy:!0}])})},uj=[],dj=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"invalidPostData",get:function(){return kt["b"].invalidPostData}}]),n}(a["a"]);dj=Object(u["a"])([Object(d["a"])({components:{Dialog:na["a"]}})],dj);var pj=dj,vj=pj,hj=Object(ne["a"])(vj,cj,uj,!1,null,null,null),mj=hj.exports;Na()(hj,{VBtn:$a["a"]});var fj=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.showTemplateDialog=!1,e}return Object(s["a"])(n,[{key:"mounted",value:function(){p["g"].hasFullAccess&&Ci().register()}},{key:"beforeDestroy",value:function(){Ci().unbind(),Object(Hn["f"])().unbind()}},{key:"updatePreferencesModal",value:function(e){p["g"].setPreferencesModalOpen(e)}},{key:"updateKeyboardShortcutsHelpModal",value:function(e){p["g"].setKeyboardShortcutHelpModalOpen(e)}},{key:"onIframeLoaded",value:function(){requestIdleCallback((function(){Object(lr["d"])()})),this.isRenderedWithTemplate&&!this.containsTemplateContentArea&&(this.showTemplateDialog=!0),Object(Hn["f"])().register()}},{key:"getTemplateAttribute",value:function(e){var t,n,a;if(!this.isRenderedWithTemplate)return null;var i=null===(t=window.Breakdance)||void 0===t||null===(n=t.canvas)||void 0===n||null===(a=n.document)||void 0===a?void 0:a.querySelector("[data-rendered-with-template]");return null===i||void 0===i?void 0:i.getAttribute(e)}},{key:"classList",get:function(){return["has-permission:".concat(this.permission)]}},{key:"preferencesModalOpen",get:function(){return p["g"].panelState.preferencesModalOpen}},{key:"elementStudioOpen",get:function(){return p["g"].panelState.elementStudioOpen}},{key:"keyboardShortcutsHelpModalOpen",get:function(){return p["g"].panelState.keyboardShortcutsHelpModalOpen}},{key:"activeElementId",get:function(){return p["g"].activeElementId}},{key:"leftSidebarPanelState",get:function(){return p["g"].panelState.leftSidebarPanel}},{key:"rightSidebarPanelState",get:function(){return p["g"].panelState.rightSidebarPanel}},{key:"permission",get:function(){var e;return null===(e=p["b"].permission)||void 0===e?void 0:e.slug}},{key:"showInvalidPostDialog",get:function(){return!!p["b"].invalidPostData}},{key:"isRenderedWithTemplate",get:function(){var e,t,n;return null!==(null===(e=window.Breakdance)||void 0===e||null===(t=e.canvas)||void 0===t||null===(n=t.document)||void 0===n?void 0:n.querySelector("[data-rendered-with-template]"))}},{key:"templateName",get:function(){var e;return null!==(e=this.getTemplateAttribute("data-template-name"))&&void 0!==e?e:""}},{key:"templateId",get:function(){var e=this.getTemplateAttribute("data-template-id");return e?parseInt(e):null}},{key:"isTemplateFallback",get:function(){return"true"===this.getTemplateAttribute("data-template-is-fallback")}},{key:"templatesPageUrl",get:function(){return this.getTemplateAttribute("data-template-page-url")}},{key:"containsTemplateContentArea",get:function(){var e,t,n;return null!==(null===(e=window.Breakdance)||void 0===e||null===(t=e.canvas)||void 0===t||null===(n=t.document)||void 0===n?void 0:n.querySelector(".bde-themeless-template-content-area"))}}]),n}(a["a"]);fj=Object(u["a"])([Object(d["a"])({components:{DesignLibraryModal:fg,InvalidPostDialog:mj,TemplateDialog:lj,ClosingConfirmations:tj,IframeCanvas:mi,BuilderTopBar:so,PreferencesModal:Cl,ElementStudio:um,KeyboardShortcutsHelpModal:Dl,SidebarPanels:Nk,ConfirmDialog:Eo,AppLayout:Kk}})],fj);var bj=fj,gj=bj,yj=(n("09c2"),Object(ne["a"])(gj,b,g,!1,null,null,null)),Oj=yj.exports,kj=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Unrecoverable Errors")]),e._l(e.errors,(function(t,a){return n("div",{key:a,staticClass:"unrecoverable-errors"},[e._v(" "+e._s(t)+" ")])}))],2)},jj=[],Sj=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"errors",get:function(){return p["g"].unrecoverableErrorMessages}}]),n}(a["a"]);Sj=Object(u["a"])([d["a"]],Sj);var Cj=Sj,xj=Cj,wj=(n("b06e"),Object(ne["a"])(xj,kj,jj,!1,null,null,null)),Pj=wj.exports,_j=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"beforeMount",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("builder"!==window.Breakdance.initialMode){e.next=5;break}return e.next=3,Object(lr["f"])(window.Breakdance.initialDocumentToLoadId);case 3:t=e.sent,Object(lr["c"])(t);case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"handleCurrentDocumentChange",value:function(e){var t=["Breakdance"];e!==_y["b"]&&t.push(p["d"].document.documentMeta.titleLabel),window.document.title=t.join(" | ")}},{key:"handleUnsavedChangesPresentChange",value:function(e){e?this.requestClosingConfirmation():this.removeClosingConfirmation()}},{key:"requestClosingConfirmation",value:function(){p["g"].requestClosingConfirmation({subject:"builder",confirmationDefinition:{title:"You must save your changes first",actionText:"Save and continue",type:"warning",hasCancel:!0,hasDiscard:!1}})}},{key:"removeClosingConfirmation",value:function(){p["g"].noClosingConfirmationIsNeededFor("builder")}},{key:"handleConfirmationChosenOptionChange",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(t){var n=this;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("discard"!==t){e.next=5;break}this.removeClosingConfirmation(),Object(Ag["b"])(),e.next=13;break;case 5:if("save"!==t){e.next=13;break}return p["g"].setClosingConfirmationIsSaving({subject:"builder",isSaving:!0}),e.t0=q["pipe"],e.next=10,ki();case 10:e.t1=e.sent,e.t2=Object(K["fold"])((function(){p["g"].setClosingConfirmationIsSaving({subject:"builder",isSaving:!1})}),(function(){n.removeClosingConfirmation(),Object(Ag["b"])()})),(0,e.t0)(e.t1,e.t2);case 13:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()},{key:"interfaceState",get:function(){return p["g"].interfaceState}},{key:"errorsPresent",get:function(){return p["g"].unrecoverableErrorMessages.length}},{key:"currentDocumentMetaId",get:function(){return p["d"].document.documentMeta.id}},{key:"unsavedChangesPresent",get:function(){return p["g"].unsavedChangesPresent}},{key:"confirmationChosenOption",get:function(){var e;return null===(e=p["g"].closingConfirmations.builder)||void 0===e?void 0:e.chosenOption}}]),n}(a["a"]);Object(u["a"])([Object(d["h"])("currentDocumentMetaId",{immediate:!0})],_j.prototype,"handleCurrentDocumentChange",null),Object(u["a"])([Object(d["h"])("unsavedChangesPresent",{immediate:!0})],_j.prototype,"handleUnsavedChangesPresentChange",null),Object(u["a"])([Object(d["h"])("confirmationChosenOption",{immediate:!0})],_j.prototype,"handleConfirmationChosenOptionChange",null),_j=Object(u["a"])([Object(d["a"])({components:{BuilderLayout:Oj,Loading:ni["a"],UnrecoverableErrors:Pj}})],_j);var Ej=_j,Ij=Ej,Dj=Object(ne["a"])(Ij,h,m,!1,null,null,null),Tj=Dj.exports,Aj=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",["normal"===e.interfaceState?n("AppLayout",{scopedSlots:e._u([{key:"topbar",fn:function(){return[n("TopBar",[n("TopBarSection",[n("div",{staticClass:"browse-mode-address-bar"},[n("h2",[e._v("Viewing Page")]),n("a",{staticClass:"ellipsis-text breakdance-browse-mode__url-to-display",attrs:{title:e.iframeUrlToDisplay,href:e.iframeUrlToDisplay,target:"_blank"}},[e._v(" "+e._s(e.iframeUrlToDisplay)+" ")])])]),n("v-spacer"),n("TopBarSection",{attrs:{"border-left":"true","border-right":"true"}},[n("BreakpointsSelection",{model:{value:e.currentBreakpoint,callback:function(t){e.currentBreakpoint=t},expression:"currentBreakpoint"}})],1),n("v-spacer"),n("UndoRedo"),n("TopBarSection",{attrs:{"border-left":"true"}},[n("Dropdown",{staticClass:"open-settings-toolbar-button",attrs:{"offset-y":""},scopedSlots:e._u([{key:"activator",fn:function(t){var a=t.on;return[n("IconButton",e._g({attrs:{active:e.isAnyBrowseModeSupportedPanelOpen,size:"18",icon:"EllipsisStrokeIcon"}},a))]}}],null,!1,2694485179)},[n("v-list",[n("v-list-item",{attrs:{dense:""},on:{click:e.toggleGlobalSettingsPanel}},[n("v-list-item-title",[e._v(" Global Settings ")])],1),n("v-list-item",{attrs:{dense:""},on:{click:e.toggleSelectorsPanel}},[n("v-list-item-title",[e._v(" Selectors ")])],1),n("v-list-item",{attrs:{dense:""},on:{click:e.toggleHistoryAndRevisionsPanel}},[n("v-list-item-title",[e._v(" History ")])],1)],1)],1)],1),n("TopBarSection",{attrs:{borderLeft:!0}},[n("BrowseModeSave")],1),n("TopBarSection",{attrs:{"border-left":"true"}},[n("IconButton",{attrs:{icon:"ArrowLeftIcon",size:"18"},on:{click:e.exitBrowseMode}})],1)],1)]},proxy:!0},{key:"body",fn:function(){return[n("ClosingConfirmations"),n("BrowseModeSidebarPanels",{attrs:{"panel-state":e.leftSidebarPanelState,position:"left"}}),n("IframeWrapper",{attrs:{"iframe-state":e.iframeState,"iframe-url":e.iframeUrl,"iframe-preview-width":e.iframePreviewWidth,"current-breakpoint":e.currentBreakpoint,"iframe-exited":!1,"iframe-id":e.iframeID,"min-width":e.iframeMinWidth},on:{iframeLoaded:e.handleIframeLoaded,previewWidthChange:e.handlePreviewWidthChange,previewWidthChangeWithAdjustmentBar:e.handlePreviewWidthChangeWithAdjustmentBar,resetPreviewWidth:e.handleResetPreviewWidth}}),n("BrowseModeSidebarPanels",{attrs:{"panel-state":e.rightSidebarPanelState,position:"right"}})]},proxy:!0}],null,!1,1648310707)}):"loading"===e.interfaceState?n("Loading"):e._e()],1)},Rj=[],Bj=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("AppLayoutBodyPanelArea",{attrs:{"panel-state":e.panelState,position:e.position}},["globalSettings"===e.panelState?n("GlobalSettingsPanel"):e._e(),"selectors"===e.panelState?n("SelectorsPanel"):e._e(),"history"===e.panelState?n("HistoryAndRevisionsPanel",{attrs:{"disable-revisions":!0}}):e._e()],1)},Mj=[],Fj=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return n}(a["a"]);Object(u["a"])([Object(d["d"])()],Fj.prototype,"position",void 0),Object(u["a"])([Object(d["d"])()],Fj.prototype,"panelState",void 0),Fj=Object(u["a"])([Object(d["a"])({components:{HistoryAndRevisionsPanel:Ek,AppLayoutBodyPanelArea:Mk,GlobalSettingsPanel:Ly,SelectorsPanel:EO}})],Fj);var Vj=Fj,Lj=Vj,Wj=Object(ne["a"])(Lj,Bj,Mj,!1,null,null,null),Nj=Wj.exports,$j=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("StandardButton",{staticStyle:{"margin-left":"3px","margin-right":"3px"},attrs:{loading:e.saveInProgress,minWidth:"80"},on:{click:e.save}},[e._v(" Save ")])},Uj=[],Hj=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.saveInProgress=!1,e}return Object(s["a"])(n,[{key:"save",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return this.saveInProgress=!0,e.next=3,Object(Ry["b"])();case 3:return e.next=5,Object(qy["f"])();case 5:this.saveInProgress=!1;case 6:case"end":return e.stop()}}),e,this)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){Pa["b"].register(Si.CMD_S,this.save)}},{key:"beforeDestroy",value:function(){Pa["b"].unbind(Si.CMD_S)}},{key:"unsavedChangesPresent",get:function(){return p["g"].unsavedChangesPresent}}]),n}(a["a"]);Hj=Object(u["a"])([Object(d["a"])({components:{StandardButton:Ha}})],Hj);var zj=Hj,Gj=zj,qj=Object(ne["a"])(Gj,$j,Uj,!1,null,null,null),Kj=qj.exports,Xj=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.iframeID="breakdance-browser-iframe",e.iframeDocument=null,e}return Object(s["a"])(n,[{key:"beforeMount",value:function(){var e=Object(f["a"])(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("browse"!==window.Breakdance.initialMode){e.next=5;break}return e.next=3,Object(lr["e"])();case 3:t=e.sent,Object(lr["b"])(t,{returnUrl:window.Breakdance.returnUrl,browseModeOpenUrl:window.Breakdance.browseModeOpenUrl});case 5:case"end":return e.stop()}}),e)})));function t(){return e.apply(this,arguments)}return t}()},{key:"mounted",value:function(){this.warnIfUnsavedFunction=Object(xi["b"])((function(){return p["e"].settingsHasUnsavedChangesPresent||p["e"].selectorsHasUnsavedChangesPresent}))}},{key:"beforeDestroy",value:function(){Object(xi["a"])(this.warnIfUnsavedFunction)}},{key:"handleIframeLoaded",value:function(e){if(!e)throw this.iframeDocument=null,"Unable to proceed  iframe element is missing";this.iframeDocument=Object(Ag["c"])(e)}},{key:"handlePreviewWidthChange",value:function(e){p["g"].changePreviewWidthMutation(e)}},{key:"handlePreviewWidthChangeWithAdjustmentBar",value:function(e){p["g"].changePreviewWidthWithAdjustmentBar(e)}},{key:"handleResetPreviewWidth",value:function(){p["g"].selectBaseBreakpoint()}},{key:"exitBrowseMode",value:function(){Object(Ag["a"])()}},{key:"toggleGlobalSettingsPanel",value:function(){Object(Q["i"])("globalSettings")}},{key:"toggleSelectorsPanel",value:function(){Object(Q["i"])("selectors")}},{key:"toggleHistoryAndRevisionsPanel",value:function(){Object(Q["e"])("history")}},{key:"handleCurrentDocumentChange",value:function(){Object(Ag["f"])()}},{key:"onGlobalSettingsChanged",value:function(){this.iframeDocument&&Object(ya["b"])(this.iframeDocument)}},{key:"onSelectorsChanged",value:function(){this.iframeDocument&&Object(ya["a"])(this.iframeDocument)}},{key:"interfaceState",get:function(){return p["g"].interfaceState}},{key:"iframeUrl",get:function(){return p["a"].iframeUrl}},{key:"iframeState",get:function(){return p["a"].iframeState}},{key:"iframeDocumentTitleToDisplay",get:function(){return p["a"].iframeDocumentTitleToDisplay}},{key:"iframeUrlToDisplay",get:function(){return p["a"].iframeUrlToDisplay}},{key:"iframePreviewWidth",get:function(){return p["g"].canvasPreviewWidth}},{key:"iframeMinWidth",get:function(){return Object(Ut["g"])(p["e"])}},{key:"leftSidebarPanelState",get:function(){return p["g"].panelState.leftSidebarPanel}},{key:"rightSidebarPanelState",get:function(){return p["g"].panelState.rightSidebarPanel}},{key:"globalSettings",get:function(){return p["e"].globalSettings}},{key:"selectors",get:function(){return p["e"].cssSelectors}},{key:"isAnyBrowseModeSupportedPanelOpen",get:function(){return Object(Q["d"])("globalSettings")||Object(Q["d"])("selectors")||Object(Q["d"])("history")}},{key:"currentBreakpoint",get:function(){return p["g"].currentBreakpoint},set:function(e){p["g"].changeBreakpoint(e)}}]),n}(a["a"]);Object(u["a"])([Object(d["h"])("iframeDocumentTitleToDisplay",{immediate:!0})],Xj.prototype,"handleCurrentDocumentChange",null),Object(u["a"])([Object(d["h"])("globalSettings",{deep:!0,immediate:!0})],Xj.prototype,"onGlobalSettingsChanged",null),Object(u["a"])([Object(d["h"])("selectors",{deep:!0,immediate:!0})],Xj.prototype,"onSelectorsChanged",null),Xj=Object(u["a"])([Object(d["a"])({components:{UndoRedo:nr,BrowseModeSave:Kj,BrowseModeSidebarPanels:Nj,BreakpointsSelection:$i,Icon:Z["a"],StandardButton:Ha,IframeWrapper:ui,TopBarSection:Qi,AppLayoutBodyPanelArea:Mk,TopBar:to,AppLayout:Kk,IconButton:Ai["a"],ClosingConfirmations:tj,Dropdown:Ri["a"],Loading:ni["a"]}})],Xj);var Yj=Xj,Qj=Yj,Zj=(n("ae15"),Object(ne["a"])(Qj,Aj,Rj,!1,null,null,null)),Jj=Zj.exports;Na()(Zj,{VList:Vi["a"],VListItem:Li["a"],VListItemTitle:Wi["c"],VSpacer:ro["a"]});var eS=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){return Object(o["a"])(this,n),t.apply(this,arguments)}return Object(s["a"])(n,[{key:"beforeMount",value:function(){p["g"].setMode(window.Breakdance.initialMode)}},{key:"darkModeWatcher",value:function(e){this.$vuetify.theme.dark=e}},{key:"isBrowseModeEnabled",get:function(){return"browse"===p["g"].mode}},{key:"useDarkMode",get:function(){return"dark"===p["g"].settings.theme}},{key:"classList",get:function(){return{"breakdance-dark-mode":this.useDarkMode}}}]),n}(a["a"]);Object(u["a"])([Object(d["h"])("useDarkMode",{immediate:!0})],eS.prototype,"darkModeWatcher",null),eS=Object(u["a"])([Object(d["a"])({components:{BrowseMode:Jj,Builder:Tj,Notifications:v["a"]}})],eS);var tS=eS,nS=tS,aS=(n("5c0b"),n("7496")),iS=Object(ne["a"])(nS,i,r,!1,null,null,null),rS=iS.exports;Na()(iS,{VApp:aS["a"]});var oS=n("3003"),sS=n("c6a3");a["a"].config.productionTip=!1,a["a"].config.ignoredElements=["lite-vimeo","lite-youtube"],a["a"].use(oS["a"]),a["a"].directive("permission",sS["a"]),new a["a"]({store:p["c"],vuetify:Ga["a"],render:function(e){return e(rS)}}).$mount("#app")},cdd0:function(e,t,n){},cef0:function(e,t,n){"use strict";var a=n("535e"),i=n.n(a);i.a},d55e:function(e,t,n){"use strict";var a=n("1fb7"),i=n.n(a);i.a},d899:function(e,t,n){"use strict";var a=n("1319"),i=n.n(a);i.a},db2c:function(e,t,n){},dbcf:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("Dialog",{attrs:{value:!0},on:{close:function(t){return e.$emit("close")},"click:outside":function(t){return e.$emit("close")},keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"esc",27,t.key,["Esc","Escape"])?null:e.$emit("close")}},scopedSlots:e._u([{key:"title",fn:function(){return[e._v(" Save as Global Block ")]},proxy:!0},{key:"text",fn:function(){return[n("TextInput",{attrs:{size:"md",placeholder:"Global Block"},model:{value:e.globalBlockName,callback:function(t){e.globalBlockName=t},expression:"globalBlockName"}})]},proxy:!0},{key:"actions",fn:function(){return[n("v-btn",{attrs:{text:""},on:{click:function(t){return e.$emit("close")}}},[e._v(" Cancel ")]),n("v-btn",{attrs:{color:"blue",dark:"",disabled:!e.globalBlockName},on:{click:e.saveAsGlobalBlock}},[e._v(" Save ")])]},proxy:!0}])})},i=[],r=(n("96cf"),n("1da1")),o=n("d4ec"),s=n("bee2"),l=n("2caf"),c=n("262e"),u=n("9ab4"),d=n("f9f0"),p=n("2b0e"),v=n("60a3"),h=n("2961"),m=n("24fc"),f=function(e){Object(c["a"])(n,e);var t=Object(l["a"])(n);function n(){var e;return Object(o["a"])(this,n),e=t.apply(this,arguments),e.globalBlockName="",e}return Object(s["a"])(n,[{key:"saveAsGlobalBlock",value:function(){var e=Object(r["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(t.preventDefault(),this.globalBlockName){e.next=3;break}return e.abrupt("return");case 3:if(!this.elementId){e.next=6;break}return e.next=6,Object(d["b"])(this.elementId,this.globalBlockName);case 6:this.globalBlockName="",this.$emit("close");case 8:case"end":return e.stop()}}),e,this)})));function t(t){return e.apply(this,arguments)}return t}()}]),n}(p["a"]);Object(u["a"])([Object(v["d"])({required:!0})],f.prototype,"elementId",void 0),f=Object(u["a"])([Object(v["a"])({components:{Dialog:h["a"],TextInput:m["a"]}})],f);var b=f,g=b,y=n("2877"),O=n("6544"),k=n.n(O),j=n("8336"),S=Object(y["a"])(g,a,i,!1,null,null,null);t["a"]=S.exports;k()(S,{VBtn:j["a"]})},dc3b:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h3",{staticClass:"mb-1"},[e._v("Default Properties")]),n("v-btn",{staticClass:"mr-2",attrs:{small:"",text:"",disabled:!e.canImport,outlined:""},on:{click:e.importDefaultProperties}},[e._v("import")]),e.value?n("v-btn",{attrs:{color:"red darken-1",text:"",small:"",outlined:""},on:{click:e.clearDefaultProperties}},[e._v("clear")]):e._e(),n("div",{staticClass:"element-studio-default-properties-instructions"},[e._v(" Click IMPORT to set the default properties to the properties of the currently active element. Active element must be a "),n("b",[e._v(e._s(e.elementSlug))]),e._v(". ")]),n("h5",[e._v("Current Default Properties")]),n("pre",{staticClass:"element-studio-default-properties-preview"},[e._v(e._s(e.value))]),n("v-dialog",{attrs:{"max-width":"500"},model:{value:e.dialogOpen,callback:function(t){e.dialogOpen=t},expression:"dialogOpen"}},[n("v-card",[n("v-card-title",{staticClass:"headline"},[e._v(" Set Default Properties ")]),n("v-card-text",[e._v(" Set default properties for "+e._s(e.elementSlug)+" to:"),n("br"),n("br"),e._v(" "+e._s(e.defaultProperties)+" ")]),n("v-card-actions",[n("v-btn",{attrs:{color:"red darken-1",text:""},on:{click:e.cancel}},[e._v(" cancel ")]),n("v-spacer"),n("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.confirmDefaultProperties}},[e._v(" confirm ")])],1)],1)],1)],1)},i=[],r=n("d4ec"),o=n("bee2"),s=n("2caf"),l=n("262e"),c=n("9ab4"),u=n("2b0e"),d=n("60a3"),p=n("b850"),v=n("bedf"),h=function(e){Object(l["a"])(n,e);var t=Object(s["a"])(n);function n(){var e;return Object(r["a"])(this,n),e=t.apply(this,arguments),e.dialogOpen=!1,e.defaultProperties=e.value,e}return Object(o["a"])(n,[{key:"cancel",value:function(){this.dialogOpen=!1}},{key:"importDefaultProperties",value:function(){if(p["g"].activeElement&&p["g"].activeElement.data.type===this.elementSlug){var e=Object(v["a"])(p["g"].activeElement.data.properties);e&&("settings"in e&&delete e.settings,"meta"in e&&delete e.meta),this.defaultProperties=e,this.dialogOpen=!0}}},{key:"confirmDefaultProperties",value:function(){this.dialogOpen=!1,this.$emit("input",this.defaultProperties)}},{key:"clearDefaultProperties",value:function(){confirm("are you sure?")&&this.$emit("input",!1)}},{key:"canImport",get:function(){return!!p["g"].activeElement&&p["g"].activeElement.data.type===this.elementSlug}}]),n}(u["a"]);Object(c["a"])([Object(d["d"])()],h.prototype,"value",void 0),Object(c["a"])([Object(d["d"])()],h.prototype,"elementSlug",void 0),h=Object(c["a"])([Object(d["a"])({components:{}})],h);var m=h,f=m,b=(n("467f"),n("2877")),g=n("6544"),y=n.n(g),O=n("8336"),k=n("b0af"),j=n("99d9"),S=n("169a"),C=n("2fa4"),x=Object(b["a"])(f,a,i,!1,null,null,null);t["a"]=x.exports;y()(x,{VBtn:O["a"],VCard:k["a"],VCardActions:j["a"],VCardText:j["b"],VCardTitle:j["c"],VDialog:S["a"],VSpacer:C["a"]})},ddc2:function(e,t,n){"use strict";var a=n("ea81"),i=n.n(a);i.a},deb6:function(e,t,n){},e02f:function(e,t,n){},e31c:function(e,t,n){},ea43:function(e,t,n){"use strict";var a=n("3324"),i=n.n(a);i.a},ea7f:function(e,t,n){"use strict";var a=n("b55a"),i=n.n(a);i.a},ea81:function(e,t,n){},ee2e:function(e,t,n){"use strict";var a=n("e02f"),i=n.n(a);i.a},f03d:function(e,t,n){"use strict";var a=n("cdd0"),i=n.n(a);i.a},f173:function(e,t,n){},f190:function(e,t,n){"use strict";var a=n("9acc"),i=n.n(a);i.a},f346:function(e,t,n){"use strict";n.d(t,"f",(function(){return W})),n.d(t,"c",(function(){return Y})),n.d(t,"d",(function(){return Z})),n.d(t,"e",(function(){return ee})),n.d(t,"a",(function(){return ne})),n.d(t,"b",(function(){return ie}));n("99af"),n("d81d"),n("d3b7"),n("25f0"),n("96cf");var a=n("2909"),i=n("1da1"),r=n("82c6"),o=n("b850"),s=n("fb60"),l=n("3af4"),c=n("f10d"),u=n("a920"),d=n("2ef0"),p=n.n(d),v=n("bedf"),h=n("af0c"),m=n("a72c"),f=n("41c0"),b=n("a79c"),g=n("ec26"),y=n("7c4b"),O=n("9274"),k=n("34bc"),j=n("0fdf"),S=n("8fe2"),C=n("9d78"),x=n("45a4"),w=S["s"]({source:S["r"],colors:C["c"],presets:S["g"](x["c"]),element:j["d"]}),P=(n("4de4"),n("7db0"),n("0481"),n("4160"),n("c975"),n("4069"),n("07ac"),n("2ca0"),n("159b"),n("5530")),_=n("1de1"),E=n("f57e");function I(e,t){var n=function t(n,a,i){var r="".concat(a,".").concat(n.slug);return e===n.options.type&&i.push(r),n.children.forEach((function(e){i=t(e,r,i)})),i},a=[];return t.controls.contentSections.forEach((function(e){a.concat(n(e,"content",a))})),t.controls.designSections.forEach((function(e){a.concat(n(e,"design",a))})),a}function D(e,t,n){var a=Object(v["a"])(e),i=E["b"].element(a.data.type),r=I("typography",i);r.forEach((function(e){var n=p.a.get(a.data.properties,"".concat(e,".preset"));if(n){var i=R(t,n);i&&p.a.set(a.data.properties,e,{custom:i.custom})}}));var o=I("color",i),s=function(e,t){var i=M(n,t);i&&p.a.set(a.data.properties,e,i.value)};return o.forEach((function(e){var t=p.a.get(a.data.properties,e);if(t)if(p.a.isObject(t))for(var n in t)s("".concat(e,".").concat(n),t[n]);else s(e,t)})),a}function T(e){var t=function t(n){var a=D(n,e.presets,e.colors),i=n.children.map(t);return Object(P["a"])({},a,{children:i})};return t(e.element)}function A(e){var t=location.hostname;return{source:t,element:e,colors:[],presets:[]}}var R=function(e,t){if(!B(t))return e.find((function(e){return e.preset.id===t}))};function B(e){var t;return null===(t=E["d"].typographyPresets)||void 0===t?void 0:t.find((function(t){return t.preset.id===e}))}function M(e,t){if(!(!F(t)||F(t)&&V(t))){var n=Object(_["b"])(t);return e.find((function(e){return e.cssVariableName===n}))}}function F(e){return"string"===typeof e&&e.startsWith("var(")}function V(e){var t=Object(_["b"])(e);return E["d"].globalColors.find((function(e){return e.cssVariableName===t}))}var L=new y["a"];function W(){return{register:function(){L.on("copy",N),L.on("cut",N),L.on("paste",N)},unbind:function(){L.removeAll()}}}function N(e){var t=window.Breakdance.canvas.document,n=Object(O["a"])(t)||Object(O["a"])(document);n||(e.preventDefault(),"copy"===e.type&&o["g"].activeElementId?Y(o["g"].activeElementId):"cut"===e.type&&o["g"].activeElementId?Q(o["g"].activeElementId):"paste"===e.type&&Z(o["g"].activeElementId,e))}function $(e){return U.apply(this,arguments)}function U(){return U=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(O["c"])();case 2:if(n=e.sent,a=n.secure,i=n.permission,!t||window.safari){e.next=7;break}return e.abrupt("return","event");case 7:if(a){e.next=9;break}return e.abrupt("return","localstorage");case 9:if("denied"!==i.state){e.next=11;break}return e.abrupt("return","localstorage");case 11:return e.abrupt("return","clipboard");case 12:case"end":return e.stop()}}),e)}))),U.apply(this,arguments)}function H(e){return z.apply(this,arguments)}function z(){return z=Object(i["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,navigator.clipboard.writeText(t);case 3:console.debug("Writing to clipboard"),e.next=10;break;case 6:e.prev=6,e.t0=e["catch"](0),Object(O["b"])(t),console.debug("Fallback: Writing to clipboard");case 10:Object(k["b"])("breakdance_copied_element_json_string",t);case 11:case"end":return e.stop()}}),e,null,[[0,6]])}))),z.apply(this,arguments)}function G(e){return q.apply(this,arguments)}function q(){return q=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return a=null===t||void 0===t||null===(n=t.clipboardData)||void 0===n?void 0:n.getData("text"),e.next=3,$(t);case 3:if(i=e.sent,console.debug("Reading clipboard from ".concat(i)),"event"!==i){e.next=7;break}return e.abrupt("return",a);case 7:if("localstorage"!==i){e.next=9;break}return e.abrupt("return",Object(k["a"])("breakdance_copied_element_json_string"));case 9:return e.next=11,navigator.clipboard.readText();case 11:return e.abrupt("return",e.sent);case 12:case"end":return e.stop()}}),e)}))),q.apply(this,arguments)}function K(e){return X.apply(this,arguments)}function X(){return X=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,G(t);case 2:if(n=e.sent,n){e.next=5;break}return e.abrupt("return",null);case 5:return a=Object(h["a"])(n,w),e.abrupt("return",Object(l["pipe"])(a,Object(s["fold"])((function(){return null}),(function(e){return console.debug("Got element from clipboard",e),T(e)}))));case 7:case"end":return e.stop()}}),e)}))),X.apply(this,arguments)}function Y(e){var t=Object(r["l"])(o["d"].document.tree,e);if(t){var n=Object(r["j"])(t),i=A(n);Object(l["pipe"])(i,m["a"],Object(s["fold"])((function(e){var t;return(t=console).error.apply(t,["Failed to copy element"].concat(Object(a["a"])(e.map((function(e){return e.toString()})))))}),(function(e){H(e)})))}}function Q(e){Y(e),o["d"].deleteElement({nodeId:e})}function Z(e,t){return J.apply(this,arguments)}function J(){return J=Object(i["a"])(regeneratorRuntime.mark((function e(t,n){var a,i,r,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,K(n);case 2:if(a=e.sent,a){e.next=5;break}return e.abrupt("return");case 5:i=Object(c["b"])(o["d"].document.tree,t,Object(c["f"])(a)),r=Object(g["a"])(),d="Paste:".concat(r),Object(l["pipe"])(i,Object(s["fold"])((function(){}),(function(e){"TOP_LEVEL"===e?u["a"].transaction((function(){var e={nodeId:void 0};o["d"].addElementMutation({elementSlug:Object(c["c"])(),parentNodeId:o["d"].document.tree.root.id,index:!1,pointer:e}),void 0!==e.nodeId&&(o["d"].pasteCopiedElementMutation({element:a,placeToAddId:e.nodeId,placeToAddIndex:0}),b["a"].run.onCreatedElement({elementId:a.id,transactionKey:d}))}),"Paste copied ".concat(Object(f["b"])(a.data.type)," into a new section"),d):u["a"].transaction((function(){var t={nodeId:void 0};o["d"].pasteCopiedElementMutation({element:a,placeToAddId:e.place.id,placeToAddIndex:e.index||e.place.children.length,pointer:t}),t.nodeId&&b["a"].run.onCreatedElement({elementId:t.nodeId,transactionKey:d})}),"Paste copied ".concat(Object(f["b"])(a.data.type)),d)})));case 9:case"end":return e.stop()}}),e)}))),J.apply(this,arguments)}function ee(e){return te.apply(this,arguments)}function te(){return te=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,a,i,s,l=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return n=l.length>1&&void 0!==l[1]?l[1]:"design",e.next=3,K();case 3:if(a=e.sent,a){e.next=6;break}return e.abrupt("return");case 6:if(i=Object(r["l"])(o["d"].document.tree,t),i){e.next=9;break}return e.abrupt("return");case 9:s=p.a.get(a.data.properties,n,null),a.data.type===i.data.type&&o["d"].throttledPropertyChanged({elementId:i.id,path:n,value:Object(v["a"])(s),meta:{snapshotLabel:"Paste properties of ".concat(Object(f["b"])(a.data.type)," to ").concat(Object(f["b"])(i.data.type))}});case 11:case"end":return e.stop()}}),e)}))),te.apply(this,arguments)}function ne(e){return ae.apply(this,arguments)}function ae(){return ae=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:if(n=e.sent,n){e.next=5;break}return e.abrupt("return",!1);case 5:return a=Object(c["b"])(o["d"].document.tree,t,Object(c["f"])(n)),e.abrupt("return",Object(s["isRight"])(a));case 7:case"end":return e.stop()}}),e)}))),ae.apply(this,arguments)}function ie(e){return re.apply(this,arguments)}function re(){return re=Object(i["a"])(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,K();case 2:if(n=e.sent,n){e.next=5;break}return e.abrupt("return",!1);case 5:return a=Object(r["l"])(o["d"].document.tree,t),e.abrupt("return",n.data.type===(null===a||void 0===a?void 0:a.data.type));case 7:case"end":return e.stop()}}),e)}))),re.apply(this,arguments)}},f358:function(e,t,n){"use strict";var a=n("0780"),i=n.n(a);i.a},f3b1:function(e,t,n){"use strict";var a=n("a5ed"),i=n.n(a);i.a},f3f5:function(e,t,n){},f426:function(e,t,n){"use strict";var a=n("5fd6"),i=n.n(a);i.a},f451:function(e,t,n){"use strict";var a=n("399d"),i=n.n(a);i.a},f548:function(e,t,n){"use strict";var a=n("42fd"),i=n.n(a);i.a},f8a4:function(e,t,n){},f9bc:function(e,t,n){}});
//# sourceMappingURL=app.bc4397d2.js.map