{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/components/UI/ConfirmDialog.vue?d60b","webpack:///./src/components/Reusable/Iframe/IframeWrapper.vue?7de7","webpack:///./src/components/Settings/Selectors/AddSelector.vue?a78b","webpack:///./src/components/Reusable/Revisions/RevisionsList.vue?0bcc","webpack:///./src/components/Builder/BuilderLayout.vue?6c1b","webpack:///./src/components/Settings/Preferences/PreferencesModal.vue?9bcd","webpack:///./src/components/Add/AddPanel.vue?904f","webpack:///./src/components/Reusable/AppLayout/TopBar/TopBar.vue?3e36","webpack:///./src/lib/structure-panel/expand-collapse.ts","webpack:///./src/components/HistoryAndRevisions/HistoryAndRevisionsPanel.vue?2ce1","webpack:///./src/components/ElementStudio/Copyable.vue?9813","webpack:///./src/components/ElementPropertiesPanel/Titlebar.vue?4849","webpack:///./src/components/Builder/TopBar/DocumentChooser.vue?20ec","webpack:///./src/components/Builder/TopBar/SettingsDropdown.vue?08c9","webpack:///./src/components/ElementStudio/ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?bb46","webpack:///./src/components/ElementStudio/ElementStudioDefaultProperties.vue?8c2b","webpack:///./src/components/Settings/Preferences/PreferencesPanel.vue?eeb7","webpack:///./src/components/Builder/TopBar/BreakpointsSelection.vue?4db4","webpack:///./src/components/ElementStudio/ElementStudioTopBar.vue?5ce1","webpack:///./src/components/Reusable/AppLayout/AppLayout.vue?4c27","webpack:///./src/components/Settings/Preferences/CustomUiSettings.vue?36da","webpack:///./src/components/Settings/Preferences/CustomFonts/components/UpdateFontFace.vue?bc4e","webpack:///./src/components/Help/KeyboardShortcutsHelpModal.vue?97f3","webpack:///./src/components/ElementStudio/ControlSectionOrControl.vue?00a0","webpack:///./src/App.vue?6f9c","webpack:///./src/components/Reusable/Util/PanelHeader.vue?3e25","webpack:///./src/components/Reusable/Tabs/TabsRow.vue?65c4","webpack:///./src/components/Builder/TopBar/PreviewContentChooserDialog.vue?ec7d","webpack:///./src/components/ElementStudio/ElementStudioSpacingBars.vue?0f9e","webpack:///./src/components/ElementStudio/ElementStudio.vue?8613","webpack:///./src/components/Add/library/DesignLibrarySkeleton.vue?4067","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFaces.vue?3cf5","webpack:///./src/components/Canvas/OverlaidUI/Canvas/ClipboardDialog.vue?e6d0","webpack:///./src/components/Structure/ChildStructureNodes.vue?708e","webpack:///./src/components/Structure/StructureNode.vue?dd90","webpack:///./src/components/Structure/StructureNode.vue","webpack:///./src/components/Structure/StructureNode.vue?a797","webpack:///./src/components/Structure/StructureNode.vue?3063","webpack:///./src/components/Structure/ChildStructureNodes.vue","webpack:///./src/components/Structure/ChildStructureNodes.vue?7209","webpack:///./src/components/Structure/ChildStructureNodes.vue?f447","webpack:///./src/components/Reusable/Tabs/Tab.vue?8887","webpack:///./src/components/ElementPropertiesPanel/TabsAndControls.vue?3611","webpack:///./src/components/Add/library/DesignLibrarySidebar.vue?71a4","webpack:///./src/components/Add/library/DesignLibraryModal.vue?d398","webpack:///./src/components/ElementStudio/TwigCodeHelper.vue?4b3d","webpack:///./src/components/ElementPropertiesPanel/SearchBox.vue?f68c","webpack:///./src/components/ElementStudio/ElementStudioRepeaterOptions.vue?1f0f","webpack:///./src/components/Reusable/AppLayout/TopBar/TopBarSection.vue?d0ac","webpack:///./src/components/ElementPropertiesPanel/DesignTabContent.vue?e6d9","webpack:///./src/components/Settings/Selectors/SelectorsPanel.vue?acc2","webpack:///./src/components/HistoryAndRevisions/Revisions/Revisions.vue?f0ba","webpack:///./src/components/Settings/Preferences/Breakpoints/EditBreakpoints.vue?b315","webpack:///./src/components/Settings/Selectors/EditSelector.vue?3adc","webpack:///./src/lib/copy-paste/utils.ts","webpack:///./src/components/Reusable/AppLayout/AppLayoutBodyPanelArea.vue?f09a","webpack:///./src/components/ElementStudio/ElementStudioWidthAdjustmentBar.vue?7909","webpack:///./src/components/Builder/TopBar/UndoRedo.vue?a1fa","webpack:///./src/components/Builder/TopBar/AddButton.vue?3a9b","webpack:///./src/components/Structure/StructurePanel.vue?28c0","webpack:///./src/components/ElementStudio/ElementStudioVariableOptions.vue?d272","webpack:///./src/components/ElementPropertiesPanel/BlankSidebarContent.vue?a661","webpack:///./src/components/ElementStudio/ElementStudioDependencies.vue?9441","webpack:///./src/components/Settings/Preferences/Breakpoints/EditBreakpoint.vue?156c","webpack:///./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel.vue?0bae","webpack:///./src/components/ElementPropertiesPanel/PresetsInDesignTab.vue?06bc","webpack:///./src/BrowseMode.vue?ea33","webpack:///./src/components/ElementPropertiesPanel/SearchFilter.vue?efc2","webpack:///./src/util/fp-json-parse-typesafe.ts","webpack:///./src/components/UnrecoverableErrors.vue?5ad3","webpack:///./src/components/Structure/StructureContextMenu.vue?5d8c","webpack:///./src/components/Structure/StructureContextMenu.vue","webpack:///./src/components/Structure/StructureContextMenu.vue?94ba","webpack:///./src/components/Structure/StructureContextMenu.vue?943c","webpack:///./src/components/Reusable/Iframe/PreviewWidthAdjustmentHandle.vue?c314","webpack:///./src/components/ElementStudio/ElementStudioPresets.vue?3d70","webpack:///./src/components/ElementStudio/ElementStudioDefaultElements.vue?043c","webpack:///./src/components/ElementStudio/ElementStudioDefaultElements.vue","webpack:///./src/components/ElementStudio/ElementStudioDefaultElements.vue?5d14","webpack:///./src/components/ElementStudio/ElementStudioDefaultElements.vue?0f8a","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFileUpload.vue?3b3f","webpack:///./src/components/Reusable/CustomInputs/ShittyTextInput.vue?cd67","webpack:///./src/App.vue?1b55","webpack:///./src/Builder.vue?41ef","webpack:///./src/components/Builder/BuilderLayout.vue?f31a","webpack:///./src/components/Canvas/IframeCanvas.vue?abe0","webpack:///./src/components/Canvas/OverlaidUI/styles.iframecss","webpack:///./src/lib/canvas/html-to-vnodes.ts","webpack:///./src/types/assets.ts","webpack:///./src/types/server-side-render.ts","webpack:///./src/lib/server-side-render/server-side-render.ts","webpack:///./src/components/Canvas/Empty/EmptyContainer.vue?712e","webpack:///./src/components/Canvas/Empty/EmptyContainer.vue","webpack:///./src/components/Canvas/Empty/EmptyContainer.vue?62cc","webpack:///./src/components/Canvas/Empty/EmptyContainer.vue?3352","webpack:///./src/components/Canvas/Empty/EmptyColumns.vue?bc47","webpack:///./src/components/Canvas/Empty/EmptyColumns.vue","webpack:///./src/components/Canvas/Empty/EmptyColumns.vue?db7c","webpack:///./src/components/Canvas/Empty/EmptyColumns.vue?4a33","webpack:///./src/lib/server-side-render/rerun-javascripts.ts","webpack:///./src/lib/canvas/ssr-html-strings.ts","webpack:///./src/components/Canvas/BuilderElement.vue","webpack:///./src/components/Canvas/BuilderElement.vue?73e9","webpack:///./src/components/Canvas/BuilderElement.vue?983d","webpack:///./src/components/Canvas/OverlaidUI/NodeChrome.vue?2db3","webpack:///./src/components/Canvas/OverlaidUI/DragDots.vue?1eec","webpack:///./src/lib/canvas/drag/drag.ts","webpack:///./src/components/Canvas/OverlaidUI/DragDots.vue","webpack:///./src/components/Canvas/OverlaidUI/DragDots.vue?0f37","webpack:///./src/components/Canvas/OverlaidUI/DragDots.vue?dc97","webpack:///./src/components/Canvas/OverlaidUI/SpacingBars.vue?6f64","webpack:///./src/components/Canvas/OverlaidUI/DragMixin.ts","webpack:///./src/components/Canvas/OverlaidUI/SpacingBar.vue?efe0","webpack:///./src/lib/canvas/spacing-bars.ts","webpack:///./src/components/Canvas/OverlaidUI/SpacingBar.vue","webpack:///./src/components/Canvas/OverlaidUI/SpacingBar.vue?7030","webpack:///./src/components/Canvas/OverlaidUI/SpacingBar.vue?2c9e","webpack:///./src/components/Canvas/OverlaidUI/SpacingBars.vue","webpack:///./src/components/Canvas/OverlaidUI/SpacingBars.vue?ac9e","webpack:///./src/components/Canvas/OverlaidUI/SpacingBars.vue?4200","webpack:///./src/components/Canvas/OverlaidUI/ColumnDragSizer.vue?874d","webpack:///./src/lib/columns/canvas.ts","webpack:///./src/lib/columns/drag.ts","webpack:///./src/components/Canvas/OverlaidUI/ColumnDragSizer.vue","webpack:///./src/components/Canvas/OverlaidUI/ColumnDragSizer.vue?bc1c","webpack:///./src/components/Canvas/OverlaidUI/ColumnDragSizer.vue?ffcc","webpack:///./src/components/Canvas/OverlaidUI/NodeTitlebar.vue?1b19","webpack:///./src/components/Canvas/OverlaidUI/OnCanvasDragHandle.vue?1dfb","webpack:///./src/components/Canvas/OverlaidUI/OnCanvasDragHandle.vue","webpack:///./src/components/Canvas/OverlaidUI/OnCanvasDragHandle.vue?c152","webpack:///./src/components/Canvas/OverlaidUI/OnCanvasDragHandle.vue?a02a","webpack:///./src/lib/right-click/actions.ts","webpack:///./src/components/Canvas/OverlaidUI/NodeTitlebar.vue","webpack:///./src/components/Canvas/OverlaidUI/NodeTitlebar.vue?598c","webpack:///./src/components/Canvas/OverlaidUI/NodeTitlebar.vue?3b34","webpack:///./src/components/Canvas/OverlaidUI/NodeHoverControls.vue?1d99","webpack:///./src/components/Canvas/OverlaidUI/NodeHoverControls.vue","webpack:///./src/components/Canvas/OverlaidUI/NodeHoverControls.vue?ef0e","webpack:///./src/components/Canvas/OverlaidUI/NodeHoverControls.vue?f7e8","webpack:///./src/components/Canvas/OverlaidUI/NodeContentEditable.vue?35af","webpack:///./src/components/Canvas/OverlaidUI/NodeContentEditable.vue","webpack:///./src/components/Canvas/OverlaidUI/NodeContentEditable.vue?116d","webpack:///./src/components/Canvas/OverlaidUI/NodeContentEditable.vue?d9a5","webpack:///./src/components/Canvas/OverlaidUI/NodeChrome.vue","webpack:///./src/components/Canvas/OverlaidUI/NodeChrome.vue?52a6","webpack:///./src/components/Canvas/OverlaidUI/NodeChrome.vue?29e0","webpack:///./src/components/Canvas/OverlaidUI/CanvasChrome.vue?4b82","webpack:///./src/components/Canvas/OverlaidUI/Canvas/DragPlaceholder.vue?ee7e","webpack:///./src/components/Canvas/OverlaidUI/Canvas/DragPlaceholder.vue","webpack:///./src/components/Canvas/OverlaidUI/Canvas/DragPlaceholder.vue?da4f","webpack:///./src/components/Canvas/OverlaidUI/Canvas/DragPlaceholder.vue?8eaa","webpack:///./src/components/Canvas/OverlaidUI/Canvas/RightClickMenu.vue?1cbb","webpack:///./src/components/Canvas/OverlaidUI/Canvas/RightClickMenuItem.vue?198d","webpack:///./src/components/Canvas/OverlaidUI/Canvas/RightClickMenuItem.vue","webpack:///./src/components/Canvas/OverlaidUI/Canvas/RightClickMenuItem.vue?f8b5","webpack:///./src/components/Canvas/OverlaidUI/Canvas/RightClickMenuItem.vue?3734","webpack:///./src/components/Canvas/OverlaidUI/Canvas/ClipboardDialog.vue?0388","webpack:///./src/components/Canvas/OverlaidUI/Canvas/ClipboardDialog.vue?b231","webpack:///./src/components/Canvas/OverlaidUI/Canvas/ClipboardDialog.vue?e59e","webpack:///./src/components/Canvas/OverlaidUI/Canvas/ClipboardDialog.vue?0c1d","webpack:///./src/components/Canvas/OverlaidUI/Canvas/RightClickMenu.vue","webpack:///./src/components/Canvas/OverlaidUI/Canvas/RightClickMenu.vue?3714","webpack:///./src/components/Canvas/OverlaidUI/Canvas/RightClickMenu.vue?0b86","webpack:///./src/components/Canvas/OverlaidUI/CanvasChrome.vue","webpack:///./src/components/Canvas/OverlaidUI/CanvasChrome.vue?b90f","webpack:///./src/components/Canvas/OverlaidUI/CanvasChrome.vue?88a7","webpack:///./src/components/Canvas/Canvas.vue","webpack:///./src/components/Canvas/Canvas.vue?07ef","webpack:///./src/components/Canvas/Canvas.vue?852a","webpack:///./src/components/Reusable/Iframe/PreviewWidthAdjustmentHandle.vue?a69b","webpack:///./src/components/Reusable/Iframe/PreviewWidthAdjustmentHandle.vue?a567","webpack:///./src/components/Reusable/Iframe/PreviewWidthAdjustmentHandle.vue?1797","webpack:///./src/components/Reusable/Iframe/PreviewWidthAdjustmentHandle.vue?c4f9","webpack:///./src/components/UI/StandardButton.vue?efc5","webpack:///./src/components/UI/StandardButton.vue?c0a4","webpack:///./src/components/UI/StandardButton.vue?2004","webpack:///./src/components/UI/StandardButton.vue?0cf6","webpack:///./src/components/Canvas/ForeignDocumentsOverlay.vue","webpack:///./src/components/Canvas/ForeignDocumentsOverlay.vue?d987","webpack:///./src/util/css.ts","webpack:///./src/components/Canvas/ForeignDocumentsOverlay.vue?0ba3","webpack:///./src/components/Canvas/ForeignDocumentsOverlay.vue?0304","webpack:///./src/components/Reusable/Iframe/IframeWrapper.vue?ee26","webpack:///./src/components/Reusable/Iframe/IframeWrapper.vue?5d40","webpack:///./src/components/Reusable/Iframe/IframeWrapper.vue?cab8","webpack:///./src/components/Reusable/Iframe/IframeWrapper.vue?f575","webpack:///./src/components/Canvas/IframeCanvas.vue","webpack:///./src/components/Canvas/IframeCanvas.vue?ad3d","webpack:///./src/components/Canvas/IframeCanvas.vue?1169","webpack:///./src/components/Builder/TopBar/BuilderTopBar.vue?09b0","webpack:///./src/components/Builder/TopBar/Save.vue?8a5a","webpack:///./src/lib/wordpress/save.ts","webpack:///./src/lib/keyboard-shortcuts/global-shortcuts.ts","webpack:///./src/components/Builder/TopBar/Save.vue","webpack:///./src/components/Builder/TopBar/Save.vue?d511","webpack:///./src/components/Builder/TopBar/Save.vue?3b45","webpack:///./src/components/Builder/TopBar/BreakpointsSelection.vue?9753","webpack:///./src/components/Builder/TopBar/BreakpointsSelection.vue?38fb","webpack:///./src/components/Builder/TopBar/BreakpointsSelection.vue?5314","webpack:///./src/components/Builder/TopBar/BreakpointsSelection.vue?5885","webpack:///./src/components/Builder/TopBar/UndoRedo.vue?9b9b","webpack:///./src/components/Reusable/AppLayout/TopBar/TopBarSection.vue?c802","webpack:///./src/components/Reusable/AppLayout/TopBar/TopBarSection.vue?1fff","webpack:///./src/components/Reusable/AppLayout/TopBar/TopBarSection.vue?f026","webpack:///./src/components/Reusable/AppLayout/TopBar/TopBarSection.vue?da96","webpack:///./src/components/Builder/TopBar/UndoRedo.vue?47ce","webpack:///./src/components/Builder/TopBar/UndoRedo.vue?7b29","webpack:///./src/components/Builder/TopBar/UndoRedo.vue?0393","webpack:///./src/components/Builder/TopBar/PreviewContentChooserDialog.vue?3a23","webpack:///./src/lib/dynamic-data/templates.ts","webpack:///./src/components/Builder/TopBar/PreviewContentChooserDialog.vue?4727","webpack:///./src/components/Builder/TopBar/PreviewContentChooserDialog.vue?6714","webpack:///./src/components/Builder/TopBar/PreviewContentChooserDialog.vue?b25a","webpack:///./src/components/Builder/TopBar/DocumentChooser.vue?af11","webpack:///./src/lib/document-chooser/document-chooser.ts","webpack:///./src/components/Builder/TopBar/DocumentChooser.vue?3a8c","webpack:///./src/components/Builder/TopBar/DocumentChooser.vue?5ac4","webpack:///./src/components/Builder/TopBar/DocumentChooser.vue?9294","webpack:///./src/components/Builder/TopBar/SettingsDropdown.vue?4970","webpack:///./src/components/Builder/TopBar/SettingsDropdown.vue?9ece","webpack:///./src/components/Builder/TopBar/SettingsDropdown.vue?607f","webpack:///./src/components/Builder/TopBar/SettingsDropdown.vue?b207","webpack:///./src/components/Builder/TopBar/Exit.vue?de44","webpack:///./src/components/Builder/TopBar/Exit.vue","webpack:///./src/components/Builder/TopBar/Exit.vue?fd76","webpack:///./src/components/Builder/TopBar/Exit.vue?c571","webpack:///./src/components/Builder/TopBar/AddButton.vue?0e3b","webpack:///./src/components/Builder/TopBar/AddButton.vue?207c","webpack:///./src/components/Builder/TopBar/AddButton.vue?9fa7","webpack:///./src/components/Builder/TopBar/AddButton.vue?adf0","webpack:///./src/components/Reusable/AppLayout/TopBar/TopBar.vue?6e49","webpack:///./src/components/Reusable/AppLayout/TopBar/TopBar.vue?957d","webpack:///./src/components/Reusable/AppLayout/TopBar/TopBar.vue?2dbb","webpack:///./src/components/Reusable/AppLayout/TopBar/TopBar.vue?2b48","webpack:///./src/components/Builder/TopBar/BuilderTopBar.vue?f908","webpack:///./src/components/Builder/TopBar/BuilderTopBar.vue?6a94","webpack:///./src/components/Builder/TopBar/BuilderTopBar.vue?6def","webpack:///./src/components/Settings/Preferences/PreferencesModal.vue?ea46","webpack:///./src/components/Settings/Preferences/Breakpoints/CustomBreakpointsPanel.vue?94d4","webpack:///./src/components/Settings/Preferences/Breakpoints/EditBreakpoints.vue?d3da","webpack:///./src/components/Settings/Preferences/Breakpoints/EditBreakpoint.vue?4b9f","webpack:///./src/components/UI/ConfirmDialog.vue?cf88","webpack:///./src/components/UI/ConfirmDialog.vue?25ee","webpack:///./src/components/UI/ConfirmDialog.vue?b14d","webpack:///./src/components/UI/ConfirmDialog.vue?73fd","webpack:///./src/components/Settings/Preferences/Breakpoints/EditBreakpoint.vue?cc6a","webpack:///./src/components/Settings/Preferences/Breakpoints/EditBreakpoint.vue?731e","webpack:///./src/components/Settings/Preferences/Breakpoints/EditBreakpoint.vue?3ba7","webpack:///./src/components/Settings/Preferences/EmptyStatePreferences.vue?c60d","webpack:///./src/components/Settings/Preferences/EmptyStatePreferences.vue?a9bf","webpack:///./src/components/Settings/Preferences/Breakpoints/EditBreakpoints.vue?c34c","webpack:///./src/components/Settings/Preferences/Breakpoints/EditBreakpoints.vue?a3f7","webpack:///./src/components/Settings/Preferences/Breakpoints/EditBreakpoints.vue?50a6","webpack:///./src/components/Settings/Preferences/PreferencesPanel.vue?5b92","webpack:///./src/components/Settings/Preferences/PreferencesPanel.vue?c86a","webpack:///./src/components/Settings/Preferences/PreferencesPanel.vue?0377","webpack:///./src/components/Settings/Preferences/PreferencesPanel.vue?097a","webpack:///./src/components/Settings/Preferences/Breakpoints/CustomBreakpointsPanel.vue","webpack:///./src/components/Settings/Preferences/Breakpoints/CustomBreakpointsPanel.vue?dd5f","webpack:///./src/components/Settings/Preferences/Breakpoints/CustomBreakpointsPanel.vue?3748","webpack:///./src/components/Settings/Preferences/CustomFonts/CustomFontFamilies.vue?f67b","webpack:///./src/lib/fonts/backend.ts","webpack:///./src/lib/fonts/utils.ts","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFamily.vue?2535","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFaces.vue?efab","webpack:///./src/components/Settings/Preferences/CustomFonts/components/UpdateFontFace.vue?c72b","webpack:///./src/lib/fonts/constants.ts","webpack:///./src/components/Settings/Preferences/CustomFonts/components/UpdateFontFace.vue?7bba","webpack:///./src/components/Settings/Preferences/CustomFonts/components/UpdateFontFace.vue?4328","webpack:///./src/components/Settings/Preferences/CustomFonts/components/UpdateFontFace.vue?0e40","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFileUpload.vue?8ff8","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFileUpload.vue?578c","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFileUpload.vue?cf13","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFileUpload.vue?548f","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFaces.vue?5279","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFaces.vue?962d","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFaces.vue?d99d","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFamily.vue?048e","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFamily.vue?2431","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFamily.vue?698a","webpack:///./src/components/Settings/Preferences/CustomFonts/CustomFontFamilies.vue?6db5","webpack:///./src/components/Settings/Preferences/CustomFonts/CustomFontFamilies.vue?7d29","webpack:///./src/components/Settings/Preferences/CustomFonts/CustomFontFamilies.vue?1c9c","webpack:///./src/components/Settings/Preferences/CustomUiSettings.vue?78fe","webpack:///./src/components/Settings/Preferences/CustomUiSettings.vue?c038","webpack:///./src/components/Settings/Preferences/CustomUiSettings.vue?7880","webpack:///./src/components/Settings/Preferences/CustomUiSettings.vue?77e1","webpack:///./src/components/Settings/Preferences/PreferencesModal.vue?35c6","webpack:///./src/components/Settings/Preferences/PreferencesModal.vue?38dc","webpack:///./src/components/Settings/Preferences/PreferencesModal.vue?b8ad","webpack:///./src/components/Help/KeyboardShortcutsHelpModal.vue?0175","webpack:///./src/components/Help/KeyboardShortcutsHelpModal.vue?27eb","webpack:///./src/components/Help/KeyboardShortcutsHelpModal.vue?20c0","webpack:///./src/components/Help/KeyboardShortcutsHelpModal.vue?f575","webpack:///./src/components/ElementStudio/ElementStudio.vue?7cea","webpack:///./src/components/ElementStudio/ElementStudioWidthAdjustmentBar.vue?d937","webpack:///./src/components/ElementStudio/ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?cf32","webpack:///./src/components/ElementStudio/ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?4b40","webpack:///./src/components/ElementStudio/ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?366a","webpack:///./src/components/ElementStudio/ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?29d9","webpack:///./src/components/ElementStudio/ElementStudioWidthAdjustmentBar.vue?1ff8","webpack:///./src/components/ElementStudio/ElementStudioWidthAdjustmentBar.vue?0545","webpack:///./src/components/ElementStudio/ElementStudioWidthAdjustmentBar.vue?b0bf","webpack:///./src/components/ElementStudio/ElementStudioTopBar.vue?535f","webpack:///./src/components/ElementStudio/ElementStudioSaveNewDialog.vue?5b5b","webpack:///./src/components/ElementStudio/ElementStudioSaveNewDialog.vue","webpack:///./src/components/ElementStudio/ElementStudioSaveNewDialog.vue?e0ec","webpack:///./src/components/ElementStudio/ElementStudioSaveNewDialog.vue?3642","webpack:///./src/components/ElementStudio/ElementStudioTopBar.vue?3010","webpack:///./src/components/ElementStudio/ElementStudioTopBar.vue?0833","webpack:///./src/components/ElementStudio/ElementStudioTopBar.vue?0b0c","webpack:///./src/components/ElementStudio/ElementStudioElements.vue?beb3","webpack:///./src/components/ElementStudio/ElementStudioTabsAndPanels.vue?3eb2","webpack:///./src/components/ElementStudio/ElementStudioControls.vue?950e","webpack:///./src/components/ElementStudio/ControlSectionOrControl.vue?aa57","webpack:///./src/components/Reusable/CustomInputs/ShittyTextInput.vue?4271","webpack:///./src/components/Reusable/CustomInputs/ShittyTextInput.vue?f07a","webpack:///./src/components/Reusable/CustomInputs/ShittyTextInput.vue?31f2","webpack:///./src/components/Reusable/CustomInputs/ShittyTextInput.vue?4993","webpack:///./src/components/ElementStudio/TwigCodeHelper.vue?fd2c","webpack:///./src/components/ElementStudio/Copyable.vue?016e","webpack:///./src/components/ElementStudio/Copyable.vue?d9a2","webpack:///./src/components/ElementStudio/Copyable.vue?1155","webpack:///./src/components/ElementStudio/Copyable.vue?91f9","webpack:///./src/lib/element-studio/twig-code-helper.ts","webpack:///./src/components/ElementStudio/TwigCodeHelper.vue?323d","webpack:///./src/components/ElementStudio/TwigCodeHelper.vue?fe01","webpack:///./src/components/ElementStudio/TwigCodeHelper.vue?2516","webpack:///./src/components/ElementStudio/ElementStudioConditionInput.vue?4477","webpack:///./src/components/ElementStudio/ElementStudioConditionInput.vue","webpack:///./src/components/ElementStudio/ElementStudioConditionInput.vue?ea55","webpack:///./src/components/ElementStudio/ElementStudioConditionInput.vue?47db","webpack:///./src/components/ElementStudio/ElementStudioUnitOptions.vue?e7f4","webpack:///./src/components/ElementStudio/ElementStudioUnitOptions.vue","webpack:///./src/components/ElementStudio/ElementStudioUnitOptions.vue?9718","webpack:///./src/components/ElementStudio/ElementStudioUnitOptions.vue?73ba","webpack:///./src/components/ElementStudio/ElementStudioRangeOptions.vue?0523","webpack:///./src/components/ElementStudio/ElementStudioRangeOptions.vue","webpack:///./src/components/ElementStudio/ElementStudioRangeOptions.vue?fc6f","webpack:///./src/components/ElementStudio/ElementStudioRangeOptions.vue?e981","webpack:///./src/components/ElementStudio/ElementStudioRepeaterOptions.vue?3d04","webpack:///./src/components/ElementStudio/ElementStudioRepeaterOptions.vue?9cb2","webpack:///./src/components/ElementStudio/ElementStudioRepeaterOptions.vue?52eb","webpack:///./src/components/ElementStudio/ElementStudioRepeaterOptions.vue?6ca2","webpack:///./src/components/ElementStudio/ElementStudioDropdownOptions.vue?4152","webpack:///./src/components/ElementStudio/ElementStudioIconsAutocomplete.vue?e1f3","webpack:///./src/components/ElementStudio/ElementStudioIconsAutocomplete.vue","webpack:///./src/components/ElementStudio/ElementStudioIconsAutocomplete.vue?ec69","webpack:///./src/components/ElementStudio/ElementStudioIconsAutocomplete.vue?f9c3","webpack:///./src/components/ElementStudio/ElementStudioDropdownOptions.vue?fe98","webpack:///./src/components/ElementStudio/ElementStudioDropdownOptions.vue?3817","webpack:///./src/components/ElementStudio/ElementStudioDropdownOptions.vue?cd37","webpack:///./src/components/ElementStudio/ElementStudioBreakpointOptions.vue?c7b1","webpack:///./src/components/ElementStudio/ElementStudioBreakpointOptions.vue","webpack:///./src/components/ElementStudio/ElementStudioBreakpointOptions.vue?3116","webpack:///./src/components/ElementStudio/ElementStudioBreakpointOptions.vue?291a","webpack:///./src/components/ElementStudio/ElementStudioVariableOptions.vue?096f","webpack:///./src/components/ElementStudio/ElementStudioVariableOptions.vue?d163","webpack:///./src/components/ElementStudio/ElementStudioVariableOptions.vue?3a61","webpack:///./src/components/ElementStudio/ElementStudioVariableOptions.vue?db05","webpack:///./src/components/ElementStudio/ElementStudioMediaOptions.vue?2d44","webpack:///./src/components/ElementStudio/ElementStudioMediaOptions.vue","webpack:///./src/components/ElementStudio/ElementStudioMediaOptions.vue?79f8","webpack:///./src/components/ElementStudio/ElementStudioMediaOptions.vue?41d4","webpack:///./src/components/ElementStudio/ElementStudioMediaSizeOptions.vue?5d60","webpack:///./src/components/ElementStudio/ElementStudioMediaSizeOptions.vue","webpack:///./src/components/ElementStudio/ElementStudioMediaSizeOptions.vue?f3b4","webpack:///./src/components/ElementStudio/ElementStudioMediaSizeOptions.vue?420f","webpack:///./src/components/ElementStudio/ElementStudioIconOptions.vue?3b1c","webpack:///./src/components/ElementStudio/ElementStudioIconOptions.vue","webpack:///./src/components/ElementStudio/ElementStudioIconOptions.vue?f116","webpack:///./src/components/ElementStudio/ElementStudioIconOptions.vue?4a2c","webpack:///./src/lib/elements/studio/spacing-bars.ts","webpack:///./src/components/ElementStudio/ElementStudioPostChooserOptions.vue?7870","webpack:///./src/components/ElementStudio/ElementStudioPostChooserOptions.vue","webpack:///./src/components/ElementStudio/ElementStudioPostChooserOptions.vue?1e06","webpack:///./src/components/ElementStudio/ElementStudioPostChooserOptions.vue?1d29","webpack:///./src/components/ElementStudio/ElementStudioVideoOptions.vue?80fb","webpack:///./src/components/ElementStudio/ElementStudioVideoOptions.vue","webpack:///./src/components/ElementStudio/ElementStudioVideoOptions.vue?682d","webpack:///./src/components/ElementStudio/ElementStudioVideoOptions.vue?e29e","webpack:///./src/components/ElementStudio/ElementStudioAlertBoxOptions.vue?f268","webpack:///./src/components/ElementStudio/ElementStudioAlertBoxOptions.vue","webpack:///./src/components/ElementStudio/ElementStudioAlertBoxOptions.vue?fba7","webpack:///./src/components/ElementStudio/ElementStudioAlertBoxOptions.vue?87df","webpack:///./src/components/ElementStudio/ElementStudioFocusPointOptions.vue?4062","webpack:///./src/components/ElementStudio/ElementStudioFocusPointOptions.vue","webpack:///./src/components/ElementStudio/ElementStudioFocusPointOptions.vue?b659","webpack:///./src/components/ElementStudio/ElementStudioFocusPointOptions.vue?8fd1","webpack:///./src/lib/elements/studio/presets.ts","webpack:///./src/components/ElementStudio/ElementStudioHideControlInput.vue?6973","webpack:///./src/components/ElementStudio/ElementStudioHideControlInput.vue","webpack:///./src/components/ElementStudio/ElementStudioHideControlInput.vue?e2f8","webpack:///./src/components/ElementStudio/ElementStudioHideControlInput.vue?a9f1","webpack:///./src/components/ElementStudio/ControlSectionOrControl.vue?7480","webpack:///./src/components/ElementStudio/ControlSectionOrControl.vue?217b","webpack:///./src/components/ElementStudio/ControlSectionOrControl.vue?a1f2","webpack:///./src/components/ElementStudio/ElementStudioControls.vue","webpack:///./src/components/ElementStudio/ElementStudioControls.vue?e49a","webpack:///./src/components/ElementStudio/ElementStudioControls.vue?bae4","webpack:///./src/components/ElementStudio/ElementStudioDependencies.vue?99f9","webpack:///./src/components/ElementStudio/TextWithChevron.vue?9705","webpack:///./src/components/ElementStudio/TextWithChevron.vue","webpack:///./src/components/ElementStudio/TextWithChevron.vue?f696","webpack:///./src/components/ElementStudio/TextWithChevron.vue?00f6","webpack:///./src/types/tags.ts","webpack:///./src/components/ElementStudio/ElementStudioDependencies.vue?a61a","webpack:///./src/components/ElementStudio/ElementStudioDependencies.vue?d2cb","webpack:///./src/components/ElementStudio/ElementStudioDependencies.vue?d66b","webpack:///./src/lib/elements/studio/clean-element.ts","webpack:///./src/components/ElementStudio/ElementStudioAction.vue?59a6","webpack:///./src/components/ElementStudio/ElementStudioAction.vue?ae3d","webpack:///./src/components/ElementStudio/ElementStudioAction.vue?beae","webpack:///./src/components/ElementStudio/ElementStudioAction.vue?d47d","webpack:///./src/components/ElementStudio/ElementStudioAttributes.vue?ee45","webpack:///./src/components/ElementStudio/ElementStudioAttributes.vue","webpack:///./src/components/ElementStudio/ElementStudioAttributes.vue?8589","webpack:///./src/components/ElementStudio/ElementStudioAttributes.vue?1372","webpack:///./src/components/ElementStudio/ElementStudioAdditionalClasses.vue?5880","webpack:///./src/components/ElementStudio/ElementStudioAdditionalClasses.vue","webpack:///./src/components/ElementStudio/ElementStudioAdditionalClasses.vue?50be","webpack:///./src/components/ElementStudio/ElementStudioAdditionalClasses.vue?0430","webpack:///./src/components/ElementStudio/ElementStudioProjectManagement.vue?8799","webpack:///./src/components/ElementStudio/ElementStudioProjectManagement.vue","webpack:///./src/components/ElementStudio/ElementStudioProjectManagement.vue?1448","webpack:///./src/components/ElementStudio/ElementStudioProjectManagement.vue?6938","webpack:///./src/components/ElementStudio/ElementStudioPropertyPaths.vue?b852","webpack:///./src/components/ElementStudio/ElementStudioPropertyPaths.vue","webpack:///./src/components/ElementStudio/ElementStudioPropertyPaths.vue?3744","webpack:///./src/components/ElementStudio/ElementStudioPropertyPaths.vue?cc45","webpack:///./src/components/ElementStudio/ElementStudioManagePropertyPaths.vue?df5f","webpack:///./src/components/ElementStudio/ElementStudioDynPropPaths.vue?556d","webpack:///./src/components/ElementStudio/ElementStudioDynPropPaths.vue","webpack:///./src/components/ElementStudio/ElementStudioDynPropPaths.vue?fce1","webpack:///./src/components/ElementStudio/ElementStudioDynPropPaths.vue?98f2","webpack:///./src/components/ElementStudio/ElementStudioSpacingBars.vue?63ec","webpack:///./src/components/ElementStudio/ElementStudioSpacingBar.vue?59d2","webpack:///./src/components/ElementStudio/ElementStudioSpacingBar.vue","webpack:///./src/components/ElementStudio/ElementStudioSpacingBar.vue?a72a","webpack:///./src/components/ElementStudio/ElementStudioSpacingBar.vue?9b4f","webpack:///./src/components/ElementStudio/ElementStudioSpacingBars.vue?b176","webpack:///./src/components/ElementStudio/ElementStudioSpacingBars.vue?f11a","webpack:///./src/components/ElementStudio/ElementStudioSpacingBars.vue?e123","webpack:///./src/components/ElementStudio/ElementStudioManagePropertyPaths.vue","webpack:///./src/components/ElementStudio/ElementStudioManagePropertyPaths.vue?cefe","webpack:///./src/components/ElementStudio/ElementStudioManagePropertyPaths.vue?a4e0","webpack:///./src/lib/elements/studio/macros.ts","webpack:///./src/components/ElementStudio/ElementStudioTabsAndPanels.vue?1e1c","webpack:///./src/components/ElementStudio/ElementStudioTabsAndPanels.vue?6767","webpack:///./src/components/ElementStudio/ElementStudioTabsAndPanels.vue?6a7c","webpack:///./src/lib/elements/studio/blank-element.ts","webpack:///./src/components/ElementStudio/ElementStudioElements.vue","webpack:///./src/components/ElementStudio/ElementStudioElements.vue?5e57","webpack:///./src/components/ElementStudio/ElementStudioElements.vue?f47c","webpack:///./src/types/element-studio.ts","webpack:///./src/components/ElementStudio/ElementStudioMacros.vue?4473","webpack:///./src/components/ElementStudio/ElementStudioMacros.vue","webpack:///./src/components/ElementStudio/ElementStudioMacros.vue?6397","webpack:///./src/components/ElementStudio/ElementStudioMacros.vue?1f74","webpack:///./src/components/ElementStudio/ElementStudioPresets.vue?8407","webpack:///./src/components/ElementStudio/ElementStudioPresets.vue?2f9b","webpack:///./src/components/ElementStudio/ElementStudioPresets.vue?3df7","webpack:///./src/components/ElementStudio/ElementStudioPresets.vue?23a9","webpack:///./src/components/ElementStudio/ElementStudio.vue?df65","webpack:///./src/components/ElementStudio/ElementStudio.vue?0980","webpack:///./src/components/ElementStudio/ElementStudio.vue?85f4","webpack:///./src/components/Builder/SidebarPanels.vue?babd","webpack:///./src/components/ElementPropertiesPanel/ElementPropertiesPanel.vue?8be6","webpack:///./src/components/ElementPropertiesPanel/Titlebar.vue?b490","webpack:///./src/components/ElementPropertiesPanel/Titlebar.vue?7042","webpack:///./src/components/ElementPropertiesPanel/Titlebar.vue?ea49","webpack:///./src/components/ElementPropertiesPanel/Titlebar.vue?344a","webpack:///./src/components/ElementPropertiesPanel/BlankSidebarContent.vue?6817","webpack:///./src/components/ElementPropertiesPanel/BlankSidebarContent.vue?f9a4","webpack:///./src/components/ElementPropertiesPanel/BlankSidebarContent.vue?a225","webpack:///./src/components/ElementPropertiesPanel/BlankSidebarContent.vue?20b7","webpack:///./src/components/ElementPropertiesPanel/TabsAndControls.vue?e749","webpack:///./src/components/ElementPropertiesPanel/SearchBox.vue?70b2","webpack:///./src/components/ElementPropertiesPanel/SearchFilter.vue?9cef","webpack:///./src/components/ElementPropertiesPanel/SearchFilter.vue?aa5b","webpack:///./src/components/ElementPropertiesPanel/SearchFilter.vue?cb42","webpack:///./src/components/ElementPropertiesPanel/SearchFilter.vue?a257","webpack:///./src/components/ElementPropertiesPanel/SearchBox.vue?ce33","webpack:///./src/components/ElementPropertiesPanel/SearchBox.vue?5a41","webpack:///./src/components/ElementPropertiesPanel/SearchBox.vue?8f86","webpack:///./src/components/ElementPropertiesPanel/DesignContentSettingsTabs.vue?915f","webpack:///./src/components/Reusable/Tabs/Tab.vue?a427","webpack:///./src/components/Reusable/Tabs/Tab.vue?9916","webpack:///./src/components/Reusable/Tabs/Tab.vue?e065","webpack:///./src/components/Reusable/Tabs/Tab.vue?a76d","webpack:///./src/components/Reusable/Tabs/TabsRow.vue?71d1","webpack:///./src/components/Reusable/Tabs/TabsRow.vue?d11e","webpack:///./src/components/Reusable/Tabs/TabsRow.vue?1122","webpack:///./src/components/Reusable/Tabs/TabsRow.vue?6166","webpack:///./src/components/DesignLibrary/Presets/SavePreset.vue?89f7","webpack:///./src/util/trigger-download.ts","webpack:///./src/components/DesignLibrary/Presets/SavePreset.vue","webpack:///./src/components/DesignLibrary/Presets/SavePreset.vue?fd42","webpack:///./src/components/DesignLibrary/Presets/SavePreset.vue?6da4","webpack:///./src/components/ElementPropertiesPanel/DesignContentSettingsTabs.vue","webpack:///./src/components/ElementPropertiesPanel/DesignContentSettingsTabs.vue?bbca","webpack:///./src/components/ElementPropertiesPanel/DesignContentSettingsTabs.vue?c8cf","webpack:///./src/components/ElementPropertiesPanel/DesignTabContent.vue?be69","webpack:///./src/components/ElementPropertiesPanel/PresetsInDesignTab.vue?e596","webpack:///./src/lib/presets/presets.ts","webpack:///./src/components/ElementPropertiesPanel/PresetsInDesignTab.vue?208a","webpack:///./src/components/ElementPropertiesPanel/PresetsInDesignTab.vue?6f79","webpack:///./src/components/ElementPropertiesPanel/PresetsInDesignTab.vue?995f","webpack:///./src/components/ElementPropertiesPanel/DesignTabContent.vue?2fc3","webpack:///./src/components/ElementPropertiesPanel/DesignTabContent.vue?47f2","webpack:///./src/components/ElementPropertiesPanel/DesignTabContent.vue?d9e2","webpack:///./src/lib/controls/search.ts","webpack:///./src/components/ElementPropertiesPanel/SearchBoxEmptyState.vue?8424","webpack:///./src/components/ElementPropertiesPanel/SearchBoxEmptyState.vue","webpack:///./src/components/ElementPropertiesPanel/SearchBoxEmptyState.vue?f128","webpack:///./src/components/ElementPropertiesPanel/SearchBoxEmptyState.vue?510e","webpack:///./src/components/ElementPropertiesPanel/TabsAndControls.vue?243f","webpack:///./src/components/ElementPropertiesPanel/TabsAndControls.vue?03aa","webpack:///./src/components/ElementPropertiesPanel/TabsAndControls.vue?fa5a","webpack:///./src/components/ElementPropertiesPanel/ElementPropertiesPanel.vue","webpack:///./src/components/ElementPropertiesPanel/ElementPropertiesPanel.vue?b12e","webpack:///./src/components/ElementPropertiesPanel/ElementPropertiesPanel.vue?63de","webpack:///./src/components/Add/AddPanel.vue?8507","webpack:///./src/components/Add/ElementsList.vue?ce5c","webpack:///./src/components/Add/WebsiteDialog.vue?eab9","webpack:///./src/components/Add/WebsiteDialog.vue","webpack:///./src/components/Add/WebsiteDialog.vue?350d","webpack:///./src/components/Add/WebsiteDialog.vue?13bd","webpack:///./src/components/Add/ElementsList.vue?d777","webpack:///./src/components/Add/ElementsList.vue?4303","webpack:///./src/components/Add/ElementsList.vue?c035","webpack:///./src/components/Add/library/DesignLibraryModal.vue?1fab","webpack:///./src/components/Add/library/DesignLibrarySkeleton.vue?c229","webpack:///src/components/Add/library/DesignLibrarySkeleton.vue","webpack:///./src/components/Add/library/DesignLibrarySkeleton.vue?ee34","webpack:///./src/components/Add/library/DesignLibrarySkeleton.vue?1670","webpack:///./src/lib/design-library/design-library.ts","webpack:///./src/components/Add/library/DesignLibrarySidebar.vue?2a66","webpack:///./src/components/Add/library/DesignLibrarySidebar.vue?053d","webpack:///./src/components/Add/library/DesignLibrarySidebar.vue?9a06","webpack:///./src/components/Add/library/DesignLibrarySidebar.vue?d418","webpack:///./src/components/Add/library/DesignProviderDropdown.vue?6bc1","webpack:///./src/components/Add/library/DesignProviderDropdown.vue","webpack:///./src/components/Add/library/DesignProviderDropdown.vue?dfff","webpack:///./src/components/Add/library/DesignProviderDropdown.vue?2014","webpack:///./src/components/Add/library/DesignLibraryModal.vue?21e3","webpack:///./src/components/Add/library/DesignLibraryModal.vue?332f","webpack:///./src/components/Add/library/DesignLibraryModal.vue?6f5f","webpack:///./src/components/Reusable/Util/PanelHeader.vue?def2","webpack:///./src/components/Reusable/Util/PanelHeader.vue?22ce","webpack:///./src/components/Reusable/Util/PanelHeader.vue?cff4","webpack:///./src/components/Reusable/Util/PanelHeader.vue?1069","webpack:///./src/components/Add/AddPanel.vue?fe65","webpack:///./src/components/Add/AddPanel.vue?783a","webpack:///./src/components/Add/AddPanel.vue?c855","webpack:///./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel.vue?ea39","webpack:///./src/components/BrowseMode/BrowseModeToggle.vue?8977","webpack:///./src/components/Reusable/Util/PanelHeaderButton.vue?a951","webpack:///./src/components/Reusable/Util/PanelHeaderButton.vue?93ab","webpack:///./src/components/Reusable/Util/PanelHeaderButton.vue?ae2c","webpack:///./src/components/Reusable/Util/PanelHeaderButton.vue?1b20","webpack:///./src/components/BrowseMode/BrowseModeToggle.vue","webpack:///./src/components/BrowseMode/BrowseModeToggle.vue?a67d","webpack:///./src/components/BrowseMode/BrowseModeToggle.vue?3052","webpack:///./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelControlsViewMode.vue?9ba3","webpack:///./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelControlsViewMode.vue","webpack:///./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelControlsViewMode.vue?e6a0","webpack:///./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelControlsViewMode.vue?f263","webpack:///./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelHistoryViewMode.vue?677f","webpack:///./src/types/revisions.ts","webpack:///./src/lib/global-settings/revisions.ts","webpack:///./src/components/Reusable/Revisions/RevisionsList.vue?e1a3","webpack:///./src/components/Reusable/Revisions/RevisionItem.vue?beb6","webpack:///./src/components/Reusable/Revisions/RevisionItem.vue?905a","webpack:///./src/components/Reusable/Revisions/RevisionItem.vue?b488","webpack:///./src/components/Reusable/Revisions/RevisionItem.vue?a667","webpack:///./src/components/Reusable/Revisions/RevisionsList.vue?4f6e","webpack:///./src/components/Reusable/Revisions/RevisionsList.vue?b49c","webpack:///./src/components/Reusable/Revisions/RevisionsList.vue?b86c","webpack:///./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelHistoryViewMode.vue","webpack:///./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelHistoryViewMode.vue?eed8","webpack:///./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelHistoryViewMode.vue?f5c1","webpack:///./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel.vue?f944","webpack:///./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel.vue?31d4","webpack:///./src/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel.vue?646a","webpack:///./src/components/Settings/Selectors/SelectorsPanel.vue?f598","webpack:///./src/components/Settings/Selectors/ManageSelectors.vue?b2bd","webpack:///./src/components/Settings/Selectors/AddSelector.vue?6199","webpack:///./src/components/Settings/Selectors/AddSelector.vue?ed17","webpack:///./src/components/Settings/Selectors/AddSelector.vue?0a17","webpack:///./src/components/Settings/Selectors/AddSelector.vue?140f","webpack:///./src/components/Settings/Selectors/SelectorsPanelHistoryViewMode.vue?1fe9","webpack:///./src/lib/selectors/revisions.ts","webpack:///./src/components/Settings/Selectors/SelectorsPanelHistoryViewMode.vue","webpack:///./src/components/Settings/Selectors/SelectorsPanelHistoryViewMode.vue?3cb0","webpack:///./src/components/Settings/Selectors/SelectorsPanelHistoryViewMode.vue?4007","webpack:///./src/components/Settings/Selectors/ManageSelectors.vue?5554","webpack:///./src/components/Settings/Selectors/ManageSelectors.vue?d9ba","webpack:///./src/components/Settings/Selectors/ManageSelectors.vue?1f81","webpack:///./src/components/Settings/Selectors/EditSelector.vue?5994","webpack:///./src/components/Settings/Selectors/EditSelector.vue?0839","webpack:///./src/components/Settings/Selectors/EditSelector.vue?0be1","webpack:///./src/components/Settings/Selectors/EditSelector.vue?ac71","webpack:///./src/components/Settings/Selectors/SelectorsPanel.vue?8b83","webpack:///./src/components/Settings/Selectors/SelectorsPanel.vue?6c04","webpack:///./src/components/Settings/Selectors/SelectorsPanel.vue?f177","webpack:///./src/components/Structure/StructurePanel.vue?a27a","webpack:///./src/lib/structure-panel-drag/util.ts","webpack:///./src/lib/structure-panel-drag/get-new-node-position.ts","webpack:///./src/components/Structure/StructurePanel.vue?5bc4","webpack:///./src/components/Structure/StructurePanel.vue?f647","webpack:///./src/components/Structure/StructurePanel.vue?3866","webpack:///./src/components/HistoryAndRevisions/HistoryAndRevisionsPanel.vue?3177","webpack:///./src/components/HistoryAndRevisions/History/History.vue?0c3b","webpack:///./src/components/HistoryAndRevisions/History/SnapshotItem.vue?9089","webpack:///./src/components/HistoryAndRevisions/History/SnapshotItem.vue?d223","webpack:///./src/components/HistoryAndRevisions/History/SnapshotItem.vue?c196","webpack:///./src/components/HistoryAndRevisions/History/SnapshotItem.vue?3286","webpack:///./src/components/HistoryAndRevisions/History/History.vue?9ddb","webpack:///./src/components/HistoryAndRevisions/History/History.vue?74c4","webpack:///./src/components/HistoryAndRevisions/History/History.vue?a708","webpack:///./src/components/HistoryAndRevisions/Revisions/Revisions.vue?7cb8","webpack:///./src/components/HistoryAndRevisions/Revisions/Revisions.vue?f8d9","webpack:///./src/components/HistoryAndRevisions/Revisions/Revisions.vue?4966","webpack:///./src/components/HistoryAndRevisions/Revisions/Revisions.vue?eabf","webpack:///./src/components/HistoryAndRevisions/HistoryAndRevisionsPanel.vue?b79a","webpack:///./src/components/HistoryAndRevisions/HistoryAndRevisionsPanel.vue?962f","webpack:///./src/components/HistoryAndRevisions/HistoryAndRevisionsPanel.vue?733b","webpack:///./src/components/Reusable/AppLayout/AppLayoutBodyPanelArea.vue?d092","webpack:///./src/components/Reusable/AppLayout/AppLayoutBodyPanelArea.vue?4dc5","webpack:///./src/components/Reusable/AppLayout/AppLayoutBodyPanelArea.vue?16e5","webpack:///./src/components/Reusable/AppLayout/AppLayoutBodyPanelArea.vue?fd70","webpack:///./src/components/Builder/SidebarPanels.vue","webpack:///./src/components/Builder/SidebarPanels.vue?5a29","webpack:///./src/components/Builder/SidebarPanels.vue?9e63","webpack:///./src/components/Reusable/AppLayout/AppLayout.vue?c708","webpack:///./src/components/Reusable/AppLayout/AppLayout.vue?ed31","webpack:///./src/components/Reusable/AppLayout/AppLayout.vue?8893","webpack:///./src/components/Reusable/AppLayout/AppLayout.vue?d618","webpack:///./src/components/Reusable/AppLayout/ClosingConfirmations.vue?a5a7","webpack:///./src/components/Reusable/AppLayout/ClosingConfirmations.vue","webpack:///./src/components/Reusable/AppLayout/ClosingConfirmations.vue?fef3","webpack:///./src/components/Reusable/AppLayout/ClosingConfirmations.vue?e664","webpack:///./src/components/UI/TemplateDialog.vue?4fd9","webpack:///./src/components/UI/TemplateDialog.vue","webpack:///./src/components/UI/TemplateDialog.vue?fa17","webpack:///./src/components/UI/TemplateDialog.vue?fd05","webpack:///./src/components/UI/InvalidPostDialog.vue?1dfc","webpack:///./src/components/UI/InvalidPostDialog.vue","webpack:///./src/components/UI/InvalidPostDialog.vue?10fe","webpack:///./src/components/UI/InvalidPostDialog.vue?dfa6","webpack:///./src/components/Builder/BuilderLayout.vue?3807","webpack:///./src/components/Builder/BuilderLayout.vue?d2e2","webpack:///./src/components/Builder/BuilderLayout.vue?e1ad","webpack:///./src/components/UnrecoverableErrors.vue?7946","webpack:///./src/components/UnrecoverableErrors.vue?63cc","webpack:///./src/components/UnrecoverableErrors.vue?92af","webpack:///./src/components/UnrecoverableErrors.vue?4b58","webpack:///./src/Builder.vue","webpack:///./src/Builder.vue?a98d","webpack:///./src/Builder.vue?f7c2","webpack:///./src/BrowseMode.vue?10d2","webpack:///./src/components/BrowseMode/BrowseModeSidebarPanels.vue?9d84","webpack:///./src/components/BrowseMode/BrowseModeSidebarPanels.vue","webpack:///./src/components/BrowseMode/BrowseModeSidebarPanels.vue?aacb","webpack:///./src/components/BrowseMode/BrowseModeSidebarPanels.vue?fa1f","webpack:///./src/components/BrowseMode/BrowseModeSave.vue?ed08","webpack:///./src/components/BrowseMode/BrowseModeSave.vue","webpack:///./src/components/BrowseMode/BrowseModeSave.vue?1160","webpack:///./src/components/BrowseMode/BrowseModeSave.vue?4dda","webpack:///./src/BrowseMode.vue?7eae","webpack:///./src/BrowseMode.vue?cd84","webpack:///./src/BrowseMode.vue?722e","webpack:///./src/App.vue?4ceb","webpack:///./src/App.vue?439c","webpack:///./src/App.vue?69b8","webpack:///./src/main.ts","webpack:///./src/components/Reusable/Revisions/RevisionItem.vue?a475","webpack:///./src/components/ElementStudio/ElementStudioAction.vue?c6d8","webpack:///./src/components/Add/ElementsList.vue?18a0","webpack:///./src/components/Reusable/GlobalBlockDialog.vue?1be1","webpack:///./src/components/Reusable/GlobalBlockDialog.vue","webpack:///./src/components/Reusable/GlobalBlockDialog.vue?e1a0","webpack:///./src/components/Reusable/GlobalBlockDialog.vue?906b","webpack:///./src/components/ElementStudio/ElementStudioDefaultProperties.vue?a5ce","webpack:///./src/components/ElementStudio/ElementStudioDefaultProperties.vue?6c70","webpack:///./src/components/ElementStudio/ElementStudioDefaultProperties.vue?dd12","webpack:///./src/components/ElementStudio/ElementStudioDefaultProperties.vue?f539","webpack:///./src/components/ElementStudio/ElementStudioDropdownOptions.vue?3309","webpack:///./src/components/UI/StandardButton.vue?c122","webpack:///./src/components/Settings/Preferences/CustomFonts/components/FontFamily.vue?4908","webpack:///./src/components/Settings/Preferences/EmptyStatePreferences.vue?0df3","webpack:///./src/components/Reusable/Util/PanelHeaderButton.vue?91bf","webpack:///./src/components/Builder/TopBar/BuilderTopBar.vue?ffc6","webpack:///./src/types/copy-paste.ts","webpack:///./src/lib/copy-paste/element.ts","webpack:///./src/lib/copy-paste/copy-paste.ts","webpack:///./src/components/Settings/Preferences/CustomFonts/CustomFontFamilies.vue?adeb","webpack:///./src/components/HistoryAndRevisions/History/History.vue?a762","webpack:///./src/components/ElementStudio/ElementStudioTabsAndPanels.vue?546c","webpack:///./src/components/Settings/Selectors/ManageSelectors.vue?0803","webpack:///./src/components/HistoryAndRevisions/History/SnapshotItem.vue?3c85"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","expandOrCollapseAllNodes","tree","expand","node","acc","id","root","expandNodesToShowActiveElement","activeElementId","activeNode","structurePanelNodeIsCollapsed","nodeId","structurePanelNodesExpandedState","structurePanelNodeIsExpanded","undefined","render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","childElement","attrs","depth","staticRenderFns","class","currentlyDragging","element","activeClass","style","on","activateElement","children","shouldShowChildrenNodes","$event","stopPropagation","toggleChildren","_e","editingFriendlyName","baseElement","uiIcon","friendlyNameInputValue","elementName","enableEditingFriendlyName","_v","_s","ref","domProps","updateFriendlyName","target","type","indexOf","_k","keyCode","showElementNameFallback","disableEditing","noop","isDraftSection","isShowingIdsInStructurePanel","showContextMenu","duplicate","remove","nodeIndentAmount","$options","components","ChildStructureNodes","default","duplicateElementAndActivateIt","e","setOnStructurePanelRightClickMenuState","elementId","position","x","clientX","y","clientY","deleteElement","newStructurePanelNodesExpandedState","setStructurePanelNodesExpandedState","$refs","friendlyNameInputRef","focus","select","friendlyName","unthrottledPropertyChanged","path","meta","snapshotLabel","trim","indentAmt","marginLeft","width","left","currentlyDraggingCanvasElementId","settings","showElementIdInStructurePanel","properties","ElementIcon","Icon","StructureContextMenu","component","StructureNode","maybeQueryClipboardPermission","queryOpts","allowWithoutGesture","navigator","permissions","query","state","getClipboardStatus","permission","secure","isSecureContext","fallbackWriteToClipboard","text","textArea","document","createElement","top","classList","add","body","appendChild","execCommand","err","removeChild","isHTMLInputElement","nodeName","isTextField","nonTextInputs","includes","contentEditable","documentHasTextSelection","doc","selection","defaultView","getSelection","range","rangeCount","getRangeAt","collapsed","documentHasSelection","activeEl","activeElement","fpJsonParseTypesafe","jsonWhichMightBeInvalid","ioTsType","decode","scopedSlots","_u","fn","_t","proxy","model","callback","$$v","shouldShow","expression","nativeOn","copyElement","canPasteElement","pasteElement","canPasteElementProperties","pasteElementProperties","canSaveAsGlobalBlock","openSaveGlobalBlockDialog","closeGlobalBlockDialog","saveGlobalBlockDialog","clipboardDialog","menuState","$emit","onStructurePanelRightClickMenuState","GlobalBlockDialog","Dropdown","VDivider","VList","VListItem","VListItemTitle","defaultValue","repeaterOptions","updateDefaultElements","repeaterIndex","index","slug","elementsAvailableForThisElementNestingType","updatePath","canHaveChildren","defaultProperties","canImport","importChildren","options","defaultTitle","titleTemplate","buttonName","ElementStudioDefaultElements","newValue","nestingRule","startsWith","transform","map","newChildren","context","keys","elements","filter","parentElement","parentElementSlug","currentElementNestingRule","NiceButton","ElementStudioDefaultProperties","TextInput","Repeater","Accordion","draggable","VAutocomplete","interfaceState","leftSidebarPanelState","onIframeLoaded","templateId","templateName","isTemplateFallback","templatesPageUrl","preferencesModalOpen","updatePreferencesModal","keyboardShortcutsHelpModalOpen","updateKeyboardShortcutsHelpModal","rightSidebarPanelState","iframeURL","canvasPreviewWidth","iframeExited","canvasState","iframeMinWidth","currentBreakpoint","handlePreviewWidthChange","handlePreviewWidthChangeWithAdjustmentBar","mountCanvasInIframe","setIframeAsExited","reloadIframe","handleResetPreviewWidth","ELEMENT_NODE","TEXT_NODE","htmlToVNodes","html","functionToRenderChildren","enableContentEditableAndFocus","saveContentEditable","processNodes","nodes","arrayOfNodes","forEach","nodeType","nodeValue","Element","rawAttributes","attributes","tag","attsObj","contentEditableEvents","classString","styleString","rawAttribute","item","attributeName","dblclick","blur","innerHTML","hasChildNodes","childNodes","domParser","DOMParser","decodedHtml","parseFromString","serializedXml","XMLSerializer","serializeToString","xmlWithoutBodyTag","replace","documentElement","PostGeneratedCssFilePathsV","globalSettingsCssFilePath","globalSelectorsCssFilePath","defaultCssForAllElementsFilePath","postCssFilePath","postDefaultsCssFilePath","PostAssetsWithoutDependenciesV","postsGeneratedCssFilePaths","PostAssetsV","dependencies","SsrNodeV","debounceTimeoutTable","promiseDebounce","exec","interval","args","clearTimeout","setTimeout","resolve","Promise","serverSideRender","elementSlug","parentProperties","makeWordPressAjaxRequestFunction","action","overrideAjaxUrl","dataToPost","triggeringDocument","documentMeta","decoder","canAddElement","openAddPanel","preventDefault","hasFullAccess","addColumns","_m","staticStyle","numberOfColumns","columnWidths","columnProperties","columnWidth","columnWidthSanitized","set","number","unit","transaction","addMultipleNodes","parentId","excludedScripts","rerunAllScriptsInCanvasDocumentBody","canvasDocument","Breakdance","canvas","allScripts","querySelectorAll","script","find","excludedScript","toLowerCase","src","newScript","cloneScriptNode","querySelector","scriptNode","newScriptNode","Array","from","attr","setAttribute","emptyHtmlFromSsrMessage","ssrErrorMessage","requiredPluginsNotAvailableMessage","requiredPlugins","join","addDependenciesToHeadDebounced","debounce","isActive","uniqueId","v4","ssrInnerHtml","oldSsrParentProperties","ssrParentProperties","oldTwigProps","dragMouseStartX","dragMouseStartY","easyEvent","h","RootTag","rootTag","isEmptyColumns","htmlId","activateAndMaybeStartDrag","disableDefaultDrag","maybePreventDefault","processedTemplate","ssr","ssrValueOrMessage","isEmptyContainer","parentProps","shouldRenderContentAsHtml","contentEditablePropertyPath","arrayOfChildVNodes","mousedown","dragstart","click","__render","shouldSsr","isEqual","maybeRerenderFromServer","refreshSsr","setRefreshSsrElementId","runActionsAfterSsr","updateSsrDependenciesAndStyles","twigProps","run","onBeforeDeletingElement","_parentId","onAfterDeletedElement","deletedElementNodeType","parentIdOfDeletedElement","transactionKey","onMountedElement","setElementUpdatingState","isUpdating","errors","error","log","message","msg","ssrNode","dependsOnGlobalScripts","maybeRerunAllScriptsInCanvasDocumentBody","addInlineScriptsAsUnique","generateElementsCSS","internalDependenciesWithoutInlineScripts","deps","inlineScripts","tags","css","breakpoints","cssTemplate","propertyPathsToWhitelistInFlatProps","elementChildrenCount","defaultCss","all","loadDependencies","areThereNoOtherElementsOfThisType","elementsExternalAttrsDepsAndActions","dynamicDataCache","loading","cachedDynamicData","dynamicShortcodes","uncachedDynamicShortcodes","dynamicShortcode","newDynamicData","updateDynamicDataCache","isThereSomethingToPreview","previewedItem","attribute","template","String","propertyPath","rawValue","behaviorModeEnabled","isDragAndDropEnabled","elementsToIgnore","currentElement","tagName","elementWithContentEditable","event","elementsToPrevent","selector","isAChild","some","el","closest","matches","canDrag","dragging","removeDragListeners","removeAll","mouseX","mouseY","Math","abs","setCanvasElementDraggedId","editableElement","dataset","maybeDynamicData","elementValueIsDynamic","field","elementIsAlreadyActive","getAttribute","setContentEditableElementId","addEventListener","handleKeydownInsideContentEditable","pasteWithoutFormatting","removeEventListener","lastElement","textAreaWithTargetInnerHtml","throttledPropertyChanged","forElementBasingOnChangedStorePropertyPath","CHANGE","paste","clipboardData","getData","nl2br","code","ctrlKey","metaKey","elementNestingRuleType","isContainer","sharePropsWithSSRChildren","props","design","elementPropertiesAsJsonString","hasRequiredPluginsAndTheyAreAvailable","isModifiedPropertyWhitelistedForSsrOrThereIsNoWhitelist","lastModifiedElementProperty","propertyPathsToSsrElementWhenValueChanges","refreshSsrElementId","availablePlugins","requiredPlugin","availableWordpressPlugins","disableNoticeForEmptySSRElements","isElementUpdating","elementSelector","uniqueSlug","uniqueClassName","postId","elementsThatAreUpdating","globalSettings","customTag","htmlTag","pathToControl","advanced","entries","dynProps","classes","baseClassName","bypassPointerEvents","additionalClasses","classRule","include","atts","rule","renderAttributeValue","userAttSettings","userAtt","cleanAtts","builderBehaviorId","builderBehaviorElementId","deep","immediate","typographyPresets","watch","hideClass","directives","rawName","dragStart","makeDragCallback","dragHandleBehavior","elementPositionAndSize","mouseDragInfo","combinatorFunction","a","b","xProperty","controlPath","lastXChange","yProperty","height","lastYChange","imageDragHandleBehavior","dragDotsWrapperPositionStyle","display","dragCallback","unsubscribeFromStorePositionDotsWrapper","positionDragDotsWrapper","$store","subscribe","nextTickPositionDragDotsWrapper","startX","startY","currentX","currentY","totalXChange","totalYChange","dragEnd","toString","bar","isDragging","clickedHandle","location","throttledDragging","unsubscribeFromStorePositionWrapper","wrapperPositionStyle","_elementPositionAndSize","_mouseDragInfo","_handle","console","warn","handle","setDragMixinDragging","dragStartCallback","requestAnimationFrame","_draggingFunc","positionWrapper","dragEndCallback","nextTickPositionsWrapper","isHovering","getSpacingPropertyValue","cssProperty","valInPx","getCurrentValueInPx","fullPath","fullPathToSpacingProp","currentValue","parseInt","currentUnit","computedStyle","styleValue","getPropertyValue","breakpointSlug","resizeObserver","ResizeObserver","onActiveElementResize","activeElementPositionAndSize","valueAtMomentOfElementPositionAndSizeCalculation","activeElementDomNode","intervalHandle","setInterval","updateActiveElementPositionWhenItsPresent","disconnect","observe","box","clearInterval","affectedPropertyPath","isActiveBar","barStyle","opacity","positionAndSize","valueMin5","cursor","originalValue","bars","pop","fullPathToSpacingProperty","forElementByTreeNodeId","activeElementSpacingBars","spacingBars","SpacingBar","resizedWidths","siblingWidth","resizedWidth","right","getOnCanvasColumnWidthInPercent","column","columnWidthInPx","getOnCanvasColumnWidthInPixels","columnParentWidthInPx","getOnCanvasColumnParentWidthInPixels","columnWidthInPercent","calcNewPercentWidthForColumn","pixelsToAdd","currentWidthInPx","columnWidthPx","columnParentWidthPx","newColumnWidthInPercent","columnPosition","columnParent","columnParentPosition","getOnCanvasColumnMinWidthBasedOnPadding","paddingLeft","paddingRight","Number","isNaN","minColumnWidthInPercent","ceil","DEFAULT_MIN_WIDTH","resizeTwoColumnsAndCommit","columns","columnToResizeIndex","newWidth","adjustSibling","siblingToResizeIndex","siblingToResize","columnToResize","columnMinWidth","siblingMinWidth","MIN_WIDTH","max","unavailableWidth","widthOnDragStart","startTransaction","activeColumn","columnIndex","adjustPx","toFixed","endTransaction","VERTICAL_STACKING_PATH","FIFTY_FIFTY_PATH","verticalStacking","fiftyFifty","columnsAreNotResizeableAtBaseBreakpoint","titlebarClasses","openContextMenu","elementTitle","activateParent","hasSSr","updateCurrentlyDraggingElementId","lastSubmittedDrag","canvasElementDraggedId","maybeParent","setCanvasDragPlaceholderPosition","nodeIndex","onlyShowTargetOutline","canvasDragPlaceholderPosition","nodeMouseIsOverId","nodeMouseIsOver","dropTargetNode","nestingPermissions","dropTargetNodeId","foundNode","setDropPosition","handleDragWhenMouseIsOverTheDropTargetButNotOverAChildElementOfTheDropTarget","handleDragWhenMouseIsOverAChildOfTheDropTarget","childOfDropTargetThatMouseIsReallyOver","reduce","moveElement","endCanvasElementDrag","mouseOverNodeId","draggedNodeId","placeholderOnly","stackingStyle","insertBeforeOrAfter","nodesInDropTarget","dragPlaceholderIndex","findIndex","dropPlacementIndex","setPlaceholder","dropTargetId","beforeOrAfter","draggedElementId","droppedOnElementId","_mouseOverNodeId","rects","min","distance","nearestRect","r1","r2","xCenter","yCenter","leftOrRight","aboveOrBelow","nodesInDropTargetIds","placeholderPosition","movePlaceholder","dropPosition","dropTarget","maybeChildWherePlaceholderIs","maybeChildBeforeWherePlaceholderIs","maybeChildAFterWherePlaceholderIs","movedForwards","movedBackwards","getRightClickMenuPositionInCanvas","canvasX","canvasY","iframe","getElementById","menuElement","getBoundingClientRect","iframeWidth","iframeHeight","getMenuSize","menuWidth","menuHeight","refreshRate","titlebarPositionStyle","calculateStylesAndTitle","setOnCanvasRightClickMenuState","isDraft","activeElementBase","OnCanvasDragHandle","wrapperClassList","shouldShowControls","throttledNextTickPositionWrapper","disableMouseHoverOnMouseLeaveCanvas","setLastHoveredOnCanvasElementId","throttledShowHoverControlsOnMouseMoveCanvas","showHoverControlsOnMouseMoveCanvas","canvasElement","hoveredNodeId","hoveredNode","setHoveredNode","elementX","elementY","elementWidth","elementHeight","isNotDragging","isCanvasElementBeingDragged","isDragMixinDragging","lastHoveredOnCanvasElementId","lastHoveredElement","wrapperStyle","lastModifiedDomElement","calculateWrapperStyles","domElement","contentEditableElement","childWithContentEditable","hideTitleBar","hideHoverControls","observer","observePositionChange","hoverObserver","hoveredElement","destroyObserver","onMutate","mutations","record","MutationObserver","attributeFilter","prefix","NodeContentEditable","DragDots","SpacingBars","ColumnDragSizer","NodeTitlebar","NodeHoverControls","maybeNode","parentNode","widthOrHeightNumber","widthOrHeightValue","overNode","elementIdPresent","elementIdToSaveAsGlobalBlock","disabled","status","onchange","isAppleDevice","test","platform","Dialog","handleRightClickInCanvas","closeRightClickMenuIfClickHappensOutsideRightClickMenu","capture","closestMenu","onCanvasRightClickMenuState","ClipboardDialog","RightClickMenuItem","DragPlaceholder","RightClickMenu","rootElement","canvasKey","setCanvasState","breakdance","isAddElementBeingDragged","cssSelectors","EmptyContainer","BuilderElement","NodeChrome","CanvasChrome","resetPreviewWidth","currentPreviewWidthIsSetByUser","pxAmount","mouseXChange","lastMouseX","pointerEvents","mainWrapper","adjustPreviewWidth","adjustX","newPreviewWidth","previousPreviewWidth","previewWidth","alreadyAtMaximumWidth","offsetWidth","availableCanvasSize","defaultPreviewWidth","iframeWrapperPosition","_g","minWidth","testId","$listeners","active","VBtn","ForeignDocumentTypeLabels","handleOverlayMouseLeave","foreignDocumentBuilderUrl","openBuilderUrl","foreignDocumentTitle","px","v","hoveredForeignDocumentDomElement","hoveredForeignDocumentDomElementCoords","isScrolling","isScrollingCleanupTimerId","throttledHandleIframeScroll","handleIframeScroll","throttledHandleWatchedElementMouseMove","handleWatchedElementMouseMove","addEventListenersToIframeDocument","addEventListenersToWatchedElements","removeEventListenersFromIframeDocument","removeEventListenersFromWatchedElements","iframeDocument","elementsToWatch","handleWatchedElementMouseLeave","getCoords","childElementCount","child","firstElementChild","setIsScrolling","setHoveredForeignDocumentDomElement","currentTarget","$el","contains","relatedTarget","builderUrl","title","breakdanceForeignDocumentBuilderUrl","documentType","breakdanceForeignDocumentType","documentTitle","breakdanceForeignDocumentTitle","isThereHoveredElementAndItsCoords","this$1","iframePreviewWidth","handleReloadWanted","iframeUrl","iframeId","handleIframeLoaded","CANVAS_PADDING","contentWindow","onunload","setAvailableCanvasSize","logError","iframeWrapper","setIframeWrapperPosition","rect","padding","overflow","scaleToFit","scaledStyles","scaleFactor","iframeState","StandardButton","Loading","PreviewWidthAdjustmentHandle","foreignDocumentsOverlayVueApp","canvasApp","changePreviewWidthMutation","previewWidthInPx","changePreviewWidthWithAdjustmentBar","selectBaseBreakpoint","leavingIframeOnPurpose","setLeavingIframeOnPurpose","frames","reload","canvasEl","overlayMountpoint","store","vuetify","openDocument","docInfo","confirm","open","loadedIframe","contentDocument","registerAllStoreActions","canvasVueInstanceMountpoint","$mount","mountForeignDocumentsOverlayVueAppInIframe","unbindClickEventOnInnerIframeLinks","allLinks","linksInsideBreakdanceCanvas","linksExcludingTheOnesInBreakdanceCanvas","link","$destroy","documentSpecificNeededUrls","URL","searchParams","append","IframeWrapper","Canvas","ForeignDocumentsOverlay","isElementPropertiesOpen","toggleElementProperties","isStructurePanelOpen","toggleStructurePanel","saveInProgress","save","saveToWordPressWithErrorsLoggedToUiStore","setUnsavedChangesPresent","ignore","markCurrentGlobalSettingsAsUntouched","markCurrentSelectorsAsUntouched","KEYBOARD_SHORTCUTS","CMD_A","CMD_B","CMD_S","CMD_Z","CMD_SHIFT_Z","CMD_C","CMD_V","CMD_D","ESC","BACKSPACE","DELETE","CMD_OPTION_R","CMD_SLASH","CMD_SHIFT_SLASH","CMD_QUESTION","CMD_SHIFT_S","register","dispatchEvent","CustomEvent","cancelable","selectNextBreakpoint","setKeyboardShortcutHelpModalOpen","setElementStudioPowerUser","unbind","unsubscribe","Event","mutationPayload","shouldMutationBeIgnored","warnIfUnsavedFunction","unsavedChangesPresent","isBase","getDeviceIcon","getDeviceIconRotation","breakpoint","changeBreakpoint","label","maxWidth","breakpointId","icon","rotate","IconButton","VListItemContent","VListItemSubtitle","canUndo","undo","canRedo","redo","borderLeft","borderRight","TopBarSection","nothingToPreviewAndNoSearchQueryAndNotLoading","currentPreviewedItem","isLoading","search","handleSearch","url","setPreviewedItem","previews","fetchTemplatePreviewableItems","resultKey","debouncedSearchContentInWp","searchContentInWp","newItem","setLastModifiedElementProperty","flushDynamicDataCache","searchValue","templatePreviewableItems","setTemplatePreview","templatePreview","previewableItems","VCard","VTextField","currentDocument","typeLabel","titleLabel","getDocumentUrlFromId","availableDocuments","fetchAvailableDocuments","newDocumentId","setAvailableDocuments","anySettingsPanelsOpen","openGlobalSettingsPanel","openSelectorsPanel","openHistoryAndRevisionsPanel","openPreferencesModal","elementsLoadingState","toggleElementStudio","setPreferencesModalOpen","setActiveSelectorName","panelState","elementStudioOpen","backToAdmin","backToFrontend","backToWordPressUrl","isAddSectionOpen","toggleAdd","VAppBar","TopBar","Exit","AddButton","SettingsDropdown","BreakpointsSelection","Save","UndoRedo","PreviewContentChooserDialog","DocumentChooser","VSpacer","handleClickOutside","handleChangeTab","tab","currentTab","fontFamiliesTab","customFontFamilies","updateCustomFontFamilies","customBreakpointsTab","customBreakpoints","updateBreakpoints","uiSettingsTab","function","applyChanges","inProgress","internalValue","breakpointsEdited","editingBreakpointId","updateOrAddBreakpoint","deleteBreakpoint","edit","showAddForm","openAddBreakpointForm","toggleAddBreakpointForm","newBreakpointLabel","addBreakpoint","isEditing","setDefaultPreviewWidth","cancel","enableEditing","mediaQueryString","deleteDialog","show","cancelText","discardIsEnabled","discardIsInProgress","discardText","saveIsEnabled","saveIsInProgress","actionText","VAlert","VCardActions","VCardText","VCardTitle","VDialog","newBreakpoint","DropdownInput","ConfirmDialog","inserted","normalizedBreakpointLabel","newBreakpointId","newBreakpoints","EditBreakpoint","EmptyStatePreferences","hideSaveButton","EditBreakpoints","PreferencesPanel","isFreeMode","content","feature","fontFamily","family","openedFontIndex","openFont","deleteFontFamily","updateFontFamily","toggleAddForm","saveNewFontFamily","validForm","validFontFamily","showCssForm","toggleCssForm","saveCssUrl","validCssForm","isValidUrl","cssUrl","saveFontFile","fontFile","file","getFontFamiliesFromCssFile","sendFontsToBackend","newFontData","newFonts","fonts","font","unshift","setFonts","toggleFaces","hasExternalCssUrl","faces","editFontFamily","fallbackString","editFallbackString","fontFace","fontFaceIndex","existingFontFaces","updateFontFace","deleteFontFace","newFontFileSuccessfullyUploaded","isFontFaceUnique","fileUrl","fileName","weight","weights","validateWeight","updateWeight","validateStyle","updateStyle","CSS_WEIGHTS","files","valueFormats","format","form","validate","newWeight","newStyle","w","VForm","VRadio","VRadioGroup","VSelect","handleFiles","fileReader","FileReader","onloadend","arr","Uint8Array","subarray","header","extension","split","isWoff","isWoff2","readAsArrayBuffer","FileUpload","newFontFace","fontFileToBlankFontFace","newFontFaces","newFontFaceFormats","indexOfMatchingFontFace","_","FontFileUpload","UpdateFontFace","fallbackStringHasBeenEdited","isOpen","newFallbackString","newCssUrl","FontFaces","TextField","fontFamiliesResponse","fontFamilyResponse","indexOfFontFamilyMatchingIds","fontId","cssName","fontRegistrationData","newOpenFontIndex","newFontFamily","fontIndex","reset","cssForm","fontIDAlreadyPresent","parsedUrl","protocol","subscriptionMode","ProOnlyAlertBox","AlertBox","FontFamily","autoScrollEnabled","setAutoScrollEnabled","isScaledToFit","setScaleToFit","isDarkMode","toggleTheme","showExperimentalElements","setShowExperimentalElements","setDisableNoticeForEmptySSRElements","setIsShowingIdsInStructurePanel","panel","panelPositionsAsItems","mandatory","setPanelPosition","popoutPosition","popoutPositionItems","setPopoutPosition","arePanelPositionsDefault","resetUiPanelPositionsToDefault","panelsState","getPanelsInitialState","panels","setUiSettings","theme","disable","maybeSettingsAsJsonString","setSettings","ButtonBarInput","ToggleInput","VSwitch","hasUnsavedChanges","newPrefs","preferences","newCustomFontFamilies","customFonts","checkForUnsavedChanges","exit","$nextTick","setPreferences","customFontFamiliesPanel","customBreakpointsPanel","CustomUiSettings","CustomFontFamilies","CustomBreakpointsPanel","VProgressCircular","VTab","VTabs","getKeyboardShortcutValue","keyboardShortcuts","isMacLike","keyCombo","toUpperCase","adjustWidth","isProdEnv","activeItemType","updateData","updateWidth","updateActiveItemType","_b","$attrs","onDragging","draggingFunc","ElementStudioWidthAdjustmentBarAdjustmentHandle","saveLocations","itemType","saveNewItem","showNewItemDialog","itemsSlug","availableItemsSearch","openItem","handleNewItem","itemName","directoryPath","canSaveOrIsAdvancedUser","saveOverwrite","onlyForAdvancedUsers","saveLocation","showSaveLocation","saveAs","deleteItem","closeItem","switchMode","closePanel","closeItemOrPanelDialog","discardChanges","nameIsValid","newItemName","newItemSaveLocation","closeNewItemDialog","newItemDialog","newName","showAdvancedFeatures","isElementStudioPowerUser","mainAppSaveButtonClicked","itemSlug","bypassPsalm","ElementStudioSaveNewDialog","currentlyEditingElement","elementsSlug","openElement","saveOverride","resetCurrentlyEditingElement","updateElement","available","saveNewMacro","showNewMacroDialog","contextMenu","handleCreateMacro","updateTab","isValidItemName","updateElementName","updateSlug","className","htmlClassNameRule","updateClassName","elementCategories","cleanElement","category","updateElementValue","badgeColors","badge","backgroundColor","textColor","defaultTag","htmlTags","pathsToAllControls","useLocalIcon","updateUseLocalIcon","updateUiIcon","order","updateUiOrder","containerRestrictedElements","restrictedToBeADirectChildOf","isArray","elementsThisElementIsAllowedToBeInsideOf","restrictedToBeADescendantOf","allElementSlugs","notAllowedWhenNodeTypeIsPresentInTree","elementType","requiredPluginItems","proOnly","experimental","addPanelRules","alwaysHide","allowedPostTypes","controls","elementClass","defaultChildren","actions","actionsAccordionState","toggleActionAccordion","sectionName","handleDrag","control","section","addSection","addPreset","handlePaste","elementStudioData","saveNewPreset","showNewPresetDialog","accordionState","isPresetSection","toggleAccordion","codeHelpOpen","keyToRerenderCodeHelp","twigParentPath","isParentARepeater","updateLabelAndSlugOnFocusOut","presetSectionSlug","availablePresetSections","updatePresetSectionSlug","controlTypes","updateControlType","isSection","shouldControlValueBeAddedInAllBreakpoints","updatePropertyPathsToWhitelistInFlatProps","autofocus","updateOptions","shouldControlValueCauseSsr","updatePropertyPathsToSsrElementWhenValueChanges","alertBoxOptions","datePickerOptions","_obj","dropdownOptions","updateDropdownItems","updateDropdownItem","buttonBarOptions","size","layout","updateButtonBarOptionsSize","updateButtonBarOptionsLayout","triggerActionsButtonOptions","assign","unitOptions","mediaOptions","videoOptions","rangeOptions","shadowTypes","shadowOptions","updateShadowType","breakpointOptions","textOptions","multiline","updateTextOptionsMultiline","focusPointOptions","mediaSizeOptions","postChooserOptions","iconOptions","colorOptions","updateColorType","dynamicPropertyPath","updateDynamicPropertyPaths","accepts","dynamicPathAcceptsItems","availableDescendantElements","addRegisteredChildrenOptions","addExtraElementsBySlug","updateAddExtraElementsBySlug","codeTypes","codeOptions","language","updateCodeType","variableOptions","updateVariableItems","updateVariableItem","showContentEditableCode","contentEditableHelperCode","isInContentTab","canHaveMediaQueries","enableMediaQueries","updateControlBoolean","enableHover","controlLayouts","updateControlLayout","placeholder","updatePlaceholder","keywordsValue","updateKeywords","condition","updateConditions","hideForElements","updateHideForElements","deleteHideForElements","sectionLayouts","sectionOptions","updateSectionLayoutType","isSpacingBarEnabled","updateSpacingBar","copy","handleReplace","handleMakePreset","deleteControl","addControl","rules","clearable","inputOptions","newVal","isNumber","parseFloat","close","codeForControl","textToCopy","shouldCopy","input","$slots","wrapPathWithMustaches","twigPath","toggleCode","dropdownOrButtonBarCode","items","ifOrElseIf","multiselectCode","shadowCode","isText","iconCode","repeaterCode","focusPointCode","presetsWithMacroOfTheSameNameAndBasicCodeHelp","presetSectionCode","presetType","preset","codeForControls","trigger_action_button","border_complex","border_radius","breakpoint_dropdown","button_bar","dropdown","color","gradient","shadow","repeater","inline_repeater","richtext","toggle","spacing_complex","wpmedia","multiple","video","focus_point","multiselect","font_family","global_colors","global_block_chooser","typography","custom_typography","typography_preset","post_chooser","element_screenshot","slider","add_registered_children","builder_behavior","alert_box","pro_only_alert_box","date_picker","time_picker","api_key_input","media_size_dropdown","wp_query","conditional_form_field","wrapWithCondition","controlConditions","ifCondition","conditionsAcc","conditions","andCondition","inRepeater","getHelperCodeForControl","codeHelpFromPreset","codeHelp","helperCode","hoverCode","RegExp","Copyable","defaultNewValue","getBlankCondition","forceDontProcessDefaultNewValueWhenAddingItemsHack","emit","orRepeaterIndex","updateOrCondition","paths","operand","getOperands","updateOperand","getPossibleValues","updateValue","hasMultipleValues","getControl","operands","index1","index2","getPathsToAllControls","pathStartsWith","VCombobox","types","availableTypes","updateTypes","defaultType","updateDefaultType","newOptions","inputClass","step","updateStep","updateMin","updateMax","update","controlSlugs","variable","appendVariableToTitle","galleryMode","updateGalleryMode","galleryMediaPath","mediaControlSlugs","DEFAULT_REPEATER_VALUE","duplicated","newTitleTemplate","VCheckbox","populateWithHtmlTagOptions","populate","updateEnablePopulate","repeaterPaths","updatePopulateValue","possibleValues","fetchDataAction","controlPaths","fetchContextPath","refetchPaths","updateRefetchPaths","updateRefetchPath","updateCondition","dropdownItems","repeatedIndex","iconNames","DEFAULT_POPULATE","newItems","enabled","newCondition","newPopulate","newRefetchPaths","dependency","option","ElementStudioIconsAutocomplete","ElementStudioConditionInput","updateMultiple","enableNever","updateEnableNever","newBreakpointOptions","toggleEnabled","variables","variableItems","fileTypesEnabled","updateEnableFileTypes","acceptedFileTypes","updateType","DEFAULT_MEDIA_OPTIONS","imagePropertyPath","disableSrcset","toggleSrcset","suggestions","updateSuggestions","newSuggestions","getSpacingBarsFromPresetSlug","getSpaceBar","direction","controlType","marginAll","paddingAll","marginY","marginX","paddingY","paddingX","allNotResponsive","postType","showThumbnails","DEFAULT_CHOOSER_OPTIONS","providers","updateProviders","DEFAULT_VIDEO_OPTIONS","styles","updateContent","DEFAULT_OPTIONS","TipTapWrapper","gridMode","updateGridMode","savePresetToServer","filename","getSlugFromNamespaceAndFilename","namespace","toggleControl","newPreset","newSlug","presets","presetSectionFromCurrentSection","newData","presetSections","updateElementStudioData","updateControl","parentPath","newControls","replaceControls","controlAcceptsChildren","clipboard","elementStudio","controlToPaste","copiedControl","pasteControl","copyElementStudioControl","newPresetSectionSlug","newPresetSection","getPresetSection","turnRelativePropPathsToWhitelistInFlatPropsIntoAbsolutePathsAndUpdateElement","turnRelativeDynamicPropPathsIntoAbsoluteAndUpdateElement","newControlSlugArg","relativePropertyPathsToWhitelistInFlatProps","newControlSlug","newPropertyPathsToWhitelistInFlatProps","absolutePathToWhitelistInFlatProps","relativePath","oldAbsolutePathToWhitelistInFlatProps","relativeDynamicPropertyPaths","newDynamicPropertyPaths","dynamicPropertyPaths","absoluteDynamicPropPaths","relativeDynamicPropertyPath","oldAbsoluteDynamicPropPaths","newDynPropPath","dynPropPath","disallowedControlTypes","newType","newControl","controlTypesThatShouldHaveVerticalLayout","optionsPath","newElementSlugs","big","newLayout","newKeywords","keywords","newPlaceholder","newConditions","newLabel","updateElementPropertiesNotTiedToControl","enable","propPath","twigPathWithoutRepeaterIndex","spacingBarPresetSlug","spacingBarsAffectedPropertyPaths","spaceBar","enabledSpaceBar","elementSpaceBar","newSpacingBars","propertyPathIndex","newPropertyPathsToSsrElementWhenValueChanges","parentControl","json","parentType","dynPropPathThatMatchesTwigPath","twigPathForContentEditable","isRepeater","getElementStudioData","capitalize","charAt","disallowedInContent","sort","removeDisallowedControlTypes","getPresetSections","values","ElementStudioHideControlInput","ElementStudioFocusPointOptions","ElementStudioVideoOptions","InlineRepeater","ElementStudioBreakpointOptions","ElementStudioIconOptions","ElementStudioMediaSizeOptions","ElementStudioMediaOptions","ElementStudioPostChooserOptions","ElementStudioDropdownOptions","ElementStudioVariableOptions","ElementStudioRepeaterOptions","ElementStudioRangeOptions","CopyButton","ShittyTextInput","ControlSectionOrControl","TwigCodeHelper","ElementStudioUnitOptions","ElementStudioAlertBoxOptions","updateDependenciesRoot","repeaterIndexRoot","updateDependency","scripts","updateDependencies","jsLocalDependencies","dependencyIsNotLocal","getLocalDependenciesFilesFromWordpress","executeInlineScript","twigVariables","cssLocalDependencies","inlineStyles","builderCondition","conditionInfoOpen","frontendCondition","TagsV","TAGS_AVAILABLE","localDependenciesFiles","localDependencyFiles","setLocalDependenciesFiles","newDependencies","inlineScript","origin","localDepsItems","localDep","fileType","localDependencies","dependencyFile","localDependenciesAsVuetifySelectShape","TextWithChevron","CodeInput","elementArg","getElementWithoutExternalControls","settingsSections","isExternal","actionKey","actionName","updateActions","updateAction","actionInfoOpen","repeaterIndex2","value2","dependencyInfoOpen","runForAllChildren","newActions","newValues","getValueOrDefault","lowerCase","designSections","contentSections","Boolean","updateAttributes","htmlAttributeNameRule","updateName","updateTemplateValue","updatePropertyPathValue","updateRawValue","newAttributeName","newTemplate","validateHtmlAttributeName","updateClasses","newClassName","validateHtmlClassName","looksGood","updateValueForKey","optionsGood","optionsWork","dynamicBehaviorWorks","notes","updateNotes","newBuilderElementProjectManagementValue","newNotes","VTextarea","pathRules","allPaths","updatePropertyPathByIndex","newValueWithNewEntryChangedToEmptyString","newPath","updateElementValuePropPath","allPathsWithDesignAndContent","updateDynamicPropertyPath","getDynamicPathAcceptsItems","newAccepts","updateSpaceBars","updateSpaceBar","cssProperties","newSpaceBar","updateLocationAndProperty","$set","saveNewSpaceBar","newProperty","propertiesLocationsKeyPair","locations","spaceBars","newSpaceBars","ElementStudioSpacingBar","propertyName","ElementStudioSpacingBars","ElementStudioPropertyPaths","ElementStudioDynPropPaths","setTwigMacrosInStoreAndRecompile","twigMacros","setTwigMacros","forceUpdateEntireCanvas","updateStoreActionsThrottled","lodash","nameHasChanged","iconName","savedCssSelection","elementStudioContext","newElement","currentControls","internalElementControls","mergeElementControlsWithExternalControls","presetSection","parentControls","controlTypesToIgnore","contentPaths","designPaths","handleRightClickInCodeInput","selectedText","selectedCss","macroName","macroText","macro","macros","notifications","newMacros","newOrder","safeOrder","newIcon","newUseLocalIcon","newTab","newElementControls","elementWithAllControls","builderElementCategories","k","correctValue","ElementStudioManagePropertyPaths","ElementStudioAttributes","ElementStudioAdditionalClasses","ElementStudio","ElementStudioAction","ElementStudioDependencies","ElementStudioControls","ElementStudioProjectManagement","BLANK_ELEMENT","projectManagement","lastSavedElement","throttledUpdateElement","throttle","newCurrentlyEditingElement","deleteElementFromServer","existingElement","slugChanged","elementSlugToDelete","indexOfElementToDelete","elementToDelete","successCallback","deleteElementFromStore","newStudioElement","activeSaveLocation","updateCurrentlyEditingElement","saveToServer","namespaceArg","word","substring","updateAvailableElementsAndStore","ElementStudioTabsAndPanels","ElementStudioWidthAdjustmentBar","ElementStudioTopbar","ElementStudioItemV","SaveLocationTypesV","ElementStudioSaveLocationV","PresetSectionV","ElementStudioExpectedDataToLoadV","currentlyEditingMacro","macrosSlug","currentMacroName","openMacro","deleteMacro","resetCurrentlyEditingMacro","activeTab","macroData","updateMacroValue","updateMacroName","lastSavedMacro","updateMacroAndRecompileTwigTemplates","newCurrentlyEditingMacro","newMacro","deleteMacroFromServer","deletedMacroSlug","storeIndex","valueIndex","macroToDelete","deleteMacroAndRecompileTwigTemplates","macroSlug","macroSaveLocation","macroString","updateCurrentlyEditingMacro","currentlyEditingPreset","presetsSlug","currentPresetName","openPreset","deletePreset","resetCurrentlyEditingPreset","currentPresetWithoutPresetSlug","presetData","codeHelpValue","codeHelpPlaceholder","updateCodeHelp","presetRelativePropertyPathsToWhitelistInFlatProps","updatePresetSlug","autoRefresh","updateAutoRefresh","lastSavedPreset","reactiveContext","newEditingPreset","correctPath","getCorrectPathForPresetFromContextPath","updateCurrentlyEditingPreset","getParentControlOrControls","sectionSlug","newAutoRefresh","newCurrentlyEditingPreset","getPresetWithRestoredSectionSlug","allElementsWithModifiedPresetUpdated","updateSectionWithCurrentPresetSection","addElements","newSection","filterOutCurrentSection","newPresetArg","presetsIndex","presetSectionsIndex","deletePresetFromServer","deletedPresetSlug","deletedPresetType","allElementsWithDeletedPresetRemoved","presetToDelete","deletePresetAndRecompileTwigTemplates","updatePreset","presetSlug","presetSaveLocation","potentialMacroName","expectedDataToLoad","adjustAmount","ElementStudioPresets","ElementStudioMacros","ElementStudioElements","duplicateElement","badges","ElementBadge","hasSearchParameters","noSearchResults","searchBoxState","clearQuery","controlsFilteredBySearchParams","updateSearchBoxState","editQuery","modifiedOnly","editModified","includeSettings","editSettings","newState","newQuery","modified","SearchFilter","setTab","resetToDefault","savePresetDialogOpen","hasIconSlot","contextMenuX","contextMenuY","hasContextMenuSlot","contextmenu","newPresetName","newPresetScreenshot","exportPreset","savePreset","triggerDownload","blob","Blob","anchor","download","href","webkitURL","createObjectURL","downloadurl","newPresets","presetsForElements","setPresetsForElements","designProps","getControlValue","availableForType","designPropertiesData","screenshotUrl","makePreset","saveToLibrary","clearAndClose","WPMediaInput","resetElementProperties","TabsRow","Tab","SavePreset","defaultAtPath","changeMode","applyPreset","applyPresetToActiveElementIfMatchingTypeOrCreateNewElementOfThatTypeAndThenApplyPreset","addElement","newMode","ControlsTree","PresetsInDesignTab","filterBuilderElementControls","onlyShowModified","searchQuery","regexSearchQuery","match","_filterControls","filterControls","controls_","outcome","flattenAndCount","clearSearch","editingElementControlsTreeContext","searchString","newSearchBoxState","setPanelState","elementPropertiesPanelActiveTab","hasContentControls","hasDesignControls","hasSettingsControls","SearchBox","DesignContentSettingsTabs","DesignTabContent","SearchBoxEmptyState","dynamicProperty","controlPathWithoutRepeaterIndexAndBreakpoint","dynPropPathThatMatchesControlPath","setControlValue","controlPathProbablyWithBreakpointIdAndHoverSuffix","controlsTree","getControls","splittedPath","setAccordionState","accordionPath","getAccordionState","VSheet","VTabItem","VTabsItems","Titlebar","TabsAndControls","BlankSidebarContent","openDesignLibrary","isElementStudioOpen","elementsCount","resetSelectedSearchItemIndex","addSelectedSearchItem","nextOrPreviousSelectedSearchElement","goToSelectedSearchElement","hasSearchParams","advancedSearchDialogOpen","dumpSearchResults","advancedSearchHasDynamicStuff","advancedSearchDropdownItems","advancedSearchLooksGood","advancedSearchOptionsGood","advancedSearchOptionsWork","advancedSearchDynamicBehaviorWorks","elementsInActiveCategory","openCategoriesIndex","chooseCategory","searchResultsCount","selectedSearchElementIndex","elementCategory","categoryLabel","elementIconIsLocal","localeCompare","RawIcon","advancedSearchAvailable","elementsForSearch","nextIndex","scrollToActive","shiftKey","newSearch","scrollTo","isAddPanelOpen","ignoreKeys","newIndex","existingCategoryIndex","categorySlug","scrollIntoView","block","panelContext","results","resultsAfterInternalSearchTool","pm","hasDynamicStuff","SearchInput","AddElement","WebsiteDialog","fullscreen","goHome","selectedProvider","canImportAll","importAll","toggleFullscreen","sidebarItems","onPostSelected","globalSettingsLastImportedFromUrl","toggleImportGlobalSettingsScreen","importGlobalSettings","onProviderLoaded","previewLoaded","elementToPaste","placeToAdd","legalPlaceToAdd","pointerForCreatedNodeId","pasteCopiedElementMutation","placeToAddId","place","placeToAddIndex","pointer","onCreatedElement","treeItems","fuse","threshold","orphans","groupedByTags","filteredItems","VTreeview","provider","chooseProvider","selectedPostId","providerElements","reliesOnGlobalSettings","providerPosts","canvasSize","loadingDesignSetData","loadingExternalGlobalSettings","importGlobalSettingsScreen","unbindListeners","modalOpened","newProvider","oldProvider","getDesignSetData","calculateSizeAfterTransition","handleIframeMessage","setCanvasSize","transitionDuration","wrapper","getElements","importElement","navigatedAway","posts","selectedId","elementsAsString","maybeElements","els","elementAsString","maybeElement","setDesignLibraryModalState","isLocal","designSetData","externalGlobalSettings","setDesignLibrary","designLibrary","errorMessage","setGlobalSettings","setShouldPanelLoadFreshDataIntoStoreOnceOpened","designProviders","designLibraryModalOpen","post","selectedPost","LoadingSpinner","DesignLibrarySidebar","DesignLibrarySkeleton","DesignProviderDropdown","VOverlay","DesignLibraryModal","PanelHeader","ElementsList","viewMode","toggleViewMode","isBrowseModeEnabled","toggleBrowseMode","panelToOpen","PanelHeaderButton","editingGlobalSettingsControlsTreeContext","globalSettingsControlsAndTemplate","throttledGlobalSettingsPropertyChange","VLayout","revisionUiItems","onRevisionSelected","RevisionCommonDataV","date","author","GlobalSettingsRevisionV","GlobalSettingsRevisionsListV","SelectorsRevisionV","selectors","SelectorsRevisionsListV","DocumentRevisionWithJsonTreeV","DocumentRevisionV","DocumentRevisionsDataFromServerV","revisions","unsupported","fetchRemoteGlobalSettingsRevisions","revisionsNotSupportedMessage","revision","revisionData","isSelected","selected","RevisionItem","remoteRevisions","selectedIndex","unsubscribeFromStore","currentUnsavedRevision","loadRemoteRevisions","settingsHasUnsavedChangesPresent","recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch","setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData","moduleName","findSelectedIndexBasedOnStoreDataMatch","currentGlobalSettings","isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData","setCurrentUnsavedRevisionFromCurrentStoreData","mostRecentRemoteRevision","revisionUiItem","restoreGlobalSettingsRevision","RevisionsList","storedData","isStoringData","isLoadingData","globalSettingsPanelActiveViewMode","shouldLoadFreshDataIntoStoreOnceOpened","loadSettings","isSuccessful","requestClosingConfirmation","subject","confirmationDefinition","requestPanelClosingConfirmation","noClosingConfirmationIsNeededFor","chosenOption","setClosingConfirmationIsDiscarding","isDiscarding","setClosingConfirmationIsSaving","isSaving","storeSettings","closingConfirmations","GlobalSettingsPanelHistoryViewMode","GlobalSettingsPanelControlsViewMode","BrowseModeToggle","activeSelector","updateSelectors","newSelectorName","addSelector","fetchRemoteSelectorsRevisions","selectorsHasUnsavedChangesPresent","currentSelectors","restoreSelectorsRevision","selectorsPanelPanelActiveViewMode","newSelectors","setSelectors","FreeModeAlertForSelectors","SelectorsPanelHistoryViewMode","SelectorsList","AddSelector","editingClassHover","toggleHover","tryToRenameActiveSelector","highlight","toggleHighlight","howManyOnPage","deleteSelector","editingClassOrClassHover","attemptingToRename","isAttemptedRenameValid","editingClassControlsTreeContext","clearHighlight","setHighlight","selectorToHighlight","indexToDelete","backToAllSelectors","activeSelectorIndex","editingClass","hoverSelectorName","activeSelectorName","findHoverSelector","hoverSelector","foundClass","selectorToFind","matchingElements","endsWith","selectorControls","throttledSelectorPropertyChange","VTooltip","load","EditSelector","ManageSelectors","toggleNodes","toggleStage","onContextMenu","ROOT_ELEMENT_ID","initialMouseDragStatus","overTopHalf","overBottomHalf","overIndex","overNodeId","overNodeParentId","overSelf","overNestDeeper","overNestShallower","getNodeIdAtPointInStructurePanel","draggedElement","elementsFromPoint","filterByClass","sortByDepth","reverse","elementA","elementB","getElementIdDataAttrFromFirstElementThatMatchesClass","elementsList","dragStatus","parent","getNewNodePosition","mouseDragStatus","maybeNodePosition","draggedNode","isLastChild","positionInsideParentNodeId","getPositionBelowParent","getPositionAtEndInside","hasPrecedingSibling","getPositionAtEndInsidePrecedingSibling","getPositionOfNode","getIdOfPrecedingSibling","precedingSiblingId","nodeChildrenCount","getPositionAfterNode","getPositionAtStartInside","parentToPositionAfter","parentToPositionAfter_","draggedNodeIndex","lastRecursedItemIndex","dragAllowed","childCount","forceGrabbingCursor","firstDragMovement","didMoveElement","unsubscribeFromActivateElementMutation","delayedExpandNodeTimeout","expandToShowActiveElementWatch","expandedNodesWithActiveElementInside","panelHeader","activeElementDomEl","hasPermission","button","dragPayload","nodeParent","ifMouseIsOverACollapsedNodeForLongEnoughThenWeShouldExpandIt","newNodePosition","droppedOnElement","isDroppedOnExpandedOrEmpty","wrapWithTransaction","cancelTransactionIfItIsStillInProgress","delayedExpandNode","idOfNodeToKeepOpen","allNodesCollapsedState","nodesToExpandState","collapseAllNodes","expandAllNodes","activeElementParent","collapseAllNodesExcept","disableRevisions","scrollToActiveElement","snapshot","snapshots","currentIndex","onSnapshotSelected","snapshotIndex","setCurrentSnapshotIndex","setStoreFromCurrentSnapshot","scrollToActiveSnapshotElement","nextTick","activeSnapshotItemDomEl","SnapshotItem","selectedRevisionIndex","fetchRemoteRevisions","setRevisionsData","getCurrentUnsavedRevision","setActiveRevision","revisionsData","activeRevisionIndex","getActiveRevisionIndex","scrollToActiveRevision","currentTree","activeRevision","isCurrentRevisionTheSameAsTheMostRecentRevision","maybeTree","decodedTree","setInterfaceState","loadRevision","behavior","Revisions","History","width288","borderOnLeft","borderOnRight","reactivePanelContext","AppLayoutBodyPanelArea","HistoryAndRevisionsPanel","StructurePanel","ElementPropertiesPanel","Add","GlobalSettingsPanel","SelectorsPanel","hasCancel","hasDiscard","markClosingConfirmationAs","hideClosingConfirmation","chooseOptionForClosingConfirmation","fromEntries","confirmation","templateIsFallback","decodedTemplateName","templateUrl","txt","invalidPostData","errorType","backToAdminUrl","showTemplateDialog","requestIdleCallback","isRenderedWithTemplate","containsTemplateContentArea","templateElement","leftSidebarPanel","rightSidebarPanel","getTemplateAttribute","templateIdString","InvalidPostDialog","TemplateDialog","ClosingConfirmations","IframeCanvas","BuilderTopBar","PreferencesModal","KeyboardShortcutsHelpModal","SidebarPanels","AppLayout","unrecoverableErrorMessages","initialMode","initialDocumentToLoadId","maybeLoadedData","documentId","titleParts","removeClosingConfirmation","builder","BuilderLayout","UnrecoverableErrors","iframeUrlToDisplay","isAnyBrowseModeSupportedPanelOpen","toggleGlobalSettingsPanel","toggleSelectorsPanel","toggleHistoryAndRevisionsPanel","exitBrowseMode","iframeID","returnUrl","browseModeOpenUrl","iframeDocumentTitleToDisplay","BrowseModeSave","BrowseModeSidebarPanels","setMode","useDarkMode","$vuetify","dark","BrowseMode","Builder","Notifications","VApp","config","productionTip","ignoredElements","use","directive","globalBlockName","saveAsGlobalBlock","required","importDefaultProperties","clearDefaultProperties","dialogOpen","confirmDefaultProperties","ClipboardDataV","source","colors","getPathsByType","addPathToAccumulator","curPath","concat","moveExternalSiteGlobalsIntoElement","copiedPresets","copiedColors","builderElement","presetId","foundCopiedPreset","maybeImportTypographyPresetFromClipboard","custom","colorPaths","maybeUpdateColor","foundCopiedColor","maybeImportColorFromClipboard","isObject","importClipboardMetadataToElement","recursiveImport","exportClipboardMetadataFromElement","hostname","presetIdToCopy","isPresetInGlobalPresets","isCssVar","isColorInGlobalColors","cssVar","cssVariableName","globalColors","clipboardEvents","registerClipboardShortcuts","onNativeEventReceived","iframeDoc","hasSelection","cutElement","determinePastingMethod","safari","writeToClipboard","writeText","debug","readFromClipboard","eventText","method","readText","getElementFromClipboard","elementAsJsonString","maybeClipboardData","elementToCopy","exportedElement","exportedElementWithMetadata","exportedElementAsJsonString","elementIdToPasteNodesIntoOrNear","addElementMutation","parentNodeId","elementIdToPastePropertiesTo","elementToCopyPropertiesFrom","elementToPastePropertiesTo","copiedProperties","elementToPasteTo"],"mappings":"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","file":"js/app.bc4397d2.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\",\"chunk-common\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IframeWrapper.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IframeWrapper.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddSelector.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddSelector.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RevisionsList.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RevisionsList.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuilderLayout.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuilderLayout.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreferencesModal.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreferencesModal.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddPanel.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddPanel.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBar.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBar.vue?vue&type=style&index=0&lang=css&\"","import { Tree } from \"@/types/tree\";\nimport { findNode, parentNodesReduce, treeNodeReduce } from \"@/lib/tree/tree\";\nimport { uiStore } from \"@/store/store-accessor\";\n\nexport type StructurePanelNodeStateExpanded = undefined | true;\nexport type StructurePanelNodeStateCollapsed = false;\n\nexport type StructurePanelNodesExpandedState = {\n  [key: string]:\n    | StructurePanelNodeStateExpanded\n    | StructurePanelNodeStateCollapsed;\n};\n\nexport function expandOrCollapseAllNodes(\n  tree: Tree,\n  expand: boolean\n): StructurePanelNodesExpandedState {\n  return treeNodeReduce(\n    (node, acc: StructurePanelNodesExpandedState) => {\n      acc[node.id] = expand;\n      return acc;\n    },\n    tree.root,\n    {}\n  );\n}\n\nexport function expandNodesToShowActiveElement(\n  tree: Tree,\n  activeElementId: number\n): StructurePanelNodesExpandedState | undefined {\n  const activeNode = findNode(tree, activeElementId);\n\n  if (!activeNode) return;\n\n  return parentNodesReduce(\n    (node, acc: StructurePanelNodesExpandedState) => {\n      acc[node.id] = true;\n      return acc;\n    },\n    tree,\n    activeNode,\n    {}\n  );\n}\n\nexport function structurePanelNodeIsCollapsed(nodeId: number) {\n  return uiStore.structurePanelNodesExpandedState[nodeId] === false;\n}\n\nexport function structurePanelNodeIsExpanded(nodeId: number) {\n  return (\n    uiStore.structurePanelNodesExpandedState[nodeId] === undefined ||\n    uiStore.structurePanelNodesExpandedState[nodeId] === true\n  );\n}\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryAndRevisionsPanel.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryAndRevisionsPanel.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Copyable.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Copyable.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Titlebar.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Titlebar.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocumentChooser.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocumentChooser.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsDropdown.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsDropdown.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDefaultProperties.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDefaultProperties.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreferencesPanel.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreferencesPanel.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BreakpointsSelection.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BreakpointsSelection.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioTopBar.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioTopBar.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLayout.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLayout.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomUiSettings.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomUiSettings.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateFontFace.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateFontFace.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KeyboardShortcutsHelpModal.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KeyboardShortcutsHelpModal.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControlSectionOrControl.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControlSectionOrControl.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelHeader.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelHeader.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabsRow.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabsRow.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewContentChooserDialog.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewContentChooserDialog.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioSpacingBars.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioSpacingBars.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudio.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudio.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignLibrarySkeleton.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignLibrarySkeleton.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FontFaces.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FontFaces.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClipboardDialog.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClipboardDialog.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"structure-node-children\"},[_vm._l((_vm.nodes),function(childElement){return [_c('StructureNode',{key:childElement.id,attrs:{\"element\":childElement,\"depth\":_vm.depth}})]})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n    'structure-node': true,\n    'breakdance--currently-dragging': this.currentlyDragging\n  },attrs:{\"data-element-id\":_vm.element.id}},[_c('div',{staticClass:\"structure-node-title-wrapper\"},[_c('div',{staticClass:\"structure-node-title\",class:_vm.activeClass,style:(_vm.indentStyle),on:{\"click\":_vm.activateElement}},[_c('div',{staticClass:\"structure-node-title-real\"},[_c('div',{staticClass:\"structure-node-toggle-wrapper\"},[(_vm.element.children.length)?_c('Icon',{staticClass:\"structure-node-action__icon\",attrs:{\"icon\":\"CaretDownIcon\",\"size\":\"10\",\"rotate\":_vm.shouldShowChildrenNodes ? undefined : '270'},on:{\"click\":function($event){$event.stopPropagation();return _vm.toggleChildren($event)}}}):_vm._e()],1),_c('div',{class:{\n            'structure-node-title-real-real': true,\n            'structure-panel-editing-friendly-name': _vm.editingFriendlyName\n          }},[_c('ElementIcon',{staticClass:\"structure-node-icon\",attrs:{\"icon\":_vm.baseElement.uiIcon,\"size\":\"12\"}}),_c('div',{staticClass:\"element-title-text\",attrs:{\"title\":_vm.friendlyNameInputValue || _vm.elementName}},[(!_vm.editingFriendlyName)?_c('span',{staticClass:\"element-title-name ellipsis-text\",on:{\"dblclick\":_vm.enableEditingFriendlyName}},[_vm._v(\" \"+_vm._s(_vm.friendlyNameInputValue || _vm.elementName)+\" \")]):_vm._e(),(_vm.editingFriendlyName)?_c('input',{ref:\"friendlyNameInputRef\",staticClass:\"element-custom-name-input\",attrs:{\"size\":_vm.friendlyNameInputValue,\"spellcheck\":\"false\"},domProps:{\"value\":_vm.friendlyNameInputValue},on:{\"input\":function($event){return _vm.updateFriendlyName($event.target.value)},\"keyup\":[function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"delete\",[8,46],$event.key,[\"Backspace\",\"Delete\",\"Del\"])){ return null; }_vm.showElementNameFallback = false},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.disableEditing($event)}],\"blur\":_vm.disableEditing,\"mousedown\":function($event){$event.stopPropagation();return _vm.noop($event)},\"contextmenu\":function($event){$event.stopPropagation();return _vm.noop($event)}}}):_vm._e(),(_vm.isDraftSection && !_vm.editingFriendlyName)?_c('span',{staticClass:\"element-title__meta\"},[_vm._v(\" (Draft) \")]):_vm._e(),(_vm.isShowingIdsInStructurePanel && !_vm.editingFriendlyName)?_c('span',{staticClass:\"element-title__meta\"},[_vm._v(\" #\"+_vm._s(_vm.element.id)+\" \")]):_vm._e()]),(!_vm.editingFriendlyName)?_c('div',{staticClass:\"structure-node-actions__wrapper\"},[_c('Icon',{staticClass:\"structure-node-action__icon mr-2\",attrs:{\"size\":\"12\",\"icon\":\"BarsIcon\",\"title\":\"Open menu\"},on:{\"click\":_vm.showContextMenu}}),_c('Icon',{staticClass:\"structure-node-action__icon mr-2\",attrs:{\"icon\":\"DuplicateIcon\",\"title\":\"Duplicate element\"},on:{\"click\":_vm.duplicate}}),_c('Icon',{staticClass:\"structure-node-action__icon mr-2\",attrs:{\"size\":\"12\",\"icon\":\"TrashIcon\",\"title\":\"Delete element\"},on:{\"click\":_vm.remove}})],1):_vm._e()],1)])]),_c('div',{staticClass:\"nest-deeper\",style:(_vm.nestDeeperStyle),attrs:{\"data-element-id\":_vm.element.id}}),_c('div',{staticClass:\"nest-shallower\",style:(_vm.nestShallowerStyle),attrs:{\"data-element-id\":_vm.element.id}}),_c('div',{staticClass:\"top-half\",attrs:{\"data-element-id\":_vm.element.id,\"data-depth\":_vm.depth}}),_c('div',{staticClass:\"bottom-half\",attrs:{\"data-element-id\":_vm.element.id,\"data-depth\":_vm.depth}})]),(_vm.shouldShowChildrenNodes)?_c('ChildStructureNodes',{attrs:{\"nodes\":_vm.element.children,\"depth\":_vm.depth + 1}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { uiStore, configStore, documentStore } from \"@/store/store\";\nimport { TreeNode } from \"@/types/tree\";\nimport ChildStructureNodes from \"@/components/Structure/ChildStructureNodes.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport StructureContextMenu from \"@/components/Structure/StructureContextMenu.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport ElementIcon from \"@/components/UI/ElementIcon.vue\";\nimport { openUiPanel, whichSideToPutUiPanel } from \"@/lib/panels/panels\";\nimport { structurePanelNodeIsExpanded } from \"@/lib/structure-panel/expand-collapse\";\nimport { SECTION_SLUG } from \"@/lib/elements/constants\";\nimport lodash from \"lodash\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\n\nconst nodeIndentAmount = 16;\n\n@Component({\n  name: \"StructureNode\",\n  components: {\n    ElementIcon,\n    Icon,\n    StructureContextMenu,\n    ChildStructureNodes\n  }\n})\nexport default class StructureNode extends Vue {\n  @Prop()\n  element!: TreeNode;\n\n  @Prop()\n  depth: any;\n\n  showElementNameFallback = true;\n\n  editingFriendlyName = false;\n\n  get shouldShowChildrenNodes() {\n    return structurePanelNodeIsExpanded(this.element.id);\n  }\n\n  beforeCreate() {\n    // @ts-ignore\n    this.$options.components.ChildStructureNodes = require(\"./ChildStructureNodes.vue\").default;\n  }\n\n  activateElement() {\n    uiStore.activateElement(this.element.id);\n\n    if (\n      whichSideToPutUiPanel(\"elementproperties\") !==\n      whichSideToPutUiPanel(\"structure\")\n    ) {\n      openUiPanel(\"elementproperties\");\n    }\n  }\n\n  get baseElement() {\n    return configStore.element(this.element.data.type);\n  }\n\n  get activeClass() {\n    return {\n      \"breakdance--active-element\": uiStore.activeElementId === this.element.id\n    };\n  }\n\n  get indentStyle() {\n    const indentAmt = this.depth * nodeIndentAmount;\n    return {\n      marginLeft: `${indentAmt}px`,\n      width: `calc(100% - 1px - ${indentAmt}px`\n    };\n  }\n\n  get nestDeeperStyle() {\n    const indentAmt = (this.depth + 1) * nodeIndentAmount;\n    return {\n      left: `${indentAmt}px`\n    };\n  }\n\n  get nestShallowerStyle() {\n    const indentAmt = this.depth * nodeIndentAmount;\n    return {\n      width: `${indentAmt}px`\n    };\n  }\n\n  get elementName() {\n    return configStore.element(this.element.data.type).name;\n  }\n\n  get currentlyDragging() {\n    return uiStore.currentlyDraggingCanvasElementId === this.element.id;\n  }\n\n  get isShowingIdsInStructurePanel() {\n    return uiStore.settings.showElementIdInStructurePanel;\n  }\n\n  duplicate() {\n    documentStore.duplicateElementAndActivateIt(this.element.id);\n  }\n\n  showContextMenu(e: MouseEvent) {\n    uiStore.setOnStructurePanelRightClickMenuState({\n      elementId: this.element.id,\n      position: {\n        x: e.clientX,\n        y: e.clientY\n      }\n    });\n  }\n\n  remove() {\n    documentStore.deleteElement({ nodeId: this.element.id });\n  }\n\n  toggleChildren() {\n    const newStructurePanelNodesExpandedState = defensiveCopy(\n      uiStore.structurePanelNodesExpandedState\n    );\n\n    newStructurePanelNodesExpandedState[this.element.id] = !this\n      .shouldShowChildrenNodes;\n\n    uiStore.setStructurePanelNodesExpandedState(\n      newStructurePanelNodesExpandedState\n    );\n  }\n\n  get isDraftSection() {\n    if (this.element.data.type === SECTION_SLUG) {\n      return lodash.get(\n        this.element.data.properties,\n        \"settings.advanced.draft\"\n      );\n    }\n\n    return false;\n  }\n\n  get friendlyNameInputValue() {\n    if (\n      this.element.data.properties?.meta?.friendlyName === undefined &&\n      // If the user deletes the whole input, don't go back to showing it\n      this.showElementNameFallback\n    ) {\n      this.showElementNameFallback = false;\n\n      return this.elementName;\n    }\n\n    // need this to trick the computed prop into re-rendering. Otherwise, it won't rerun and update\n    if (this.editingFriendlyName) {\n      // if it already has a name, don't show the fallback when deleting it\n      this.showElementNameFallback = false;\n    }\n\n    return (\n      this.element.data.properties?.meta?.friendlyName &&\n      this.element.data.properties?.meta?.friendlyName.trim()\n    );\n  }\n\n  enableEditingFriendlyName() {\n    this.editingFriendlyName = true;\n\n    // wait for it to show\n    forceNextTick(() => {\n      // @ts-ignore\n      this.$refs.friendlyNameInputRef.focus();\n      // @ts-ignore\n      this.$refs.friendlyNameInputRef.select();\n    });\n  }\n\n  updateFriendlyName(friendlyName: string | undefined) {\n    documentStore.unthrottledPropertyChanged({\n      elementId: this.element.id,\n      path: \"meta.friendlyName\",\n      meta: {\n        snapshotLabel: `Updated friendly name for element \"${this.elementName}\"`\n      },\n      value: friendlyName?.trim() || undefined\n    });\n  }\n\n  disableEditing() {\n    this.editingFriendlyName = false;\n    this.showElementNameFallback = true;\n  }\n\n  // don't drag or open context menu\n  noop(e: Event) {\n    e.stopPropagation();\n    return {};\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StructureNode.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StructureNode.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StructureNode.vue?vue&type=template&id=96a0f582&\"\nimport script from \"./StructureNode.vue?vue&type=script&lang=ts&\"\nexport * from \"./StructureNode.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\nimport StructureNode from \"./StructureNode.vue\";\n\n@Component({\n  components: {\n    StructureNode\n  },\n  name: \"ChildStructureNodes\"\n})\nexport default class ChildStructureNodes extends Vue {\n  @Prop()\n  nodes: any;\n\n  @Prop()\n  depth: any;\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChildStructureNodes.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChildStructureNodes.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ChildStructureNodes.vue?vue&type=template&id=00e6d15a&\"\nimport script from \"./ChildStructureNodes.vue?vue&type=script&lang=ts&\"\nexport * from \"./ChildStructureNodes.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tab.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tab.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabsAndControls.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabsAndControls.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignLibrarySidebar.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignLibrarySidebar.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignLibraryModal.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignLibraryModal.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TwigCodeHelper.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TwigCodeHelper.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchBox.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchBox.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioRepeaterOptions.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioRepeaterOptions.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBarSection.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBarSection.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignTabContent.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignTabContent.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectorsPanel.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectorsPanel.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Revisions.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Revisions.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditBreakpoints.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditBreakpoints.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditSelector.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditSelector.vue?vue&type=style&index=0&lang=css&\"","export async function maybeQueryClipboardPermission() {\n  const queryOpts = {\n    name: \"clipboard-read\",\n    allowWithoutGesture: false\n  };\n\n  try {\n    // @ts-ignore\n    return await navigator.permissions.query(queryOpts);\n  } catch (e) {\n    return { state: \"denied\" };\n  }\n}\n\nexport async function getClipboardStatus() {\n  const permission = await maybeQueryClipboardPermission();\n\n  return {\n    secure: window.isSecureContext,\n    permission\n  };\n}\n\nexport function fallbackWriteToClipboard(text: string) {\n  const textArea = document.createElement(\"textarea\");\n  textArea.value = text;\n\n  // Avoid scrolling to bottom\n  textArea.style.top = \"0\";\n  textArea.style.left = \"0\";\n  textArea.style.position = \"fixed\";\n\n  textArea.classList.add(\"breakdance-offscreen-input\");\n\n  document.body.appendChild(textArea);\n  textArea.focus();\n  textArea.select();\n\n  let result: boolean;\n\n  try {\n    result = document.execCommand(\"copy\");\n  } catch (err) {\n    result = false;\n  }\n\n  document.body.removeChild(textArea);\n  return result;\n}\n\nfunction isHTMLInputElement(node: HTMLElement): node is HTMLInputElement {\n  return node?.nodeName === \"INPUT\";\n}\n\nfunction isTextField(node: HTMLElement) {\n  const nonTextInputs = [\n    \"button\",\n    \"checkbox\",\n    \"hidden\",\n    \"file\",\n    \"radio\",\n    \"image\",\n    \"range\",\n    \"reset\",\n    \"submit\",\n    \"number\",\n    \"email\",\n    \"time\"\n  ];\n\n  return (\n    (isHTMLInputElement(node) &&\n      node.type &&\n      !nonTextInputs.includes(node.type)) ||\n    node.nodeName === \"TEXTAREA\" ||\n    node.contentEditable === \"true\"\n  );\n}\n\nexport function documentHasTextSelection(doc: Document) {\n  const selection = doc?.defaultView?.getSelection();\n  const range = selection?.rangeCount ? selection.getRangeAt(0) : null;\n  return !!range && !range.collapsed;\n}\n\nexport function documentHasSelection(doc: Document) {\n  const activeEl = doc.activeElement as HTMLElement;\n\n  return (\n    activeEl &&\n    (isHTMLInputElement(activeEl) ||\n      isTextField(activeEl) ||\n      documentHasTextSelection(doc))\n  );\n}\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLayoutBodyPanelArea.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLayoutBodyPanelArea.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioWidthAdjustmentBar.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioWidthAdjustmentBar.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UndoRedo.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UndoRedo.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddButton.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddButton.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StructurePanel.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StructurePanel.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioVariableOptions.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioVariableOptions.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlankSidebarContent.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlankSidebarContent.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDependencies.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDependencies.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditBreakpoint.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditBreakpoint.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSettingsPanel.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSettingsPanel.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PresetsInDesignTab.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PresetsInDesignTab.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./BrowseMode.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./BrowseMode.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchFilter.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchFilter.vue?vue&type=style&index=0&lang=css&\"","import * as t from \"io-ts\";\nimport { Either, flatten, map, mapLeft } from \"fp-ts/lib/Either\";\nimport { _Error } from \"@/lib/wordpress/data\";\nimport fpJsonParse from \"@/util/fp-json-parse\";\nimport { flow, pipe } from \"fp-ts/lib/function\";\nimport { iotsErrorsToCustomErrorType } from \"@/util/io-ts-errors-to-_error\";\n\n/**\n * Does JSON parsing and IO-TS decoding of the parsing result.\n *\n * Example usage:\n *\n * fpJsonParseTypesafe('{\"foo\": \"bar\"}', t.typeof({foo: t.string}));\n */\nexport default function fpJsonParseTypesafe<\n  IoTsType extends t.Type<IoTsTypeTypeOf>,\n  IoTsTypeTypeOf = IoTsType extends t.Type<infer R> ? R : never\n>(\n  jsonWhichMightBeInvalid: string,\n  ioTsType: IoTsType\n): Either<_Error[], IoTsTypeTypeOf> {\n  return pipe(\n    jsonWhichMightBeInvalid,\n    fpJsonParse,\n    map(flow(ioTsType.decode, mapLeft(iotsErrorsToCustomErrorType))),\n    flatten\n  );\n}\n","import mod from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnrecoverableErrors.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnrecoverableErrors.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Dropdown',{attrs:{\"absolute\":true,\"position-x\":_vm.position.x,\"position-y\":_vm.position.y,\"transition\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_vm._t(\"default\")]},proxy:true}],null,true),model:{value:(_vm.shouldShow),callback:function ($$v) {_vm.shouldShow=$$v},expression:\"shouldShow\"}},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item',{attrs:{\"link\":true,\"disabled\":!_vm.elementId},nativeOn:{\"click\":function($event){return _vm.copyElement($event)}}},[_c('v-list-item-title',[_vm._v(\"Copy\")])],1),_c('v-list-item',{attrs:{\"link\":true,\"disabled\":!_vm.canPasteElement},nativeOn:{\"click\":function($event){return _vm.pasteElement($event)}}},[_c('v-list-item-title',[_vm._v(\"Paste\")])],1),_c('v-list-item',{attrs:{\"link\":true,\"disabled\":!_vm.canPasteElementProperties},nativeOn:{\"click\":function($event){return _vm.pasteElementProperties('design')}}},[_c('v-list-item-title',[_vm._v(\"Paste Design\")])],1),_c('v-list-item',{attrs:{\"link\":true,\"disabled\":!_vm.canPasteElementProperties},nativeOn:{\"click\":function($event){return _vm.pasteElementProperties('settings')}}},[_c('v-list-item-title',[_vm._v(\"Paste Settings\")])],1),_c('v-divider'),_c('v-list-item',{attrs:{\"link\":true,\"disabled\":!_vm.elementId},nativeOn:{\"click\":function($event){return _vm.deleteElement($event)}}},[_c('v-list-item-title',[_vm._v(\"Delete\")])],1),_c('v-divider'),_c('v-list-item',{attrs:{\"link\":true,\"disabled\":!_vm.canSaveAsGlobalBlock},nativeOn:{\"click\":function($event){return _vm.openSaveGlobalBlockDialog($event)}}},[_c('v-list-item-title',{staticClass:\"pointer-events-none\"},[_vm._v(\"Save as Global Block\")])],1)],1)],1),(_vm.saveGlobalBlockDialog)?_c('GlobalBlockDialog',{attrs:{\"element-id\":_vm.element.id},on:{\"close\":_vm.closeGlobalBlockDialog}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport {\n  canPasteElement,\n  canPasteElementProperties,\n  copyElement,\n  pasteElement,\n  pasteElementProperties\n} from \"@/lib/copy-paste/copy-paste\";\nimport { documentStore, uiStore } from \"@/store/store\";\nimport { canSaveAsGlobalBlock } from \"@/lib/global-blocks/global-blocks\";\nimport { TreeNode } from \"@/types/tree\";\nimport GlobalBlockDialog from \"@/components/Reusable/GlobalBlockDialog.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport { findNode } from \"@/lib/tree/tree\";\nimport { getClipboardStatus } from \"@/lib/copy-paste/utils\";\n\n@Component({\n  components: {\n    GlobalBlockDialog,\n    Dropdown\n  }\n})\nexport default class StructureContextMenu extends Vue {\n  saveGlobalBlockDialog = false;\n  clipboardDialog = false;\n\n  get menuState() {\n    return uiStore.onStructurePanelRightClickMenuState !== \"closed\"\n      ? uiStore.onStructurePanelRightClickMenuState\n      : null;\n  }\n\n  get position() {\n    return this.menuState?.position || { x: 0, y: 0 };\n  }\n\n  get elementId() {\n    return this.menuState?.elementId;\n  }\n\n  get element(): TreeNode | undefined {\n    return findNode(documentStore.document.tree, this.elementId);\n  }\n\n  canPasteElement = false;\n  canPasteElementProperties = false;\n  permission?: PermissionState;\n\n  @Watch(\"menuState\")\n  async onStateChange() {\n    const { permission } = await getClipboardStatus();\n\n    this.permission = permission.state;\n\n    if (this.permission === \"prompt\") {\n      this.canPasteElement = true;\n      this.canPasteElementProperties = true;\n      return;\n    }\n\n    this.canPasteElement = await canPasteElement(\n      this.menuState?.elementId\n        ? this.menuState.elementId\n        : documentStore.document.tree.root.id\n    );\n\n    this.canPasteElementProperties = this.menuState?.elementId\n      ? await canPasteElementProperties(this.menuState.elementId)\n      : false;\n  }\n\n  copyElement() {\n    if (this.elementId) {\n      copyElement(this.elementId);\n    }\n  }\n\n  pasteElement() {\n    if (this.permission === \"prompt\") {\n      this.clipboardDialog = true;\n    }\n\n    if (this.elementId) {\n      pasteElement(this.elementId);\n    } else {\n      pasteElement(documentStore.document.tree.root.id);\n    }\n  }\n\n  pasteElementProperties(path: \"design\" | \"content\" | \"settings\") {\n    if (this.permission === \"prompt\") {\n      this.clipboardDialog = true;\n    }\n\n    if (this.elementId) {\n      pasteElementProperties(this.elementId, path);\n    }\n  }\n\n  deleteElement() {\n    if (!this.elementId) return;\n\n    documentStore.deleteElement({ nodeId: this.elementId });\n  }\n\n  openSaveGlobalBlockDialog() {\n    if (this.elementId) {\n      this.saveGlobalBlockDialog = true;\n    }\n  }\n\n  closeGlobalBlockDialog() {\n    this.saveGlobalBlockDialog = false;\n    this.$emit(\"close\");\n  }\n\n  get canSaveAsGlobalBlock() {\n    return this.elementId && canSaveAsGlobalBlock(this.elementId);\n  }\n\n  get shouldShow() {\n    return (\n      uiStore.onStructurePanelRightClickMenuState !== \"closed\" &&\n      !this.saveGlobalBlockDialog\n    );\n  }\n\n  set shouldShow(value: boolean) {\n    if (!value) {\n      uiStore.setOnStructurePanelRightClickMenuState(\"closed\");\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StructureContextMenu.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StructureContextMenu.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StructureContextMenu.vue?vue&type=template&id=46cbc17c&\"\nimport script from \"./StructureContextMenu.vue?vue&type=script&lang=ts&\"\nexport * from \"./StructureContextMenu.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VDivider,VList,VListItem,VListItemTitle})\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewWidthAdjustmentHandle.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewWidthAdjustmentHandle.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioPresets.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioPresets.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\" Default Children \"),_c('Repeater',{attrs:{\"value\":_vm.value || [],\"default-new-value\":_vm.defaultValue,\"control\":_vm.repeaterOptions},on:{\"input\":function($event){return _vm.updateDefaultElements($event)}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar repeaterIndex = ref.index;\nvar value = ref.value;\nreturn [_c('v-autocomplete',{staticClass:\"mb-2\",attrs:{\"value\":value.slug,\"items\":_vm.elementsAvailableForThisElementNestingType,\"hint\":\"Element that will be automatically added inside this current element\",\"persistent-hint\":\"\",\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updatePath($event, repeaterIndex, 'slug')}}}),(value.slug && _vm.canHaveChildren(value.slug))?_c('ElementStudioDefaultElements',{staticClass:\"mb-2\",attrs:{\"value\":value.children,\"parent-element-slug\":value.slug,\"allow-import\":false},on:{\"input\":function($event){return _vm.updatePath($event, repeaterIndex, 'children')}}}):_vm._e(),(value.slug)?_c('ElementStudioDefaultProperties',{attrs:{\"value\":value.defaultProperties || false,\"element-slug\":value.slug},on:{\"input\":function($event){return _vm.updatePath($event, repeaterIndex, 'defaultProperties')}}}):_vm._e()]}}])}),(_vm.allowImport)?_c('div',[_c('br'),_c('div',{staticClass:\"mb-2\"},[_vm._v(\" Import all children of the currently active element \")]),_c('NiceButton',{attrs:{\"disabled\":!_vm.canImport},on:{\"click\":_vm.importChildren}},[_vm._v(\" Import Children \")])],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport draggable from \"vuedraggable\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport { configStore, uiStore } from \"@/store/store-accessor\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { isNestingRuleAllowedInside } from \"@/lib/tree/nesting\";\nimport { DefaultChildElement } from \"@/types/elements\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport ElementStudioDefaultProperties from \"@/components/ElementStudio/ElementStudioDefaultProperties.vue\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\nimport { TreeNode } from \"@/types/tree\";\n\n@Component({\n  components: {\n    NiceButton,\n    ElementStudioDefaultProperties,\n    TextInput,\n    Repeater,\n    Dropdown,\n    Accordion,\n    draggable,\n  },\n})\nexport default class ElementStudioDefaultElements extends Vue {\n  @Prop()\n  value!: DefaultChildElement[];\n\n  @Prop()\n  parentElementSlug!: string;\n\n  @Prop({ default: true })\n  allowImport!: boolean;\n\n  defaultValue = {};\n\n  repeaterOptions = {\n    options: {\n      repeaterOptions: {\n        defaultTitle: \"Default Element\",\n        titleTemplate: \"{slug}\",\n        buttonName: \"Add new default element\",\n      },\n    },\n  };\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  beforeCreate() {\n    // @ts-ignore\n    this.$options.components.ElementStudioDefaultElements =\n      require(\"./ElementStudioDefaultElements.vue\").default;\n  }\n\n  updateDefaultElements(newValue: DefaultChildElement[]) {\n    this.$emit(\"input\", newValue);\n  }\n\n  canHaveChildren(slug: string) {\n    if (!slug) return false;\n\n    const element = configStore.element(slug);\n    const type = element.nestingRule.type;\n    return !type.startsWith(\"final\");\n  }\n\n  get canImport() {\n    if (!uiStore.activeElement) return false;\n    return uiStore.activeElement.data.type === this.context.element().slug;\n  }\n\n  importChildren() {\n    if (!uiStore.activeElement) return;\n\n    const transform = (element: TreeNode): DefaultChildElement => {\n      return {\n        slug: element.data.type,\n        defaultProperties: element.data.properties,\n        children: element.children.map(transform),\n      };\n    };\n\n    const activeElement = defensiveCopy(uiStore.activeElement);\n\n    const newChildren = activeElement.children.map(transform);\n\n    this.updateDefaultElements(newChildren);\n  }\n\n  get elementsAvailableForThisElementNestingType() {\n    return Object.keys(configStore.elements).filter((slug) => {\n      const parentElement = configStore.element(this.parentElementSlug);\n      const currentElementNestingRule = configStore.element(slug).nestingRule;\n\n      return isNestingRuleAllowedInside(\n        currentElementNestingRule,\n        parentElement.nestingRule,\n        parentElement.slug\n      );\n    });\n  }\n\n  updatePath(\n    value: any,\n    repeaterIndex: number,\n    path: keyof DefaultChildElement\n  ) {\n    const newValue = defensiveCopy(this.value) || {};\n    newValue[repeaterIndex][path] = value;\n\n    this.$emit(\"input\", newValue);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDefaultElements.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDefaultElements.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioDefaultElements.vue?vue&type=template&id=99698fd2&\"\nimport script from \"./ElementStudioDefaultElements.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioDefaultElements.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\ninstallComponents(component, {VAutocomplete})\n","import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FontFileUpload.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FontFileUpload.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShittyTextInput.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShittyTextInput.vue?vue&type=style&index=0&lang=css&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app',{class:_vm.classList},[_c('Notifications'),(_vm.isBrowseModeEnabled)?[_c('BrowseMode',{key:\"browser\"})]:[_c('Builder',{key:\"builder\"})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-builder\"},[(_vm.errorsPresent)?_c('UnrecoverableErrors'):(_vm.interfaceState === 'normal')?_c('BuilderLayout'):(_vm.interfaceState === 'loading')?_c('Loading'):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('AppLayout',{class:_vm.classList,scopedSlots:_vm._u([{key:\"topbar\",fn:function(){return [_c('BuilderTopBar')]},proxy:true},{key:\"body\",fn:function(){return [_c('ClosingConfirmations'),_c('DesignLibraryModal'),_c('SidebarPanels',{attrs:{\"panelState\":_vm.leftSidebarPanelState,\"position\":'left'}}),_c('IframeCanvas',{on:{\"loaded\":_vm.onIframeLoaded}}),(_vm.showTemplateDialog)?_c('TemplateDialog',{attrs:{\"template-id\":_vm.templateId,\"template-name\":_vm.templateName,\"templateIsFallback\":_vm.isTemplateFallback,\"templatesPageUrl\":_vm.templatesPageUrl}}):_vm._e(),(_vm.showInvalidPostDialog)?_c('InvalidPostDialog'):_vm._e(),(_vm.preferencesModalOpen)?_c('PreferencesModal',{attrs:{\"open\":_vm.preferencesModalOpen},on:{\"update:dialog\":_vm.updatePreferencesModal}}):_vm._e(),(_vm.keyboardShortcutsHelpModalOpen)?_c('KeyboardShortcutsHelpModal',{attrs:{\"open\":_vm.keyboardShortcutsHelpModalOpen},on:{\"update:dialog\":_vm.updateKeyboardShortcutsHelpModal}}):_vm._e(),_c('SidebarPanels',{attrs:{\"panelState\":_vm.rightSidebarPanelState,\"position\":'right'}}),(_vm.elementStudioOpen)?_c('div',{staticClass:\"breakdance-app-far-right-area vscroll-wrap\"},[_c('ElementStudio')],1):_vm._e()]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.iframeURL)?_c('IframeWrapper',{attrs:{\"iframe-url\":_vm.iframeURL,\"iframe-preview-width\":_vm.canvasPreviewWidth,\"iframe-exited\":_vm.iframeExited,\"iframe-state\":_vm.canvasState,\"min-width\":_vm.iframeMinWidth,\"current-breakpoint\":_vm.currentBreakpoint,\"iframe-id\":\"iframe\"},on:{\"previewWidthChange\":_vm.handlePreviewWidthChange,\"previewWidthChangeWithAdjustmentBar\":_vm.handlePreviewWidthChangeWithAdjustmentBar,\"iframeLoaded\":_vm.mountCanvasInIframe,\"iframeUnloaded\":_vm.setIframeAsExited,\"reloadWanted\":_vm.reloadIframe,\"resetPreviewWidth\":_vm.handleResetPreviewWidth}}):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export default \"/* Copied from globals.scss, don't modify here directly */\\n:root {\\n  --white: #ffffff;\\n  --black: #000000;\\n\\n  --blue50: #eff6ff;\\n  --blue100: #dbeafe;\\n  --blue200: #bfdbfe;\\n  --blue300: #93c5fd;\\n  --blue400: #60a5fa;\\n  --blue500: #3b82f6;\\n  --blue600: #2563eb;\\n  --blue700: #1d4ed8;\\n  --blue800: #1e40af;\\n  --blue900: #1e3a8a;\\n\\n  --red600: #dc2626;\\n\\n  --bde-canvas-font-family: system-ui, -apple-system, \\\"Segoe UI\\\", Roboto,\\n    Helvetica, Arial, sans-serif, \\\"Apple Color Emoji\\\", \\\"Segoe UI Emoji\\\";\\n\\n  --bde-app-font-family: \\\"Avenir\\\", Helvetica, Arial, sans-serif;\\n}\\n\\n/* everything here should be prefixed with breakdance because\\nthese styles are mixed with any fuckery from their theme */\\n\\n#breakdance_canvas {\\n  position: relative;\\n  /* note that .breakdance { position: relative { is loaded by default on the frontend,\\n  therwise if the user uses absolute positioning, things could look different in the builder */\\n  /* this is necessary cuz our outlines, titlebars, etc. are positioned relative to this element */\\n}\\n\\n#breakdance_canvas.dragging {\\n  cursor: grabbing;\\n}\\n\\n#iframe {\\n  margin: 4px;\\n  border: 1px solid #eee;\\n  background-color: white;\\n  width: 100%;\\n  padding: 2px;\\n  font-family: var(--bde-canvas-font-family);\\n  position: relative;\\n}\\n\\n.breakdance-icon {\\n  display: flex;\\n  justify-content: center;\\n}\\n\\n.breakdance-icon > svg {\\n  fill: currentColor;\\n}\\n\\n.dragTaller {\\n  height: 6px;\\n  width: 6px;\\n  border: 2px solid grey;\\n  border-radius: 50%;\\n  background-color: white;\\n  z-index: 2000;\\n}\\n\\n.drag-dot {\\n  width: 11px;\\n  height: 11px;\\n  border-radius: 50%;\\n  background-color: rgb(32, 43, 67);\\n  cursor: move;\\n  position: absolute;\\n  z-index: 100000;\\n  pointer-events: auto;\\n}\\n\\n.drag-dots-wrapper {\\n  position: absolute;\\n  pointer-events: none;\\n}\\n\\n.drag-dot-top-left {\\n  top: -5px;\\n  left: -5px;\\n}\\n\\n.drag-dot-top-middle {\\n  top: -5px;\\n  left: calc(50% - 5px);\\n}\\n\\n.drag-dot-top-right {\\n  top: -5px;\\n  left: calc(100% - 5px);\\n}\\n\\n.drag-dot-bottom-left {\\n  top: calc(100% - 5px);\\n  left: -5px;\\n}\\n\\n.drag-dot-bottom-middle {\\n  top: calc(100% - 5px);\\n  left: calc(50% - 5px);\\n}\\n\\n.drag-dot-bottom-right {\\n  top: calc(100% - 5px);\\n  left: calc(100% - 5px);\\n}\\n\\n.drag-dot-middle-left {\\n  top: 50%;\\n  transform: translate(-50%, -50%);\\n}\\n\\n.drag-dot-middle-right {\\n  top: 50%;\\n  transform: translate(50%, -50%);\\n  right: 0;\\n}\\n\\n.spacing-bar {\\n  background-color: rgba(0, 0, 255, 0.2);\\n  opacity: 0;\\n  position: absolute;\\n  transition: 0.3s ease-in-out opacity;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  z-index: 10000;\\n  min-height: 5px;\\n}\\n\\n.spacing-bar:hover {\\n  transition-delay: 0.2s;\\n}\\n\\n.spacing-bar .spacing-bar-current-value {\\n  font-family: monospace;\\n  color: white;\\n  font-size: 13px;\\n  font-weight: 500;\\n  background-color: #5555aa;\\n  line-height: 1;\\n  padding: 6px;\\n  border-radius: 4px;\\n  pointer-events: none;\\n}\\n\\n.spacing-bar-inside-top {\\n  min-height: 5px;\\n  top: 0;\\n  left: 0;\\n  right: 0;\\n}\\n\\n/* column drag */\\n.drag-dots-left-width {\\n  margin-right: 22px;\\n}\\n\\n.drag-dots-column-widths-values {\\n  display: flex;\\n  flex-direction: row;\\n  position: absolute;\\n  left: -66px;\\n  top: -8px;\\n}\\n\\n.drag-dots-left-width,\\n.drag-dots-right-width {\\n  font-family: monospace;\\n  color: white;\\n  font-size: 13px;\\n  font-weight: 500;\\n  background-color: #5555aa;\\n  line-height: 1;\\n  padding: 6px;\\n  border-radius: 4px;\\n  width: 48px;\\n}\\n\\n/* Node Chrome */\\n\\n.node-chrome,\\n.node-titlebar-wrapper,\\n.node-hover-controls {\\n  transition: 0.3s opacity ease;\\n}\\n\\n.node-chrome--hide-all,\\n.node-chrome--hide-titlebar .node-titlebar-wrapper,\\n.node-chrome--hide-hover .node-hover-controls {\\n  opacity: 0;\\n}\\n\\n/* Titlebars */\\n\\n.node-titlebar-wrapper {\\n  position: absolute;\\n  pointer-events: none;\\n  direction: ltr;\\n  z-index: 10000;\\n  outline: 1px solid rgb(32, 43, 67);\\n  user-select: none;\\n}\\n\\n.node-titlebar {\\n  pointer-events: auto;\\n\\n  display: flex;\\n  align-items: center;\\n  position: absolute;\\n\\n  bottom: 100%;\\n  height: 28px;\\n  padding: 0 10px;\\n  border-radius: 4px 4px 0 0;\\n\\n  font-family: var(--bde-app-font-family);\\n  font-size: 12px;\\n  font-weight: 500;\\n\\n  letter-spacing: normal;\\n  text-transform: none;\\n\\n  background-color: rgb(32, 43, 67);\\n  color: white;\\n  z-index: 1000000;\\n\\n  left: -1px;\\n}\\n\\n.node-titlebar-is-draft-section {\\n  background-color: rgb(122, 125, 133);\\n}\\n\\n/*\\n * Moving you mouse over the node titlebar or spacing bars\\n * will trigger an erroneous mouseleave event on the element\\n * you are dragging, when your mouse is not outside of it yet.\\n */\\n.dragging .spacing-bar,\\n.dragging .node-titlebar {\\n  pointer-events: none;\\n}\\n\\n.node-titlebar-is-dragging,\\n.breakdance--currently-dragging,\\n.builder-element.breakdance--currently-dragging {\\n  cursor: grabbing;\\n}\\n\\n.breakdance--currently-dragging,\\n.builder-element.breakdance--currently-dragging {\\n  opacity: 0.5;\\n}\\n\\n.node-titlebar-is-dragging {\\n  /* color: rgb(32, 43, 67); */\\n  background-color: rgb(167, 170, 177) !important;\\n}\\n\\n.node-titlebar-wrapper-is-dragging {\\n  outline: 1px solid rgb(167, 170, 177) !important;\\n}\\n\\n.node-titlebar-wrapper .node-titlebar-button {\\n  color: rgba(255, 255, 255, 0.85);\\n  cursor: pointer;\\n}\\n\\n.node-titlebar-button:hover {\\n  color: rgba(255, 255, 255, 1);\\n}\\n\\n.node-titlebar-title {\\n  white-space: nowrap;\\n  cursor: grab;\\n  display: flex;\\n  align-items: center;\\n  letter-spacing: normal;\\n}\\n\\n.node-titlebar-title .node-titlebar-button {\\n  margin-right: 4px;\\n  margin-left: 0px;\\n}\\n\\n.node-titlebar-title .node-titlebar-button svg {\\n  cursor: grab;\\n}\\n\\n.node-titlebar-button-activate-parent {\\n  margin-left: 6px;\\n}\\n\\n.node-titlebar-button.node-titlebar-button-activate-parent > svg {\\n  width: 10px;\\n  height: 10px;\\n}\\n\\n.node-titlebar-button {\\n  margin-left: 9px;\\n}\\n\\n.node-titlebar-button > svg {\\n  width: 13px;\\n  height: 13px;\\n}\\n\\n.node-titlebar-margin-left {\\n  margin-left: 20px;\\n}\\n\\n/* Other */\\n.breakdance-drag-placeholder-wrapper {\\n  pointer-events: none;\\n}\\n\\n.breakdance-drag-placeholder {\\n  /* this won't work if something other than the window has position relative on it,\\n  maybe we could mount the overlaid ui chrome inside the body, not in the canvas */\\n\\n  /* some months later\\n  ... really? The above sounds like bullshit. I can put position relative\\n  on all sorts of stuff and this works fine\\n  so maybe we are already mounting the overlaid UI chrome in the right place?\\n  */\\n\\n  position: absolute;\\n  /* ---- */\\n  background-color: var(--blue500);\\n  z-index: 100001;\\n  display: none;\\n  border-radius: 2px;\\n}\\n\\n.breakdance-drag-target-outline {\\n  outline: 6px solid var(--blue300);\\n  outline-offset: -6px;\\n  z-index: 100000;\\n  display: none;\\n}\\n\\n.breakdance-children-pointer-events-none > * {\\n  pointer-events: none;\\n}\\n\\n/* global blocks */\\n.breakdance-themeless-global-block {\\n  cursor: default;\\n}\\n\\n.breakdance-themeless-global-block::selection {\\n  background-color: transparent;\\n}\\n\\n.breakdance-themeless-global-block *::selection {\\n  background-color: transparent;\\n}\\n\\n.breakdance-foreign-documents-overlay {\\n  font-family: var(--bde-canvas-font-family);\\n  position: fixed;\\n  z-index: 9999;\\n  outline: 1px solid rgb(255 182 216);\\n  outline-offset: -1px;\\n  cursor: not-allowed;\\n  background-color: rgba(0, 0, 0, 0.1);\\n  display: none;\\n}\\n.breakdance-foreign-documents-overlay-titlebar-wrapper {\\n  position: absolute;\\n  top: 0;\\n  left: 50%;\\n}\\n\\n.breakdance-foreign-documents-overlay-titlebar {\\n  position: relative;\\n  left: -50%;\\n  height: 28px;\\n  padding: 0 10px;\\n  font-family: var(--bde-canvas-font-family);\\n  font-size: 12px;\\n  font-weight: 500;\\n  background-color: rgb(255 182 216);\\n  border-radius: 0px 0px 4px 4px;\\n  display: flex;\\n  justify-content: center;\\n  align-items: center;\\n  user-select: none;\\n}\\n\\n.breakdance-foreign-documents-overlay-titlebar a {\\n  cursor: pointer;\\n  color: black;\\n  text-decoration: none;\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.breakdance-foreign-documents-overlay-titlebar a svg {\\n  margin-left: 5px;\\n  width: 14px;\\n  height: 14px;\\n}\\n\\n.breakdance-foreign-document-wrapper:hover\\n  .breakdance-foreign-document-wrapper__overlay {\\n  position: absolute;\\n  width: 100%;\\n  height: 100%;\\n}\\n\\n/* node hover controls */\\n.node-hover-controls {\\n  position: absolute;\\n  pointer-events: none;\\n  z-index: 9999;\\n}\\n\\n.node-hover-controls--outline {\\n  outline: 1px solid rgb(177, 202, 255);\\n}\\n\\n.node-hover-controls > div {\\n  display: none;\\n  z-index: 100000;\\n}\\n\\n.node-hover-controls.node-hover-controls-show > div {\\n  display: flex;\\n}\\n\\n.node-hover-controls-button {\\n  position: absolute;\\n  pointer-events: auto;\\n  flex-direction: column;\\n\\n  border-radius: 50%;\\n\\n  width: 40px;\\n  height: 40px;\\n\\n  font-size: 20px;\\n  font-weight: 700;\\n  font-family: var(--bde-canvas-font-family);\\n  background-color: rgb(32, 43, 67);\\n  color: white;\\n\\n  align-items: center;\\n  justify-content: center;\\n\\n  cursor: pointer;\\n}\\n\\n.node-hover-controls-bottom-button {\\n  top: calc(100% - 20px);\\n  left: calc(50% - 20px);\\n}\\n\\n.node-hover-controls-right-button {\\n  top: 50%;\\n  left: calc(100% - 48px);\\n  transform: translateY(-50%);\\n}\\n\\n.node-hover-controls-menu {\\n  box-shadow: 0 0 10px rgba(0, 0, 0, 0.2);\\n  border-radius: 3px;\\n  font-family: var(--bde-canvas-font-family);\\n  font-size: 13px;\\n  font-weight: 500;\\n  flex-direction: column;\\n  background-color: white;\\n  color: black;\\n  display: none;\\n  position: absolute;\\n  top: calc(100% - 20px);\\n  left: 50%;\\n  transform: translateX(-50%);\\n  width: 170px;\\n  overflow: hidden;\\n}\\n\\n.node-hover-controls-menu > div {\\n  padding: 9px 12px;\\n  text-align: center;\\n}\\n\\n.node-hover-controls-menu > div:hover {\\n  background-color: #fafafa;\\n}\\n\\n.node-hover-controls-menu--open {\\n  display: flex;\\n}\\n\\n/* We do the outlining with JS to add some logic to it*/\\n*:focus[contenteditable=\\\"true\\\"] {\\n  border: none;\\n  outline: none;\\n}\\n\\n.node-content-editable {\\n  position: absolute;\\n  pointer-events: none;\\n  z-index: 1000;\\n  outline: 1px solid var(--blue500);\\n}\\n\\n/* EMPTY CONTAINER */\\n\\n.breakdance-empty-container {\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n  width: 100%;\\n  height: 100%;\\n  min-height: 200px;\\n}\\n\\n.breakdance-empty-container__add-element {\\n  font-family: var(--bde-canvas-font-family);\\n\\n  display: flex;\\n  align-items: center;\\n  justify-content: center;\\n\\n  cursor: pointer;\\n\\n  user-select: none;\\n\\n  background-color: var(--blue50);\\n  width: 42px;\\n  height: 42px;\\n  border-radius: 3px;\\n  margin: 10px;\\n}\\n\\n.breakdance-empty-container__add-element {\\n  color: var(--blue500);\\n}\\n\\n.breakdance-empty-container__add-element:hover {\\n  background-color: var(--blue100);\\n}\\n\\n.breakdance-empty-container__add-element--disabled,\\n.breakdance-empty-container__add-element--disabled:hover {\\n  cursor: not-allowed;\\n  background: var(--grey-100);\\n  color: var(--grey-300);\\n}\\n\\n/* COLUMNS */\\n\\n.breakdance-empty-columns {\\n  font-family: var(--bde-canvas-font-family);\\n  box-sizing: border-box;\\n  width: 100%;\\n  overflow: hidden;\\n  background-color: white;\\n  border-radius: 5px;\\n  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1), 0 0 100px rgba(0, 0, 0, 0.1);\\n  padding: 50px;\\n}\\n\\n.breakdance-empty-columns-choices-heading {\\n  font-weight: 500;\\n  font-size: 16px;\\n  text-align: center;\\n  margin-bottom: 16px;\\n  user-select: none;\\n}\\n\\n.breakdance-empty-columns-choices {\\n  display: flex;\\n  flex-direction: column;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.breakdance-empty-columns-choices-row {\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: wrap;\\n  align-items: center;\\n  justify-content: center;\\n}\\n\\n.breakdance-empty-columns-column-icon-wrapper {\\n  padding: 4px;\\n  margin: 16px;\\n  cursor: pointer;\\n  border-radius: 3px;\\n  transition: 0.3s ease-in-out filter;\\n  filter: grayscale(90%);\\n}\\n\\n.breakdance-empty-columns-column-icon-wrapper:hover {\\n  filter: grayscale(0%);\\n}\\n\\n.breakdance-empty-columns-column-icon {\\n  width: 160px;\\n  height: 90px;\\n  display: flex;\\n  flex-direction: row;\\n  flex-wrap: nowrap;\\n}\\n\\n.breakdance-empty-columns-column-icon-column {\\n  margin: 4px;\\n  width: 100%;\\n  background-color: #bfdbfe;\\n  border-radius: 3px;\\n}\\n\\n.breakdance--empty-container:not(.breakdance--active-element) {\\n  outline: 2px solid #eee;\\n  outline-offset: -2px;\\n}\\n\\n/* ELEMENT */\\n\\n.builder-element {\\n  cursor: default;\\n}\\n\\n/* right click menu. This is  duplicated in the RightClickMenu\\n\\nWe need it also here because this is used both in the canvas and the structure panel\\n*/\\n\\n.breakdance-canvas-right-click-menu {\\n  position: absolute;\\n  z-index: 2147483647;\\n  font-family: var(--bde-canvas-font-family);\\n  background-color: var(--white);\\n  box-shadow: 0px 5px 5px -3px rgb(0 0 0 / 20%),\\n    0px 8px 10px 1px rgb(0 0 0 / 14%), 0px 3px 14px 2px rgb(0 0 0 / 12%);\\n  min-width: 200px;\\n  border-radius: 4px;\\n  padding: 6px 0px;\\n  user-select: none;\\n}\\n\\n.breakdance-canvas-right-click-menu-item {\\n  font-size: 13px;\\n  font-weight: 400;\\n  font-size: 13px;\\n  min-height: 40px;\\n  padding-left: 18px;\\n  display: flex;\\n  align-items: center;\\n  justify-content: flex-start;\\n  cursor: pointer;\\n  color: #333;\\n}\\n\\n.breakdance-canvas-right-click-menu-divider {\\n  height: 1px;\\n  background-color: #ddd;\\n  margin-top: 6px;\\n  margin-bottom: 6px;\\n}\\n\\n.breakdance-canvas-right-click-menu-item:hover:not(.breakdance-canvas-right-click-menu-item-disabled) {\\n  background-color: #eee;\\n}\\n\\n.breakdance-canvas-right-click-menu-item-disabled {\\n  opacity: 0.5;\\n  cursor: default !important;\\n}\\n\\n/* Empty State */\\n\\n.breakdance-canvas-empty-element {\\n  display: flex;\\n  flex-direction: column;\\n  justify-content: center;\\n  align-items: center;\\n  width: 100%;\\n  padding: 30px;\\n  text-align: center;\\n  border: 2px dashed #c3c4c7;\\n}\\n\\n.breakdance-canvas-empty-element__title {\\n  font-size: 18px;\\n  font-weight: normal;\\n  color: #646970;\\n  margin-bottom: 0;\\n}\\n\\n/*** Warning ***/\\n\\n.bde-no-custom-query-error {\\n  background: rgb(254, 242, 242);\\n  color: var(--red600);\\n  padding: 12px;\\n}\\n\\n/*** Loading ***/\\n\\n.breakdance-empty-ssr-message {\\n  padding: 12px;\\n  background: rgb(242, 242, 254);\\n  width: 100%;\\n  display: flex;\\n  flex-direction: column;\\n  color: black;\\n  font-size: 13px;\\n  font-weight: 500;\\n  margin: 12px 0;\\n}\\n\\n.breakdance-empty-ssr-message-error {\\n  background: rgb(254, 242, 242);\\n}\\n\\n.breakdance-empty-ssr-message small {\\n  margin-top: 6px;\\n  color: black;\\n  font-size: 11px;\\n  font-weight: 400;\\n}\\n\\n.breakdance-element-is-updating:empty {\\n  min-height: 80px;\\n  max-width: 100%;\\n  width: 400px;\\n}\\n\\n.breakdance-element-is-updating {\\n  opacity: 0.3;\\n  background: repeating-linear-gradient(\\n    45deg,\\n    #eee 0px,\\n    #eee 10px,\\n    #d4d4d4 10px,\\n    #d4d4d4 20px\\n  );\\n}\\n\\n.breakdance-node-titlebar-loading-spinner {\\n  animation: breakdance-node-titlebar-loading-spinner 1s linear infinite;\\n}\\n\\n@keyframes breakdance-node-titlebar-loading-spinner {\\n  0% {\\n    transform: rotate(0deg);\\n  }\\n  100% {\\n    transform: rotate(360deg);\\n  }\\n}\\n\";","import {\n  CreateElement,\n  VNode,\n  VNodeChildren,\n  VNodeChildrenArrayContents,\n  VNodeData\n} from \"vue\";\n\nconst ELEMENT_NODE = 1;\nconst TEXT_NODE = 3;\n\nexport function htmlToVNodes(\n  html: string,\n  createElement: CreateElement,\n  functionToRenderChildren: () => VNode | VNode[],\n  {\n    enableContentEditableAndFocus,\n    saveContentEditable\n  }: {\n    enableContentEditableAndFocus: Function;\n    saveContentEditable: Function;\n  }\n): VNodeChildrenArrayContents {\n  const processNodes = (nodes: NodeListOf<ChildNode>) => {\n    const arrayOfNodes: VNodeChildrenArrayContents = [];\n    nodes.forEach(node => {\n      if (node.nodeType === TEXT_NODE) {\n        // nodeValue can have white spaces and we must preserve them, otherwise the HTML may end up wrong\n        const nodeValue = node.nodeValue;\n\n        if (nodeValue?.trim() === \"%%CHILDREN%%\") {\n          // '<div> %%CHILDREN%% </div>' will lose the whitespace around children, which is technically a bug.\n          // But this probably doesn't matter.\n          arrayOfNodes.push(functionToRenderChildren());\n        } else if (nodeValue) {\n          arrayOfNodes.push(nodeValue);\n        }\n      } else if (node.nodeType === ELEMENT_NODE && node instanceof Element) {\n        /* property attributes actually does exist of nodeType is ELEMENT_NODE, apparently */\n        const rawAttributes = node.attributes;\n        const tag = node.nodeName;\n        const attsObj: VNodeData[\"attrs\"] = {};\n        const domProps: VNodeData[\"domProps\"] = {};\n        const contentEditableEvents: VNodeData[\"on\"] = {};\n        const children: VNodeChildren = [];\n\n        // Don't add class or style if variable is empty (it needs to be undefined as null is considered set)\n        let classString: string | undefined = undefined;\n        let styleString: string | undefined = undefined;\n\n        for (let i = 0; i < rawAttributes.length; i++) {\n          const rawAttribute = rawAttributes.item(i);\n\n          if (rawAttribute) {\n            const attributeName = rawAttribute.name;\n\n            if (attributeName === \"class\") {\n              classString = rawAttribute.value;\n            } else if (attributeName === \"style\") {\n              styleString = rawAttribute.value;\n            } else {\n              attsObj[attributeName] = rawAttribute.value;\n            }\n\n            /**\n             * Once we met content-editable DOM node, there's no point in creating\n             * VNodes for its child DOM nodes. Setting innerHTML is a correct\n             * workaround for this bug:\n             *\n             * https://github.com/vuejs/vue/issues/5805#issuecomment-305951126\n             */\n            if (attributeName === \"data-content-editable-property-path\") {\n              contentEditableEvents.dblclick = enableContentEditableAndFocus;\n              contentEditableEvents.blur = saveContentEditable;\n              domProps.innerHTML = node.innerHTML;\n            }\n          }\n        }\n\n        if (!domProps.innerHTML && node.hasChildNodes()) {\n          children.push(...processNodes(node.childNodes));\n        }\n\n        arrayOfNodes.push(\n          createElement(\n            tag,\n            {\n              class: classString,\n              style: styleString,\n              attrs: { ...attsObj },\n              on: { ...contentEditableEvents },\n              domProps\n            },\n            children\n          )\n        );\n      }\n    });\n\n    return arrayOfNodes;\n  };\n\n  const domParser = new DOMParser();\n\n  // decode the HTML to fix issues like HTML entities '&pound;'\n  const decodedHtml = domParser.parseFromString(html, \"text/html\").body;\n  // Then XML serialize it because we need it to be xhtml to process it and the HTML may not be valid XML (like with img closing tags)\n  const serializedXml = new XMLSerializer().serializeToString(decodedHtml);\n  // remove the body so that we only get the innerHTML. Since this is an XML string, I didn't find any easier way.\n  const xmlWithoutBodyTag = serializedXml\n    // remove the body tags\n    // '.*?' = match everything until the next match,  which is > (non-greedy catch all)\n    .replace(/<body.*?>/, \"\")\n    .replace(\"</body>\", \"\");\n\n  const doc = domParser.parseFromString(\n    \"<root>\" + xmlWithoutBodyTag + \"</root>\",\n    \"application/xhtml+xml\"\n  );\n\n  return processNodes(doc.documentElement.childNodes);\n}\n","import * as t from \"io-ts\";\nimport { ElementDependencyAndConditionV } from \"@/types/elements\";\n\nexport const GlobalGeneratedCssFilePathsV = t.partial({\n  globalSettingsCssFilePath: t.string,\n  globalSelectorsCssFilePath: t.string,\n  defaultCssForAllElementsFilePath: t.string\n});\n\n// this type also exists in Psalm\nexport type GlobalGeneratedCssFilePaths = t.TypeOf<\n  typeof GlobalGeneratedCssFilePathsV\n>;\n\nexport const PostGeneratedCssFilePathsV = t.partial({\n  postCssFilePath: t.string,\n  postDefaultsCssFilePath: t.string\n});\n\n// this type also exists in Psalm\nexport type PostGeneratedCssFilePaths = t.TypeOf<\n  typeof PostGeneratedCssFilePathsV\n>;\n\nexport const PostAssetsWithoutDependenciesV = t.type({\n  postsGeneratedCssFilePaths: t.record(t.string, PostGeneratedCssFilePathsV)\n});\n\nexport const PostAssetsV = t.intersection([\n  PostAssetsWithoutDependenciesV,\n  t.type({\n    dependencies: ElementDependencyAndConditionV\n  })\n]);\n\n// this type also exists in Psalm\nexport type PostAssets = t.TypeOf<typeof PostAssetsV>;\n\n// this type also exists in Psalm\nexport type PostAssetsWithoutDependencies = t.TypeOf<\n  typeof PostAssetsWithoutDependenciesV\n>;\n","import * as t from \"io-ts\";\nimport { PostAssetsV, PostAssetsWithoutDependenciesV } from \"@/types/assets\";\nimport { ElementDependencyAndConditionV } from \"@/types/elements\";\n\nexport const SsrNodeV = t.intersection([\n  t.type({\n    html: t.string\n  }),\n  PostAssetsV\n]);\n\n// this type also exists in Psalm\nexport type SsrNode = t.TypeOf<typeof SsrNodeV>;\n","import { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport { PropertiesData } from \"@/types/tree\";\nimport { documentStore } from \"@/store/store\";\nimport { SsrNode, SsrNodeV } from \"@/types/server-side-render\";\nimport { Either } from \"fp-ts/lib/Either\";\nimport { _Error } from \"@/lib/wordpress/data\";\nimport { getFrontendUrl } from \"@/lib/document\";\nimport { fpJsonStringify } from \"@/util/fp-json-stringify\";\n\nconst debounceTimeoutTable: {\n  [key: number]: NodeJS.Timeout;\n} = {};\n\n/*\n * Works the same as a debounce function, but it return a promise that will execute its function and be resolved\n * after \"interval\" of not being called.\n *\n * It uses a timeoutTable to be able to debounce different calls at the same time.\n */\nfunction promiseDebounce(\n  exec: (...args: any[]) => Promise<Either<_Error[], SsrNode>>,\n  interval: number,\n  id: number\n): () => ReturnType<typeof exec> {\n  let resolves: Array<(value: Promise<Either<_Error[], SsrNode>>) => void> = [];\n\n  return async (...args: unknown[]) => {\n    if (debounceTimeoutTable[id]) {\n      clearTimeout(debounceTimeoutTable[id]);\n    }\n\n    debounceTimeoutTable[id] = setTimeout(() => {\n      const result = exec(...args);\n      resolves.forEach(resolve => resolve(result));\n      resolves = [];\n\n      delete debounceTimeoutTable[id];\n    }, interval);\n\n    return new Promise(resolve => resolves.push(resolve));\n  };\n}\n\nexport function serverSideRender(\n  elementSlug: string,\n  properties: PropertiesData,\n  id: number,\n  parentProperties: PropertiesData\n): Promise<Either<_Error[], SsrNode>> {\n  const makeWordPressAjaxRequestFunction = () =>\n    makeWordPressAjaxRequest({\n      action: \"breakdance_server_side_render\",\n      overrideAjaxUrl: getFrontendUrl(),\n      dataToPost: {\n        properties: fpJsonStringify(properties),\n        parentProperties: fpJsonStringify(parentProperties),\n        elementSlug,\n        triggeringDocument: documentStore.document.documentMeta.id\n      },\n      decoder: SsrNodeV\n    });\n\n  return promiseDebounce(makeWordPressAjaxRequestFunction, 1000, id)();\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-empty-container\",attrs:{\"id\":\"breakdance-empty-container\"}},[_c('div',{staticClass:\"breakdance-empty-container__add-element\",class:{\n      'breakdance-empty-container__add-element--disabled': !_vm.canAddElement\n    },on:{\"click\":_vm.openAddPanel}},[_c('Icon',{attrs:{\"icon\":\"PlusIcon\",\"size\":\"22\"}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { uiStore } from \"@/store/store\";\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { openUiPanel } from \"@/lib/panels/panels\";\nimport Icon from \"@/components/UI/Icon.vue\";\n\n@Component({\n  components: { Icon }\n})\nexport default class EmptyContainer extends Vue {\n  @Prop({ default: null })\n  id!: number | null;\n\n  get canAddElement() {\n    return uiStore.hasFullAccess;\n  }\n\n  openAddPanel(e: Event) {\n    // Don't open links if inside an `a`\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (!this.canAddElement) return;\n\n    openUiPanel(\"add\");\n\n    uiStore.activateElement(this.id);\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmptyContainer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmptyContainer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EmptyContainer.vue?vue&type=template&id=a21ec9ea&\"\nimport script from \"./EmptyContainer.vue?vue&type=script&lang=ts&\"\nexport * from \"./EmptyContainer.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-empty-columns\"},[_c('div',{staticClass:\"breakdance-empty-columns-choices-heading\"},[_vm._v(\" Choose a column structure \")]),_c('div',{staticClass:\"breakdance-empty-columns-choices\"},[_c('div',{staticClass:\"breakdance-empty-columns-choices-row\"},[_c('div',{staticClass:\"breakdance-empty-columns-column-icon-wrapper\",on:{\"click\":function($event){return _vm.addColumns($event, 2)}}},[_vm._m(0)]),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-wrapper\",on:{\"click\":function($event){return _vm.addColumns($event, 3)}}},[_vm._m(1)]),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-wrapper\",on:{\"click\":function($event){return _vm.addColumns($event, 4)}}},[_vm._m(2)])]),_c('div',{staticClass:\"breakdance-empty-columns-choices-row\"},[_c('div',{staticClass:\"breakdance-empty-columns-column-icon-wrapper\",on:{\"click\":function($event){return _vm.addColumns($event, 2, [35, 65])}}},[_vm._m(3)]),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-wrapper\",on:{\"click\":function($event){return _vm.addColumns($event, 2, [65, 35])}}},[_vm._m(4)])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-empty-columns-column-icon\"},[_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\"}),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-empty-columns-column-icon\"},[_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\"}),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\"}),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-empty-columns-column-icon\"},[_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\"}),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\"}),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\"}),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\"})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-empty-columns-column-icon\"},[_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\",staticStyle:{\"width\":\"35%\"}}),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\",staticStyle:{\"width\":\"65%\"}})])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-empty-columns-column-icon\"},[_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\",staticStyle:{\"width\":\"65%\"}}),_c('div',{staticClass:\"breakdance-empty-columns-column-icon-column\",staticStyle:{\"width\":\"35%\"}})])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { PATH_TO_WIDTH_PROPERTY } from \"@/lib/columns/helpers\";\nimport { documentStore } from \"@/store/store\";\nimport { TreeNode } from \"@/types/tree\";\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport lodash from \"lodash\";\nimport { COLUMN_SLUG } from \"@/lib/elements/constants\";\nimport { openUiPanel } from \"@/lib/panels/panels\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport { rewidthColumnsAndCommitToStore } from \"@/lib/columns/rewidthing\";\nimport { parseFloatAndFixTo2Digits } from \"@/util/math\";\n\n@Component({})\nexport default class EmptyColumns extends Vue {\n  @Prop()\n  id!: number;\n\n  addColumns(e: Event, numberOfColumns: number, columnWidths?: number[]) {\n    // Don't open links if inside an `a`\n    e.preventDefault();\n    e.stopPropagation();\n\n    const nodes: TreeNode[] = [];\n    const columnProperties = columnWidths\n      ? columnWidths.map(columnWidth => {\n          const columnWidthSanitized = parseFloatAndFixTo2Digits(columnWidth);\n\n          return lodash.set({}, PATH_TO_WIDTH_PROPERTY, {\n            number: columnWidthSanitized,\n            unit: \"%\",\n            style: `${columnWidthSanitized}%`\n          });\n        })\n      : []; // rewidthColumnsAndCommitToStore will do all the math necessary for the columns when they're equal\n\n    for (let i = 0; i < numberOfColumns; i++) {\n      nodes.push({\n        id: i,\n        data: {\n          type: COLUMN_SLUG,\n          properties: columnWidths ? columnProperties[i] : {}\n        },\n        children: []\n      });\n    }\n\n    breakdanceUndo.transaction(() => {\n      documentStore.addMultipleNodes({\n        nodes: nodes,\n        parentId: this.id\n      });\n\n      if (!columnWidths) {\n        rewidthColumnsAndCommitToStore(this.id);\n      }\n    }, `Set amount of columns to ${numberOfColumns}`);\n\n    openUiPanel(\"elementproperties\");\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmptyColumns.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmptyColumns.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EmptyColumns.vue?vue&type=template&id=3a94f906&\"\nimport script from \"./EmptyColumns.vue?vue&type=script&lang=ts&\"\nexport * from \"./EmptyColumns.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","const excludedScripts = [\"jquery\", \"wp-polyfill-js\"];\n\nexport function rerunAllScriptsInCanvasDocumentBody() {\n  const canvasDocument = window.Breakdance.canvas.document;\n  const allScripts = canvasDocument.querySelectorAll(\n    // only the direct children of the body\n    `script`\n  ) as NodeListOf<HTMLScriptElement>;\n\n  for (const script of allScripts) {\n    if (\n      excludedScripts.find(\n        excludedScript =>\n          script.id.toLowerCase().includes(excludedScript) ||\n          script.src.toLowerCase().includes(excludedScript)\n      )\n    ) {\n      continue;\n    }\n\n    const newScript = cloneScriptNode(script);\n\n    script.remove();\n    canvasDocument.querySelector(\"body\")?.appendChild(newScript);\n  }\n}\n\nfunction cloneScriptNode(scriptNode: HTMLScriptElement) {\n  const newScriptNode = document.createElement(\"script\");\n\n  Array.from(scriptNode.attributes).forEach(attr => {\n    newScriptNode.setAttribute(attr.name, attr.value);\n  });\n\n  if (scriptNode.src) {\n    newScriptNode.src = scriptNode.src;\n  } else {\n    newScriptNode.innerHTML = scriptNode.innerHTML;\n  }\n\n  return newScriptNode;\n}\n","import { RequiredPlugin } from \"@/types/elements\";\n\nexport const emptyHtmlFromSsrMessage = `\n<div class=\"breakdance-empty-ssr-message\">\n    This element has no content.\n\n    <small>Hide this notice at <i>Preferences / UI Settings / Disable Notice For Empty SSR Elements</i></small>\n</div>`;\n\nexport const ssrErrorMessage = `\n<div class=\"breakdance-empty-ssr-message breakdance-empty-ssr-message-error\">\n    There was an error on the server when rendering this element.\n</div>`;\n\nexport const requiredPluginsNotAvailableMessage = (\n  elementName: string,\n  requiredPlugins: RequiredPlugin[]\n) => {\n  return `\n<div class=\"breakdance-empty-ssr-message breakdance-empty-ssr-message-error\">\n    The <strong>\"${elementName}\"</strong> element requires the plugins <em>\"${requiredPlugins.join(\n    \", \"\n  )}\"</em>. Please check that they are installed and activated from the Plugins page of the WP admin.\n</div>`;\n};\n","\nimport AsyncComputed from \"vue-async-computed-decorator\";\nimport Vue, { CreateElement, VNodeData } from \"vue\";\nimport { Component, Prop, Watch } from \"vue-property-decorator\";\nimport { generateCss } from \"@/lib/canvas/styles\";\nimport { PropertiesData, TreeNode } from \"@/types/tree\";\nimport {\n  getDynamicShortcodesFromPropertiesData,\n  loadDynamicData\n} from \"@/lib/dynamic-data/load\";\nimport lodash from \"lodash\";\nimport { applyFilters } from \"@/lib/api/api\";\nimport {\n  configStore,\n  documentStore,\n  globalStore,\n  uiStore\n} from \"@/store/store\";\nimport { addBuilderElementDependenciesToHead } from \"@/lib/canvas/builder-element-dependencies\";\nimport { htmlToVNodes } from \"@/lib/canvas/html-to-vnodes\";\nimport { serverSideRender } from \"@/lib/server-side-render/server-side-render\";\nimport { SelectorCSSName } from \"@/types/selectors\";\nimport { VNode } from \"vue/types/vnode\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\n\nimport EmptyContainer from \"@/components/Canvas/Empty/EmptyContainer.vue\";\nimport EmptyColumns from \"@/components/Canvas/Empty/EmptyColumns.vue\";\nimport {\n  getBuilderElementAdditionalClassTemplateCacheKey,\n  getBuilderElementAttributeTemplateCacheKey,\n  getBuilderElementTemplateCacheKey,\n  renderTags,\n  renderTwig\n} from \"@/lib/twig/twig\";\nimport { breakdanceStoreActions } from \"@/store/actions/store-actions\";\nimport {\n  getDynamicMetaPath,\n  isDynamicShortcode\n} from \"@/lib/dynamic-data/utils\";\nimport { isObject, objectDeepMap } from \"@/util/objects\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport { rerunAllScriptsInCanvasDocumentBody } from \"@/lib/server-side-render/rerun-javascripts\";\nimport { BuilderElementAttribute } from \"@/types/elements\";\nimport { COLUMNS_SLUG } from \"@/lib/elements/constants\";\nimport { openUiPanel } from \"@/lib/panels/panels\";\nimport { EasyEvent, isCanvasEvent } from \"@/util/easy-event\";\nimport {\n  emptyHtmlFromSsrMessage,\n  requiredPluginsNotAvailableMessage,\n  ssrErrorMessage\n} from \"@/lib/canvas/ssr-html-strings\";\nimport {\n  addOrUpdateElementSubStylesComingFromSsr,\n  addOrUpdateGeneratedBuilderElementDefaultStylesInlineCSSInCanvasHead,\n  addOrUpdateGeneratedBuilderElementStylesInlineCSSInCanvasHead,\n  removeElementDefaultStylesFromCanvasHead,\n  removeElementStylesCameFromSsrFromCanvasHead,\n  removeElementStylesFromCanvasHead\n} from \"@/lib/canvas/assets/css-in-head\";\nimport { countNodesOfTypeInTree, isDescendant } from \"@/lib/tree/tree\";\nimport { getBuilderCanvasDocument } from \"@/lib/canvas/helpers\";\nimport {\n  getNodeHtmlId,\n  getClassNameForNode,\n  getBaseClassNameForBuilderElement\n} from \"@/lib/elements/utils\";\nimport { getNestingRuleFromElementSlug } from \"@/lib/tree/nesting\";\nimport { jsonStringifyOrUndefined } from \"@/util/json-stringify-or-undefined\";\nimport { isDefined } from \"ts-is-present\";\nimport { generateDocumentStorePropertyChangeSnapshotLabel } from \"@/lib/undo/snapshot-labels/document-store-property-change.utils\";\nimport { SnapshotLabelAction } from \"@/types/snapshot\";\nimport { getHash } from \"@/util/hash\";\nimport { GLOBAL_SETTINGS_PATHS } from \"@/store/modules/global\";\nimport { DynamicFieldOutput } from \"@/types/dynamic-data\";\nimport { nl2br } from \"@/util/nl2br\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { v4 } from \"uuid\";\nimport { SsrNode } from \"@/types/server-side-render\";\n\nconst addDependenciesToHeadDebounced = lodash.debounce(\n  addBuilderElementDependenciesToHead,\n  500\n);\n\n@Component({})\nexport default class BuilderElementComponent extends Vue {\n  // TODO - this is a TreeNode. Not an element. Rename it to node.\n  @Prop()\n  element!: TreeNode;\n\n  @Prop()\n  parentId!: number;\n\n  @Prop()\n  ssrParentProperties?: PropertiesData;\n\n  isActive = false;\n\n  /**\n   * @see https://github.com/soflyy/breakdance/issues/4236\n   */\n  uniqueId = v4();\n\n  get isEmptyContainer() {\n    const elementNestingRuleType = getNestingRuleFromElementSlug(\n      this.element.data.type\n    ).type;\n\n    const isContainer =\n      elementNestingRuleType === \"popup\" ||\n      elementNestingRuleType === \"container\" ||\n      elementNestingRuleType === \"container-link\" ||\n      elementNestingRuleType === \"section\";\n\n    return isContainer && this.element.children.length === 0;\n  }\n\n  get isEmptyColumns() {\n    return (\n      this.element.data.type === COLUMNS_SLUG &&\n      this.element.children.length === 0\n    );\n  }\n\n  get parentProps() {\n    const sharePropsWithSSRChildren =\n      this.baseElement.settings &&\n      this.baseElement.settings.sharePropsWithSSRChildren;\n\n    // Intentionally ignore design props.\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    const { design, ...props } = this.element.data.properties || {};\n\n    // Share its own properties if it must, otherwise pass down the parent's\n    // because we don't know if at some higher level the parent is sharing them\n    return (sharePropsWithSSRChildren ? props : this.ssrParentProperties) || {};\n  }\n\n  __render(h: CreateElement) {\n    const RootTag = this.rootTag;\n\n    if (!this.shouldShow) {\n      return false;\n    }\n\n    if (this.isEmptyColumns) {\n      return (\n        <RootTag\n          {...{ attrs: { ...this.attributes } }}\n          onMousedown={this.activateAndMaybeStartDrag}\n          onDragstart={this.disableDefaultDrag}\n          onClick={this.maybePreventDefault}\n          id={this.htmlId}\n          class={this.classList}\n        >\n          <EmptyColumns\n            // @ts-ignore\n            id={this.element.id}\n          />\n        </RootTag>\n      );\n    }\n    const innerHTML = renderTags(this.processedTemplate, {\n      ssr: this.ssrValueOrMessage\n    });\n\n    const children = this.isEmptyContainer ? (\n      <EmptyContainer\n        // @ts-ignore\n        id={this.element.id}\n      />\n    ) : (\n      this.element.children.map(node => {\n        return (\n          <BuilderElementComponent\n            // @ts-ignore\n            key={node.id}\n            // @ts-ignore\n            element={node}\n            parentId={this.element.id}\n            ssrParentProperties={this.parentProps}\n          />\n        );\n      })\n    );\n\n    const shouldRenderContentAsHtml =\n      // content editable elements don't have children since their content is a string. Use their innerHTML directly\n      this.contentEditablePropertyPath ||\n      // SSR content should be replaced, as JS can modify an element in the html, and it won't be updated since the SSR didn't change that child.\n      (this.ssrValueOrMessage !== null &&\n        // except when it needs to render %%CHILDREN%%. We need to convert them into v nodes\n        !this.ssrValueOrMessage.includes(\"%%CHILDREN%%\"));\n\n    const domProps: VNodeData[\"domProps\"] = {};\n\n    if (shouldRenderContentAsHtml) {\n      domProps.innerHTML = innerHTML;\n    }\n\n    const arrayOfChildVNodes = shouldRenderContentAsHtml\n      ? []\n      : htmlToVNodes(\n          innerHTML,\n          h,\n          /* %%CHILDREN%% in the HTML will be replaced with this jsx */\n          () => children,\n          {\n            enableContentEditableAndFocus: this.enableContentEditableAndFocus,\n            saveContentEditable: this.saveContentEditable\n          }\n        );\n\n    return h(\n      this.rootTag,\n      {\n        class: this.classList,\n        attrs: {\n          ...this.attributes,\n          id: this.htmlId\n        },\n        domProps,\n        on: {\n          mousedown: this.activateAndMaybeStartDrag,\n          dragstart: this.disableDefaultDrag,\n          click: this.maybePreventDefault,\n          dblclick: this.contentEditablePropertyPath\n            ? this.enableContentEditableAndFocus\n            : () => {},\n          blur: this.contentEditablePropertyPath\n            ? this.saveContentEditable\n            : () => {}\n        }\n      },\n      arrayOfChildVNodes\n    );\n  }\n\n  render(h: CreateElement) {\n    return this.__render(h) as VNode;\n  }\n\n  /*\n  Create a hash of the element properties. It's a simple way to verify a change\n  */\n  get elementPropertiesHash() {\n    const elementPropertiesAsJsonString =\n      jsonStringifyOrUndefined(this.element.data.properties) || \"\";\n\n    return getHash(`${elementPropertiesAsJsonString}${this.element.id}`);\n  }\n\n  get processedTemplate() {\n    if (\n      !this.hasRequiredPluginsAndTheyAreAvailable &&\n      this.baseElement.settings &&\n      this.baseElement.settings.requiredPlugins\n    ) {\n      return requiredPluginsNotAvailableMessage(\n        this.baseElement.name,\n        this.baseElement.settings.requiredPlugins\n      );\n    }\n\n    const template = renderTwig(\n      this.baseElement.template,\n      this.twigProps,\n      getBuilderElementTemplateCacheKey(this.baseElement)\n    );\n\n    if (!template) return \"\";\n\n    return renderTags(template, this.tags);\n  }\n\n  get shouldSsr() {\n    const isModifiedPropertyWhitelistedForSsrOrThereIsNoWhitelist =\n      uiStore.lastModifiedElementProperty.elementId === this.element.id &&\n      this.baseElement.propertyPathsToSsrElementWhenValueChanges\n        ? this.baseElement.propertyPathsToSsrElementWhenValueChanges.find(\n            path =>\n              // startsWith because a path can be for a sections to make all children SSR\n              uiStore.lastModifiedElementProperty.path?.startsWith(path)\n          )\n        : true;\n\n    return (\n      this.processedTemplate.includes(\"%%SSR%%\") &&\n      (isModifiedPropertyWhitelistedForSsrOrThereIsNoWhitelist ||\n        this.refreshSsr)\n    );\n  }\n\n  get refreshSsr() {\n    if (!uiStore.refreshSsrElementId) return false;\n\n    return uiStore.refreshSsrElementId === this.element.id;\n  }\n\n  get hasRequiredPluginsAndTheyAreAvailable() {\n    if (\n      !this.baseElement.settings ||\n      !this.baseElement.settings.requiredPlugins\n    ) {\n      return true;\n    }\n\n    const availablePlugins = this.baseElement.settings.requiredPlugins.filter(\n      requiredPlugin =>\n        configStore.availableWordpressPlugins.includes(requiredPlugin)\n    );\n\n    return (\n      availablePlugins.length ===\n      this.baseElement.settings.requiredPlugins.length\n    );\n  }\n\n  get ssrValueOrMessage() {\n    // An element with no ssr content may be updated by a non-ssr prop, so shouldSsr is false\n    if (this.ssrInnerHtml === \"\") {\n      if (uiStore.settings.disableNoticeForEmptySSRElements) return \"\";\n\n      return emptyHtmlFromSsrMessage;\n    }\n\n    // Keep the SSR result if a non-SSR property is changed\n    if (!this.shouldSsr && !this.ssrInnerHtml) return null;\n\n    if (this.isElementUpdating) {\n      return this.ssrInnerHtml || \"\";\n    }\n\n    return this.ssrInnerHtml;\n  }\n\n  get tags() {\n    return {\n      id: this.element.id,\n      selector: this.elementSelector,\n      uniqueSlug: this.uniqueClassName,\n      postId: this.postId,\n      elementName: this.baseElement.name\n    };\n  }\n\n  get isElementUpdating() {\n    return !!uiStore.elementsThatAreUpdating[this.element.id];\n  }\n\n  ssrInnerHtml: null | string = null;\n\n  oldSsrParentProperties = defensiveCopy(this.ssrParentProperties);\n\n  @Watch(\"ssrParentProperties\", {\n    deep: true\n  })\n  async rerenderFromServeOnParentPropertyChange() {\n    if (!this.shouldSsr) return;\n\n    // Prop object references change on every render\n    // So we can't rely on @Watch without comparing if the value actually changed\n    // Use state for old value, since @Watch newValue/oldValue params are the same for props\n    // Details & video explanation: https://github.com/soflyy/breakdance/pull/3856\n    if (\n      !lodash.isEqual(this.ssrParentProperties, this.oldSsrParentProperties)\n    ) {\n      this.oldSsrParentProperties = defensiveCopy(this.ssrParentProperties);\n      await this.maybeRerenderFromServer();\n\n      // Why are we not calling \"runActionsAfterSsr\" here? Is that on purpose?\n    }\n  }\n\n  @Watch(\"refreshSsr\")\n  async rerenderFromServerOnRefreshSsr() {\n    if (this.refreshSsr) {\n      await this.maybeRerenderFromServer();\n\n      uiStore.setRefreshSsrElementId(null);\n\n      this.runActionsAfterSsr();\n    }\n  }\n\n  oldTwigProps = defensiveCopy(this.element.data.properties);\n  @Watch(\"twigProps\")\n  async maybeRerenderFromServerOnPropertyChange() {\n    if (!this.shouldSsr) {\n      // An element can have conditional SSR. Clean the SSR result if it's no longer applicable\n      if (!this.processedTemplate.includes(\"%%SSR%%\")) {\n        this.ssrInnerHtml = null;\n        /**\n         * TODO this call entirely or some of its sub-calls may be redundant,\n         * it used to be a part of a ditched \"ssrInnerHtml\" watcher function,\n         * and was preserved for a potential backwards compatibility.\n         */\n        this.updateSsrDependenciesAndStyles();\n        // TODO shouldn't we also clean SSR dependencies and styles?\n      }\n\n      return;\n    }\n\n    /**\n     * When switching previews, \"dynProps\" will rerun, causing twigProps to change in reference but not value\n     * If we rerun SSR at this point, it'll be\n     *\n     * 1) useless since no properties changed and\n     * 2) bug prone because actions (like onMount) can run before the element finished rendering\n     *\n     * This also prevents useless re-renders when mounting an ssr element\n     *\n     * Explanation: https://github.com/soflyy/breakdance/pull/4290\n     */\n    if (lodash.isEqual(this.twigProps, this.oldTwigProps)) {\n      return;\n    }\n\n    this.oldTwigProps = this.twigProps;\n    await this.maybeRerenderFromServer();\n\n    this.runActionsAfterSsr();\n  }\n\n  runActionsAfterSsr() {\n    breakdanceStoreActions.run.onBeforeDeletingElement({\n      elementId: this.element.id\n    });\n\n    if (this.element._parentId) {\n      breakdanceStoreActions.run.onAfterDeletedElement({\n        deletedElementNodeType: this.element.data.type,\n        parentIdOfDeletedElement: this.element._parentId,\n        transactionKey: undefined\n      });\n    }\n\n    breakdanceStoreActions.run.onMountedElement({\n      elementId: this.element.id\n    });\n  }\n\n  async maybeRerenderFromServer() {\n    if (!this.shouldSsr) {\n      return;\n    }\n\n    uiStore.setElementUpdatingState({\n      elementId: this.element.id,\n      isUpdating: true\n    });\n\n    const ssrNode = pipe(\n      await serverSideRender(\n        this.baseElement.slug,\n        this.element.data.properties,\n        this.element.id,\n        this.parentProps\n      ),\n      fold(\n        errors => {\n          errors.forEach(error => {\n            NotificationLogger.log.message(error.msg);\n          });\n\n          return {\n            html: ssrErrorMessage,\n            postsGeneratedCssFilePaths: {},\n            dependencies: {}\n          };\n        },\n        ssrNode => ssrNode\n      )\n    );\n\n    uiStore.setElementUpdatingState({\n      elementId: this.element.id,\n      isUpdating: false\n    });\n\n    this.ssrInnerHtml = ssrNode.html;\n    this.updateSsrDependenciesAndStyles(\n      ssrNode.dependencies,\n      ssrNode.postsGeneratedCssFilePaths\n    );\n  }\n\n  maybeRerunAllScriptsInCanvasDocumentBody() {\n    const dependsOnGlobalScripts =\n      this.baseElement.settings &&\n      this.baseElement.settings.dependsOnGlobalScripts;\n\n    if (dependsOnGlobalScripts) {\n      rerunAllScriptsInCanvasDocumentBody();\n    }\n  }\n\n  /**\n   * This cannot be inside a \"ssrInnerHtml\" watcher:\n   * ssrInnerHtml value may remain intact after re-render,\n   * but the contents of CSS files may change.\n   */\n  updateSsrDependenciesAndStyles(\n    dependencies?: SsrNode[\"dependencies\"],\n    postsGeneratedCssFilePaths?: SsrNode[\"postsGeneratedCssFilePaths\"]\n  ) {\n    this.maybeRerunAllScriptsInCanvasDocumentBody();\n\n    if (dependencies) {\n      addBuilderElementDependenciesToHead(getBuilderCanvasDocument(), {\n        dependencies: [dependencies],\n        // An element (like Block elements) can be added multiple times with scripts that need to rerun\n        addInlineScriptsAsUnique: false,\n        element: this.element\n      });\n    }\n\n    addOrUpdateElementSubStylesComingFromSsr(\n      getBuilderCanvasDocument(),\n      this.element.id,\n      postsGeneratedCssFilePaths\n    );\n  }\n\n  get shouldShow() {\n    return applyFilters(\n      \"elementShouldShow\",\n      true,\n      this.element.data.properties,\n      {\n        currentBreakpoint: uiStore.currentBreakpoint\n        // Add any data you want to share with filters here\n      }\n    );\n  }\n\n  get breakpoints() {\n    return configStore.breakpoints;\n  }\n\n  // Update the styles if a breakpoint changes\n  // E.G: a breakpoint value was updated or the user switched breakpoint types\n  @Watch(\"breakpoints\", { deep: true })\n  onBreakpointsChange() {\n    this.generateElementsCSS();\n  }\n\n  @Watch(\"twigProps\", { deep: true, immediate: true })\n  onTwigPropsChange() {\n    this.generateElementsCSS();\n  }\n\n  //--- These values can change through Element Studio\n  @Watch(\"baseElement.cssTemplate\")\n  onCssTemplateChange() {\n    this.generateElementsCSS();\n  }\n\n  @Watch(\"baseElement.defaultCss\")\n  onDefaultCssChange() {\n    this.generateElementsCSS();\n  }\n\n  @Watch(\"baseElement.dependencies\", { deep: true })\n  onInternalDependenciesChange() {\n    if (this.baseElement.dependencies) {\n      // Don't run internal scripts to avoid errors if the code is being saved before it's ready\n      // Let the user execute manually\n      const internalDependenciesWithoutInlineScripts = this.baseElement.dependencies.map(\n        deps => ({\n          ...deps,\n          inlineScripts: []\n        })\n      );\n\n      addDependenciesToHeadDebounced(getBuilderCanvasDocument(), {\n        dependencies: internalDependenciesWithoutInlineScripts,\n        tags: this.tags,\n        element: this.element\n      });\n    }\n  }\n  //---\n\n  //---\n  get globalSettings() {\n    return globalStore.globalSettings;\n  }\n\n  /**\n   * For typography macro presets, we only render the values if they're set (so only add font-weight if it's set in the preset)\n   * But the element is not tied to the global settings in any way (aka, no reactivity)\n   * so a change in global settings won't cause a re-render without this\n   *\n   * Downside: a change in Global Settings will re-render *all* elements, even ones without typography or presets.\n   * If this becomes too slow, we should find a way to know if an element has a typography preset set.\n   */\n  @Watch(`globalSettings.${GLOBAL_SETTINGS_PATHS.typographyPresets}`, {\n    deep: true\n  })\n  refreshIfTypographyPresetsChange() {\n    this.generateElementsCSS();\n  }\n\n  get elementChildrenCount() {\n    return this.element.children.length;\n  }\n\n  @Watch(\"elementChildrenCount\", {})\n  elementChildrenCountChanged() {\n    this.generateElementsCSS();\n  }\n\n  generateElementsCSS() {\n    const css = generateCss(\n      this.twigProps,\n      this.breakpoints,\n      this.baseElement.cssTemplate,\n      this.tags,\n      this.baseElement.propertyPathsToWhitelistInFlatProps,\n      this.elementChildrenCount\n    );\n\n    // default CSS first to make the element's CSS (the func below) higher precedence\n    addOrUpdateGeneratedBuilderElementDefaultStylesInlineCSSInCanvasHead(\n      getBuilderCanvasDocument(),\n      this.baseElement.slug,\n      this.baseElement.defaultCss\n    );\n\n    addOrUpdateGeneratedBuilderElementStylesInlineCSSInCanvasHead(\n      getBuilderCanvasDocument(),\n      this.element.id,\n      css,\n      this.uniqueId\n    );\n  }\n\n  async mounted() {\n    /**\n     * TODO this call entirely or some of its sub-calls might be redundant.\n     * It used to be a part of a ditched \"ssrInnerHtml\" watcher function,\n     * which was \"immediate\" and fired before mount,\n     * so this call was preserved for backwards compatibility.\n     * @see https://github.com/soflyy/breakdance/pull/4560/files#r1013915111\n     */\n    this.updateSsrDependenciesAndStyles();\n\n    // Run both method in parallel\n    await Promise.all([\n      this.loadDependencies(),\n      this.maybeRerenderFromServer()\n    ]);\n\n    // Run onMountedElement action after dependencies and SSR are loaded\n    breakdanceStoreActions.run.onMountedElement({\n      elementId: this.element.id\n    });\n  }\n\n  destroyed() {\n    const areThereNoOtherElementsOfThisType =\n      countNodesOfTypeInTree(\n        documentStore.document.tree.root,\n        this.baseElement.slug\n      ) === 0;\n\n    if (areThereNoOtherElementsOfThisType) {\n      removeElementDefaultStylesFromCanvasHead(\n        getBuilderCanvasDocument(),\n        this.baseElement.slug\n      );\n    }\n\n    removeElementStylesFromCanvasHead(\n      getBuilderCanvasDocument(),\n      this.element.id,\n      this.uniqueId\n    );\n\n    removeElementStylesCameFromSsrFromCanvasHead(\n      getBuilderCanvasDocument(),\n      this.element.id\n    );\n\n    if (this.element._parentId) {\n      breakdanceStoreActions.run.onAfterDeletedElement({\n        deletedElementNodeType: this.element.data.type,\n        parentIdOfDeletedElement: this.element._parentId,\n        transactionKey: `DocumentDeleteElement:ID:${this.element.id}`\n      });\n    }\n  }\n\n  loadDependencies() {\n    return addBuilderElementDependenciesToHead(getBuilderCanvasDocument(), {\n      dependencies: [\n        ...(this.baseElement.dependencies || []),\n        ...(configStore.elementsExternalAttrsDepsAndActions.dependencies || [])\n      ],\n      element: this.element,\n      tags: this.tags\n    });\n  }\n\n  get elementSelector() {\n    return `.breakdance .${this.uniqueClassName}`;\n  }\n\n  get rootTag(): string {\n    const customTag: unknown = this.baseElement.htmlTag.pathToControl\n      ? lodash.get(\n          this.element.data.properties,\n          this.baseElement.htmlTag.pathToControl\n        )\n      : this.element.data.properties?.settings?.advanced?.tag;\n\n    if (typeof customTag === \"string\")\n      return customTag || this.baseElement.htmlTag.default;\n\n    return this.baseElement.htmlTag.default;\n  }\n\n  get baseElement() {\n    return configStore.element(this.element.data.type);\n  }\n\n  // @ts-ignore\n  @AsyncComputed({\n    default: function() {\n      // if we use %%SSR%% inside a twig conditional, it'll run on mounted, before \"dynProps\" are calculated\n      // So it'll never run because twigProps = {}, instead of the real element props. This is a better default than \"{}\"\n      return this.element.data.properties;\n    },\n    // Rerun when the hash changes\n    watch: [\"elementPropertiesHash\"]\n  })\n  async dynProps(): Promise<unknown> {\n    if (configStore.dynamicDataCache.loading) {\n      return this.element.data.properties;\n    }\n\n    const cachedDynamicData = configStore.dynamicDataCache.data;\n\n    const dynamicShortcodes = getDynamicShortcodesFromPropertiesData(\n      this.element.data.properties,\n      cachedDynamicData\n    );\n\n    const uncachedDynamicShortcodes = dynamicShortcodes.filter(\n      dynamicShortcode =>\n        !Object.keys(cachedDynamicData).includes(dynamicShortcode)\n    );\n\n    // Request new dynamic values if they're not in the store (e.g. the element was added)\n    if (uncachedDynamicShortcodes.length) {\n      const newDynamicData = await loadDynamicData(uncachedDynamicShortcodes);\n      configStore.updateDynamicDataCache({\n        ...cachedDynamicData,\n        ...newDynamicData\n      });\n    }\n\n    const isThereSomethingToPreview = !!configStore.previewedItem;\n\n    return objectDeepMap(this.element.data.properties, (value: unknown) => {\n      if (isDynamicShortcode(value)) {\n        /*\n        if there is nothing to preview (i.e. preview dropdown is in an error state)\n        we show the raw shortcode.\n\n        if there is something to preview, then dynamic data is working, and\n        if a dynamic data point really is blank/undefined/false/whatever...\n        then we just let it be blank. we don't return the raw shortcode.\n        we only return the raw shortcode when the preview dropdown is in an error state.\n\n        relevant explanation / rationale / thoughts: https://github.com/soflyy/breakdance/issues/349#issuecomment-882815000\n        */\n        if (cachedDynamicData[value] || isThereSomethingToPreview) {\n          return cachedDynamicData[value];\n        }\n        return value;\n      }\n\n      return value;\n    });\n  }\n\n  get twigProps() {\n    if (\n      isObject(this.element.data.properties) &&\n      Object.entries(this.element.data.properties).length !== 0\n    ) {\n      return this.dynProps;\n    }\n\n    return {};\n  }\n\n  get postId() {\n    return documentStore.document.documentMeta.id;\n  }\n\n  get htmlId() {\n    return getNodeHtmlId(this.element);\n  }\n\n  get currentlyDragging() {\n    return uiStore.currentlyDraggingCanvasElementId === this.element.id;\n  }\n\n  get uniqueClassName() {\n    return getClassNameForNode(this.element, this.postId);\n  }\n\n  get baseClassName() {\n    return getBaseClassNameForBuilderElement(this.baseElement);\n  }\n\n  get classList() {\n    const classes = [\n      this.uniqueClassName,\n      \"builder-element\",\n      this.baseClassName\n    ];\n\n    if (this.isActive) {\n      classes.push(\"breakdance--active-element\");\n    }\n\n    if (this.currentlyDragging) {\n      classes.push(\"breakdance--currently-dragging\");\n    }\n\n    if (this.isEmptyContainer) {\n      classes.push(\"breakdance--empty-container\");\n    }\n\n    const classList = (this.element.data.properties?.settings?.advanced\n      ?.classes ?? false) as false | SelectorCSSName[];\n\n    if (classList) {\n      classes.push(...classList);\n    }\n\n    if (\n      this.baseElement.settings &&\n      this.baseElement.settings.bypassPointerEvents\n    ) {\n      classes.push(\"breakdance-children-pointer-events-none\");\n    }\n\n    if (this.isElementUpdating) {\n      classes.push(\"breakdance-element-is-updating\");\n    }\n\n    classes.push(...this.additionalClasses);\n\n    return classes;\n  }\n\n  get additionalClasses(): string[] {\n    if (!this.baseElement.additionalClasses) return [];\n    return this.baseElement.additionalClasses\n      .map(classRule => {\n        const template = renderTwig(\n          classRule.template,\n          this.twigProps,\n          getBuilderElementAdditionalClassTemplateCacheKey(\n            this.baseElement,\n            classRule\n          )\n        );\n\n        if (!template) return;\n\n        return {\n          name: classRule.name,\n          include: template\n        };\n      })\n      .filter(isDefined)\n      .filter(x => !!x.include)\n      .map(x => x.name);\n  }\n\n  renderAttributeValue(attribute: BuilderElementAttribute): string | null {\n    if (\"template\" in attribute) {\n      return renderTwig(\n        attribute.template,\n        this.twigProps,\n        getBuilderElementAttributeTemplateCacheKey(this.baseElement, attribute)\n      );\n    }\n    if (\"propertyPath\" in attribute) {\n      return String(\n        lodash.get(this.element.data.properties, attribute.propertyPath, \"\")\n      );\n    }\n    if (\"rawValue\" in attribute) {\n      return attribute.rawValue;\n    }\n\n    return null;\n  }\n\n  get attributes() {\n    type attrs = {\n      [key: string]: string | undefined;\n    };\n    const atts: attrs = {};\n\n    /* attribute rules defined by the element */\n    const attributes = [\n      ...(this.baseElement.attributes || []),\n      ...(configStore.elementsExternalAttrsDepsAndActions.attributes || [])\n    ];\n\n    attributes.forEach(rule => {\n      const value = this.renderAttributeValue(rule);\n\n      if (value) {\n        atts[rule.name] = renderTags(value, this.tags);\n      }\n    });\n\n    type Attribute = { name: string; value: string };\n\n    /* user attribute settings at settings. this might make more sense to code in a plugin and run with a hook */\n    const userAttSettings = (this.element.data.properties?.settings?.advanced\n      ?.attributes ?? []) as Attribute[];\n\n    userAttSettings.forEach((userAtt: Attribute) => {\n      atts[userAtt.name] = userAtt.value;\n    });\n\n    atts[\"data-node-id\"] = `${this.element.id}`;\n\n    // remove blank attributes.\n    const cleanAtts: attrs = {};\n\n    Object.keys(atts).forEach(key => {\n      if (atts[key]) {\n        cleanAtts[key] = atts[key];\n      }\n    });\n\n    return cleanAtts;\n  }\n\n  get contentEditablePropertyPath() {\n    return this.attributes[\"data-content-editable-property-path\"];\n  }\n\n  get activeElementId() {\n    return uiStore.activeElementId;\n  }\n\n  get isDragAndDropEnabled() {\n    return uiStore.hasFullAccess;\n  }\n\n  /**\n   * If isActive was a computed property, any change made to\n   * the uiStore.activeElementId would cause a complete re-render\n   * of the component.\n   */\n  @Watch(\"activeElementId\", { immediate: true })\n  handleActiveElementIdChange() {\n    this.isActive = this.activeElementId === this.element.id;\n  }\n\n  get behaviorModeEnabled() {\n    const builderBehaviorId = uiStore.builderBehaviorElementId;\n\n    if (builderBehaviorId) {\n      return isDescendant(\n        documentStore.document.tree,\n        builderBehaviorId,\n        this.element.id\n      );\n    }\n\n    return false;\n  }\n\n  /* drag logic */\n  dragMouseStartX: false | number = false;\n  dragMouseStartY: false | number = false;\n\n  easyEvent = new EasyEvent();\n\n  activateElement() {\n    if (this.behaviorModeEnabled) return;\n\n    uiStore.activateElement(this.element.id);\n    openUiPanel(\"elementproperties\");\n  }\n\n  canDrag(e: MouseEvent) {\n    if (!this.isDragAndDropEnabled) return false;\n\n    const target = e.target as HTMLElement;\n    const elementsToIgnore = [\"textarea\", \"input\", \"select\"];\n    const currentElement = target.tagName.toLowerCase();\n\n    // disable dragging if the current element should be ignored.\n    if (elementsToIgnore.includes(currentElement)) return false;\n\n    // html content editable relies on mousedown events\n    if (uiStore.elementWithContentEditable) return false;\n\n    return true;\n  }\n\n  disableDefaultDrag(e: MouseEvent) {\n    // Prevents the default html-draggable event from happening\n    e.preventDefault();\n  }\n\n  maybePreventDefault(event: Event) {\n    /*\n     * Prevent:\n     * 1. Following links in the Builder\n     * 2. Buttons from submitting forms.\n     */\n\n    const target = event.target as HTMLElement;\n    const elementsToPrevent = [\"a\", \"button\"];\n    const selector = elementsToPrevent.join(\", \");\n    const isAChild = elementsToPrevent.some(el => target.closest(el));\n\n    if (target.matches(selector) || isAChild) {\n      event.preventDefault();\n    }\n  }\n\n  activateAndMaybeStartDrag(e: MouseEvent) {\n    e.stopPropagation();\n\n    this.activateElement();\n\n    if (!this.canDrag(e)) return;\n    if (this.behaviorModeEnabled) return;\n\n    this.dragMouseStartX = e.clientX;\n    this.dragMouseStartY = e.clientY;\n\n    this.easyEvent.on(\"mousemove\", this.dragging);\n    this.easyEvent.on(\"mouseup\", this.removeDragListeners);\n  }\n\n  removeDragListeners() {\n    this.easyEvent.removeAll();\n\n    this.dragMouseStartX = false;\n    this.dragMouseStartY = false;\n  }\n\n  dragging(e: MouseEvent) {\n    if (this.behaviorModeEnabled) return;\n    if (!isCanvasEvent(e)) return;\n\n    if (this.dragMouseStartX === false || this.dragMouseStartY === false)\n      return;\n\n    const mouseX = e.clientX;\n    const mouseY = e.clientY;\n\n    if (\n      Math.abs(mouseX - this.dragMouseStartX) > 3 ||\n      Math.abs(mouseY - this.dragMouseStartY) > 3\n    ) {\n      uiStore.setCanvasElementDraggedId(this.element.id);\n      this.removeDragListeners();\n    }\n  }\n\n  /* End drag logic */\n\n  /* ContentEditable logic */\n\n  // On double click\n  enableContentEditableAndFocus(e: Event) {\n    const target: HTMLElement = e.target as HTMLElement;\n    let editableElement = null;\n\n    // the element itself\n    if (target.dataset.contentEditablePropertyPath || target.dataset.nodeId) {\n      editableElement = target;\n    }\n    // Or the closest parent that has a \"data-content-editable-property-path\" property\n    // (the click can happen in a child that isn't content editable)\n    else {\n      editableElement = target.closest(\n        \"[data-content-editable-property-path]\"\n      ) as HTMLElement;\n    }\n\n    if (!editableElement) return;\n\n    const contentEditablePropertyPath =\n      editableElement.dataset.contentEditablePropertyPath;\n\n    if (contentEditablePropertyPath) {\n      const maybeDynamicData: DynamicFieldOutput | undefined = lodash.get(\n        this.twigProps,\n        getDynamicMetaPath(contentEditablePropertyPath)\n      );\n\n      const elementValueIsDynamic = maybeDynamicData?.field.slug;\n\n      if (elementValueIsDynamic) {\n        return;\n      }\n    }\n\n    const elementIsAlreadyActive =\n      editableElement.getAttribute(\"contenteditable\") === \"true\";\n\n    if (elementIsAlreadyActive) return;\n\n    uiStore.setContentEditableElementId(this.element.id);\n\n    editableElement.setAttribute(\"contenteditable\", \"true\");\n    editableElement.focus();\n\n    window.Breakdance.canvas.document.addEventListener(\n      \"keydown\",\n      this.handleKeydownInsideContentEditable\n    );\n\n    editableElement.addEventListener(\"paste\", this.pasteWithoutFormatting);\n  }\n\n  // on blur\n  saveContentEditable(e: Event) {\n    const target = e.target as HTMLElement;\n\n    window.Breakdance.canvas.document.removeEventListener(\n      \"keydown\",\n      this.handleKeydownInsideContentEditable\n    );\n\n    target.removeEventListener(\"paste\", this.pasteWithoutFormatting);\n\n    target.setAttribute(\"contenteditable\", \"false\");\n\n    uiStore.setContentEditableElementId(null);\n\n    const path =\n      target.dataset.contentEditablePropertyPath ||\n      this.contentEditablePropertyPath;\n\n    if (!path) {\n      return;\n    }\n\n    target.innerHTML = target.innerHTML.trim();\n\n    // Remove the last <br> tag if it's present. Some browsers (firefox) add it\n    const lastElement = target.childNodes[target.childNodes.length - 1] as\n      | HTMLElement\n      | undefined;\n\n    if (lastElement && lastElement.tagName === \"BR\") {\n      lastElement.remove();\n    }\n\n    // save decoded HTML to prevent stuff like & becoming &amp\n    const textAreaWithTargetInnerHtml = document.createElement(\"textarea\");\n    textAreaWithTargetInnerHtml.innerHTML = target.innerHTML;\n    const decodedHtml = textAreaWithTargetInnerHtml.value;\n\n    documentStore.throttledPropertyChanged({\n      elementId: this.element.id,\n      path,\n      value: decodedHtml,\n      meta: {\n        snapshotLabel: generateDocumentStorePropertyChangeSnapshotLabel.forElementBasingOnChangedStorePropertyPath(\n          this.baseElement,\n          path,\n          SnapshotLabelAction.CHANGE\n        )\n      }\n    });\n  }\n\n  // Force pasted text to be without formatting (colors, bold, etc)\n  // https://developer.mozilla.org/en-US/docs/Web/API/Element/paste_event#live_example\n  pasteWithoutFormatting(event: ClipboardEvent) {\n    const paste = event.clipboardData?.getData(\"text/plain\");\n    if (!paste) return;\n\n    window.Breakdance.canvas.document.execCommand(\n      \"insertHTML\",\n      false,\n      // since we get the pasted data as plain text, and HTML renders new lines as just space, we turn them into BR\n      // to get the same behaviour as if the user had pressed enter\n      nl2br(paste)\n    );\n\n    // prevent at the end, in case \"getData\" failed\n    event.preventDefault();\n  }\n\n  handleKeydownInsideContentEditable(event: KeyboardEvent) {\n    // Pressing Space doesn't always work inside content editable.\n    // https://stackoverflow.com/q/48512479\n    if (event.code === \"Space\") {\n      event.preventDefault();\n      event.stopPropagation();\n      window.Breakdance.canvas.document.execCommand(\"insertText\", false, \" \");\n      return;\n    }\n\n    /**\n     * add line break on enter. This makes all browsers behave the same, instead of some of them adding it and some not\n     * https://stackoverflow.com/a/61237402/5993042\n     * \"execCommand\" is deprecated but \"insertLineBreak\" works fine on all big browsers and knowing the web, it'll never\n     * be removed due to backwards compatibility.\n     */\n    if (event.code === \"Enter\") {\n      window.Breakdance.canvas.document.execCommand(\"insertLineBreak\");\n      event.preventDefault();\n      return;\n    }\n\n    if (event.code === \"Escape\") {\n      event.preventDefault();\n      this.saveContentEditable(event);\n      return;\n    }\n\n    // prevent the \"save\" dialog when inside content editable. Our global shortcuts don't apply here for some reason\n    // instead make it \"save\" the changes in the content editable\n    if ((event.ctrlKey || event.metaKey) && event.key === \"s\") {\n      event.preventDefault();\n      this.saveContentEditable(event);\n      return;\n    }\n  }\n}\n","var render, staticRenderFns\nimport script from \"./BuilderElement.vue?vue&type=script&lang=tsx&\"\nexport * from \"./BuilderElement.vue?vue&type=script&lang=tsx&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuilderElement.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuilderElement.vue?vue&type=script&lang=tsx&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"node-chrome\",class:_vm.hideClass},[_c('div',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('full'),expression:\"'full'\"}]},[_c('SpacingBars'),_c('ColumnDragSizer')],1),_c('NodeTitlebar'),_c('NodeHoverControls'),_c('NodeContentEditable')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"drag-dots-wrapper\",style:(_vm.dragDotsWrapperPositionStyle)},[_c('div',{staticClass:\"drag-dot drag-dot-top-left\",on:{\"mousedown\":_vm.dragStart}}),_c('div',{staticClass:\"drag-dot drag-dot-top-middle\",on:{\"mousedown\":_vm.dragStart}}),_c('div',{staticClass:\"drag-dot drag-dot-top-right\",on:{\"mousedown\":_vm.dragStart}}),_c('div',{staticClass:\"drag-dot drag-dot-bottom-right\",on:{\"mousedown\":_vm.dragStart}}),_c('div',{staticClass:\"drag-dot drag-dot-bottom-middle\",on:{\"mousedown\":_vm.dragStart}}),_c('div',{staticClass:\"drag-dot drag-dot-bottom-left\",on:{\"mousedown\":_vm.dragStart}}),_c('div',{staticClass:\"drag-dot drag-dot-middle-left\",on:{\"mousedown\":_vm.dragStart}}),_c('div',{staticClass:\"drag-dot drag-dot-middle-right\",on:{\"mousedown\":_vm.dragStart}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { ElementPositionAndSize } from \"../helpers\";\nimport { documentStore, uiStore } from \"@/store/store\";\n\nexport type DragHandleBehavior = {\n  xProperty?: string /* this should be an array of properties... i.e. padding.left and padding.left */;\n  yProperty?: string;\n};\n\nexport type DragCallback = (\n  elementPositionAndSize: ElementPositionAndSize,\n  mouseDragInfo: ValidMouseDragInfo\n) => void;\n\nexport type MouseDragInfo = ValidMouseDragInfo | false;\n\nexport type ValidMouseDragInfo = {\n  startX: number;\n  startY: number;\n  currentX: number;\n  currentY: number;\n  lastXChange: number;\n  lastYChange: number;\n  totalXChange: number;\n  totalYChange: number;\n};\n\nexport function makeDragCallback(dragHandleBehavior: DragHandleBehavior) {\n  return (\n    elementPositionAndSize: ElementPositionAndSize,\n    mouseDragInfo: ValidMouseDragInfo\n  ) => {\n    if (uiStore.activeElementId) {\n      const combinatorFunction = (a: number, b: number) => {\n        return a + b >= 0 ? a + b : 0;\n      };\n\n      /*\n\n      for an image:\n       - any drag anywhere only affects width\n\n       for an image frame\n        - we'd need percentages, not px widths\n\n       for a button:\n        - drag a corner proportionally increases paddings\n        - drag middle side - incerases padding left and right\n        - drag middle top or bottom - increases padding top and bottom\n        \n        \n        /*\n\n      top left - decrease x, decrease y\n      top middle - decrease y\n      top right - increase x, decrease y\n\n      bottom left - decrease x, increase y\n      bottom middle - increase y\n      bottom right - increase x, increqase y\n\n      left middle - decrease x\n      right middle - increase x\n\n      */\n\n      if (\"xProperty\" in dragHandleBehavior && dragHandleBehavior.xProperty) {\n        const controlPath = dragHandleBehavior.xProperty.replace(\n          \"%%CURRENTMEDIAQUERY%%\",\n          uiStore.currentBreakpoint.id\n        );\n\n        const newValue = combinatorFunction(\n          elementPositionAndSize.width,\n          mouseDragInfo.lastXChange\n        );\n\n        documentStore.throttledPropertyChanged({\n          elementId: uiStore.activeElementId,\n          path: controlPath,\n          value: {\n            number: newValue,\n            unit: \"px\"\n          },\n          meta: {\n            snapshotLabel: \"Resize element\"\n          }\n        });\n      }\n\n      if (\"yProperty\" in dragHandleBehavior && dragHandleBehavior.yProperty) {\n        const controlPath = dragHandleBehavior.yProperty.replace(\n          \"%%CURRENTMEDIAQUERY%%\",\n          uiStore.currentBreakpoint.id\n        );\n\n        const newValue = combinatorFunction(\n          elementPositionAndSize.height,\n          mouseDragInfo.lastYChange\n        );\n\n        documentStore.throttledPropertyChanged({\n          elementId: uiStore.activeElementId,\n          path: controlPath,\n          value: {\n            number: newValue,\n            unit: \"px\"\n          },\n          meta: {\n            snapshotLabel: \"Resize element\"\n          }\n        });\n      }\n    }\n  };\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { uiStore } from \"@/store/store\";\nimport { getActiveElementPositionAndSize } from \"@/lib/canvas/helpers\";\nimport {\n  DragHandleBehavior,\n  makeDragCallback,\n  MouseDragInfo,\n  DragCallback\n} from \"@/lib/canvas/drag/drag\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\nimport { EasyEvent, isCanvasEvent } from \"@/util/easy-event\";\n\nconst imageDragHandleBehavior: DragHandleBehavior = {\n  xProperty:\n    \"design.size.width.%%CURRENTMEDIAQUERY%%\" /* i'd like it better without the mediaquery thing */\n  //   yProperty:\n  //     \"design.size.width.%%CURRENTMEDIAQUERY%%\" /* how do we enforce this is a path to a valid control of type unit input? */\n};\n\n@Component({})\nexport default class NodeChrome extends Vue {\n  mouseDragInfo: MouseDragInfo = false;\n\n  dragDotsWrapperPositionStyle: { [key: string]: string } = {\n    display: \"none\"\n  };\n\n  dragCallback: false | DragCallback = false;\n\n  unsubscribeFromStorePositionDotsWrapper = () => {};\n  nextTickPositionDragDotsWrapper() {\n    forceNextTick(() => this.positionDragDotsWrapper());\n  }\n  beforeMount() {\n    this.positionDragDotsWrapper();\n\n    this.unsubscribeFromStorePositionDotsWrapper = this.$store.subscribe(\n      this.nextTickPositionDragDotsWrapper\n    );\n\n    window.addEventListener(\"resize\", this.nextTickPositionDragDotsWrapper);\n  }\n\n  beforeDestroy() {\n    this.unsubscribeFromStorePositionDotsWrapper();\n    window.removeEventListener(\"resize\", this.nextTickPositionDragDotsWrapper);\n  }\n\n  easyEvent = new EasyEvent();\n\n  dragStart(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.mouseDragInfo = {\n      startX: e.clientX,\n      startY: e.clientY,\n      currentX: e.clientX,\n      currentY: e.clientY,\n      lastXChange: 0,\n      lastYChange: 0,\n      totalXChange: 0,\n      totalYChange: 0\n    };\n\n    this.dragCallback = makeDragCallback(imageDragHandleBehavior);\n\n    this.easyEvent.on(\"mousemove\", this.dragging);\n    this.easyEvent.on(\"mouseup\", this.dragEnd);\n  }\n\n  dragging(e: MouseEvent) {\n    if (isCanvasEvent(e)) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      const elementPositionAndSize = getActiveElementPositionAndSize();\n      if (!elementPositionAndSize || !this.mouseDragInfo) return;\n\n      this.mouseDragInfo = {\n        ...this.mouseDragInfo,\n        currentX: e.clientX,\n        currentY: e.clientY,\n        lastXChange: e.clientX - this.mouseDragInfo.currentX,\n        lastYChange: e.clientY - this.mouseDragInfo.currentY,\n        totalXChange: e.clientX - this.mouseDragInfo.startX,\n        totalYChange: e.clientY - this.mouseDragInfo.startY\n      };\n\n      if (this.dragCallback) {\n        this.dragCallback(elementPositionAndSize, this.mouseDragInfo);\n      }\n\n      this.positionDragDotsWrapper();\n    }\n  }\n\n  dragEnd(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.easyEvent.removeAll();\n\n    this.mouseDragInfo = false;\n    this.dragCallback = false;\n  }\n\n  positionDragDotsWrapper() {\n    if (!uiStore.activeElementId) {\n      this.dragDotsWrapperPositionStyle = {\n        display: \"none\"\n      };\n    }\n\n    const elementPositionAndSize = getActiveElementPositionAndSize();\n    if (!elementPositionAndSize) return;\n\n    const { x, y, width, height } = elementPositionAndSize;\n\n    this.dragDotsWrapperPositionStyle = {\n      position:\n        \"absolute\" /* this won't work if something other than the window has position relative on it \n        maybe we could mount the overlaid ui chrome inside the body */,\n      top: y.toString() + \"px\",\n      left: x.toString() + \"px\",\n      width: width.toString() + \"px\",\n      height: height.toString() + \"px\"\n    };\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DragDots.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DragDots.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DragDots.vue?vue&type=template&id=bfb1318c&\"\nimport script from \"./DragDots.vue?vue&type=script&lang=ts&\"\nexport * from \"./DragDots.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.bars),function(bar,i){return _c('SpacingBar',{key:i,attrs:{\"bar\":bar,\"isDragging\":_vm.isDragging,\"isActiveBar\":_vm.clickedHandle === bar.location},on:{\"mousedown\":function($event){return _vm.dragStart($event, bar.location)}}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { Component } from \"vue-property-decorator\";\nimport { MouseDragInfo, ValidMouseDragInfo } from \"@/lib/canvas/drag/drag\";\nimport Vue from \"vue\";\nimport {\n  getActiveElementPositionAndSize,\n  ElementPositionAndSize,\n  clearTextSelection\n} from \"@/lib/canvas/helpers\";\nimport { uiStore } from \"@/store/store\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\nimport _throttle from \"lodash/throttle\";\n\n@Component\nexport class DragMixin extends Vue {\n  clickedHandle: string | false = false;\n\n  mouseDragInfo: MouseDragInfo = false;\n\n  dragCallback(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    _elementPositionAndSize: ElementPositionAndSize,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    _mouseDragInfo: ValidMouseDragInfo,\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    _handle: string\n  ) {\n    console.warn(\"To use DragMixin you must implement dragCallback()\");\n  } /* how do we type this so that you can't override it in the wrong way? */\n\n  dragEndCallback() {} /* how do we type this so that you can't override it in the wrong way? */\n\n  dragStartCallback(\n    // eslint-disable-next-line @typescript-eslint/no-unused-vars\n    _handle: string\n  ) {} /* how do we type this so that you can't override it in the wrong way? */\n\n  dragStart(e: MouseEvent, handle?: string) {\n    // e.preventDefault(); // If we don't call `preventDefault` we will continue to receive events, even if we leave the iframe\n    e.stopPropagation();\n\n    if (typeof handle !== \"string\") {\n      console.warn(\n        \"To use drag mixin you must specify a handle parameter (string) as the second param of your mousedown=dragStart, i.e. mousedown=dragStart($event, 'myhandle')\"\n      );\n      return;\n    }\n\n    uiStore.setDragMixinDragging(true);\n    this.clickedHandle = handle;\n\n    this.mouseDragInfo = {\n      startX: e.clientX,\n      startY: e.clientY,\n      currentX: e.clientX,\n      currentY: e.clientY,\n      lastXChange: 0,\n      lastYChange: 0,\n      totalXChange: 0,\n      totalYChange: 0\n    };\n\n    window.Breakdance.canvas.document.addEventListener(\n      \"mousemove\",\n      this.throttledDragging\n    );\n    window.Breakdance.canvas.document.addEventListener(\"mouseup\", this.dragEnd);\n\n    this.dragStartCallback(handle);\n  }\n\n  throttledDragging = _throttle(this.dragging, 60);\n\n  dragging(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    requestAnimationFrame(() => this._draggingFunc(e));\n  }\n\n  _draggingFunc(e: MouseEvent) {\n    const elementPositionAndSize = getActiveElementPositionAndSize();\n    if (!elementPositionAndSize || !this.mouseDragInfo) return;\n\n    this.mouseDragInfo = {\n      ...this.mouseDragInfo,\n      currentX: e.clientX,\n      currentY: e.clientY,\n      lastXChange: e.clientX - this.mouseDragInfo.currentX,\n      lastYChange: e.clientY - this.mouseDragInfo.currentY,\n      totalXChange: e.clientX - this.mouseDragInfo.startX,\n      totalYChange: e.clientY - this.mouseDragInfo.startY\n    };\n\n    if (this.clickedHandle) {\n      this.dragCallback(\n        elementPositionAndSize,\n        this.mouseDragInfo,\n        this.clickedHandle\n      );\n    }\n\n    this.positionWrapper();\n    clearTextSelection();\n  }\n\n  dragEnd(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    // eslint-disable-next-line prettier/prettier\n    window.Breakdance.canvas.document.removeEventListener(\n      \"mousemove\",\n      this.throttledDragging\n    );\n    window.Breakdance.canvas.document.removeEventListener(\n      \"mouseup\",\n      this.dragEnd\n    );\n    this.mouseDragInfo = false;\n    this.clickedHandle = false;\n\n    uiStore.setDragMixinDragging(false);\n    this.dragEndCallback();\n    clearTextSelection();\n  }\n\n  get isDragging() {\n    return !!this.mouseDragInfo;\n  }\n\n  unsubscribeFromStorePositionWrapper = () => {};\n  nextTickPositionsWrapper() {\n    forceNextTick(this.positionWrapper);\n  }\n\n  beforeMount() {\n    this.positionWrapper();\n\n    this.unsubscribeFromStorePositionWrapper = this.$store.subscribe(\n      this.nextTickPositionsWrapper\n    );\n\n    window.addEventListener(\"resize\", this.nextTickPositionsWrapper);\n  }\n\n  beforeDestroy() {\n    this.unsubscribeFromStorePositionWrapper();\n    window.removeEventListener(\"resize\", this.nextTickPositionsWrapper);\n  }\n\n  wrapperPositionStyle: { [key: string]: string } = {\n    display: \"none\"\n  };\n\n  positionWrapper() {\n    if (!uiStore.activeElementId) {\n      this.wrapperPositionStyle = {\n        display: \"none\"\n      };\n\n      return;\n    }\n\n    const elementPositionAndSize = getActiveElementPositionAndSize();\n    if (!elementPositionAndSize) return;\n\n    const { x, y, width, height } = elementPositionAndSize;\n\n    this.wrapperPositionStyle = {\n      position:\n        \"absolute\" /* this won't work if something other than the window has position relative on it \n        maybe we could mount the overlaid ui chrome inside the body */,\n      top: `${y}px`,\n      left: `${x}px`,\n      width: `${width}px`,\n      height: `${height}px`\n    };\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"spacing-bar\",class:_vm.classList,style:(_vm.style),on:{\"mousedown\":function($event){return _vm.$emit('mousedown', $event)},\"mouseover\":function($event){_vm.isHovering = true},\"mouseleave\":function($event){_vm.isHovering = false}}},[_c('div',{staticClass:\"spacing-bar-current-value\"},[_vm._v(_vm._s(_vm.value)+\"px\")])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { getElementComputedStyleFromNode } from \"@/lib/canvas/helpers\";\nimport { uiStore } from \"@/store/store\";\nimport lodash from \"lodash\";\n\nexport function getSpacingPropertyValue(\n  propertyPath: string,\n  cssProperty: string\n) {\n  const valInPx = getCurrentValueInPx(propertyPath, cssProperty);\n  return valInPx ? valInPx : 0;\n}\n\nexport function getCurrentValueInPx(path: string, cssProperty: string) {\n  if (!uiStore.activeElement) return false;\n\n  const fullPath = fullPathToSpacingProp(path, uiStore.currentBreakpoint.id);\n\n  let currentValue = parseInt(\n    lodash.get(uiStore.activeElement, `data.properties.${fullPath}.number`)\n  );\n\n  if (!currentValue) {\n    currentValue = 0;\n  }\n\n  let currentUnit = lodash.get(\n    uiStore.activeElement,\n    `data.properties.${fullPath}.unit`\n  );\n\n  if (!currentUnit) {\n    currentUnit = \"px\";\n  }\n\n  if (currentUnit !== \"px\" && currentValue !== 0) {\n    const computedStyle = getElementComputedStyleFromNode(\n      uiStore.activeElement\n    );\n    if (!computedStyle) return false;\n\n    const styleValue = parseInt(computedStyle.getPropertyValue(cssProperty));\n\n    return styleValue;\n  }\n  return currentValue;\n}\n\nexport function fullPathToSpacingProp(path: string, breakpointSlug: string) {\n  return path.replace(\"%%BREAKPOINT%%\", breakpointSlug);\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop, Watch } from \"vue-property-decorator\";\nimport { SpacingBarDescription } from \"@/types/elements\";\nimport { getSpacingPropertyValue } from \"@/lib/canvas/spacing-bars\";\nimport {\n  ElementPositionAndSize,\n  getDomElementFromTreeNode,\n  getDomElementPositionAndSize\n} from \"@/lib/canvas/helpers\";\nimport { uiStore } from \"@/store/store-accessor\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\n\n@Component({})\nexport default class SpacingBar extends Vue {\n  @Prop()\n  bar!: SpacingBarDescription;\n\n  @Prop()\n  isDragging!: boolean;\n\n  @Prop()\n  isActiveBar!: boolean;\n\n  isHovering = false;\n\n  resizeObserver: ResizeObserver = new ResizeObserver(\n    this.onActiveElementResize\n  );\n\n  activeElementPositionAndSize: ElementPositionAndSize | null = null;\n  valueAtMomentOfElementPositionAndSizeCalculation: number | null = null;\n\n  intervalHandle: NodeJS.Timeout | undefined;\n\n  get value() {\n    return getSpacingPropertyValue(\n      this.bar.affectedPropertyPath,\n      this.bar.cssProperty\n    );\n  }\n\n  get activeElement() {\n    return uiStore.activeElement;\n  }\n\n  updateActiveElementPositionWhenItsPresent() {\n    const activeElement = this.activeElement;\n    if (activeElement) {\n      const activeElementDomNode = getDomElementFromTreeNode(activeElement);\n      if (activeElementDomNode) {\n        this.activeElementPositionAndSize =\n          getDomElementPositionAndSize(activeElementDomNode) || null;\n        // Defensively copy this.value in case it'll become an object in the future\n        this.valueAtMomentOfElementPositionAndSizeCalculation = this.value;\n\n        return;\n      }\n    }\n\n    this.activeElementPositionAndSize = null;\n    this.valueAtMomentOfElementPositionAndSizeCalculation = null;\n  }\n\n  mounted() {\n    this.intervalHandle = setInterval(() => {\n      forceNextTick(this.updateActiveElementPositionWhenItsPresent);\n    }, 50);\n  }\n\n  @Watch(\"activeElement\", { immediate: true })\n  handleActiveElementChange() {\n    this.updateActiveElementPositionWhenItsPresent();\n\n    this.resizeObserver.disconnect();\n\n    const activeElement = this.activeElement;\n\n    if (activeElement) {\n      const activeElementDomNode = getDomElementFromTreeNode(activeElement);\n      if (activeElementDomNode) {\n        this.resizeObserver.observe(activeElementDomNode, {\n          box: \"border-box\"\n        });\n        if (activeElementDomNode.parentElement) {\n          this.resizeObserver.observe(activeElementDomNode.parentElement, {\n            box: \"border-box\"\n          });\n        }\n      }\n    }\n  }\n\n  onActiveElementResize() {\n    this.updateActiveElementPositionWhenItsPresent();\n  }\n\n  get classList() {\n    return [`spacing-bar-${this.bar.location}`];\n  }\n\n  get style() {\n    if (\n      (this.isDragging && this.isActiveBar) ||\n      // don't show other bars while dragging\n      (this.isHovering && !this.isDragging)\n    ) {\n      return { ...this.barStyle, opacity: 1 };\n    }\n\n    return this.barStyle;\n  }\n\n  get barStyle() {\n    const positionAndSize = this.activeElementPositionAndSize;\n\n    if (!positionAndSize) return {};\n\n    const valueAtMomentOfElementPositionAndSizeCalculation =\n      this.valueAtMomentOfElementPositionAndSizeCalculation || this.value;\n\n    const { width, height, y: top, x: left } = positionAndSize;\n\n    const valueMin5 =\n      valueAtMomentOfElementPositionAndSizeCalculation > 5\n        ? valueAtMomentOfElementPositionAndSizeCalculation\n        : 5;\n\n    switch (this.bar.location) {\n      case \"inside-top\":\n        return {\n          width: `${width}px`,\n          height: `${valueMin5}px`,\n          top: `${top}px`,\n          left: `${left}px`,\n          cursor: \"row-resize\"\n        };\n      case \"outside-top\":\n        return {\n          width: `${width}px`,\n          height: `${valueMin5}px`,\n          top: `${-valueMin5 + top}px`,\n          left: `${left}px`,\n          cursor: \"row-resize\"\n        };\n      case \"inside-bottom\":\n        return {\n          width: `${width}px`,\n          height: `${valueMin5}px`,\n          top: `${top + height - valueMin5}px`,\n          left: `${left}px`,\n          cursor: \"row-resize\"\n        };\n      case \"outside-bottom\":\n        return {\n          width: `${width}px`,\n          height: `${valueMin5}px`,\n          top: `${top + height}px`,\n          left: `${left}px`,\n          cursor: \"row-resize\"\n        };\n      case \"inside-left\":\n        return {\n          width: `${valueMin5}px`,\n          top: `${top}px`,\n          height: `${height}px`,\n          left: `${left}px`,\n          cursor: \"col-resize\"\n        };\n      case \"outside-left\":\n        return {\n          width: `${valueMin5}px`,\n          top: `${top}px`,\n          height: `${height}px`,\n          left: `${left - valueMin5}px`,\n          cursor: \"col-resize\"\n        };\n      case \"inside-right\":\n        return {\n          width: `${valueMin5}px`,\n          top: `${top}px`,\n          height: `${height}px`,\n          left: `${left + width - valueMin5}px`,\n          cursor: \"col-resize\"\n        };\n      case \"outside-right\":\n        return {\n          width: `${valueMin5}px`,\n          top: `${top}px`,\n          height: `${height}px`,\n          left: `${left + width}px`,\n          cursor: \"col-resize\"\n        };\n      default:\n        return {};\n    }\n  }\n\n  beforeDestroy() {\n    this.resizeObserver.disconnect();\n    if (this.intervalHandle) {\n      clearInterval(this.intervalHandle);\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpacingBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpacingBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SpacingBar.vue?vue&type=template&id=76f02033&\"\nimport script from \"./SpacingBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./SpacingBar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { DragMixin } from \"./DragMixin\";\nimport { Component, Mixins } from \"vue-property-decorator\";\nimport { configStore, documentStore, uiStore } from \"@/store/store\";\nimport SpacingBar from \"./SpacingBar.vue\";\nimport { ElementPositionAndSize } from \"@/lib/canvas/helpers\";\nimport { ValidMouseDragInfo } from \"@/lib/canvas/drag/drag\";\nimport {\n  fullPathToSpacingProp,\n  getCurrentValueInPx\n} from \"@/lib/canvas/spacing-bars\";\nimport { SpacingBarDescription, SpacingBarLocation } from \"@/types/elements\";\nimport { generateDocumentStorePropertyChangeSnapshotLabel } from \"@/lib/undo/snapshot-labels/document-store-property-change.utils\";\nimport { SnapshotLabelAction } from \"@/types/snapshot\";\n\n@Component({\n  components: { SpacingBar }\n})\nexport default class SpacingBars extends Mixins(DragMixin) {\n  get bars(): SpacingBarDescription[] {\n    return this.activeElementSpacingBars ? this.activeElementSpacingBars : [];\n  }\n\n  get activeElementSpacingBars() {\n    return uiStore.activeElement\n      ? configStore.element(uiStore.activeElement.data.type).spacingBars\n      : false;\n  }\n\n  originalValue: number | false = false;\n\n  dragCallback(\n    _elementPositionAndSize: ElementPositionAndSize,\n    mouseDragInfo: ValidMouseDragInfo,\n    handle: SpacingBarLocation\n  ) {\n    const bar = this.bars.filter(b => b.location === handle).pop();\n\n    if (!uiStore.activeElementId || !bar) return;\n\n    let newValue = 0;\n    let currentValue = getCurrentValueInPx(\n      bar.affectedPropertyPath,\n      bar.cssProperty\n    );\n\n    if (!currentValue) {\n      currentValue = 0;\n    }\n\n    if (!this.originalValue) {\n      this.originalValue = currentValue;\n    }\n\n    switch (handle) {\n      case \"inside-top\":\n      case \"inside-bottom\":\n      case \"outside-top\":\n      case \"outside-bottom\":\n        newValue = this.originalValue + mouseDragInfo.totalYChange;\n        break;\n      case \"inside-left\":\n      case \"inside-right\":\n      case \"outside-left\":\n      case \"outside-right\":\n        newValue = this.originalValue + mouseDragInfo.totalXChange;\n        break;\n    }\n\n    if (newValue < 0) {\n      newValue = 0;\n    }\n\n    const fullPathToSpacingProperty = fullPathToSpacingProp(\n      bar.affectedPropertyPath,\n      uiStore.currentBreakpoint.id\n    );\n\n    documentStore.throttledPropertyChanged({\n      elementId: uiStore.activeElementId,\n      path: fullPathToSpacingProperty,\n      value: {\n        number: newValue,\n        unit: \"px\",\n        style: `${newValue}px`\n      },\n      meta: {\n        snapshotLabel: generateDocumentStorePropertyChangeSnapshotLabel.forElementByTreeNodeId(\n          uiStore.activeElementId,\n          fullPathToSpacingProperty,\n          SnapshotLabelAction.CHANGE\n        )\n      }\n    });\n  }\n\n  dragEndCallback() {\n    this.originalValue = false;\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpacingBars.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SpacingBars.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SpacingBars.vue?vue&type=template&id=920c868e&\"\nimport script from \"./SpacingBars.vue?vue&type=script&lang=ts&\"\nexport * from \"./SpacingBars.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.shouldShow)?_c('div',{staticClass:\"drag-dots-wrapper\",style:(_vm.wrapperPositionStyle)},[(_vm.isNotFarLeftColumn)?_c('div',{staticClass:\"drag-dot drag-dot-middle-left\",on:{\"mousedown\":function($event){return _vm.dragStart($event, 'left')}}},[(_vm.resizedWidths && 'left' in _vm.resizedWidths)?_c('div',{staticClass:\"drag-dots-column-widths-values\"},[_c('div',{staticClass:\"drag-dots-left-width\"},[_vm._v(\" \"+_vm._s(_vm.resizedWidths.left.siblingWidth)+\"% \")]),_c('div',{staticClass:\"drag-dots-right-width\"},[_vm._v(\" \"+_vm._s(_vm.resizedWidths.left.resizedWidth)+\"% \")])]):_vm._e()]):_vm._e(),(_vm.isNotFarRightColumn)?_c('div',{staticClass:\"drag-dot drag-dot-middle-right\",on:{\"mousedown\":function($event){return _vm.dragStart($event, 'right')}}},[(_vm.resizedWidths && 'right' in _vm.resizedWidths)?_c('div',{staticClass:\"drag-dots-column-widths-values\"},[_c('div',{staticClass:\"drag-dots-left-width\"},[_vm._v(\" \"+_vm._s(_vm.resizedWidths.right.resizedWidth)+\"% \")]),_c('div',{staticClass:\"drag-dots-right-width\"},[_vm._v(\" \"+_vm._s(_vm.resizedWidths.right.siblingWidth)+\"% \")])]):_vm._e()]):_vm._e()]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { TreeNode } from \"@/types/tree\";\nimport {\n  getTreeNodePositionAndSize,\n  getElementComputedStyleFromNode\n} from \"@/lib/canvas/helpers\";\nimport { documentStore } from \"@/store/store\";\nimport { getNodeParent } from \"../tree/tree\";\nimport { parseFloatAndFixTo2Digits } from \"@/util/math\";\n\nexport function getOnCanvasColumnWidthInPercent(column: TreeNode) {\n  const columnWidthInPx = getOnCanvasColumnWidthInPixels(column);\n  const columnParentWidthInPx = getOnCanvasColumnParentWidthInPixels(column);\n\n  if (!columnWidthInPx || !columnParentWidthInPx) return false;\n\n  const columnWidthInPercent = parseFloatAndFixTo2Digits(\n    (columnWidthInPx / columnParentWidthInPx) * 100\n  );\n\n  return columnWidthInPercent ? columnWidthInPercent : false;\n}\n\nexport function calcNewPercentWidthForColumn(\n  column: TreeNode,\n  pixelsToAdd: number,\n  currentWidthInPx: number\n) {\n  const columnWidthPx = currentWidthInPx;\n  const columnParentWidthPx = getOnCanvasColumnParentWidthInPixels(column);\n\n  if (!columnWidthPx || !columnParentWidthPx) return false;\n\n  const newColumnWidthInPercent =\n    100 * ((columnWidthPx + pixelsToAdd) / columnParentWidthPx);\n\n  return parseFloatAndFixTo2Digits(newColumnWidthInPercent);\n}\n\nexport function getOnCanvasColumnWidthInPixels(column: TreeNode) {\n  const columnPosition = getTreeNodePositionAndSize(column);\n  if (columnPosition) {\n    return columnPosition.width;\n  }\n\n  return false;\n}\n\nfunction getOnCanvasColumnParentWidthInPixels(column: TreeNode) {\n  const columnParent = getNodeParent(documentStore.document.tree, column.id);\n\n  if (columnParent) {\n    const columnParentPosition = getTreeNodePositionAndSize(columnParent);\n    if (columnParentPosition) {\n      return columnParentPosition.width;\n    }\n  }\n\n  return false;\n}\n\nexport function getOnCanvasColumnMinWidthBasedOnPadding(column: TreeNode) {\n  const computedStyle = getElementComputedStyleFromNode(column);\n  if (!computedStyle) return false;\n\n  const paddingLeft = parseInt(computedStyle.getPropertyValue(\"padding-left\"));\n  const paddingRight = parseInt(\n    computedStyle.getPropertyValue(\"padding-right\")\n  );\n\n  if (Number.isNaN(paddingLeft) || Number.isNaN(paddingRight)) return false;\n\n  const columnParentWidthPx = getOnCanvasColumnParentWidthInPixels(column);\n\n  if (!columnParentWidthPx) return false;\n\n  const minColumnWidthInPercent =\n    100 * ((paddingLeft + paddingRight) / columnParentWidthPx);\n\n  return Math.ceil(minColumnWidthInPercent);\n}\n","import { TreeNode } from \"@/types/tree\";\nimport {\n  getColumnWidth,\n  rewidthIfColumnsNotAddUpTo100\n} from \"@/lib/columns/helpers\";\nimport { getOnCanvasColumnMinWidthBasedOnPadding } from \"./canvas\";\nimport { changeColumnWidthAndCommitToStore } from \"./store\";\nimport { parseFloatAndFixTo2Digits } from \"@/util/math\";\n\nconst DEFAULT_MIN_WIDTH = 20;\n\nexport type NewColumnWidths = {\n  resizedWidth: number;\n  siblingWidth: number;\n};\n\nexport function resizeTwoColumnsAndCommit(\n  columns: TreeNode,\n  columnToResizeIndex: number,\n  newWidth: number,\n  adjustSibling: \"right\" | \"left\"\n): NewColumnWidths | false {\n  const siblingToResizeIndex =\n    adjustSibling === \"right\"\n      ? columnToResizeIndex + 1\n      : columnToResizeIndex - 1;\n  const siblingToResize = columns.children[siblingToResizeIndex];\n  const columnToResize = columns.children[columnToResizeIndex];\n\n  if (!columnToResize || !siblingToResize) return false;\n  if (columnToResizeIndex < 0 || siblingToResizeIndex < 0) return false;\n\n  const columnMinWidth = getOnCanvasColumnMinWidthBasedOnPadding(\n    columnToResize\n  );\n  const siblingMinWidth = getOnCanvasColumnMinWidthBasedOnPadding(\n    siblingToResize\n  );\n\n  let MIN_WIDTH = DEFAULT_MIN_WIDTH;\n\n  if (columnMinWidth !== false && siblingMinWidth !== false) {\n    MIN_WIDTH = Math.max(columnMinWidth, siblingMinWidth);\n  }\n\n  let unavailableWidth =\n    100 - getColumnWidth(columnToResize) - getColumnWidth(siblingToResize);\n\n  let siblingWidth = 100 - unavailableWidth - newWidth;\n\n  if (newWidth < MIN_WIDTH) {\n    newWidth = MIN_WIDTH;\n    siblingWidth = 100 - unavailableWidth - newWidth;\n  }\n\n  if (siblingWidth < MIN_WIDTH) {\n    siblingWidth = MIN_WIDTH;\n    newWidth = 100 - unavailableWidth - siblingWidth;\n  }\n\n  if (unavailableWidth > 100 - MIN_WIDTH * 2) {\n    newWidth = (100 - unavailableWidth) / 2;\n    siblingWidth = (100 - unavailableWidth) / 2;\n  }\n\n  newWidth = parseFloatAndFixTo2Digits(newWidth);\n  siblingWidth = parseFloatAndFixTo2Digits(siblingWidth);\n  unavailableWidth = parseFloatAndFixTo2Digits(unavailableWidth);\n\n  if (newWidth + siblingWidth + unavailableWidth !== 100) {\n    siblingWidth = 100 - unavailableWidth - newWidth;\n    siblingWidth = parseFloatAndFixTo2Digits(siblingWidth);\n  }\n\n  changeColumnWidthAndCommitToStore(columnToResize.id, newWidth);\n  changeColumnWidthAndCommitToStore(siblingToResize.id, siblingWidth);\n\n  rewidthIfColumnsNotAddUpTo100(columns);\n\n  return {\n    resizedWidth: newWidth,\n    siblingWidth: siblingWidth\n  };\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Mixins } from \"vue-property-decorator\";\nimport { uiStore, documentStore } from \"@/store/store\";\nimport { DragMixin } from \"./DragMixin\";\nimport { ValidMouseDragInfo } from \"@/lib/canvas/drag/drag\";\nimport {\n  getOnCanvasColumnWidthInPercent,\n  calcNewPercentWidthForColumn,\n  getOnCanvasColumnWidthInPixels\n} from \"@/lib/columns/canvas\";\nimport { resizeTwoColumnsAndCommit } from \"@/lib/columns/drag\";\nimport { getColumnsElement, isColumnElement } from \"@/lib/columns/helpers\";\nimport { NewColumnWidths } from \"@/lib/columns/drag\";\nimport { ElementPositionAndSize } from \"@/lib/canvas/helpers\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport { BASE_BREAKPOINT_ID } from \"@/lib/breakpoints/breakpoints\";\nimport { getNodeIndex, getNodeParent } from \"@/lib/tree/tree\";\nimport lodash from \"lodash\";\n\n@Component({})\nexport default class ColumnDragSizer extends Mixins(DragMixin) {\n  resizedWidths:\n    | false\n    | { left: NewColumnWidths }\n    | { right: NewColumnWidths } = false;\n\n  widthOnDragStart: number | false = false;\n\n  get columnsAreNotResizeableAtBaseBreakpoint() {\n    if (!this.activeColumn) return false;\n\n    const columns = getColumnsElement(this.activeColumn);\n    if (!columns) return false;\n\n    const VERTICAL_STACKING_PATH = \"design.layout.stack_vertically\";\n    const FIFTY_FIFTY_PATH = \"design.layout.fifty_percent\";\n\n    const verticalStacking = lodash.get(\n      columns.data.properties,\n      VERTICAL_STACKING_PATH,\n      false\n    );\n    const fiftyFifty = lodash.get(\n      columns.data.properties,\n      FIFTY_FIFTY_PATH,\n      false\n    );\n\n    return (\n      verticalStacking === BASE_BREAKPOINT_ID ||\n      fiftyFifty === BASE_BREAKPOINT_ID\n    );\n  }\n\n  get shouldShow() {\n    return (\n      uiStore.currentBreakpoint.id === BASE_BREAKPOINT_ID &&\n      this.activeColumn &&\n      !this.columnsAreNotResizeableAtBaseBreakpoint\n    );\n  }\n\n  dragStartCallback() {\n    breakdanceUndo.startTransaction();\n  }\n\n  dragCallback(\n    _elementPositionAndSize: ElementPositionAndSize,\n    mouseDragInfo: ValidMouseDragInfo,\n    handle: string\n  ) {\n    if (!this.activeColumn || (handle !== \"left\" && handle !== \"right\")) return;\n\n    const columnIndex = getNodeIndex(\n      documentStore.document.tree,\n      this.activeColumn.id\n    );\n    const columnParent = getNodeParent(\n      documentStore.document.tree,\n      this.activeColumn.id\n    );\n\n    if (columnIndex === false || columnParent === false) return;\n\n    let adjustPx = 0;\n\n    if (!this.widthOnDragStart) {\n      this.widthOnDragStart = getOnCanvasColumnWidthInPixels(this.activeColumn);\n    }\n\n    if (!this.widthOnDragStart) return;\n\n    adjustPx =\n      handle === \"right\"\n        ? mouseDragInfo.totalXChange\n        : -1 * mouseDragInfo.totalXChange;\n\n    /* we need to product mouseDragInfo from having any NaN values */\n\n    const newWidth = calcNewPercentWidthForColumn(\n      this.activeColumn,\n      adjustPx,\n      this.widthOnDragStart\n    );\n\n    if (!newWidth) return;\n\n    const resizedWidths = resizeTwoColumnsAndCommit(\n      columnParent,\n      columnIndex,\n      newWidth,\n      handle\n    );\n\n    if (resizedWidths) {\n      // @ts-ignore\n      this.resizedWidths = {\n        [handle]: {\n          resizedWidth: Number(resizedWidths.resizedWidth.toFixed(2)),\n          siblingWidth: Number(resizedWidths.siblingWidth.toFixed(2))\n        }\n      };\n    }\n  }\n\n  dragEndCallback() {\n    this.resizedWidths = false;\n    this.widthOnDragStart = false;\n    breakdanceUndo.endTransaction(\"Resizing column\");\n  }\n\n  get isNotFarLeftColumn() {\n    if (!this.activeColumn) return false;\n\n    const columnIndex = getNodeIndex(\n      documentStore.document.tree,\n      this.activeColumn.id\n    );\n    if (columnIndex === false) return false;\n\n    return columnIndex !== 0;\n  }\n\n  get isNotFarRightColumn() {\n    if (!this.activeColumn) return false;\n\n    const columnIndex = getNodeIndex(\n      documentStore.document.tree,\n      this.activeColumn.id\n    );\n    const columnParent = getNodeParent(\n      documentStore.document.tree,\n      this.activeColumn.id\n    );\n    if (columnIndex === false || columnParent === false) return false;\n\n    return columnIndex !== columnParent.children.length - 1;\n  }\n\n  get activeColumn() {\n    return isColumnElement(uiStore.activeElement)\n      ? uiStore.activeElement\n      : false;\n  }\n\n  get columnWidthInPercent() {\n    if (!this.activeColumn) return false;\n    return getOnCanvasColumnWidthInPercent(this.activeColumn);\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColumnDragSizer.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ColumnDragSizer.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ColumnDragSizer.vue?vue&type=template&id=7c45e06a&\"\nimport script from \"./ColumnDragSizer.vue?vue&type=script&lang=ts&\"\nexport * from \"./ColumnDragSizer.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n    'node-titlebar-wrapper': true,\n    'node-titlebar-wrapper-is-dragging': _vm.isDragging\n  },style:(_vm.wrapperPositionStyle)},[_c('div',{staticClass:\"node-titlebar\",class:_vm.titlebarClasses,style:(_vm.titlebarPositionStyle),on:{\"contextmenu\":_vm.openContextMenu}},[(_vm.isDragAndDropEnabled)?_c('OnCanvasDragHandle',{attrs:{\"node\":_vm.node}},[_c('span',{staticClass:\"node-titlebar-title\",attrs:{\"title\":\"Drag element\"}},[_c('span',{staticClass:\"node-titlebar-button\"},[_c('Icon',{attrs:{\"icon\":\"MaximizeIcon\",\"size\":\"10\"}})],1),_c('span',[_vm._v(\" \"+_vm._s(_vm.elementTitle)+\" \")]),(_vm.isDraftSection)?_c('span',{staticStyle:{\"margin-left\":\"4px\"}},[_vm._v(\" (Draft) \")]):_vm._e()])]):[_vm._v(_vm._s(_vm.elementTitle))],(_vm.hasParent)?_c('span',{staticClass:\"node-titlebar-button node-titlebar-button-activate-parent\",attrs:{\"title\":\"Select parent\"},on:{\"click\":_vm.activateParent}},[_c('Icon',{attrs:{\"icon\":\"ChevronDownIcon\",\"rotate\":\"180\",\"size\":\"10\"}})],1):_vm._e(),(_vm.hasSSr)?_c('span',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('full'),expression:\"'full'\"}],class:{\n        'node-titlebar-button': true,\n        'node-titlebar-margin-left': true,\n        'breakdance-node-titlebar-loading-spinner': _vm.isElementUpdating\n      },attrs:{\"title\":\"Refresh element\"},on:{\"click\":_vm.refreshSsr}},[_c('Icon',{attrs:{\"icon\":\"RotateIcon\",\"size\":\"13\"}})],1):_vm._e(),_c('span',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('full'),expression:\"'full'\"}],class:{\n        'node-titlebar-button': true,\n        'node-titlebar-margin-left': !_vm.hasSSr\n      },attrs:{\"title\":\"Duplicate\"},on:{\"click\":_vm.duplicate}},[_c('Icon',{attrs:{\"icon\":\"DuplicateIcon\",\"size\":\"13\"}})],1),_c('span',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('full'),expression:\"'full'\"}],staticClass:\"node-titlebar-button\",attrs:{\"title\":\"Remove\"},on:{\"click\":_vm.remove}},[_c('Icon',{attrs:{\"icon\":\"TrashIcon\",\"size\":\"12\"}})],1)],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{on:{\"mousedown\":function($event){$event.stopPropagation();return _vm.updateCurrentlyDraggingElementId($event)}}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\nimport { Vue, Component, Prop, Watch } from \"vue-property-decorator\";\nimport { documentStore, uiStore } from \"@/store/store\";\nimport { DragPayload } from \"@/lib/structure-panel-drag/util\";\nimport { TreeNode } from \"@/types/tree\";\nimport {\n  getNodeIdAtPointInCanvas,\n  shouldItBeInsertedBeforeOrAfter,\n  getStackingStyle,\n  getNodesIdsAtPointInCanvas\n} from \"@/lib/canvas/drag/element-drag\";\nimport {\n  clearTextSelection,\n  ElementPositionAndSize,\n  getTreeNodePositionAndSize\n} from \"@/lib/canvas/helpers\";\nimport { distance } from \"@/util/distance\";\nimport { CanvasDragPlaceholderPosition } from \"@/types/ui\";\nimport { findNode, getNodeParent, treeNodeReduce } from \"@/lib/tree/tree\";\nimport {\n  findNearestParentThatWillAcceptNodes,\n  getNestingRuleFromNode,\n  isThisNodeAllowedInsideThatNode\n} from \"@/lib/tree/nesting\";\nimport { EasyEvent, isCanvasEvent } from \"@/util/easy-event\";\n\ntype PlaceholderPosition = {\n  dropTargetId: number;\n  dragPlaceholderIndex: number;\n  beforeOrAfter: \"before\" | \"after\";\n}; // this is a silly type because we already have a very similar one - CanvasDragPlaceholderPosition\n\n@Component\nexport default class OnCanvasDragHandle extends Vue {\n  @Prop()\n  node!: TreeNode;\n\n  lastSubmittedDrag: false | DragPayload = false;\n\n  get nestingPermissions() {\n    return getNestingRuleFromNode(this.node);\n  }\n\n  get canvasElementDraggedId() {\n    return uiStore.currentlyDraggingCanvasElementId;\n  }\n\n  @Watch(\"canvasElementDraggedId\")\n  watchCanvasElementDraggedId() {\n    this.dragStart();\n  }\n\n  // Call this instead of dragStart directly. dragStart will be called by the watcher\n  // This allows us to trigger a drag event from anywhere by updating the canvasElementDraggedId\n  updateCurrentlyDraggingElementId() {\n    uiStore.setCanvasElementDraggedId(this.node.id);\n  }\n\n  easyEvent = new EasyEvent();\n\n  dragStart() {\n    if (!uiStore.hasFullAccess || !this.canvasElementDraggedId) return;\n\n    this.easyEvent.on(\"mousemove\", this.dragging);\n    this.easyEvent.on(\"mouseup\", this.dragEnd);\n\n    const maybeParent = getNodeParent(\n      documentStore.document.tree,\n      this.node.id\n    );\n\n    if (maybeParent) {\n      this.setCanvasDragPlaceholderPosition({\n        nodeIndex: -1, // bs, doesnt matter\n        position: \"before\", // bs, doesnt matter\n        parentId: maybeParent.id,\n        onlyShowTargetOutline: true\n      }); // only reason we call this is to outline the parent\n    }\n\n    clearTextSelection();\n  }\n\n  setCanvasDragPlaceholderPosition(\n    canvasDragPlaceholderPosition: CanvasDragPlaceholderPosition | null\n  ) {\n    uiStore.setCanvasDragPlaceholderPosition(canvasDragPlaceholderPosition);\n  }\n\n  dragging(e: MouseEvent) {\n    if (isCanvasEvent(e)) {\n      e.preventDefault();\n      e.stopPropagation();\n\n      const mouseX = e.clientX;\n      const mouseY = e.clientY;\n\n      const nodeMouseIsOverId = getNodeIdAtPointInCanvas(mouseX, mouseY);\n\n      if (nodeMouseIsOverId === undefined) return;\n\n      const nodeMouseIsOver = findNode(\n        documentStore.document.tree,\n        nodeMouseIsOverId\n      );\n      if (nodeMouseIsOver === undefined) return;\n\n      const dropTargetNode = findNearestParentThatWillAcceptNodes(\n        documentStore.document.tree,\n        nodeMouseIsOver,\n        this.nestingPermissions\n      );\n\n      if (!dropTargetNode) return;\n\n      const dropTargetNodeId = dropTargetNode.id;\n\n      // ---------------------------------\n\n      if (\n        nodeMouseIsOverId === this.node.id ||\n        treeNodeReduce(\n          (node, foundNode: TreeNode | undefined) => {\n            if (!foundNode) {\n              foundNode = node.children.find(n => nodeMouseIsOverId === n.id);\n            }\n            return foundNode;\n          },\n          this.node,\n          undefined\n        )\n      ) {\n        /**\n         * if over self, outline parent and do nothing\n         */\n        this.setCanvasDragPlaceholderPosition({\n          nodeIndex: -1, // bs, doesnt matter\n          position: \"before\", // bs, doesnt matter\n          parentId: dropTargetNodeId,\n          onlyShowTargetOutline: true\n        }); // only reason we call this is to outline the parent\n\n        this.setDropPosition(false);\n      } else if (nodeMouseIsOverId === dropTargetNodeId) {\n        /*\n        if we are over the drop target, but not any of its children\n        */\n        this.handleDragWhenMouseIsOverTheDropTargetButNotOverAChildElementOfTheDropTarget(\n          mouseX,\n          mouseY,\n          nodeMouseIsOverId,\n          this.node.id,\n          dropTargetNode\n        );\n      } else if (\n        dropTargetNode.children.find(n => nodeMouseIsOverId === n.id)\n      ) {\n        /*\n        if we are over an immediate child of the drop target, and not the self\n        */\n        this.handleDragWhenMouseIsOverAChildOfTheDropTarget(\n          mouseX,\n          mouseY,\n          nodeMouseIsOverId,\n          this.node.id,\n          dropTargetNode\n        );\n      } else if (\n        /*\n        if we are over a deeper child of the drop target, and not the self\n        */\n        treeNodeReduce(\n          (node, foundNode: TreeNode | undefined) => {\n            if (!foundNode) {\n              foundNode = node.children.find(n => nodeMouseIsOverId === n.id);\n            }\n            return foundNode;\n          },\n          dropTargetNode,\n          undefined\n        )\n      ) {\n        const childOfDropTargetThatMouseIsReallyOver = getNodesIdsAtPointInCanvas(\n          mouseX,\n          mouseY\n        ).reduce((foundNode: TreeNode | undefined, nodeId: number) => {\n          if (!foundNode) {\n            return dropTargetNode.children.find(n => n.id === nodeId);\n          }\n          return foundNode;\n        }, undefined);\n\n        if (childOfDropTargetThatMouseIsReallyOver) {\n          this.handleDragWhenMouseIsOverAChildOfTheDropTarget(\n            mouseX,\n            mouseY,\n            childOfDropTargetThatMouseIsReallyOver.id,\n            this.node.id,\n            dropTargetNode\n          );\n        }\n      }\n    }\n  }\n\n  dragEnd(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.easyEvent.removeAll();\n\n    if (this.lastSubmittedDrag) {\n      documentStore.moveElement(this.lastSubmittedDrag);\n    }\n\n    this.setCanvasDragPlaceholderPosition(null);\n    this.lastSubmittedDrag = false;\n    uiStore.endCanvasElementDrag();\n\n    clearTextSelection();\n  }\n\n  handleDragWhenMouseIsOverAChildOfTheDropTarget(\n    mouseX: number,\n    mouseY: number,\n    mouseOverNodeId: number,\n    draggedNodeId: number,\n    dropTargetNode: TreeNode,\n    placeholderOnly = false\n  ) {\n    const stackingStyle = getStackingStyle(dropTargetNode);\n\n    const insertBeforeOrAfter =\n      shouldItBeInsertedBeforeOrAfter(\n        mouseX,\n        mouseY,\n        mouseOverNodeId,\n        stackingStyle\n      ) === \"before\"\n        ? \"before\"\n        : \"after\";\n\n    const nodesInDropTarget = dropTargetNode.children\n      .map(node => node.id)\n      .filter(id => id !== draggedNodeId);\n\n    const dragPlaceholderIndex = dropTargetNode.children\n      .map(node => node.id)\n      .findIndex(id => id === mouseOverNodeId);\n\n    let dropPlacementIndex = nodesInDropTarget.findIndex(\n      id => id === mouseOverNodeId\n    );\n\n    if (insertBeforeOrAfter === \"after\") {\n      dropPlacementIndex++; // for the placement of the dropped element, 0 inserts before the first node, 1 inserts after the first node\n    }\n\n    if (placeholderOnly === true) {\n      this.setPlaceholder({\n        dropTargetId: dropTargetNode.id,\n        dragPlaceholderIndex: dragPlaceholderIndex,\n        beforeOrAfter: insertBeforeOrAfter\n      });\n\n      this.setDropPosition(false);\n    } else {\n      this.setPlaceholder({\n        dropTargetId: dropTargetNode.id,\n        dragPlaceholderIndex: dragPlaceholderIndex,\n        beforeOrAfter: insertBeforeOrAfter\n      });\n\n      this.setDropPosition({\n        draggedElementId: draggedNodeId,\n        droppedOnElementId: dropTargetNode.id,\n        index: dropPlacementIndex\n      });\n    }\n  }\n\n  handleDragWhenMouseIsOverTheDropTargetButNotOverAChildElementOfTheDropTarget(\n    mouseX: number,\n    mouseY: number,\n    _mouseOverNodeId: number,\n    draggedNodeId: number,\n    dropTargetNode: TreeNode\n  ) {\n    if (dropTargetNode.children.length === 0) {\n      this.setPlaceholder({\n        dropTargetId: dropTargetNode.id,\n        dragPlaceholderIndex: 0,\n        beforeOrAfter: \"after\"\n      });\n\n      this.setDropPosition({\n        draggedElementId: draggedNodeId,\n        droppedOnElementId: dropTargetNode.id,\n        index: 0\n      });\n    } else {\n      const rects = (dropTargetNode.children\n        .map((node, i) => {\n          return {\n            positionAndSize: getTreeNodePositionAndSize(node, \"absolute\"), // we need to save the index to figure out which rect,\n            index: i,\n            id: node.id\n          };\n        })\n        .filter(r => r.positionAndSize) as {\n        index: number;\n        positionAndSize: ElementPositionAndSize;\n        id: number;\n      }[])\n        .map(r => {\n          return {\n            min: {\n              x: r.positionAndSize.x,\n              y: r.positionAndSize.y\n            },\n            max: {\n              x: r.positionAndSize.x + r.positionAndSize.width,\n              y: r.positionAndSize.y + r.positionAndSize.height\n            },\n            nodeIndex: r.index,\n            id: r.id\n          };\n        })\n        .map(r => {\n          return {\n            ...r,\n            distance: distance(r, { x: mouseX, y: mouseY })\n          };\n        });\n\n      const nearestRect = rects.reduce((r1, r2) =>\n        r1.distance < r2.distance ? r1 : r2\n      );\n\n      const xCenter = (nearestRect.min.x + nearestRect.max.x) / 2;\n      const yCenter = (nearestRect.min.y + nearestRect.max.y) / 2;\n\n      const leftOrRight = xCenter > mouseX ? \"left\" : \"right\";\n      const aboveOrBelow = yCenter > mouseY ? \"above\" : \"below\";\n\n      const stackingStyle = getStackingStyle(dropTargetNode);\n\n      let insertBeforeOrAfter: \"before\" | \"after\";\n\n      if (stackingStyle === \"vertical\") {\n        insertBeforeOrAfter = aboveOrBelow === \"above\" ? \"before\" : \"after\";\n      } else {\n        insertBeforeOrAfter = leftOrRight === \"left\" ? \"before\" : \"after\";\n      }\n\n      if (nearestRect.id === draggedNodeId) {\n        // if nearest node is self, just recompute the placeholder position.\n\n        this.setPlaceholder({\n          dropTargetId: dropTargetNode.id,\n          dragPlaceholderIndex: nearestRect.nodeIndex,\n          beforeOrAfter: insertBeforeOrAfter\n        });\n\n        this.setDropPosition(false);\n\n        return;\n      }\n\n      const nodesInDropTargetIds = dropTargetNode.children\n        .map(node => node.id)\n        .filter(id => id !== draggedNodeId);\n\n      let dropPlacementIndex = nodesInDropTargetIds.findIndex(\n        id => id === nearestRect.id\n      );\n\n      if (insertBeforeOrAfter === \"after\") {\n        dropPlacementIndex++;\n      }\n\n      this.setPlaceholder({\n        dropTargetId: dropTargetNode.id,\n        dragPlaceholderIndex: nearestRect.nodeIndex,\n        beforeOrAfter: insertBeforeOrAfter\n      });\n\n      this.setDropPosition({\n        draggedElementId: draggedNodeId,\n        droppedOnElementId: dropTargetNode.id,\n        index: dropPlacementIndex\n      });\n    }\n  }\n\n  setPlaceholder(placeholderPosition: PlaceholderPosition) {\n    if (\n      isThisNodeAllowedInsideThatNode(\n        documentStore.document.tree,\n        this.node,\n        placeholderPosition.dropTargetId\n      )\n    ) {\n      this.movePlaceholder(\n        placeholderPosition.dropTargetId,\n        placeholderPosition.dragPlaceholderIndex,\n        placeholderPosition.beforeOrAfter\n      );\n    }\n  }\n\n  setDropPosition(dropPosition: DragPayload | false) {\n    if (dropPosition === false) {\n      this.lastSubmittedDrag = false;\n      return;\n    }\n\n    if (\n      isThisNodeAllowedInsideThatNode(\n        documentStore.document.tree,\n        this.node,\n        dropPosition.droppedOnElementId\n      )\n    ) {\n      this.lastSubmittedDrag = dropPosition;\n    }\n  }\n\n  movePlaceholder(\n    dropTargetId: number,\n    dragPlaceholderIndex: number,\n    beforeOrAfter: \"before\" | \"after\"\n  ) {\n    let onlyShowTargetOutline = false;\n\n    /* hide if placeholder is on the dragged node */\n    const dropTarget = findNode(documentStore.document.tree, dropTargetId);\n    if (dropTarget) {\n      const maybeChildWherePlaceholderIs =\n        dropTarget.children[dragPlaceholderIndex];\n      const maybeChildBeforeWherePlaceholderIs =\n        dropTarget.children[dragPlaceholderIndex - 1];\n      const maybeChildAFterWherePlaceholderIs =\n        dropTarget.children[dragPlaceholderIndex + 1];\n\n      if (maybeChildWherePlaceholderIs) {\n        if (maybeChildWherePlaceholderIs.id === this.node.id) {\n          onlyShowTargetOutline = true;\n          // return;\n        }\n      }\n\n      if (maybeChildBeforeWherePlaceholderIs) {\n        if (\n          maybeChildBeforeWherePlaceholderIs.id === this.node.id &&\n          beforeOrAfter === \"before\"\n        ) {\n          onlyShowTargetOutline = true;\n          // return;\n        }\n      }\n\n      if (maybeChildAFterWherePlaceholderIs) {\n        if (\n          maybeChildAFterWherePlaceholderIs.id === this.node.id &&\n          beforeOrAfter === \"after\"\n        ) {\n          onlyShowTargetOutline = true;\n          // return;\n        }\n      }\n    }\n    /* ---------- */\n\n    /* only move if it is materially different than last position */\n    if (uiStore.canvasDragPlaceholderPosition) {\n      const movedForwards = () =>\n        dragPlaceholderIndex ===\n        (uiStore.canvasDragPlaceholderPosition as CanvasDragPlaceholderPosition)\n          .nodeIndex +\n          1;\n\n      const movedBackwards = () =>\n        dragPlaceholderIndex ===\n        (uiStore.canvasDragPlaceholderPosition as CanvasDragPlaceholderPosition)\n          .nodeIndex -\n          1;\n\n      if (uiStore.canvasDragPlaceholderPosition.parentId === dropTargetId) {\n        if (\n          movedForwards() &&\n          uiStore.canvasDragPlaceholderPosition.position === \"after\" &&\n          beforeOrAfter === \"before\"\n        ) {\n          return;\n        }\n\n        if (\n          movedBackwards() &&\n          uiStore.canvasDragPlaceholderPosition.position === \"before\" &&\n          beforeOrAfter === \"after\"\n        ) {\n          return;\n        }\n      }\n    }\n    /* ------ */\n\n    this.setCanvasDragPlaceholderPosition({\n      parentId: dropTargetId,\n      nodeIndex: dragPlaceholderIndex,\n      position: beforeOrAfter,\n      onlyShowTargetOutline: onlyShowTargetOutline\n    });\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnCanvasDragHandle.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./OnCanvasDragHandle.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./OnCanvasDragHandle.vue?vue&type=template&id=616df96e&\"\nimport script from \"./OnCanvasDragHandle.vue?vue&type=script&lang=ts&\"\nexport * from \"./OnCanvasDragHandle.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { getCanvasPositionAndSize } from \"@/lib/canvas/helpers\";\n\nexport function getRightClickMenuPositionInCanvas(\n  mouseX: number,\n  mouseY: number\n) {\n  const { x: canvasX, y: canvasY } = getCanvasPositionAndSize();\n\n  const iframe = document.getElementById(\"iframe\");\n\n  const menuElement = window.Breakdance.canvas.document.querySelector(\n    \".breakdance-canvas-right-click-menu\"\n  ) as HTMLElement;\n\n  if (!menuElement || !iframe) {\n    return;\n  }\n\n  const {\n    width: iframeWidth,\n    height: iframeHeight\n  } = iframe.getBoundingClientRect();\n\n  const { menuWidth, menuHeight } = getMenuSize(menuElement);\n\n  const x =\n    mouseX + menuWidth + 15 > iframeWidth\n      ? mouseX - canvasX - menuWidth\n      : mouseX - canvasX;\n\n  const y =\n    mouseY + menuHeight + 15 > iframeHeight\n      ? mouseY - canvasY - menuHeight\n      : mouseY - canvasY;\n\n  return {\n    x,\n    y\n  };\n}\n\nfunction getMenuSize(menuElement: HTMLElement) {\n  // getBoundingClientRect sizes will be 0 if the element is hidden\n  menuElement.style.display = \"block\";\n  const { width, height } = menuElement.getBoundingClientRect();\n\n  return {\n    menuWidth: width,\n    menuHeight: height\n  };\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { uiStore, configStore, documentStore } from \"@/store/store\";\nimport OnCanvasDragHandle from \"./OnCanvasDragHandle.vue\";\nimport { getNodeParent } from \"@/lib/tree/tree\";\nimport {\n  getNodeElementWrapperStyles,\n  getDomElementFromTreeNode,\n  getNodeTitlebarStyles\n} from \"@/lib/canvas/helpers\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\nimport { getRightClickMenuPositionInCanvas } from \"@/lib/right-click/actions\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { SECTION_SLUG } from \"@/lib/elements/constants\";\nimport lodash from \"lodash\";\n\n@Component({\n  components: {\n    Icon,\n    OnCanvasDragHandle\n  }\n})\nexport default class NodeTitlebar extends Vue {\n  interval!: NodeJS.Timer;\n  refreshRate = 500;\n\n  unsubscribeFromStorePositionWrapper = () => {};\n  nextTickPositionsWrapper() {\n    forceNextTick(this.calculateStylesAndTitle);\n  }\n\n  openContextMenu(e: MouseEvent) {\n    // don't reach the event in the menu, otherwise It'll select the wrong element\n    e.stopPropagation();\n    e.preventDefault();\n\n    const position = getRightClickMenuPositionInCanvas(e.clientX, e.clientY);\n\n    if (!uiStore.activeElementId || !position) return;\n\n    uiStore.setOnCanvasRightClickMenuState({\n      elementId: uiStore.activeElementId,\n      position\n    });\n  }\n\n  mounted() {\n    this.calculateStylesAndTitle();\n\n    this.unsubscribeFromStorePositionWrapper = this.$store.subscribe(\n      this.nextTickPositionsWrapper\n    );\n\n    window.addEventListener(\"resize\", this.nextTickPositionsWrapper);\n\n    this.interval = setInterval(\n      this.nextTickPositionsWrapper,\n      this.refreshRate\n    );\n  }\n\n  beforeDestroy() {\n    this.unsubscribeFromStorePositionWrapper();\n\n    window.removeEventListener(\"resize\", this.nextTickPositionsWrapper);\n\n    clearInterval(this.interval);\n  }\n\n  get isDraftSection() {\n    if (!uiStore.activeElement) return false;\n\n    if (uiStore.activeElement.data.type !== SECTION_SLUG) return false;\n\n    const isDraft = lodash.get(\n      uiStore.activeElement.data.properties,\n      \"settings.advanced.draft\"\n    );\n\n    return !!isDraft;\n  }\n\n  get isDragAndDropEnabled() {\n    return uiStore.hasFullAccess;\n  }\n\n  get isElementUpdating() {\n    if (!uiStore.activeElementId) return false;\n    return !!uiStore.elementsThatAreUpdating[uiStore.activeElementId];\n  }\n\n  titlebarPositionStyle: { [key: string]: string } = {};\n\n  wrapperPositionStyle: { [key: string]: string } = {\n    display: \"none\"\n  };\n\n  elementTitle = \"\";\n\n  // Everything is calculated in a func to avoid UI flicker caused by values being calculated at different times\n  calculateStylesAndTitle() {\n    if (uiStore.elementWithContentEditable || !uiStore.activeElement) {\n      this.wrapperPositionStyle = {\n        display: \"none\"\n      };\n\n      return;\n    }\n\n    this.elementTitle = configStore.element(\n      uiStore.activeElement.data.type\n    ).name;\n\n    this.wrapperPositionStyle = getNodeElementWrapperStyles(\n      getDomElementFromTreeNode(uiStore.activeElement)\n    );\n\n    this.titlebarPositionStyle = getNodeTitlebarStyles(uiStore.activeElement);\n  }\n\n  get titlebarClasses() {\n    return {\n      \"node-titlebar-is-dragging\": this.isDragging,\n      \"node-titlebar-is-draft-section\": this.isDraftSection\n    };\n  }\n\n  get isDragging() {\n    return uiStore.currentlyDraggingCanvasElementId === uiStore.activeElementId;\n  }\n\n  duplicate() {\n    if (uiStore.activeElementId) {\n      documentStore.duplicateElementAndActivateIt(uiStore.activeElementId);\n    }\n  }\n\n  remove() {\n    if (uiStore.activeElementId !== null) {\n      documentStore.deleteElement({ nodeId: uiStore.activeElementId });\n    }\n  }\n\n  refreshSsr() {\n    uiStore.setRefreshSsrElementId(uiStore.activeElementId);\n  }\n\n  get hasSSr() {\n    const activeElementBase =\n      uiStore.activeElement &&\n      configStore.element(uiStore.activeElement.data.type);\n\n    if (!activeElementBase) {\n      return \"\";\n    }\n\n    return activeElementBase.template.includes(\"%%SSR%%\");\n  }\n\n  get hasParent() {\n    return this.parentElement && this.parentElement.data.type !== \"root\";\n  }\n\n  get node() {\n    // False should never happen\n    return uiStore.activeElement || false;\n  }\n\n  activateParent() {\n    if (this.parentElement) {\n      uiStore.activateElement(this.parentElement.id);\n    }\n  }\n\n  get parentElement() {\n    if (!uiStore.activeElement) return false;\n\n    const maybeParent = getNodeParent(\n      documentStore.document.tree,\n      uiStore.activeElement.id\n    );\n\n    return maybeParent ? maybeParent : false;\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeTitlebar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeTitlebar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NodeTitlebar.vue?vue&type=template&id=071ac525&\"\nimport script from \"./NodeTitlebar.vue?vue&type=script&lang=ts&\"\nexport * from \"./NodeTitlebar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"node-hover-controls\",class:_vm.wrapperClassList,style:(_vm.wrapperPositionStyle)})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\nimport { getNodeIdAtPointInCanvas } from \"@/lib/canvas/drag/element-drag\";\nimport {\n  getTreeNodePositionAndSize,\n  getNodeElementWrapperStyles,\n  getDomElementFromTreeNode\n} from \"@/lib/canvas/helpers\";\nimport { findNode } from \"@/lib/tree/tree\";\nimport { documentStore, uiStore } from \"@/store/store\";\nimport { Component, Vue } from \"vue-property-decorator\";\nimport throttle from \"lodash/throttle\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\n\n@Component({})\nexport default class NodeHoverControls extends Vue {\n  interval!: NodeJS.Timer;\n  refreshRate = 500;\n  shouldShowControls = false;\n\n  unsubscribeFromStorePositionWrapper = () => {};\n\n  throttledNextTickPositionWrapper = throttle(\n    () => forceNextTick(() => this.positionWrapper()),\n    100\n  );\n\n  beforeMount() {\n    this.positionWrapper();\n\n    this.unsubscribeFromStorePositionWrapper = this.$store.subscribe(\n      this.throttledNextTickPositionWrapper\n    );\n\n    window.addEventListener(\"resize\", this.throttledNextTickPositionWrapper);\n  }\n\n  mounted() {\n    const canvasElement = window.Breakdance.canvas.document.getElementById(\n      \"breakdance_canvas\"\n    );\n\n    if (!canvasElement) return;\n\n    canvasElement.addEventListener(\n      \"mousemove\",\n      this.throttledShowHoverControlsOnMouseMoveCanvas\n    );\n    canvasElement.addEventListener(\n      \"mouseleave\",\n      this.disableMouseHoverOnMouseLeaveCanvas\n    );\n\n    this.interval = setInterval(\n      this.throttledNextTickPositionWrapper,\n      this.refreshRate\n    );\n  }\n\n  beforeDestroy() {\n    const canvasElement = window.Breakdance.canvas.document.getElementById(\n      \"breakdance_canvas\"\n    );\n\n    this.unsubscribeFromStorePositionWrapper();\n    window.removeEventListener(\"resize\", this.throttledNextTickPositionWrapper);\n    canvasElement?.removeEventListener(\n      \"mousemove\",\n      this.throttledShowHoverControlsOnMouseMoveCanvas\n    );\n    clearInterval(this.interval);\n  }\n\n  get wrapperClassList() {\n    return {\n      \"node-hover-controls-show\": this.shouldShowControls && this.isNotDragging,\n      \"node-hover-controls--outline\": this.isNotDragging\n    };\n  }\n\n  get isNotDragging() {\n    return !uiStore.isCanvasElementBeingDragged && !uiStore.isDragMixinDragging;\n  }\n\n  get element() {\n    if (\n      !uiStore.lastHoveredOnCanvasElementId ||\n      uiStore.elementWithContentEditable\n    )\n      return false;\n\n    const lastHoveredElement = findNode(\n      documentStore.document.tree,\n      uiStore.lastHoveredOnCanvasElementId\n    );\n\n    return lastHoveredElement || false;\n  }\n\n  setHoveredNode(x: number, y: number) {\n    const hoveredNodeId = getNodeIdAtPointInCanvas(x, y);\n\n    if (hoveredNodeId !== undefined) {\n      const hoveredNode = findNode(documentStore.document.tree, hoveredNodeId);\n\n      if (hoveredNode) {\n        uiStore.setLastHoveredOnCanvasElementId(hoveredNode.id);\n      }\n    }\n  }\n\n  disableMouseHoverOnMouseLeaveCanvas = () => {\n    // without a timeout, the mousemove event will trigger after mouseleave\n    // setting the hoveredElement again\n    setTimeout(() => uiStore.setLastHoveredOnCanvasElementId(null), 110);\n  };\n\n  throttledShowHoverControlsOnMouseMoveCanvas = throttle(\n    this.showHoverControlsOnMouseMoveCanvas,\n    100\n  );\n  showHoverControlsOnMouseMoveCanvas(e: MouseEvent) {\n    const { clientX: mouseX, clientY: mouseY } = e;\n\n    this.setHoveredNode(mouseX, mouseY);\n\n    if (this.element === false) return;\n\n    const elementPositionAndSize = getTreeNodePositionAndSize(\n      this.element,\n      \"absolute\"\n    );\n\n    if (!elementPositionAndSize) return;\n\n    const {\n      x: elementX,\n      y: elementY,\n      width: elementWidth,\n      height: elementHeight\n    } = elementPositionAndSize;\n\n    this.shouldShowControls =\n      mouseX > elementX + elementWidth - 48 &&\n      mouseX < elementX + elementWidth &&\n      mouseY > elementY &&\n      mouseY < elementY + elementHeight;\n  }\n\n  wrapperPositionStyle: { [key: string]: string } = {\n    display: \"none\"\n  };\n\n  positionWrapper() {\n    if (uiStore.elementWithContentEditable || !this.element) {\n      this.wrapperPositionStyle = {\n        display: \"none\"\n      };\n\n      return;\n    }\n\n    this.wrapperPositionStyle = getNodeElementWrapperStyles(\n      getDomElementFromTreeNode(this.element)\n    );\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeHoverControls.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeHoverControls.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NodeHoverControls.vue?vue&type=template&id=ccf96b4e&\"\nimport script from \"./NodeHoverControls.vue?vue&type=script&lang=ts&\"\nexport * from \"./NodeHoverControls.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"node-content-editable\",style:(_vm.wrapperStyle)})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport {\n  getDomElementFromTreeNode,\n  getNodeElementWrapperStyles\n} from \"@/lib/canvas/helpers\";\nimport { findNode } from \"@/lib/tree/tree\";\nimport { documentStore, uiStore } from \"@/store/store\";\nimport { Component, Vue } from \"vue-property-decorator\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\n\n@Component({})\nexport default class NodeContentEditable extends Vue {\n  unsubscribeFromStorePositionWrapper = () => {};\n  wrapperStyle: { [key: string]: string } = {\n    display: \"none\"\n  };\n  lastModifiedDomElement: HTMLElement | null = null;\n\n  mounted() {\n    this.calculateWrapperStyles();\n\n    this.unsubscribeFromStorePositionWrapper = this.$store.subscribe(\n      this.calculateWrapperStyles\n    );\n\n    window.addEventListener(\"resize\", this.calculateWrapperStyles);\n  }\n\n  beforeDestroy() {\n    this.unsubscribeFromStorePositionWrapper();\n\n    window.removeEventListener(\"resize\", this.calculateWrapperStyles);\n  }\n\n  get domElement() {\n    if (!uiStore.elementWithContentEditable) return null;\n\n    const contentEditableElement = findNode(\n      documentStore.document.tree,\n      uiStore.elementWithContentEditable\n    );\n\n    if (!contentEditableElement) return null;\n\n    const domElement = getDomElementFromTreeNode(contentEditableElement);\n\n    if (domElement?.contentEditable === \"true\") {\n      this.lastModifiedDomElement = domElement;\n      return domElement;\n    }\n\n    const childWithContentEditable = domElement?.querySelector(\n      '[contenteditable=\"true\"]'\n    );\n\n    if (childWithContentEditable) {\n      this.lastModifiedDomElement = childWithContentEditable as HTMLElement;\n\n      return childWithContentEditable;\n    }\n\n    return null;\n  }\n\n  calculateWrapperStyles() {\n    // wait for the domElement to recalculate\n    forceNextTick(() => {\n      if (!this.domElement && this.lastModifiedDomElement) {\n        this.lastModifiedDomElement.removeEventListener(\n          \"input\",\n          this.calculateWrapperStyles\n        );\n        this.lastModifiedDomElement = null;\n      }\n\n      this.wrapperStyle = getNodeElementWrapperStyles(\n        this.domElement as HTMLElement\n      );\n\n      if (this.domElement) {\n        // a contenteditable element won't update the store until it's blurred, but we need to update the wrapper styles\n        this.domElement.addEventListener(\"input\", this.calculateWrapperStyles);\n      }\n    });\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeContentEditable.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeContentEditable.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NodeContentEditable.vue?vue&type=template&id=10cffb2c&\"\nimport script from \"./NodeContentEditable.vue?vue&type=script&lang=ts&\"\nexport * from \"./NodeContentEditable.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport DragDots from \"./DragDots.vue\";\nimport SpacingBars from \"./SpacingBars.vue\";\nimport ColumnDragSizer from \"./ColumnDragSizer.vue\";\nimport NodeTitlebar from \"./NodeTitlebar.vue\";\nimport NodeHoverControls from \"./NodeHoverControls.vue\";\nimport NodeContentEditable from \"@/components/Canvas/OverlaidUI/NodeContentEditable.vue\";\nimport { documentStore, uiStore } from \"@/store/store-accessor\";\nimport {\n  getDomElementFromTreeNode,\n  shouldHideElementNodeControls\n} from \"@/lib/canvas/helpers\";\nimport { findNode } from \"@/lib/tree/tree\";\nimport { TreeNode } from \"@/types/tree\";\n\n@Component({\n  components: {\n    NodeContentEditable,\n    DragDots,\n    SpacingBars,\n    ColumnDragSizer,\n    NodeTitlebar,\n    NodeHoverControls\n  }\n})\nexport default class NodeChrome extends Vue {\n  observer?: MutationObserver;\n  hoverObserver?: MutationObserver;\n  hideTitleBar = false;\n  hideHoverControls = false;\n\n  get element() {\n    return uiStore.activeElement || false;\n  }\n\n  get hoveredElement() {\n    if (uiStore.lastHoveredOnCanvasElementId) {\n      return findNode(\n        documentStore.document.tree,\n        uiStore.lastHoveredOnCanvasElementId\n      );\n    }\n\n    return false;\n  }\n\n  get hideClass() {\n    let prefix = null;\n\n    if (this.hideTitleBar && this.hideHoverControls) {\n      prefix = \"all\";\n    } else if (this.hideHoverControls) {\n      prefix = \"hover\";\n    } else if (this.hideTitleBar) {\n      prefix = \"titlebar\";\n    }\n\n    return prefix ? `node-chrome--hide-${prefix}` : null;\n  }\n\n  @Watch(\"element\")\n  onElementSelected() {\n    this.observer?.disconnect();\n    if (!this.element) return;\n\n    this.observer = this.observePositionChange(this.element, target => {\n      this.hideTitleBar = shouldHideElementNodeControls(target);\n    });\n  }\n\n  @Watch(\"hoveredElement\")\n  onHoveredElementSelected() {\n    this.hoverObserver?.disconnect();\n    if (!this.hoveredElement) return;\n\n    this.hoverObserver = this.observePositionChange(\n      this.hoveredElement,\n      target => {\n        this.hideHoverControls = shouldHideElementNodeControls(target);\n      }\n    );\n  }\n\n  beforeDestroy() {\n    this.destroyObserver();\n  }\n\n  observePositionChange(\n    element: TreeNode | false,\n    callback: (target: HTMLElement) => void\n  ) {\n    if (!element) return;\n    const node = getDomElementFromTreeNode(element);\n\n    if (!node) return;\n\n    const onMutate = (mutations: MutationRecord[]) => {\n      mutations.forEach(record => {\n        const target = record.target as HTMLElement;\n        callback(target);\n      });\n    };\n\n    const observer = new MutationObserver(onMutate);\n\n    const options = {\n      attributes: true,\n      attributeFilter: [\"class\"]\n    };\n\n    observer.observe(node, options);\n    return observer;\n  }\n\n  destroyObserver() {\n    this.observer?.disconnect();\n    this.hoverObserver?.disconnect();\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeChrome.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NodeChrome.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./NodeChrome.vue?vue&type=template&id=6b8240c2&\"\nimport script from \"./NodeChrome.vue?vue&type=script&lang=ts&\"\nexport * from \"./NodeChrome.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('DragPlaceholder'),_c('RightClickMenu',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('full'),expression:\"'full'\"}]})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-drag-placeholder-wrapper\"},[_c('div',{staticClass:\"breakdance-drag-placeholder\",style:(_vm.dragPlaceholderPositionStyle)}),_c('div',{staticClass:\"breakdance-drag-target-outline\",style:(_vm.dragTargetOutlineStyle)})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { uiStore, documentStore } from \"@/store/store\";\nimport {\n  getEmptyContainerPositionAndSize,\n  getTreeNodePositionAndSize\n} from \"@/lib/canvas/helpers\";\nimport { getStackingStyle } from \"@/lib/canvas/drag/element-drag\";\nimport { findNode, ROOT_ELEMENT_ID } from \"@/lib/tree/tree\";\n\n@Component({\n  components: {}\n})\nexport default class DragPlaceholder extends Vue {\n  get canvasDragPlaceholderPosition() {\n    return uiStore.canvasDragPlaceholderPosition;\n  }\n\n  get parentNode() {\n    if (!this.canvasDragPlaceholderPosition) return false;\n\n    const maybeNode = findNode(\n      documentStore.document.tree,\n      this.canvasDragPlaceholderPosition.parentId\n    );\n    return maybeNode ? maybeNode : false;\n  }\n\n  get stackingStyle() {\n    if (!this.canvasDragPlaceholderPosition) return {};\n\n    if (!this.parentNode) return {};\n\n    return getStackingStyle(this.parentNode);\n  }\n\n  get dragPlaceholderPositionStyle() {\n    if (\n      !this.canvasDragPlaceholderPosition ||\n      this.canvasDragPlaceholderPosition.onlyShowTargetOutline === true\n    )\n      return {};\n\n    const parentNode = findNode(\n      documentStore.document.tree,\n      this.canvasDragPlaceholderPosition.parentId\n    );\n\n    if (!parentNode) return {};\n\n    const widthOrHeightNumber = 8;\n    // - 1 for the border of the parent element\n    const widthOrHeightValue = `${widthOrHeightNumber}px`;\n\n    if (parentNode.children.length === 0) {\n      // this is similar to that shit in DragMixin.ts\n      const elementPositionAndSize =\n        parentNode.id === ROOT_ELEMENT_ID\n          ? getEmptyContainerPositionAndSize()\n          : getTreeNodePositionAndSize(parentNode);\n\n      if (!elementPositionAndSize) return {};\n\n      // eslint-disable-next-line prefer-const\n      let { x, y, width, height } = elementPositionAndSize;\n\n      if (width - 40 > 100) {\n        x = x + 20;\n        width = width - 40;\n      }\n\n      return {\n        display: \"block\",\n        top: `${y + height / 2 - widthOrHeightNumber / 2}px`,\n        left: `${x}px`,\n        width: `${width}px`,\n        height: widthOrHeightValue\n      };\n    } else {\n      const overNode =\n        parentNode.children[this.canvasDragPlaceholderPosition.nodeIndex];\n      // this is a little dangerous. What if the index of the placeholder is not right and the shit doesnt exist?\n      // when we upgrade TypeScript to use noUncheckedIndexedAccess, this will be caught\n\n      const elementPositionAndSize = getTreeNodePositionAndSize(overNode); // this is similar to that shit in DragMixin.ts\n      const stackingStyle = getStackingStyle(parentNode);\n\n      if (!elementPositionAndSize) return {};\n\n      const { x, y, width, height } = elementPositionAndSize;\n\n      if (stackingStyle === \"vertical\") {\n        if (this.canvasDragPlaceholderPosition.position === \"before\") {\n          return {\n            display: \"block\",\n            top: `${y - (widthOrHeightNumber / 2 - 1)}px`,\n            left: `${x}px`,\n            width: `${width}px`,\n            height: widthOrHeightValue\n          };\n        } else if (this.canvasDragPlaceholderPosition.position === \"after\") {\n          return {\n            display: \"block\",\n            top: `${height + y - (widthOrHeightNumber / 2 + 1)}px`,\n            left: `${x}px`,\n            width: `${width}px`,\n            height: widthOrHeightValue\n          };\n        }\n      } else if (stackingStyle === \"horizontal\") {\n        if (this.canvasDragPlaceholderPosition.position === \"before\") {\n          return {\n            display: \"block\",\n            top: `${y}px`,\n            left: `${x - widthOrHeightNumber / 2}px`,\n            height: `${height}px`,\n            width: widthOrHeightValue\n          };\n        } else if (this.canvasDragPlaceholderPosition.position === \"after\") {\n          return {\n            display: \"block\",\n            left: `${width + x - widthOrHeightNumber / 2}px`,\n            top: `${y}px`,\n            height: `${height}px`,\n            width: widthOrHeightValue\n          };\n        }\n      }\n    }\n\n    return {};\n  }\n\n  get dragTargetOutlineStyle() {\n    if (!this.parentNode) return {};\n\n    const elementPositionAndSize =\n      this.parentNode.id === ROOT_ELEMENT_ID &&\n      documentStore.document.tree.root.children.length === 0\n        ? getEmptyContainerPositionAndSize()\n        : getTreeNodePositionAndSize(this.parentNode);\n\n    if (!elementPositionAndSize) return {};\n\n    const { x, y, width, height } = elementPositionAndSize;\n\n    return {\n      display: \"block\",\n      position:\n        \"absolute\" /* this won't work if something other than the window has position relative on it\n        maybe we could mount the overlaid ui chrome inside the body */,\n      top: `${y}px`,\n      left: `${x}px`,\n      width: `${width}px`,\n      height: `${height}px`\n    };\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DragPlaceholder.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DragPlaceholder.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DragPlaceholder.vue?vue&type=template&id=8f2066d6&\"\nimport script from \"./DragPlaceholder.vue?vue&type=script&lang=ts&\"\nexport * from \"./DragPlaceholder.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.shouldShow),expression:\"shouldShow\"}],staticClass:\"breakdance-canvas-right-click-menu\",style:(_vm.wrapperPositionStyle)},[_c('RightClickMenuItem',{attrs:{\"disabled\":!_vm.elementIdPresent},on:{\"click\":_vm.copyElement}},[_vm._v(\" Copy \")]),_c('RightClickMenuItem',{attrs:{\"disabled\":!_vm.canPasteElement},on:{\"click\":_vm.pasteElement}},[_vm._v(\" Paste \")]),_c('RightClickMenuItem',{attrs:{\"disabled\":!_vm.canPasteElementProperties},on:{\"click\":function($event){return _vm.pasteElementProperties('design')}}},[_vm._v(\" Paste Design \")]),_c('RightClickMenuItem',{attrs:{\"disabled\":!_vm.canPasteElementProperties},on:{\"click\":function($event){return _vm.pasteElementProperties('settings')}}},[_vm._v(\" Paste Settings \")]),_c('div',{staticClass:\"breakdance-canvas-right-click-menu-divider\"}),_c('RightClickMenuItem',{attrs:{\"disabled\":!_vm.elementIdPresent},on:{\"click\":_vm.deleteElement}},[_vm._v(\" Delete \")]),_c('div',{staticClass:\"breakdance-canvas-right-click-menu-divider\"}),_c('RightClickMenuItem',{attrs:{\"disabled\":!_vm.canSaveAsGlobalBlock},on:{\"click\":_vm.openSaveGlobalBlockDialog}},[_vm._v(\" Save as Global Block \")])],1),(_vm.saveGlobalBlockDialog)?_c('GlobalBlockDialog',{attrs:{\"element-id\":_vm.elementIdToSaveAsGlobalBlock},on:{\"close\":_vm.closeGlobalBlockDialog}}):_vm._e(),_c('ClipboardDialog',{model:{value:(_vm.clipboardDialog),callback:function ($$v) {_vm.clipboardDialog=$$v},expression:\"clipboardDialog\"}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n    'breakdance-canvas-right-click-menu-item': true,\n    'breakdance-canvas-right-click-menu-item-disabled': _vm.disabled\n  },on:{\"click\":function($event){_vm.disabled ? function () {} : _vm.$emit('click', $event)}}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component({\n  components: {}\n})\nexport default class RightClickMenuItem extends Vue {\n  @Prop({ default: false })\n  disabled!: boolean;\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RightClickMenuItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RightClickMenuItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RightClickMenuItem.vue?vue&type=template&id=f2edc36e&\"\nimport script from \"./RightClickMenuItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./RightClickMenuItem.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dialog',{attrs:{\"value\":_vm.value,\"width\":500,\"closeable\":true},on:{\"input\":function($event){return _vm.$emit('input', $event)}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"Enable Paste\")]},proxy:true},{key:\"text\",fn:function(){return [_c('p',[_vm._v(\" To paste using the Edit menu, \"),(_vm.status && !_vm.status.secure)?[_vm._v(\" your website needs to be served with HTTPS. \")]:(_vm.status && _vm.status.permission.state !== 'granted')?[_vm._v(\" please allow access to your clipboard. \")]:_vm._e()],2),_c('p',[_vm._v(\"Alternatively, you can use your keyboard shortcuts:\")]),_c('ul',{staticClass:\"clipboard-dialog-shortcuts\"},[_c('li',{staticClass:\"clipboard-dialog-shortcut\"},[_c('span',{staticClass:\"clipboard-dialog-shortcut__key\"},[_vm._v(_vm._s(_vm.metaKey)+\" C\")]),_c('span',{staticClass:\"clipboard-dialog-shortcut__label\"},[_vm._v(\"copy\")])]),_c('li',{staticClass:\"clipboard-dialog-shortcut\"},[_c('span',{staticClass:\"clipboard-dialog-shortcut__key\"},[_vm._v(_vm._s(_vm.metaKey)+\" X\")]),_c('span',{staticClass:\"clipboard-dialog-shortcut__label\"},[_vm._v(\"cut\")])]),_c('li',{staticClass:\"clipboard-dialog-shortcut\"},[_c('span',{staticClass:\"clipboard-dialog-shortcut__key\"},[_vm._v(_vm._s(_vm.metaKey)+\" V\")]),_c('span',{staticClass:\"clipboard-dialog-shortcut__label\"},[_vm._v(\"paste\")])])])]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop, Watch } from \"vue-property-decorator\";\nimport Dialog from \"@/components/UI/Dialog.vue\";\nimport { getClipboardStatus } from \"@/lib/copy-paste/utils\";\nimport { ClipboardStatus } from \"@/types/copy-paste\";\n\n@Component({ components: { Dialog } })\nexport default class ClipboardDialog extends Vue {\n  @Prop()\n  value!: boolean;\n\n  status: ClipboardStatus | null = null;\n\n  @Watch(\"value\", { immediate: true })\n  async onChange() {\n    this.status = await getClipboardStatus();\n\n    this.status.permission.onchange = () => {\n      this.$emit(\"input\", false);\n    };\n  }\n\n  get metaKey() {\n    return this.isAppleDevice ? \"\" : \"Ctrl + \";\n  }\n\n  get isAppleDevice() {\n    return /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);\n  }\n\n  close() {\n    this.$emit(\"input\", false);\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClipboardDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClipboardDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ClipboardDialog.vue?vue&type=template&id=9520505a&\"\nimport script from \"./ClipboardDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./ClipboardDialog.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ClipboardDialog.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport {\n  canPasteElement,\n  canPasteElementProperties,\n  copyElement,\n  pasteElement,\n  pasteElementProperties\n} from \"@/lib/copy-paste/copy-paste\";\nimport RightClickMenuItem from \"./RightClickMenuItem.vue\";\nimport { documentStore, uiStore } from \"@/store/store\";\nimport { getRightClickMenuPositionInCanvas } from \"@/lib/right-click/actions\";\nimport { canSaveAsGlobalBlock } from \"@/lib/global-blocks/global-blocks\";\nimport { getNodeIdAtPointInCanvas } from \"@/lib/canvas/drag/element-drag\";\nimport GlobalBlockDialog from \"@/components/Reusable/GlobalBlockDialog.vue\";\nimport ClipboardDialog from \"@/components/Canvas/OverlaidUI/Canvas/ClipboardDialog.vue\";\nimport { getClipboardStatus } from \"@/lib/copy-paste/utils\";\n\n@Component({\n  components: {\n    ClipboardDialog,\n    GlobalBlockDialog,\n    RightClickMenuItem\n  }\n})\nexport default class RightClickMenu extends Vue {\n  saveGlobalBlockDialog = false;\n  clipboardDialog = false;\n\n  async mounted() {\n    window.Breakdance.canvas.document.addEventListener(\n      \"contextmenu\",\n      this.handleRightClickInCanvas\n    );\n\n    window.Breakdance.canvas.document.addEventListener(\n      \"click\",\n      this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,\n      {\n        capture: true\n      }\n    );\n    window.addEventListener(\n      \"click\",\n      this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,\n      {\n        capture: true\n      }\n    );\n  }\n\n  beforeDestroy() {\n    window.Breakdance.canvas.document.removeEventListener(\n      \"contextmenu\",\n      this.handleRightClickInCanvas\n    );\n\n    window.Breakdance.canvas.document.removeEventListener(\n      \"click\",\n      this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,\n      {\n        capture: true\n      }\n    );\n    window.removeEventListener(\n      \"click\",\n      this.closeRightClickMenuIfClickHappensOutsideRightClickMenu,\n      {\n        capture: true\n      }\n    );\n  }\n\n  get menuState() {\n    return uiStore.onCanvasRightClickMenuState !== \"closed\"\n      ? uiStore.onCanvasRightClickMenuState\n      : null;\n  }\n\n  get shouldShow() {\n    return (\n      uiStore.onCanvasRightClickMenuState !== \"closed\" &&\n      !this.saveGlobalBlockDialog\n    );\n  }\n\n  handleRightClickInCanvas(e: MouseEvent) {\n    e.preventDefault();\n\n    const elementId = getNodeIdAtPointInCanvas(e.clientX, e.clientY);\n    const position = getRightClickMenuPositionInCanvas(e.clientX, e.clientY);\n\n    if (!position) return;\n\n    uiStore.setOnCanvasRightClickMenuState({\n      elementId,\n      position\n    });\n  }\n\n  closeRightClickMenuIfClickHappensOutsideRightClickMenu(e: MouseEvent) {\n    if (this.saveGlobalBlockDialog) return;\n\n    const closestMenu = (e.target as HTMLElement).closest(\n      \".breakdance-canvas-right-click-menu\"\n    );\n\n    if (!closestMenu) {\n      uiStore.setOnCanvasRightClickMenuState(\"closed\");\n    }\n  }\n\n  get wrapperPositionStyle() {\n    if (!this.menuState) return {};\n\n    return {\n      left: `${this.menuState.position.x}px`,\n      top: `${this.menuState.position.y}px`\n    };\n  }\n\n  get elementIdPresent() {\n    return this.menuState?.elementId;\n  }\n\n  canPasteElement = false;\n  canPasteElementProperties = false;\n  permission?: PermissionState;\n\n  @Watch(\"menuState\")\n  async onStateChange() {\n    const { permission } = await getClipboardStatus();\n\n    this.permission = permission.state;\n\n    if (this.permission === \"prompt\") {\n      this.canPasteElement = true;\n      this.canPasteElementProperties = true;\n      return;\n    }\n\n    this.canPasteElement = await canPasteElement(\n      this.menuState?.elementId\n        ? this.menuState.elementId\n        : documentStore.document.tree.root.id\n    );\n\n    this.canPasteElementProperties = this.menuState?.elementId\n      ? await canPasteElementProperties(this.menuState.elementId)\n      : false;\n  }\n\n  copyElement() {\n    if (this.menuState?.elementId) {\n      copyElement(this.menuState.elementId);\n    }\n    uiStore.setOnCanvasRightClickMenuState(\"closed\");\n  }\n\n  pasteElement() {\n    if (this.permission === \"prompt\") {\n      this.clipboardDialog = true;\n    }\n\n    if (this.menuState?.elementId) {\n      pasteElement(this.menuState.elementId);\n    } else {\n      pasteElement(documentStore.document.tree.root.id);\n    }\n\n    uiStore.setOnCanvasRightClickMenuState(\"closed\");\n  }\n\n  pasteElementProperties(path: \"design\" | \"content\" | \"settings\") {\n    if (this.permission === \"prompt\") {\n      this.clipboardDialog = true;\n    }\n\n    if (this.menuState?.elementId) {\n      pasteElementProperties(this.menuState.elementId, path);\n    }\n\n    uiStore.setOnCanvasRightClickMenuState(\"closed\");\n  }\n\n  deleteElement() {\n    if (!this.menuState?.elementId) return;\n\n    documentStore.deleteElement({ nodeId: this.menuState?.elementId });\n    uiStore.setOnCanvasRightClickMenuState(\"closed\");\n  }\n\n  elementIdToSaveAsGlobalBlock: number | null = null;\n  openSaveGlobalBlockDialog() {\n    if (this.menuState?.elementId) {\n      this.elementIdToSaveAsGlobalBlock = this.menuState.elementId;\n      this.saveGlobalBlockDialog = true;\n    }\n  }\n\n  closeGlobalBlockDialog() {\n    this.saveGlobalBlockDialog = false;\n    this.elementIdToSaveAsGlobalBlock = null;\n    uiStore.setOnCanvasRightClickMenuState(\"closed\");\n  }\n\n  get canSaveAsGlobalBlock() {\n    return (\n      this.menuState?.elementId &&\n      canSaveAsGlobalBlock(this.menuState.elementId)\n    );\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RightClickMenu.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RightClickMenu.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RightClickMenu.vue?vue&type=template&id=494dd4ca&\"\nimport script from \"./RightClickMenu.vue?vue&type=script&lang=ts&\"\nexport * from \"./RightClickMenu.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport DragPlaceholder from \"./Canvas/DragPlaceholder.vue\";\nimport RightClickMenu from \"./Canvas/RightClickMenu.vue\";\n\n@Component({\n  components: {\n    DragPlaceholder,\n    RightClickMenu\n  }\n})\nexport default class CanvasChrome extends Vue {}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CanvasChrome.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CanvasChrome.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CanvasChrome.vue?vue&type=template&id=4b09c05c&\"\nimport script from \"./CanvasChrome.vue?vue&type=script&lang=ts&\"\nexport * from \"./CanvasChrome.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport BuilderElement from \"./BuilderElement.vue\";\nimport NodeChrome from \"./OverlaidUI/NodeChrome.vue\";\nimport CanvasChrome from \"./OverlaidUI/CanvasChrome.vue\";\nimport { uiStore, documentStore, globalStore } from \"@/store/store\";\nimport EmptyContainer from \"@/components/Canvas/Empty/EmptyContainer.vue\";\nimport {\n  handleGlobalSelectorsChanged,\n  handleGlobalSettingsChanged\n} from \"@/lib/canvas/reacting-to-global-store-changes\";\nimport { getBuilderCanvasDocument } from \"@/lib/canvas/helpers\";\n\n@Component({\n  components: {\n    EmptyContainer,\n    BuilderElement,\n    NodeChrome,\n    CanvasChrome\n  }\n})\nexport default class Canvas extends Vue {\n  render() {\n    const children = () => {\n      if (this.rootElement.children.length === 0) {\n        return <EmptyContainer />;\n      }\n\n      return this.rootElement.children.map(element => (\n        <BuilderElement\n          // @ts-ignore\n          key={element.id}\n          // @ts-ignore\n          parentId={this.rootElement.id}\n          element={element}\n        />\n      ));\n    };\n\n    return (\n      <div key={this.canvasKey} class={this.classList} id=\"breakdance_canvas\">\n        {children()}\n        <NodeChrome />\n        <CanvasChrome />\n      </div>\n    );\n  }\n\n  mounted() {\n    uiStore.setCanvasState(\"normal\");\n  }\n\n  get canvasKey() {\n    return uiStore.canvasKey;\n  }\n\n  get classList() {\n    return {\n      breakdance: true,\n      canvas: true,\n      dragging:\n        uiStore.isCanvasElementBeingDragged || uiStore.isAddElementBeingDragged\n    };\n  }\n\n  get rootElement() {\n    return documentStore.document.tree.root;\n  }\n\n  get globalSettings() {\n    return globalStore.globalSettings;\n  }\n\n  get selectors() {\n    return globalStore.cssSelectors;\n  }\n\n  @Watch(\"globalSettings\", { deep: true, immediate: true })\n  onGlobalSettingsChanged() {\n    handleGlobalSettingsChanged(getBuilderCanvasDocument());\n  }\n\n  @Watch(\"selectors\", { deep: true, immediate: true })\n  onSelectorsChanged() {\n    handleGlobalSelectorsChanged(getBuilderCanvasDocument());\n  }\n}\n","var render, staticRenderFns\nimport script from \"./Canvas.vue?vue&type=script&lang=tsx&\"\nexport * from \"./Canvas.vue?vue&type=script&lang=tsx&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=tsx&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--15-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--15-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Canvas.vue?vue&type=script&lang=tsx&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.classes,style:(_vm.style)},[_c('Icon',{staticClass:\"breakdance-preview-width-adjustment-handle align-center\",attrs:{\"icon\":\"EllipsisStrokeVerticalIcon\",\"size\":\"6\",\"heightAuto\":true},on:{\"mousedown\":_vm.dragStart,\"dblclick\":_vm.resetPreviewWidth}}),(_vm.isDragging || _vm.currentPreviewWidthIsSetByUser)?_c('div',{staticClass:\"breakdance-px-amount\"},[_vm._v(\" \"+_vm._s(_vm.pxAmount)+\" \"),_c('Icon',{staticClass:\"px-amount-reset-icon\",attrs:{\"icon\":\"CloseCircleIcon\",\"size\":\"11\"},on:{\"click\":_vm.resetPreviewWidth}})],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { EasyEvent, isCanvasEvent } from \"@/util/easy-event\";\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { Breakpoint } from \"@/types/breakpoints\";\nimport { CanvasPreviewWidth } from \"@/types/ui\";\n\n@Component({\n  components: { Icon }\n})\nexport default class PreviewWidthAdjustmentHandle extends Vue {\n  @Prop()\n  iframeWrapperPosition!: {\n    x: number;\n    y: number;\n    width: number;\n    height: number;\n  };\n\n  @Prop() previewWidth!: CanvasPreviewWidth;\n  @Prop() currentBreakpoint!: Breakpoint;\n\n  @Prop() mainWrapper!: HTMLDivElement | null;\n  @Prop() iframe!: HTMLIFrameElement | null;\n\n  get currentPreviewWidthIsSetByUser() {\n    if (this.currentBreakpoint.defaultPreviewWidth === \"100%\") {\n      return this.previewWidth.width !== \"100%\";\n    } else {\n      return (\n        this.previewWidth.width !== this.currentBreakpoint.defaultPreviewWidth\n      );\n    }\n  }\n\n  get style() {\n    return {\n      left: `${this.iframeWrapperPosition.x +\n        this.iframeWrapperPosition.width}px`,\n      height: `${this.iframeWrapperPosition.height}px`\n    };\n  }\n\n  get pxAmount() {\n    return this.previewWidth.width === \"100%\"\n      ? \"100%\"\n      : `${this.previewWidth.width}px`;\n  }\n\n  get alreadyAtMaximumWidth() {\n    if (this.previewWidth.width === \"100%\") return true;\n\n    return (\n      this.previewWidth.width >= this.previewWidth.availableCanvasSize.width\n    );\n  }\n\n  mouseXChange = 0;\n  lastMouseX = 0;\n\n  isDragging = false;\n\n  easyEvent = new EasyEvent();\n\n  dragStart(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.easyEvent.on(\"mousemove\", this.dragging);\n    this.easyEvent.on(\"mouseup\", this.dragEnd);\n\n    this.lastMouseX = e.clientX;\n\n    if (this.iframe) {\n      // without this, once the mouse goes over the iframe, the mousemove event stops firing\n      this.iframe.style.pointerEvents = \"none\";\n    }\n\n    if (this.mainWrapper) {\n      this.mainWrapper.style.cursor = \"col-resize\";\n    }\n  }\n\n  dragging(e: MouseEvent) {\n    if (!isCanvasEvent(e)) {\n      this.isDragging = true;\n\n      e.preventDefault();\n      e.stopPropagation();\n\n      this.mouseXChange = e.clientX - this.lastMouseX;\n\n      this.adjustPreviewWidth(this.mouseXChange * 2);\n\n      this.lastMouseX = e.clientX;\n    }\n  }\n\n  dragEnd(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.easyEvent.removeAll();\n\n    if (this.iframe) {\n      this.iframe.style.pointerEvents = \"auto\";\n    }\n\n    if (this.mainWrapper) {\n      this.mainWrapper.style.cursor = \"auto\";\n    }\n\n    this.isDragging = false;\n  }\n\n  adjustPreviewWidth(adjustX: number) {\n    let newPreviewWidth: number;\n\n    const previousPreviewWidth = this.previewWidth.width;\n\n    if (this.alreadyAtMaximumWidth && adjustX > 0) {\n      adjustX = 0;\n    }\n\n    if (this.previewWidth.width === \"100%\") {\n      if (!this.iframe) {\n        console.warn(\"iframe element is missing\");\n        return;\n      }\n      newPreviewWidth = this.iframe.offsetWidth - adjustX;\n    } else {\n      newPreviewWidth = this.previewWidth.width + adjustX;\n    }\n\n    if (\n      previousPreviewWidth !== \"100%\" &&\n      newPreviewWidth > previousPreviewWidth &&\n      newPreviewWidth > this.previewWidth.availableCanvasSize.width\n    ) {\n      newPreviewWidth = this.previewWidth.availableCanvasSize.width;\n    }\n\n    this.$emit(\"previewWidthChangeWithAdjustmentBar\", newPreviewWidth);\n  }\n\n  resetPreviewWidth() {\n    this.$emit(\"resetPreviewWidth\");\n  }\n\n  get classes() {\n    return {\n      \"breakdance-preview-width-bar\": true,\n      \"breakdance-preview-width-bar-is-dragging\": this.isDragging\n    };\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewWidthAdjustmentHandle.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewWidthAdjustmentHandle.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PreviewWidthAdjustmentHandle.vue?vue&type=template&id=f3217438&\"\nimport script from \"./PreviewWidthAdjustmentHandle.vue?vue&type=script&lang=ts&\"\nexport * from \"./PreviewWidthAdjustmentHandle.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PreviewWidthAdjustmentHandle.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-btn',_vm._g({class:_vm.classList,attrs:{\"elevation\":\"0\",\"loading\":_vm.loading,\"height\":\"37\",\"minWidth\":_vm.minWidth,\"outlined\":\"\",\"data-test-id\":_vm.testId}},_vm.$listeners),[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component({\n  components: {}\n})\nexport default class StandardButton extends Vue {\n  @Prop({\n    default: false\n  })\n  loading!: boolean;\n  @Prop({\n    default: false\n  })\n  active!: boolean;\n  @Prop({\n    default: \"auto\"\n  })\n  minWidth!: number | \"auto\";\n\n  @Prop()\n  testId!: string;\n\n  get classList() {\n    return {\n      \"breakdance-toolbar-button\": true,\n      \"breakdance-toolbar-button--active\": this.active\n    };\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StandardButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StandardButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StandardButton.vue?vue&type=template&id=5274ded5&\"\nimport script from \"./StandardButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./StandardButton.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./StandardButton.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Vue from \"vue\";\nimport { throttle } from \"lodash\";\nimport { px } from \"@/util/css\";\nimport { SomeNonNullable } from \"@/types/utils\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { uiStore } from \"@/store/store\";\n\nenum ForeignDocumentTypeLabels {\n  // eslint-disable-next-line @typescript-eslint/camelcase\n  breakdance_header = \"header\",\n  // eslint-disable-next-line @typescript-eslint/camelcase\n  breakdance_footer = \"footer\"\n}\n\n@Component({\n  components: { Icon }\n})\nexport default class ForeignDocumentsOverlay extends Vue {\n  @Prop()\n  canvasElement!: HTMLElement;\n\n  @Prop()\n  iframeDocument!: Document;\n\n  @Prop()\n  elementsToWatch!: NodeListOf<HTMLElement>;\n\n  hoveredForeignDocumentDomElement: HTMLElement | null = null;\n  hoveredForeignDocumentDomElementCoords: DOMRect | null = null;\n\n  isScrolling = false;\n  isScrollingCleanupTimerId: NodeJS.Timeout | null = null;\n  throttledHandleIframeScroll = throttle(this.handleIframeScroll, 120);\n  throttledHandleWatchedElementMouseMove = throttle(\n    this.handleWatchedElementMouseMove,\n    60\n  );\n\n  get showOverlay(): boolean {\n    return uiStore.hasFullAccess;\n    //    return this.isThereHoveredElementAndItsCoords() && !this.isScrolling;\n  }\n\n  get foreignDocumentBuilderUrl(): string | undefined {\n    return this.hoveredForeignDocumentDomElement?.dataset\n      .breakdanceForeignDocumentBuilderUrl;\n  }\n\n  get foreignDocumentTypeLabel(): string {\n    const documentType = this.hoveredForeignDocumentDomElement?.dataset\n      .breakdanceForeignDocumentType as\n      | keyof typeof ForeignDocumentTypeLabels\n      | undefined;\n\n    return documentType ? ForeignDocumentTypeLabels[documentType] ?? \"\" : \"\";\n  }\n\n  get foreignDocumentTitle(): string {\n    const documentTitle = this.hoveredForeignDocumentDomElement?.dataset\n      .breakdanceForeignDocumentTitle as string | undefined;\n    return documentTitle ? documentTitle : \"Unknown Document\";\n  }\n\n  get overlayStyles() {\n    if (!this.isThereHoveredElementAndItsCoords()) {\n      return undefined;\n    }\n\n    const {\n      top,\n      left,\n      height,\n      width\n    } = this.hoveredForeignDocumentDomElementCoords;\n\n    return {\n      display: \"flex\",\n      top: px(top),\n      left: px(left),\n      height: px(height),\n      width: px(width)\n    };\n  }\n\n  mounted() {\n    this.addEventListenersToIframeDocument();\n    this.addEventListenersToWatchedElements();\n  }\n\n  beforeDestroy() {\n    this.removeEventListenersFromIframeDocument();\n    this.removeEventListenersFromWatchedElements();\n  }\n\n  addEventListenersToIframeDocument() {\n    this.iframeDocument.addEventListener(\n      \"scroll\",\n      this.throttledHandleIframeScroll\n    );\n  }\n\n  removeEventListenersFromIframeDocument() {\n    this.iframeDocument.removeEventListener(\n      \"scroll\",\n      this.throttledHandleIframeScroll\n    );\n  }\n\n  addEventListenersToWatchedElements() {\n    this.elementsToWatch.forEach(node => {\n      node.addEventListener(\n        \"mousemove\",\n        this.throttledHandleWatchedElementMouseMove\n      );\n      node.addEventListener(\"mouseleave\", this.handleWatchedElementMouseLeave);\n    });\n  }\n\n  removeEventListenersFromWatchedElements() {\n    this.elementsToWatch.forEach(node => {\n      node.removeEventListener(\n        \"mousemove\",\n        this.throttledHandleWatchedElementMouseMove\n      );\n      node.removeEventListener(\n        \"mouseleave\",\n        this.handleWatchedElementMouseLeave\n      );\n    });\n  }\n\n  isThereHoveredElementAndItsCoords(): this is SomeNonNullable<\n    this,\n    | \"hoveredForeignDocumentDomElement\"\n    | \"hoveredForeignDocumentDomElementCoords\"\n  > {\n    return (\n      this.hoveredForeignDocumentDomElement !== null &&\n      this.hoveredForeignDocumentDomElementCoords !== null\n    );\n  }\n\n  setHoveredForeignDocumentDomElement(value: HTMLElement | null) {\n    this.hoveredForeignDocumentDomElement = value;\n    this.hoveredForeignDocumentDomElementCoords = this.getCoords();\n  }\n\n  getCoords() {\n    const el = this.hoveredForeignDocumentDomElement;\n    if (el?.childElementCount === 1) {\n      // The child element could be position fixed,\n      // so we need to use its coords instead of the foreign element.\n      const child = el.firstElementChild as HTMLElement;\n      return child.getBoundingClientRect();\n    } else {\n      return el?.getBoundingClientRect() ?? null;\n    }\n  }\n\n  setIsScrolling(isScrolling: boolean) {\n    if (isScrolling) {\n      this.hoveredForeignDocumentDomElement = null;\n      this.hoveredForeignDocumentDomElementCoords = null;\n      this.removeEventListenersFromWatchedElements();\n    } else {\n      this.addEventListenersToWatchedElements();\n    }\n    this.isScrolling = isScrolling;\n  }\n\n  handleIframeScroll() {\n    this.setIsScrolling(true);\n\n    if (this.isScrollingCleanupTimerId) {\n      clearTimeout(this.isScrollingCleanupTimerId);\n    }\n\n    this.isScrollingCleanupTimerId = setTimeout(\n      () => this.setIsScrolling(false),\n      120\n    );\n  }\n\n  handleOverlayMouseLeave() {\n    this.setHoveredForeignDocumentDomElement(null);\n  }\n\n  handleWatchedElementMouseMove(e: MouseEvent) {\n    if (!e.currentTarget) return;\n\n    this.setHoveredForeignDocumentDomElement(\n      e.currentTarget as HTMLElement | null\n    );\n  }\n\n  handleWatchedElementMouseLeave(e: MouseEvent) {\n    if (this.$el.contains(e.relatedTarget as Node | null)) {\n      if (this.hoveredForeignDocumentDomElement !== null) {\n        this.hoveredForeignDocumentDomElementCoords = this.getCoords();\n      }\n    } else {\n      this.setHoveredForeignDocumentDomElement(null);\n    }\n  }\n\n  openBuilderUrl() {\n    const builderUrl = this.foreignDocumentBuilderUrl;\n    if (builderUrl) {\n      this.$emit(\"openDocument\", {\n        builderUrl,\n        title: this.foreignDocumentTitle\n      });\n    }\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.showOverlay)?_c('div',{staticClass:\"breakdance-foreign-documents-overlay\",style:(_vm.overlayStyles),on:{\"mouseleave\":_vm.handleOverlayMouseLeave}},[_c('div',{staticClass:\"breakdance-foreign-documents-overlay-titlebar-wrapper\"},[_c('div',{staticClass:\"breakdance-foreign-documents-overlay-titlebar\"},[_c('a',{attrs:{\"href\":_vm.foreignDocumentBuilderUrl},on:{\"click\":_vm.openBuilderUrl}},[_vm._v(\" Edit \"+_vm._s(_vm.foreignDocumentTitle)+\" \"),_c('Icon',{attrs:{\"icon\":\"EditIcon\"}})],1)])])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const px = (v: number) => `${v}px`;\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ForeignDocumentsOverlay.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ForeignDocumentsOverlay.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ForeignDocumentsOverlay.vue?vue&type=template&id=6d5ebb54&\"\nimport script from \"./ForeignDocumentsOverlay.vue?vue&type=script&lang=ts&\"\nexport * from \"./ForeignDocumentsOverlay.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"mainWrapper\",staticClass:\"breakdance-iframe-main-wrapper\",style:(_vm.mainWrapperStyle),attrs:{\"id\":\"canvas-area\"}},[_c('PreviewWidthAdjustmentHandle',{attrs:{\"iframe-wrapper-position\":_vm.iframeWrapperPosition,\"preview-width\":_vm.iframePreviewWidth,\"current-breakpoint\":_vm.currentBreakpoint,\"iframe\":_vm.iframe,\"main-wrapper\":_vm.mainWrapper},on:{\"resetPreviewWidth\":function () { return this$1.$emit('resetPreviewWidth'); },\"previewWidthChangeWithAdjustmentBar\":function (width) { return this$1.$emit('previewWidthChangeWithAdjustmentBar', width); }}}),(_vm.iframeExited)?_c('div',{staticClass:\"iframe-reloaded-warning-block\"},[_vm._v(\" Something navigated you away from the page you are editing. \"),_c('StandardButton',{staticClass:\"mt-4\",attrs:{\"minWidth\":\"80\"},on:{\"click\":_vm.handleReloadWanted}},[_vm._v(\" Continue Editing \")])],1):_c('div',{ref:\"iframeWrapper\",staticClass:\"breakdance-iframe-inner-wrapper\",style:(_vm.iframeWrapperStyles),attrs:{\"id\":\"iframe-wrapper\"}},[(_vm.iframeIsLoading)?_c('Loading',{attrs:{\"absolute\":\"\"}}):_vm._e(),_c('iframe',{key:_vm.iframeUrl,ref:\"iframe\",staticClass:\"breakdance-iframe\",style:(_vm.iframeStyle),attrs:{\"id\":_vm.iframeId,\"name\":_vm.iframeId,\"src\":_vm.iframeUrl},on:{\"load\":_vm.handleIframeLoaded}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop, Ref } from \"vue-property-decorator\";\nimport { uiStore } from \"@/store/store-accessor\";\nimport PreviewWidthAdjustmentHandle from \"@/components/Reusable/Iframe/PreviewWidthAdjustmentHandle.vue\";\nimport Loading from \"@/components/Reusable/Loading.vue\";\nimport { CanvasPreviewWidth, InterfaceState } from \"@/types/ui\";\nimport StandardButton from \"@/components/UI/StandardButton.vue\";\nimport { Breakpoint } from \"@/types/breakpoints\";\n\nconst CANVAS_PADDING = 8;\n\n@Component({\n  components: {\n    StandardButton,\n    Loading,\n    PreviewWidthAdjustmentHandle\n  }\n})\nexport default class IframeWrapper extends Vue {\n  @Prop() iframeState!: InterfaceState;\n  @Prop() iframePreviewWidth!: CanvasPreviewWidth;\n  @Prop() iframeUrl!: string;\n  @Prop() iframeId!: string;\n  @Prop() minWidth!: number;\n  @Prop() iframeExited!: boolean;\n  @Prop() currentBreakpoint!: Breakpoint;\n\n  @Ref() readonly mainWrapper!: HTMLDivElement | null;\n  @Ref() readonly iframeWrapper!: HTMLDivElement | null;\n  @Ref() readonly iframe!: HTMLIFrameElement | null;\n\n  iframeWrapperPosition = {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  };\n\n  get mainWrapperStyle() {\n    return {\n      padding: `${CANVAS_PADDING}px`\n    };\n  }\n\n  get iframeWrapperStyles() {\n    return {\n      width:\n        this.iframePreviewWidth.width === \"100%\"\n          ? \"100%\"\n          : `${this.iframePreviewWidth.width}px`,\n      overflow:\n        uiStore.settings.scaleToFit === \"SCALED_TO_FIT\" ? \"hidden\" : \"auto\"\n    };\n  }\n\n  get iframeStyle() {\n    const scaledStyles = (width: number) => {\n      const scaleFactor = Math.min(\n        1,\n        this.iframePreviewWidth.availableCanvasSize.width / width\n      );\n      return {\n        width: `${width}px`,\n        transform: `scale(${scaleFactor})`,\n        height: `${this.iframePreviewWidth.availableCanvasSize.height *\n          (1 / scaleFactor)}px`\n      };\n    };\n\n    if (uiStore.settings.scaleToFit === \"ACTUAL_SIZE\") {\n      if (this.iframePreviewWidth.width === \"100%\") {\n        return {\n          width: \"100%\",\n          minWidth: `${this.minWidth}px`\n        };\n      } else {\n        return {\n          width: `${this.iframePreviewWidth.width}px`\n        };\n      }\n    } else {\n      if (this.iframePreviewWidth.width === \"100%\") {\n        if (this.iframePreviewWidth.availableCanvasSize.width < this.minWidth) {\n          return scaledStyles(this.minWidth);\n        } else {\n          return {\n            width: \"100%\",\n            minWidth: `${this.minWidth}px`\n          };\n        }\n      } else {\n        return scaledStyles(this.iframePreviewWidth.width);\n      }\n    }\n  }\n\n  get iframeIsLoading() {\n    return this.iframeState === \"loading\";\n  }\n\n  handleIframeLoaded() {\n    if (this.iframe?.contentWindow) {\n      this.iframe.contentWindow.onunload = () => {\n        this.$emit(\"iframeUnloaded\");\n      };\n    }\n\n    this.$emit(\"iframeLoaded\", this.iframe);\n  }\n\n  handleReloadWanted() {\n    this.$emit(\"reloadWanted\");\n  }\n\n  mounted() {\n    if (this.mainWrapper) {\n      new ResizeObserver(this.setAvailableCanvasSize).observe(this.mainWrapper);\n    } else {\n      uiStore.logError(\"No canvas element.\");\n    }\n\n    if (this.iframeWrapper) {\n      new ResizeObserver(this.setIframeWrapperPosition).observe(\n        this.iframeWrapper\n      );\n    } else {\n      uiStore.logError(\"No iframe wrapper element.\");\n    }\n\n    this.setAvailableCanvasSize();\n  }\n\n  setAvailableCanvasSize() {\n    if (this.mainWrapper) {\n      const rect = this.mainWrapper.getBoundingClientRect();\n\n      const newPreviewWidth: CanvasPreviewWidth = {\n        ...this.iframePreviewWidth,\n        availableCanvasSize: {\n          width: rect.width - CANVAS_PADDING * 2,\n          height: rect.height - CANVAS_PADDING * 2\n        }\n      };\n\n      this.$emit(\"previewWidthChange\", newPreviewWidth);\n    }\n\n    // resizing the available canvas could move the iframe wrapper (for example, when the properties panel is toggled),\n    // so when the resize observer calls setAvailableCanvasSize, we want to also call setIframeWrapperPosition\n    this.setIframeWrapperPosition();\n  }\n\n  setIframeWrapperPosition() {\n    if (this.iframeWrapper) {\n      const rect = this.iframeWrapper.getBoundingClientRect();\n      this.iframeWrapperPosition = {\n        x: rect.x,\n        y: rect.y,\n        width: rect.width,\n        height: rect.height\n      };\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IframeWrapper.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IframeWrapper.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./IframeWrapper.vue?vue&type=template&id=53315b28&\"\nimport script from \"./IframeWrapper.vue?vue&type=script&lang=ts&\"\nexport * from \"./IframeWrapper.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./IframeWrapper.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n/// <reference types=\"resize-observer-browser\" />\n// @ts-ignore\nimport iframeCss from \"./OverlaidUI/styles.iframecss\";\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\n\nimport Canvas from \"./Canvas.vue\";\nimport store, {\n  configStore,\n  documentStore,\n  globalStore,\n  uiStore\n} from \"@/store/store\";\nimport { initializeOrReinitializeCombokeys } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\nimport PreviewWidthAdjustmentHandle from \"../Reusable/Iframe/PreviewWidthAdjustmentHandle.vue\";\nimport { getMinimumWidth } from \"@/lib/breakpoints/breakpoints\";\nimport { breakdanceStoreActions } from \"@/store/actions/store-actions\";\nimport StandardButton from \"@/components/UI/StandardButton.vue\";\nimport vuetify from \"@/plugins/vuetify\";\nimport ForeignDocumentsOverlay from \"@/components/Canvas/ForeignDocumentsOverlay.vue\";\nimport { createStyleTagWithRawCssCodeInside } from \"@/util/dom\";\nimport {\n  getBuilderCanvasHead,\n  setWindowBreakdanceCanvasDocument\n} from \"@/lib/canvas/helpers\";\nimport Loading from \"@/components/Reusable/Loading.vue\";\nimport IframeWrapper from \"@/components/Reusable/Iframe/IframeWrapper.vue\";\nimport { CanvasPreviewWidth } from \"@/types/ui\";\n\n@Component({\n  components: {\n    IframeWrapper,\n    Loading,\n    Canvas,\n    ForeignDocumentsOverlay,\n    PreviewWidthAdjustmentHandle,\n    StandardButton\n  }\n})\nexport default class IframeCanvas extends Vue {\n  iframeExited = false;\n  foreignDocumentsOverlayVueApp: Vue | null = null;\n  canvasApp: Vue | null = null;\n\n  handlePreviewWidthChange(previewWidth: CanvasPreviewWidth) {\n    uiStore.changePreviewWidthMutation(previewWidth);\n  }\n\n  handlePreviewWidthChangeWithAdjustmentBar(previewWidthInPx: number) {\n    uiStore.changePreviewWidthWithAdjustmentBar(previewWidthInPx);\n  }\n\n  handleResetPreviewWidth() {\n    uiStore.selectBaseBreakpoint();\n  }\n\n  setIframeAsExited() {\n    if (configStore.leavingIframeOnPurpose) {\n      configStore.setLeavingIframeOnPurpose(false);\n    } else {\n      this.iframeExited = true;\n    }\n  }\n\n  reloadIframe() {\n    this.iframeExited = false;\n    // the reload needs to be timeouted to wait for the iframe block to be rendered\n    setTimeout(() => {\n      // @ts-ignore\n      window.frames[\"iframe\"].location.reload();\n    }, 0);\n  }\n\n  get iframeMinWidth() {\n    return getMinimumWidth(globalStore);\n  }\n\n  get canvasPreviewWidth() {\n    return uiStore.canvasPreviewWidth;\n  }\n\n  get previewWidth() {\n    return uiStore.canvasPreviewWidth.width;\n  }\n\n  get canvasState() {\n    return uiStore.canvasState;\n  }\n\n  get currentBreakpoint() {\n    return uiStore.currentBreakpoint;\n  }\n\n  get iframeURL() {\n    if (\n      configStore.documentSpecificNeededUrls &&\n      documentStore.document.documentMeta.id !== -1\n    ) {\n      const iframeUrl = new URL(\n        configStore.documentSpecificNeededUrls.iframeUrl\n      );\n      iframeUrl.searchParams.append(\"breakdance_iframe\", \"true\");\n      iframeUrl.searchParams.append(\n        \"breakdance_open_document\",\n        `${documentStore.document.documentMeta.id}`\n      );\n      return iframeUrl.toString();\n    }\n    return null;\n  }\n\n  protected mountForeignDocumentsOverlayVueAppInIframe(\n    iframeDocument: Document,\n    canvasEl: Element\n  ) {\n    const overlayMountpoint = iframeDocument.createElement(\"div\");\n    overlayMountpoint.classList.add(\n      \"breakdance-foreign-documents-overlay-mountpoint\"\n    );\n    iframeDocument.body.appendChild(overlayMountpoint);\n\n    this.foreignDocumentsOverlayVueApp = new Vue<{\n      fragment: DocumentFragment | null;\n      builderUrl: string | null;\n    }>({\n      el: overlayMountpoint,\n      store,\n      vuetify,\n      render(h) {\n        return h(ForeignDocumentsOverlay, {\n          props: {\n            elementsToWatch: iframeDocument.querySelectorAll(\n              \"[data-breakdance-foreign-document]\"\n            ),\n            canvasElement: canvasEl,\n            iframeDocument\n          },\n          on: {\n            openDocument: (docInfo: { builderUrl: string; title: string }) => {\n              if (confirm(`Edit ${docInfo.title}?`)) {\n                window.open(docInfo.builderUrl, \"_top\");\n              }\n            }\n          }\n        });\n      }\n    });\n  }\n\n  mountCanvasInIframe(loadedIframe: HTMLIFrameElement) {\n    if (!loadedIframe.contentDocument) {\n      throw \"Unable to mount canvas in iframe because its document is missing\";\n    }\n\n    setWindowBreakdanceCanvasDocument(loadedIframe.contentDocument);\n\n    initializeOrReinitializeCombokeys(\n      document,\n      window.Breakdance.canvas.document\n    );\n\n    breakdanceStoreActions.registerAllStoreActions();\n\n    const canvasVueInstanceMountpoint = window.Breakdance.canvas.document.querySelector(\n      \"#breakdance-canvas-wrapper\"\n    ) as Element;\n\n    this.canvasApp = new Vue({\n      store,\n      vuetify,\n      render: h => h(Canvas)\n    }).$mount(canvasVueInstanceMountpoint);\n\n    this.mountForeignDocumentsOverlayVueAppInIframe(\n      window.Breakdance.canvas.document,\n      this.canvasApp.$el\n    );\n\n    getBuilderCanvasHead().appendChild(\n      createStyleTagWithRawCssCodeInside(document, iframeCss, \"iframe-styles\")\n    );\n\n    this.unbindClickEventOnInnerIframeLinks();\n    this.$emit(\"loaded\");\n  }\n\n  unbindClickEventOnInnerIframeLinks() {\n    const allLinks = [\n      ...window.Breakdance.canvas.document.querySelectorAll(\n        \"a:not([force-allow-clicks])\"\n      )\n    ];\n    const linksInsideBreakdanceCanvas = [\n      ...window.Breakdance.canvas.document.querySelectorAll(\n        \"#breakdance_canvas a\"\n      )\n    ];\n\n    // We don't want to alter BuilderElement(s) behavior\n    const linksExcludingTheOnesInBreakdanceCanvas = allLinks.filter(\n      element => !linksInsideBreakdanceCanvas.includes(element)\n    );\n\n    linksExcludingTheOnesInBreakdanceCanvas.forEach(link => {\n      link.addEventListener(\"click\", (event: Event) => {\n        event.preventDefault();\n      });\n    });\n  }\n\n  destroyed() {\n    if (this.canvasApp) {\n      this.canvasApp.$destroy();\n    }\n\n    if (this.foreignDocumentsOverlayVueApp) {\n      this.foreignDocumentsOverlayVueApp.$destroy();\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IframeCanvas.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IframeCanvas.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./IframeCanvas.vue?vue&type=template&id=1bbf1b9f&\"\nimport script from \"./IframeCanvas.vue?vue&type=script&lang=ts&\"\nexport * from \"./IframeCanvas.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('TopBar',[_c('AddButton',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('full'),expression:\"'full'\"}]}),_c('TopBarSection',{attrs:{\"border-right\":true}},[_c('IconButton',{staticClass:\"open-properties-toolbar-button\",attrs:{\"active\":_vm.isElementPropertiesOpen,\"icon\":\"EditIcon\",\"size\":\"18\"},on:{\"click\":_vm.toggleElementProperties}})],1),_c('v-spacer',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('full'),expression:\"'full'\"}]}),_c('DocumentChooser'),_c('PreviewContentChooserDialog'),_c('TopBarSection',{attrs:{\"borderRight\":true}},[_c('BreakpointsSelection',{model:{value:(_vm.currentBreakpoint),callback:function ($$v) {_vm.currentBreakpoint=$$v},expression:\"currentBreakpoint\"}})],1),_c('v-spacer'),_c('UndoRedo'),_c('TopBarSection',{staticClass:\"top-bar-settings-and-structure-section\",attrs:{\"border-left\":true}},[_c('IconButton',{staticClass:\"open-structure-toolbar-button\",attrs:{\"active\":_vm.isStructurePanelOpen,\"icon\":\"LayersIcon\",\"size\":\"18\"},on:{\"click\":_vm.toggleStructurePanel}}),_c('SettingsDropdown')],1),_c('TopBarSection',{attrs:{\"borderLeft\":true}},[_c('Save')],1),_c('Exit')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('StandardButton',{staticStyle:{\"margin-left\":\"3px\",\"margin-right\":\"3px\"},attrs:{\"loading\":_vm.saveInProgress,\"minWidth\":\"80\",\"testId\":\"main-save-button\"},on:{\"click\":_vm.save}},[_vm._v(\" Save \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { makeWordPressAjaxRequest } from \"./ajax\";\nimport { documentStore, globalStore, uiStore } from \"@/store/store\";\nimport { exportTree } from \"../tree/tree\";\nimport * as t from \"io-ts\";\nimport { Either, fold, right, left } from \"fp-ts/lib/Either\";\nimport { _Error, logErrorsToUiStore } from \"./data\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fpJsonStringify } from \"@/util/fp-json-stringify\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\n\nexport async function saveToWordPressWithErrorsLoggedToUiStore(): Promise<\n  Either<_Error[], unknown>\n> {\n  return pipe(\n    await makeWordPressAjaxRequest({\n      friendlyName: \"Saving to WordPress\",\n      action: \"breakdance_save\",\n      dataToPost: {\n        id: documentStore.document.documentMeta.id,\n        tree: fpJsonStringify(exportTree(documentStore.document.tree)),\n        globalSettings: fpJsonStringify(globalStore.globalSettings),\n        classes: fpJsonStringify(globalStore.cssSelectors)\n      },\n      decoder: t.unknown\n    }),\n    fold(\n      (errors: _Error[]) => {\n        logErrorsToUiStore(errors);\n        return left(errors);\n      },\n      r => {\n        uiStore.setUnsavedChangesPresent(false);\n        breakdanceUndo.ignore(() => {\n          globalStore.markCurrentGlobalSettingsAsUntouched();\n          globalStore.markCurrentSelectorsAsUntouched();\n        });\n        return right(r);\n      }\n    )\n  );\n}\n","import { configStore, documentStore, uiStore } from \"@/store/store\";\nimport { keyboardShortcuts } from \"./keyboard-shortcuts\";\n\nexport const KEYBOARD_SHORTCUTS = {\n  CMD_A: [\"command+a\", \"ctrl+a\"],\n  CMD_B: [\"command+b\", \"ctrl+b\"],\n  CMD_S: [\"command+s\", \"ctrl+s\"],\n  CMD_Z: [\"command+z\", \"ctrl+z\"],\n  CMD_SHIFT_Z: [\"command+shift+z\", \"ctrl+shift+z\"],\n  // These are handled by copy-paste.ts\n  CMD_C: [\"command+c\", \"ctrl+c\"],\n  //  CMD_X: [\"command+x\", \"ctrl+x\"],\n  CMD_V: [\"command+v\", \"ctrl+v\"],\n  CMD_D: [\"command+d\", \"ctrl+d\"],\n  ESC: [\"esc\"],\n  BACKSPACE: [\"backspace\"],\n  DELETE: [\"delete\"],\n  CMD_OPTION_R: [\"command+option+r\", \"ctrl+alt+r\"],\n  CMD_SLASH: [\"command+/\", \"ctrl+/\"],\n  CMD_SHIFT_SLASH: [\"command+shift+/\", \"ctrl+shift+/\"],\n  CMD_QUESTION: [\"command+?\", \"ctrl+?\"],\n  CMD_SHIFT_S: [\"command+shift+s\", \"ctrl+shift+s\"]\n};\n\nexport const registerGlobalShortcuts = () => {\n  return {\n    register() {\n      keyboardShortcuts.register(KEYBOARD_SHORTCUTS.ESC, () => {\n        /*\n        we want this shortcut to do two things, depending on the context:\n         - if the a popout section is open, esc should close it\n         - otherwise, esc should de-activate the active element\n\n         i couldn't figure out a proper way to do that...\n         trying to use keyboardShortcuts.register in the Dropdown component\n         just overrides this shortcut. trying to manually listen to a keyboard\n         event in the Dropdown component doesn't work either because this library\n         catches it first.\n\n         so i implemented this hack.\n         */\n        if (\n          document.dispatchEvent(\n            new CustomEvent(\"close-dropdowns-when-escape-is-pressed\", {\n              cancelable: true\n            })\n          )\n        ) {\n          uiStore.activateElement(null);\n        }\n      });\n\n      keyboardShortcuts.register(KEYBOARD_SHORTCUTS.BACKSPACE, () => {\n        uiStore.activeElementId &&\n          documentStore.deleteElement({ nodeId: uiStore.activeElementId });\n      });\n\n      keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_D, () => {\n        if (uiStore.activeElementId) {\n          documentStore.duplicateElementAndActivateIt(uiStore.activeElementId);\n        }\n      });\n\n      keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_OPTION_R, () => {\n        uiStore.selectNextBreakpoint();\n      });\n\n      keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_SHIFT_SLASH, () => {\n        uiStore.setKeyboardShortcutHelpModalOpen(true);\n      });\n      keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_SLASH, () => {\n        uiStore.setKeyboardShortcutHelpModalOpen(true);\n      });\n\n      keyboardShortcuts.register(\"e l e m e n t\", () => {\n        configStore.setElementStudioPowerUser(true);\n      });\n    },\n    unbind() {\n      keyboardShortcuts.unbind(\"e l e m e n t\");\n\n      keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.ESC);\n      keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_D);\n      keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.BACKSPACE);\n      keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_OPTION_R);\n      keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_SHIFT_SLASH);\n      keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_SLASH);\n    }\n  };\n};\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { uiStore } from \"@/store/store\";\nimport { saveToWordPressWithErrorsLoggedToUiStore } from \"@/lib/wordpress/save\";\nimport { keyboardShortcuts } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\nimport { KEYBOARD_SHORTCUTS } from \"@/lib/keyboard-shortcuts/global-shortcuts\";\nimport StandardButton from \"@/components/UI/StandardButton.vue\";\nimport {\n  removeChangesNotSavedWarning,\n  warnIfExitingWithUnsavedChanges\n} from \"@/util/warn-unsaved-changes\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\n\n@Component({\n  components: {\n    StandardButton\n  }\n})\nexport default class Save extends Vue {\n  saveInProgress = false;\n\n  get unsavedChangesPresent() {\n    return uiStore.unsavedChangesPresent;\n  }\n\n  async save() {\n    document.dispatchEvent(new Event(\"breakdanceSaveButtonClicked\"));\n\n    this.saveInProgress = true;\n\n    await saveToWordPressWithErrorsLoggedToUiStore();\n\n    this.saveInProgress = false;\n  }\n\n  warnIfUnsavedFunction!: (e: Event) => void;\n\n  unsubscribe: null | (() => void) = null;\n\n  mounted() {\n    keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_S);\n    keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_S, this.save);\n\n    this.unsubscribe = this.$store.subscribe(mutationPayload => {\n      if (!breakdanceUndo.shouldMutationBeIgnored(mutationPayload)) {\n        uiStore.setUnsavedChangesPresent(true);\n      }\n    });\n\n    this.warnIfUnsavedFunction = warnIfExitingWithUnsavedChanges(\n      () => uiStore.unsavedChangesPresent\n    );\n  }\n\n  beforeDestroy() {\n    keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_S);\n    this.unsubscribe && this.unsubscribe();\n    removeChangesNotSavedWarning(this.warnIfUnsavedFunction);\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Save.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Save.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Save.vue?vue&type=template&id=2328ce76&\"\nimport script from \"./Save.vue?vue&type=script&lang=ts&\"\nexport * from \"./Save.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dropdown',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('IconButton',_vm._g({staticStyle:{\"margin-right\":\"0\"},attrs:{\"active\":!_vm.isBase,\"icon\":_vm.getDeviceIcon(_vm.currentBreakpoint.id),\"rotate\":_vm.getDeviceIconRotation(_vm.currentBreakpoint.id),\"size\":\"18\"}},on))]}}])},[_c('v-list',_vm._l((_vm.breakpoints),function(breakpoint){return _c('v-list-item',{key:breakpoint.id,class:_vm.activeClass(breakpoint.id),attrs:{\"two-line\":\"\",\"dense\":\"\"},on:{\"click\":function($event){return _vm.changeBreakpoint(breakpoint)}}},[_c('div',{staticClass:\"device-icon-wrapper\"},[_c('Icon',{attrs:{\"icon\":_vm.getDeviceIcon(breakpoint.id),\"rotate\":_vm.getDeviceIconRotation(breakpoint.id),\"size\":\"18\"}})],1),_c('v-list-item-content',{staticClass:\"ml-4\"},[_c('v-list-item-title',[_vm._v(_vm._s(breakpoint.label))]),_c('v-list-item-subtitle',[(breakpoint.label === 'Desktop')?[_vm._v(\" All device widths \")]:_vm._e(),(breakpoint.maxWidth && !breakpoint.minWidth)?[_vm._v(\" \"+_vm._s(breakpoint.maxWidth)+\"px and below \")]:_vm._e(),(!breakpoint.maxWidth && breakpoint.minWidth)?[_vm._v(\" \"+_vm._s(breakpoint.minWidth)+\"px and above \")]:_vm._e(),(breakpoint.maxWidth && breakpoint.minWidth)?[_vm._v(\" Between \"+_vm._s(breakpoint.minWidth)+\"px and \"+_vm._s(breakpoint.maxWidth)+\"px \")]:_vm._e()],2)],1)],1)}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop, Watch } from \"vue-property-decorator\";\nimport { uiStore, configStore } from \"@/store/store\";\nimport { Breakpoint } from \"@/types/breakpoints\";\nimport {\n  BASE_BREAKPOINT_ID,\n  customBreakpointIcon,\n  DEVICE_ICONS\n} from \"@/lib/breakpoints/breakpoints\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\n\n@Component({\n  components: {\n    Icon,\n    Dropdown,\n    IconButton\n  }\n})\nexport default class BreakpointsSelection extends Vue {\n  @Prop()\n  value!: Breakpoint;\n\n  getDeviceIcon(breakpointId: string) {\n    return DEVICE_ICONS[breakpointId]?.icon || customBreakpointIcon;\n  }\n\n  getDeviceIconRotation(breakpointId: string) {\n    return DEVICE_ICONS[breakpointId]?.rotate;\n  }\n\n  get isBase() {\n    return this.currentBreakpoint.id === BASE_BREAKPOINT_ID;\n  }\n\n  get breakpoints() {\n    return configStore.breakpoints;\n  }\n\n  get currentBreakpoint() {\n    return this.value;\n  }\n\n  activeClass(breakpointId: string) {\n    return this.currentBreakpoint.id === breakpointId\n      ? \"breakpoint-active\"\n      : false;\n  }\n\n  changeBreakpoint(breakpoint: Breakpoint) {\n    this.$emit(\"input\", breakpoint);\n  }\n\n  @Watch(\"breakpoints\", {\n    deep: true,\n    immediate: true\n  })\n  onBreakpointsChanged() {\n    if (!this.breakpoints.find(b => b.id === this.currentBreakpoint.id)) {\n      // select base breakpoint since the selected one before isn't present anymore\n      uiStore.selectBaseBreakpoint();\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BreakpointsSelection.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BreakpointsSelection.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BreakpointsSelection.vue?vue&type=template&id=25384aaa&\"\nimport script from \"./BreakpointsSelection.vue?vue&type=script&lang=ts&\"\nexport * from \"./BreakpointsSelection.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BreakpointsSelection.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VList,VListItem,VListItemContent,VListItemSubtitle,VListItemTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('TopBarSection',{staticClass:\"undo-redo-top-bar-section\",attrs:{\"border-left\":true}},[_c('IconButton',{attrs:{\"disabled\":!_vm.canUndo,\"icon\":\"UndoIcon\",\"size\":\"18\"},on:{\"click\":_vm.undo}}),_c('IconButton',{attrs:{\"disabled\":!_vm.canRedo,\"icon\":\"RedoIcon\",\"size\":\"18\"},on:{\"click\":_vm.redo}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.classList},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component({\n  components: {}\n})\nexport default class TopBarSection extends Vue {\n  @Prop({\n    default: false\n  })\n  borderLeft!: boolean;\n\n  @Prop({\n    default: false\n  })\n  borderRight!: boolean;\n\n  get classList() {\n    const classList = [\"topbar-section\"];\n\n    if (this.borderLeft) classList.push(\"topbar-section-bl\");\n    if (this.borderRight) classList.push(\"topbar-section-br\");\n\n    return classList;\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBarSection.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBarSection.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TopBarSection.vue?vue&type=template&id=690a5c7f&\"\nimport script from \"./TopBarSection.vue?vue&type=script&lang=ts&\"\nexport * from \"./TopBarSection.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TopBarSection.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport { snapshotStore } from \"@/store/store\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport { keyboardShortcuts } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\nimport { KEYBOARD_SHORTCUTS } from \"@/lib/keyboard-shortcuts/global-shortcuts\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\n\n@Component({\n  components: {\n    IconButton,\n    TopBarSection\n  }\n})\nexport default class UndoRedo extends Vue {\n  mounted() {\n    keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_Z, this.undo);\n    keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_SHIFT_Z, this.redo);\n  }\n\n  get canUndo() {\n    return snapshotStore.canUndo;\n  }\n\n  get canRedo() {\n    return snapshotStore.canRedo;\n  }\n\n  undo() {\n    if (!this.canUndo) return;\n    breakdanceUndo.undo();\n  }\n\n  redo() {\n    if (!this.canRedo) return;\n    breakdanceUndo.redo();\n  }\n\n  beforeDestroy() {\n    keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_Z);\n    keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_SHIFT_Z);\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UndoRedo.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UndoRedo.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UndoRedo.vue?vue&type=template&id=6e646a08&\"\nimport script from \"./UndoRedo.vue?vue&type=script&lang=ts&\"\nexport * from \"./UndoRedo.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./UndoRedo.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.previews)?_c('div',[_c('TopBarSection',{attrs:{\"border-right\":true}},[_c('Dropdown',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('div',_vm._g({staticClass:\"document-chooser\",class:_vm.nothingToPreviewAndNoSearchQueryAndNotLoading\n              ? 'document-chooser-zero-case'\n              : ''},on),[_c('div',{staticClass:\"document-chooser-text\"},[(_vm.currentPreviewedItem)?[_c('h2',[_vm._v(\"Previewing \"+_vm._s(_vm.currentPreviewedItem.type))]),_c('span',{staticClass:\"ellipsis-text\"},[_vm._v(\" \"+_vm._s(_vm.currentPreviewedItem.label || (\"ID \" + (_vm.currentPreviewedItem.id)))+\" \")])]:(_vm.nothingToPreviewAndNoSearchQueryAndNotLoading)?[_c('h2',[_vm._v(\"Nothing to Preview\")]),_c('span',{staticClass:\"ellipsis-text\"},[_vm._v(\" No match found \")])]:[_c('h2',[_vm._v(\"Previewing\")]),_c('span',{staticClass:\"ellipsis-text\"},[_vm._v(\" choose \")])]],2),_c('div',{staticClass:\"document-chooser-dropdown-icon\"},[_c('Icon',{attrs:{\"size\":\"11\",\"icon\":\"CaretDownIcon\"}})],1)])]}}],null,false,1209928268),model:{value:(_vm.open),callback:function ($$v) {_vm.open=$$v},expression:\"open\"}},[_c('v-card',{staticClass:\"vscroll-scroll vscroll-wrap\",attrs:{\"width\":\"450\",\"height\":_vm.nothingToPreviewAndNoSearchQueryAndNotLoading ? undefined : 350,\"loading\":_vm.isLoading}},[(!_vm.nothingToPreviewAndNoSearchQueryAndNotLoading)?_c('div',{staticClass:\"preview-content-chooser-dialog-search-form-wrapper\"},[_c('v-text-field',{staticClass:\"preview-content-chooser-dialog-search-box breakdance-dense-input\",attrs:{\"value\":_vm.search,\"label\":\"Search...\",\"clearable\":\"\",\"solo\":\"\",\"flat\":\"\",\"dense\":\"\",\"full-width\":\"\",\"single-line\":\"\",\"background-color\":\"var(--gray150)\",\"autofocus\":\"\"},on:{\"input\":_vm.handleSearch}})],1):_vm._e(),_c('v-list',{staticClass:\"vscroll-scroll\",attrs:{\"dense\":\"\"}},[_vm._l((_vm.previews),function(item,i){return [_c('v-list-item',{key:i,class:{\n                'document-chooser-item-selected':\n                  item.url === _vm.currentPreviewedItem.url\n              },attrs:{\"link\":\"\"},on:{\"click\":function($event){return _vm.setPreviewedItem(item)}}},[_c('v-list-item-title',{staticClass:\"previewable-item-list-item\"},[_c('div',{staticClass:\"previewable-item-label previewable-item-label-stop-text-from-overflowing\"},[_vm._v(\" \"+_vm._s(item.label || item.url)+\" \")]),_c('div',{staticClass:\"previewable-item-type\"},[_vm._v(_vm._s(item.type))])])],1)]}),(_vm.nothingToPreviewAndNoSearchQueryAndNotLoading)?_c('div',{staticClass:\"previewable-items-zero-case previewable-items-zero-case-error\"},[_c('h4',[_vm._v(\" Nothing To Preview \")]),_c('p',[_vm._v(\" Your template settings don't match any content. You can: \")]),_c('ul',[_c('li',[_vm._v(\" Update your template settings in the WP admin at \"),_c('b',[_vm._v(\"Breakdance > Templates > Edit Template\")])]),_c('li',[_vm._v(\" Add some content to your site that matches the template settings. \")])])]):(_vm.previews.length === 0)?_c('div',{staticClass:\"previewable-items-zero-case align-center text-center\"},[_c('h4',[_vm._v(\" No results apply to this template \")])]):_vm._e()],2)],1)],1)],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport { TemplatePreviewableItemsV } from \"@/types/templates\";\n\nexport async function fetchTemplatePreviewableItems({\n  id,\n  search = \"\"\n}: {\n  id: number;\n  search?: string;\n  overrideAjaxUrl?: string;\n}) {\n  return makeWordPressAjaxRequest({\n    action: \"breakdance_get_template_previewable_items_with_search\",\n    dataToPost: {\n      search,\n      id\n    },\n    decoder: TemplatePreviewableItemsV,\n    resultKey: \"data\"\n  });\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { configStore, documentStore, uiStore } from \"@/store/store\";\nimport { loadAllDynamicDataFromTreeIntoStore } from \"@/lib/dynamic-data/load\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport lodash from \"lodash\";\nimport { TemplatePreviewableItem } from \"@/types/templates\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport { fetchTemplatePreviewableItems } from \"@/lib/dynamic-data/templates\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { saveLastPreviewedItemInWp } from \"@/lib/wordpress/load\";\n\n@Component({\n  components: { Icon, Dropdown, IconButton, TopBarSection }\n})\nexport default class PreviewContentChooserDialog extends Vue {\n  open = false;\n  search = \"\";\n  isLoading = false;\n\n  get previews() {\n    return (\n      configStore.templatePreview &&\n      configStore.templatePreview.previewableItems\n    );\n  }\n\n  get currentPreviewedItem() {\n    return configStore.previewedItem;\n  }\n\n  get nothingToPreviewAndNoSearchQueryAndNotLoading() {\n    return (\n      (!this.previews || !this.previews.length) &&\n      !this.search &&\n      !this.isLoading\n    );\n  }\n\n  async setPreviewedItem(newItem: TemplatePreviewableItem) {\n    this.open = false;\n\n    // All elements should SSR when changing preview\n    uiStore.setLastModifiedElementProperty({ elementId: null, path: null });\n    configStore.setPreviewedItem(newItem);\n    configStore.flushDynamicDataCache();\n    await loadAllDynamicDataFromTreeIntoStore();\n\n    saveLastPreviewedItemInWp(newItem);\n  }\n\n  async handleSearch(searchValue: string) {\n    this.search = searchValue;\n    this.isLoading = true;\n    this.debouncedSearchContentInWp();\n  }\n\n  debouncedSearchContentInWp = lodash.debounce(this.searchContentInWp, 300);\n\n  async searchContentInWp() {\n    this.isLoading = true;\n\n    pipe(\n      await fetchTemplatePreviewableItems({\n        search: this.search,\n        id: documentStore.document.documentMeta.id\n      }),\n      fold(\n        errors => {\n          this.isLoading = false;\n          errors.forEach(e => NotificationLogger.log.message(e.msg));\n        },\n        templatePreviewableItems => {\n          configStore.setTemplatePreview({\n            ...configStore.templatePreview,\n            previewableItems: templatePreviewableItems\n          });\n\n          this.isLoading = false;\n        }\n      )\n    );\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewContentChooserDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreviewContentChooserDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PreviewContentChooserDialog.vue?vue&type=template&id=55e18544&\"\nimport script from \"./PreviewContentChooserDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./PreviewContentChooserDialog.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PreviewContentChooserDialog.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VCard,VList,VListItem,VListItemTitle,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('TopBarSection',{staticClass:\"document-chooser-section\",attrs:{\"borderLeft\":true,\"borderRight\":true}},[_c('Dropdown',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('div',_vm._g({staticClass:\"document-chooser\"},on),[_c('div',{staticClass:\"document-chooser-text\"},[_c('h2',[_vm._v(\"Editing \"+_vm._s(_vm.currentDocument.documentMeta.typeLabel))]),(_vm.currentDocument.documentMeta.id !== -1)?_c('span',{staticClass:\"ellipsis-text\"},[_vm._v(\" \"+_vm._s(_vm.currentDocument.documentMeta.titleLabel || (\"ID: \" + (_vm.currentDocument.documentMeta.id)))+\" \")]):_c('span',{staticClass:\"ellipsis-text\"},[_vm._v(\" choose a document to edit \")])]),_c('div',{staticClass:\"document-chooser-dropdown-icon\"},[_c('Icon',{attrs:{\"size\":\"11\",\"icon\":\"CaretDownIcon\"}})],1)])]}}]),model:{value:(_vm.open),callback:function ($$v) {_vm.open=$$v},expression:\"open\"}},[_c('v-card',{staticClass:\"vscroll-scroll vscroll-wrap\",attrs:{\"width\":\"450\",\"height\":\"350\",\"loading\":_vm.isLoading}},[_c('div',{staticClass:\"preview-content-chooser-dialog-search-form-wrapper\"},[_c('v-text-field',{staticClass:\"preview-content-chooser-dialog-search-box breakdance-dense-input\",attrs:{\"value\":_vm.search,\"label\":\"Search...\",\"clearable\":\"\",\"solo\":\"\",\"flat\":\"\",\"dense\":\"\",\"full-width\":\"\",\"single-line\":\"\",\"background-color\":\"var(--gray150)\",\"autofocus\":\"\"},on:{\"input\":_vm.handleSearch}})],1),_c('v-list',{staticClass:\"vscroll-scroll\",attrs:{\"dense\":\"\"}},[_vm._l((_vm.availableDocuments),function(item,i){return [_c('v-list-item',{key:i,class:{\n              'document-chooser-item-selected':\n                item.id === _vm.currentDocument.documentMeta.id\n            },attrs:{\"link\":\"\",\"href\":_vm.getDocumentUrlFromId(item.id)}},[_c('v-list-item-title',{staticClass:\"previewable-item-list-item\"},[_c('div',{staticClass:\"previewable-item-label previewable-item-label-stop-text-from-overflowing\"},[_vm._v(\" \"+_vm._s(item.titleLabel || (\"ID: \" + (item.id)))+\" \")]),_c('div',{staticClass:\"previewable-item-type\"},[_vm._v(_vm._s(item.typeLabel))])])],1)]}),(_vm.availableDocuments.length === 0)?_c('div',{staticClass:\"previewable-items-zero-case-search\"},[_c('svg',{staticClass:\"previewable-items-zero-case-icon\",attrs:{\"viewBox\":\"0 0 100 100\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('g',{attrs:{\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"1.5\"}},[_c('path',{attrs:{\"d\":\"M46.875 71.875a25 25 0 1 0 50 0 25 25 0 1 0-50 0ZM81.25 62.5 62.5 81.25M62.5 62.5l18.75 18.75\",\"stroke-width\":\"6.250005\"}}),_c('path',{attrs:{\"d\":\"M34.375 84.375h-25a6.25 6.25 0 0 1-6.25-6.25V9.375a6.25 6.25 0 0 1 6.25-6.25h44.288a6.25 6.25 0 0 1 4.416 1.83L70.046 16.92a6.25 6.25 0 0 1 1.829 4.417v13.037\",\"stroke-width\":\"6.250005\"}})])]),_c('h5',[_vm._v(\"No items found\")]),_c('p',[_vm._v(\"Try adjusting your search to find what you are looking for.\")])]):_vm._e()],2)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport { DocumentMetasV } from \"@/types/document\";\n\nexport async function fetchAvailableDocuments({\n  search = \"\"\n}: {\n  search?: string;\n}) {\n  return makeWordPressAjaxRequest({\n    action: \"breakdance_get_available_documents_with_search\",\n    dataToPost: {\n      search\n    },\n    decoder: DocumentMetasV,\n    resultKey: \"data\"\n  });\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { configStore, documentStore, uiStore } from \"@/store/store\";\nimport { getDocumentUrlFromId } from \"@/lib/wordpress/load\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport { fetchAvailableDocuments } from \"@/lib/document-chooser/document-chooser\";\nimport lodash from \"lodash\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport Icon from \"@/components/UI/Icon.vue\";\n\n@Component({\n  components: {\n    Icon,\n    Dropdown,\n    TopBarSection\n  }\n})\nexport default class DocumentChooser extends Vue {\n  open = false;\n  search = \"\";\n\n  isLoading = false;\n\n  get currentDocument() {\n    return documentStore.document;\n  }\n\n  get unsavedChangesPresent() {\n    return uiStore.unsavedChangesPresent;\n  }\n\n  get currentlyEditingLabel() {\n    return `${documentStore.document.documentMeta.id.toString()}`;\n  }\n\n  get availableDocuments() {\n    return configStore.availableDocuments;\n  }\n\n  getDocumentUrlFromId(newDocumentId: number) {\n    return getDocumentUrlFromId(newDocumentId);\n  }\n\n  handleSearch(searchValue: string) {\n    this.search = searchValue;\n    this.debouncedSearchContentInWp();\n  }\n\n  // Average typing speed is a char every 300 ms\n  debouncedSearchContentInWp = lodash.debounce(this.searchContentInWp, 600); // this feels slow tho\n\n  async searchContentInWp() {\n    this.isLoading = true;\n\n    pipe(\n      await fetchAvailableDocuments({\n        search: this.search\n      }),\n      fold(\n        errors => {\n          this.isLoading = false;\n          errors.forEach(e => NotificationLogger.log.message(e.msg));\n        },\n        availableDocuments => {\n          configStore.setAvailableDocuments(availableDocuments);\n          this.isLoading = false;\n        }\n      )\n    );\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocumentChooser.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DocumentChooser.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DocumentChooser.vue?vue&type=template&id=6b2d9a97&\"\nimport script from \"./DocumentChooser.vue?vue&type=script&lang=ts&\"\nexport * from \"./DocumentChooser.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DocumentChooser.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VCard,VList,VListItem,VListItemTitle,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dropdown',{staticClass:\"open-settings-toolbar-button\",attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('IconButton',_vm._g({attrs:{\"active\":_vm.anySettingsPanelsOpen,\"testId\":\"open-settings-menu\",\"size\":\"18\",\"icon\":\"EllipsisStrokeIcon\"}},on))]}}])},[_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.openGlobalSettingsPanel}},[_c('v-list-item-title',{attrs:{\"data-test-id\":\"toggle-global-settings\"}},[_vm._v(\" Global Settings \")])],1),_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.openSelectorsPanel}},[_c('v-list-item-title',{attrs:{\"data-test-id\":\"toggle-site-classes-selectors\"}},[_vm._v(\" Selectors \")])],1),_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.openHistoryAndRevisionsPanel}},[_c('v-list-item-title',[_vm._v(\" History \")])],1),_c('v-list-item',{staticClass:\"breakdance-menu-open-preferences\",attrs:{\"dense\":\"\"},on:{\"click\":_vm.openPreferencesModal}},[_c('v-list-item-title',{attrs:{\"data-test-id\":\"breakdance-menu-open-preferences\"}},[_vm._v(\" Preferences \")])],1),_c('v-list-item',{directives:[{name:\"permission\",rawName:\"v-permission\",value:('full'),expression:\"'full'\"}],attrs:{\"data-test-id\":\"toggle-element-studio\",\"dense\":\"\",\"disabled\":_vm.elementsLoadingState !== 'success'},on:{\"click\":_vm.toggleElementStudio}},[_c('v-list-item-title',{attrs:{\"data-test-id\":\"breakdance-menu-open-element-studio\"}},[_c('div',{staticClass:\"d-flex align-center\"},[_vm._v(\" Element Studio \"),_c('span',{staticClass:\"settings-dropdown-element-studio-alpha-badge\"},[_vm._v(\"alpha\")])])])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { configStore, uiStore } from \"@/store/store\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport { isUiPanelOpen, openUiPanel } from \"@/lib/panels/panels\";\nimport StandardButton from \"@/components/UI/StandardButton.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\n\n@Component({\n  components: {\n    Icon,\n    StandardButton,\n    Dropdown,\n    IconButton\n  }\n})\nexport default class SettingsDropdown extends Vue {\n  openPreferencesModal() {\n    uiStore.setPreferencesModalOpen(true);\n  }\n\n  toggleElementStudio() {\n    uiStore.toggleElementStudio();\n  }\n\n  openGlobalSettingsPanel() {\n    openUiPanel(\"globalSettings\");\n  }\n\n  openSelectorsPanel() {\n    uiStore.setActiveSelectorName(null);\n    openUiPanel(\"selectors\");\n  }\n\n  get elementsLoadingState() {\n    return configStore.elementsLoadingState;\n  }\n\n  get anySettingsPanelsOpen() {\n    return (\n      isUiPanelOpen(\"selectors\") ||\n      isUiPanelOpen(\"history\") ||\n      isUiPanelOpen(\"globalSettings\") ||\n      uiStore.panelState.elementStudioOpen ||\n      uiStore.panelState.preferencesModalOpen\n    );\n  }\n\n  openHistoryAndRevisionsPanel() {\n    openUiPanel(\"history\");\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsDropdown.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SettingsDropdown.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SettingsDropdown.vue?vue&type=template&id=133ff8e2&\"\nimport script from \"./SettingsDropdown.vue?vue&type=script&lang=ts&\"\nexport * from \"./SettingsDropdown.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SettingsDropdown.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VList,VListItem,VListItemTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.backToAdmin || _vm.backToFrontend)?_c('TopBarSection',{attrs:{\"borderLeft\":true}},[_c('Dropdown',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('IconButton',_vm._g({attrs:{\"icon\":\"CloseIcon\",\"size\":\"18\"}},on))]}}],null,false,865007243)},[_c('v-list',[(_vm.backToFrontend)?_c('v-list-item',{attrs:{\"dense\":\"\",\"href\":_vm.backToFrontend}},[_c('div',{staticClass:\"breakdance-menu-icon-wrapper\"},[_c('Icon',{attrs:{\"icon\":\"BrowserIcon\"}})],1),_c('v-list-item-content',{staticClass:\"ml-4\"},[_c('v-list-item-title',[_vm._v(\"Exit to Frontend\")])],1)],1):_vm._e(),_c('v-list-item',{attrs:{\"dense\":\"\",\"href\":_vm.backToAdmin}},[_c('div',{staticClass:\"breakdance-menu-icon-wrapper\"},[_c('Icon',{attrs:{\"icon\":\"WordPressIcon\"}})],1),_c('v-list-item-content',{staticClass:\"ml-4\"},[_c('v-list-item-title',[_vm._v(\"Exit to WordPress\")])],1)],1)],1)],1)],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\nimport { configStore } from \"@/store/store-accessor\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { getFrontendUrl } from \"@/lib/document\";\n\n@Component({\n  components: {\n    Icon,\n    Dropdown,\n    IconButton,\n    TopBarSection\n  }\n})\nexport default class Exit extends Vue {\n  get backToAdmin() {\n    if (configStore.documentSpecificNeededUrls) {\n      return configStore.documentSpecificNeededUrls.backToWordPressUrl;\n    }\n\n    return \"\";\n  }\n\n  get backToFrontend() {\n    return getFrontendUrl();\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Exit.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Exit.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Exit.vue?vue&type=template&id=485b82ba&\"\nimport script from \"./Exit.vue?vue&type=script&lang=ts&\"\nexport * from \"./Exit.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VList,VListItem,VListItemContent,VListItemTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('TopBarSection',{attrs:{\"borderRight\":true}},[_c('StandardButton',{staticClass:\"open-elements-toolbar-button\",attrs:{\"active\":_vm.isAddSectionOpen,\"size\":\"22\",\"testId\":\"open-elements-toolbar-button\"},on:{\"click\":_vm.toggleAdd}},[_vm._v(\" Add \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport StandardButton from \"@/components/UI/StandardButton.vue\";\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { keyboardShortcuts } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\nimport { KEYBOARD_SHORTCUTS } from \"@/lib/keyboard-shortcuts/global-shortcuts\";\nimport { isUiPanelOpen, toggleUiPanel } from \"@/lib/panels/panels\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\nimport { uiStore } from \"@/store/store\";\n\n@Component({\n  components: {\n    StandardButton,\n    TopBarSection\n  }\n})\nexport default class AddButton extends Vue {\n  mounted() {\n    if (!uiStore.hasFullAccess) return;\n    keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_A, this.toggleAdd);\n  }\n\n  toggleAdd() {\n    toggleUiPanel(\"add\");\n  }\n\n  get isAddSectionOpen() {\n    return isUiPanelOpen(\"add\");\n  }\n\n  beforeDestroy() {\n    keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_A);\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AddButton.vue?vue&type=template&id=71002d56&\"\nimport script from \"./AddButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./AddButton.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AddButton.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-app-bar',{staticClass:\"pa-0 breakdance-topbar d-flex flex-row\",attrs:{\"short\":\"\",\"color\":\"var(--white)\",\"height\":\"auto\",\"width\":\"100%\",\"flat\":\"\"}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\n\n@Component\nexport default class TopBar extends Vue {}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TopBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TopBar.vue?vue&type=template&id=0eeb484e&\"\nimport script from \"./TopBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./TopBar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TopBar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAppBar } from 'vuetify/lib/components/VAppBar';\ninstallComponents(component, {VAppBar})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Save from \"./Save.vue\";\nimport BreakpointsSelection from \"./BreakpointsSelection.vue\";\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport UndoRedo from \"./UndoRedo.vue\";\nimport PreviewContentChooserDialog from \"./PreviewContentChooserDialog.vue\";\nimport DocumentChooser from \"./DocumentChooser.vue\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport SettingsDropdown from \"@/components/Builder/TopBar/SettingsDropdown.vue\";\nimport { isUiPanelOpen, toggleUiPanel } from \"@/lib/panels/panels\";\nimport { keyboardShortcuts } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\nimport { KEYBOARD_SHORTCUTS } from \"@/lib/keyboard-shortcuts/global-shortcuts\";\nimport { uiStore } from \"@/store/store-accessor\";\nimport { setScaleToFitAndGetSettings } from \"@/lib/ui-preference/ui-preference\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\nimport Exit from \"@/components/Builder/TopBar/Exit.vue\";\nimport AddButton from \"@/components/Builder/TopBar/AddButton.vue\";\nimport TopBar from \"@/components/Reusable/AppLayout/TopBar/TopBar.vue\";\nimport { Breakpoint } from \"@/types/breakpoints\";\n\n@Component({\n  components: {\n    TopBar,\n    Exit,\n    AddButton,\n    TopBarSection,\n    SettingsDropdown,\n    BreakpointsSelection,\n    Save,\n    UndoRedo,\n    PreviewContentChooserDialog,\n    DocumentChooser,\n    IconButton\n  }\n})\nexport default class BuilderTopBar extends Vue {\n  toggleElementProperties() {\n    toggleUiPanel(\"elementproperties\");\n  }\n\n  get isElementPropertiesOpen() {\n    return isUiPanelOpen(\"elementproperties\");\n  }\n\n  toggleStructurePanel() {\n    toggleUiPanel(\"structure\");\n  }\n\n  get isStructurePanelOpen() {\n    return isUiPanelOpen(\"structure\");\n  }\n\n  get currentBreakpoint() {\n    return uiStore.currentBreakpoint;\n  }\n\n  set currentBreakpoint(breakpoint: Breakpoint) {\n    uiStore.changeBreakpoint(breakpoint);\n  }\n\n  mounted() {\n    keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_SHIFT_S, () =>\n      setScaleToFitAndGetSettings(\n        uiStore.settings.scaleToFit !== \"SCALED_TO_FIT\"\n      )\n    );\n  }\n\n  beforeDestroy() {\n    keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_SHIFT_S);\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuilderTopBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuilderTopBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BuilderTopBar.vue?vue&type=template&id=93853946&\"\nimport script from \"./BuilderTopBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./BuilderTopBar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BuilderTopBar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"content-class\":\"preferences-modal-dialog\",\"value\":_vm.open,\"max-width\":\"780\",\"persistent\":\"\"},on:{\"input\":function($event){return _vm.$emit('update:dialog', false)},\"click:outside\":_vm.handleClickOutside}},[_c('v-card',{staticClass:\"d-flex flex-column\",attrs:{\"height\":\"100%\"}},[(_vm.saveInProgress === true)?[_c('div',{staticClass:\"flex-grow-1 d-flex justify-center align-center mt-auto mb-auto\"},[_c('v-progress-circular',{attrs:{\"size\":100,\"indeterminate\":\"\",\"color\":\"var(--gray300)\"}})],1)]:[_c('div',{staticClass:\"flex-grow-1 d-flex flex-row\",staticStyle:{\"overflow\":\"auto\"}},[_c('div',{staticClass:\"preferences-tab-area\"},[_c('h2',{staticClass:\"preferences-modal-title-text\"},[_vm._v(\" Preferences \")]),_c('v-tabs',{staticClass:\"breakdance-tabs\",attrs:{\"vertical\":\"\"},on:{\"change\":_vm.handleChangeTab},model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[_c('v-tab',{staticClass:\"breakdance-tabs__tab\"},[_c('Icon',{staticClass:\"ml-1 mr-3\",attrs:{\"icon\":\"SlidersIcon\",\"size\":\"16\"}}),_vm._v(\" UI Settings \")],1),_c('v-tab',{staticClass:\"breakdance-tabs__tab\"},[_c('Icon',{staticClass:\"ml-1 mr-3\",attrs:{\"icon\":\"FontIcon\",\"size\":\"16\"}}),_vm._v(\" Custom Fonts \")],1),_c('v-tab',{staticClass:\"breakdance-tabs__tab\"},[_c('Icon',{staticClass:\"ml-1 mr-3\",attrs:{\"size\":\"16\",\"icon\":\"BreakpointsIcon\"}}),_vm._v(\" Breakpoints \")],1)],1)],1),_c('button',{staticClass:\"preferences-close-button\",on:{\"click\":_vm.handleClickOutside}},[_c('Icon',{attrs:{\"size\":\"20\",\"icon\":\"CloseIcon\"}})],1),_c('div',{staticClass:\"flex-grow-1 preferences-content-area\"},[(_vm.currentTab === _vm.fontFamiliesTab)?_c('CustomFontFamilies',{ref:\"customFontFamiliesPanel\",attrs:{\"value\":_vm.customFontFamilies},on:{\"input\":_vm.updateCustomFontFamilies}}):_vm._e(),(_vm.currentTab === _vm.customBreakpointsTab)?_c('CustomBreakpointsPanel',{ref:\"customBreakpointsPanel\",attrs:{\"value\":_vm.customBreakpoints},on:{\"input\":_vm.updateBreakpoints}}):_vm._e(),(_vm.currentTab === _vm.uiSettingsTab)?_c('CustomUiSettings'):_vm._e()],1)])]],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('PreferencesPanel',{attrs:{\"save\":{\n    text: 'Save Breakpoints',\n    function: _vm.applyChanges,\n    inProgress: false,\n    disabled: !_vm.unsavedChangesPresent\n  }},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"Breakpoints\")]},proxy:true},{key:\"content\",fn:function(){return [_c('EditBreakpoints',{attrs:{\"value\":_vm.internalValue},on:{\"input\":_vm.breakpointsEdited}})]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._l((_vm.value),function(breakpoint){return _c('EditBreakpoint',{key:breakpoint.id,attrs:{\"value\":breakpoint,\"isEditing\":breakpoint.id === _vm.editingBreakpointId},on:{\"input\":_vm.updateOrAddBreakpoint,\"delete\":function($event){return _vm.deleteBreakpoint(breakpoint.id)},\"edit\":_vm.edit}})}),(!_vm.showAddForm && _vm.value.length > 0)?_c('v-btn',{attrs:{\"outlined\":\"\"},on:{\"click\":_vm.openAddBreakpointForm}},[_vm._v(\" Add Breakpoint \")]):_vm._e(),_c('div',[(_vm.showAddForm)?[_c('div',{staticClass:\"add-breakpoint-form-content-wrapper\"},[_c('div',{staticClass:\"add-breakpoint-heading-box\"},[_c('h4',{staticClass:\"add-breakpoint-heading\"},[_vm._v(\"Add New Breakpoint\")]),_c('IconButton',{staticClass:\"add-breakpoint-close-button\",attrs:{\"icon\":\"CloseIcon\",\"size\":\"18\"},on:{\"click\":_vm.toggleAddBreakpointForm}})],1),_c('TextInput',{attrs:{\"placeholder\":\"Breakpoint name, ie. iPhone X or tablet\",\"size\":\"md\",\"validation-function-name\":\"validateNoQuotes\"},model:{value:(_vm.newBreakpointLabel),callback:function ($$v) {_vm.newBreakpointLabel=$$v},expression:\"newBreakpointLabel\"}}),_c('v-btn',{attrs:{\"disabled\":!_vm.newBreakpointLabel,\"text\":\"\"},on:{\"click\":_vm.addBreakpoint}},[_c('Icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"PlusIcon\"}}),_vm._v(\" Add \")],1)],1)]:_vm._e(),(!_vm.showAddForm && _vm.value.length == 0)?_c('EmptyStatePreferences',[_c('p',[_vm._v(\"Add your first breakpoint by clicking the button below.\")]),_c('v-btn',{attrs:{\"outlined\":\"\"},on:{\"click\":_vm.openAddBreakpointForm}},[_vm._v(\" Add Breakpoint \")])],1):_vm._e()],2)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{ref:\"form\",staticClass:\"mx-n2 pa-2 py-3 breakpoint-edit\"},[_c('h3',{staticClass:\"font-weight-medium breakpoint-title text-capitalize mb-2\"},[_vm._v(\" \"+_vm._s(_vm.value.label)+\" \")]),_c('div',{staticClass:\"d-flex align-center justify-space-between\"},[_c('div',{staticClass:\"media-query-box\"},[(!_vm.isEditing)?_c('div',{on:{\"click\":_vm.enableEditing}},[(this.mediaQueryString)?[_c('div',{staticClass:\"media-query-string\"},[_vm._v(_vm._s(this.mediaQueryString))])]:[_c('v-alert',{staticClass:\"mt-4\",attrs:{\"dense\":\"\",\"text\":\"\",\"color\":\"orange\"}},[_vm._v(\" Click to set min and max widths. \")])]],2):_c('div',{staticClass:\"media-query-box-items\"},[_c('div',{staticClass:\"media-query-input-wrapper\"},[_c('TextInput',{attrs:{\"size\":\"md\",\"label\":\"Maximum width (px)\"},model:{value:(_vm.maxWidth),callback:function ($$v) {_vm.maxWidth=$$v},expression:\"maxWidth\"}})],1),_c('div',{staticClass:\"media-query-input-wrapper\"},[_c('TextInput',{attrs:{\"size\":\"md\",\"label\":\"Minimum width (px)\"},model:{value:(_vm.minWidth),callback:function ($$v) {_vm.minWidth=$$v},expression:\"minWidth\"}})],1),_c('div',{staticClass:\"media-query-input-wrapper\"},[_c('div',{staticClass:\"d-flex flex-column\"},[_c('label',{staticClass:\"media-query-box-label\"},[_vm._v(\"Default Preview Width\")]),_c('DropdownInput',{staticClass:\"breakdance-dense-select breakdance-dense-select--md\",attrs:{\"label\":\"Default Preview Width\",\"value\":_vm.defaultPreviewWidth === '100%' ? '100%' : 'custom',\"items\":['100%', 'custom'],\"dense\":\"\",\"solo\":\"\",\"flat\":\"\",\"filled\":\"\",\"clearable\":\"\"},on:{\"input\":_vm.setDefaultPreviewWidth}})],1)]),_c('div',{staticClass:\"media-query-input-wrapper\"},[(_vm.defaultPreviewWidth !== '100%')?[_c('TextInput',{attrs:{\"size\":\"md\",\"label\":\"Custom width (px)\"},model:{value:(_vm.defaultPreviewWidth),callback:function ($$v) {_vm.defaultPreviewWidth=$$v},expression:\"defaultPreviewWidth\"}})]:_vm._e()],2),_c('div',{staticClass:\"d-flex justify-end align-center\"},[_c('v-btn',{staticClass:\"mr-3\",attrs:{\"text\":\"\",\"color\":\"red darken-1\"},on:{\"click\":_vm.cancel}},[_vm._v(\"Cancel\")]),_c('NiceButton',{attrs:{\"disabled\":!_vm.maxWidth && !_vm.minWidth},on:{\"click\":_vm.save}},[_vm._v(\"Save\")])],1)])]),(!_vm.isEditing)?_c('div',{staticClass:\"breakpoint-edit__actions\"},[_c('IconButton',{staticClass:\"mr-1\",attrs:{\"icon\":\"EditIcon\",\"size\":\"18\"},on:{\"click\":_vm.enableEditing}}),_c('IconButton',{attrs:{\"icon\":\"TrashIcon\",\"size\":\"18\"},on:{\"click\":function($event){$event.stopPropagation();_vm.deleteDialog = true}}})],1):_vm._e()])]),_c('ConfirmDialog',{attrs:{\"show\":_vm.deleteDialog,\"type\":\"error\",\"action-text\":\"Delete\",\"discard-text\":\"Cancel\",\"save-is-enabled\":true,\"discard-is-enabled\":true},on:{\"discard\":function($event){_vm.deleteDialog = false},\"save\":_vm.deleteBreakpoint},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"Delete breakpoint?\")]},proxy:true},{key:\"text\",fn:function(){return [_vm._v(\"{If you delete the \"+_vm._s(_vm.value.label || ((_vm.value.defaultPreviewWidth) + \"px\"))+\" breakpoint, you will lose all design changes it applies.\")]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {\nvar this$1 = this;\nvar _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"value\":_vm.show,\"persistent\":\"\",\"width\":400},on:{\"click:outside\":function($event){return _vm.$emit('click:outside')}}},[_c('v-card',{staticClass:\"breakdance-dialog\"},[(_vm.type)?_c('div',{staticClass:\"card-alert\"},[_c('v-alert',{staticClass:\"card-alert__icon\",attrs:{\"type\":_vm.type}})],1):_vm._e(),_c('v-card-title',{staticClass:\"breakdance-dialog-title\"},[_vm._t(\"title\")],2),_c('v-card-text',{staticClass:\"breakdance-dialog-contents\"},[_vm._t(\"text\")],2),_c('v-card-actions',{staticClass:\"breakdance-dialog-actions\"},[(_vm.hasCancel)?_c('v-btn',{on:{\"click\":function () { return this$1.$emit('cancel'); }}},[_vm._v(_vm._s(_vm.cancelText)+\" \")]):_vm._e(),(_vm.hasDiscard)?_c('v-btn',{attrs:{\"disabled\":!_vm.discardIsEnabled,\"loading\":_vm.discardIsInProgress},on:{\"click\":function () { return this$1.$emit('discard'); }}},[_vm._v(_vm._s(_vm.discardText)+\" \")]):_vm._e(),_c('v-btn',{attrs:{\"color\":_vm.type,\"dark\":\"\",\"disabled\":!_vm.saveIsEnabled,\"loading\":_vm.saveIsInProgress},on:{\"click\":function () { return this$1.$emit('save'); }}},[_vm._v(_vm._s(_vm.actionText)+\" \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component({\n  components: {}\n})\nexport default class ConfirmDialog extends Vue {\n  @Prop()\n  show!: boolean;\n\n  @Prop({ default: \"info\" })\n  type: \"success\" | \"warning\" | \"error\" | \"info\" | undefined;\n\n  @Prop({ default: false })\n  hasCancel!: boolean;\n\n  @Prop({ default: \"Cancel\" })\n  cancelText!: string | undefined;\n\n  @Prop()\n  saveIsEnabled!: boolean;\n\n  @Prop()\n  saveIsInProgress!: boolean;\n\n  @Prop({ default: true })\n  hasDiscard!: boolean;\n\n  @Prop()\n  discardIsEnabled!: boolean;\n\n  @Prop()\n  discardIsInProgress!: boolean;\n\n  @Prop({ default: \"Save\" })\n  actionText!: string | undefined;\n\n  @Prop({ default: \"Discard\" })\n  discardText!: string | undefined;\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ConfirmDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ConfirmDialog.vue?vue&type=template&id=eb451678&\"\nimport script from \"./ConfirmDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./ConfirmDialog.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ConfirmDialog.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\ninstallComponents(component, {VAlert,VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { Breakpoint } from \"@/types/breakpoints\";\nimport { configStore } from \"@/store/store\";\nimport {\n  mediaQueryString,\n  validateBreakpoint\n} from \"@/lib/breakpoints/breakpoints\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\nimport ConfirmDialog from \"@/components/UI/ConfirmDialog.vue\";\n\n@Component({\n  components: {\n    IconButton,\n    TextInput,\n    DropdownInput,\n    NiceButton,\n    ConfirmDialog\n  },\n  directives: {\n    focus: {\n      // focus element on mount\n      inserted: function(el) {\n        el.focus();\n      }\n    }\n  }\n})\nexport default class EditBreakpoint extends Vue {\n  @Prop()\n  value!: Breakpoint;\n  @Prop()\n  isEditing!: boolean;\n\n  deleteDialog = false;\n\n  // values can be undefined, which is not reactive in Vue.\n  defaultPreviewWidth: number | undefined | string | null = String(\n    this.value.defaultPreviewWidth || \"\"\n  );\n  minWidth: number | undefined | string | null = String(\n    this.value.minWidth || \"\"\n  );\n  maxWidth: number | undefined | string | null = String(\n    this.value.maxWidth || \"\"\n  );\n\n  setDefaultPreviewWidth(width: \"100%\" | \"custom\") {\n    this.defaultPreviewWidth = width === \"100%\" ? \"100%\" : \"\";\n  }\n\n  enableEditing() {\n    this.$emit(\"edit\", this.value.id);\n  }\n\n  get breakpoints() {\n    return configStore.breakpoints;\n  }\n\n  get previewWidthUnit() {\n    return \"px\";\n  }\n\n  deleteBreakpoint() {\n    this.$emit(\"delete\");\n    this.deleteDialog = false;\n  }\n\n  get mediaQueryString() {\n    const minWidth = parseInt(String(this.minWidth));\n    const maxWidth = parseInt(String(this.maxWidth));\n\n    return mediaQueryString(minWidth, maxWidth);\n  }\n\n  cancel() {\n    this.minWidth = this.value.minWidth;\n    this.maxWidth = this.value.maxWidth;\n    this.defaultPreviewWidth = this.value.defaultPreviewWidth;\n    this.$emit(\"edit\", \"\");\n  }\n\n  save() {\n    const newBreakpoint = defensiveCopy(this.value);\n\n    newBreakpoint.minWidth = parseInt(String(this.minWidth)) || undefined;\n    newBreakpoint.maxWidth = parseInt(String(this.maxWidth)) || undefined;\n    newBreakpoint.defaultPreviewWidth =\n      this.defaultPreviewWidth === \"100%\"\n        ? \"100%\"\n        : parseInt(String(this.defaultPreviewWidth));\n\n    this.minWidth = newBreakpoint.minWidth ? newBreakpoint.minWidth : \"\";\n    this.maxWidth = newBreakpoint.maxWidth ? newBreakpoint.maxWidth : \"\";\n    this.defaultPreviewWidth = newBreakpoint.defaultPreviewWidth\n      ? newBreakpoint.defaultPreviewWidth\n      : \"\";\n\n    pipe(\n      validateBreakpoint(newBreakpoint),\n      fold(\n        errors => {\n          errors.forEach(e => NotificationLogger.log.message(e.msg));\n        },\n        breakpoint => {\n          this.$emit(\"input\", breakpoint);\n          this.$emit(\"edit\", \"\");\n        }\n      )\n    );\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditBreakpoint.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditBreakpoint.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditBreakpoint.vue?vue&type=template&id=0deb6e3a&\"\nimport script from \"./EditBreakpoint.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditBreakpoint.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./EditBreakpoint.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VAlert,VBtn})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"preferences-empty-state\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./EmptyStatePreferences.vue?vue&type=template&id=30c84385&\"\nvar script = {}\nimport style0 from \"./EmptyStatePreferences.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport EditBreakpoint from \"./EditBreakpoint.vue\";\nimport { addOrUpdateBreakpoint } from \"@/lib/breakpoints/breakpoints\";\nimport { Breakpoint } from \"@/types/breakpoints\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport EmptyStatePreferences from \"@/components/Settings/Preferences/EmptyStatePreferences.vue\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport { validateNoQuotes } from \"@/util/input-text-validation-rules\";\n\n@Component({\n  components: {\n    Icon,\n    EditBreakpoint,\n    EmptyStatePreferences,\n    TextInput,\n    IconButton,\n  },\n})\nexport default class EditBreakpoints extends Vue {\n  @Prop()\n  value!: Breakpoint[];\n\n  editingBreakpointId = \"\";\n  showAddForm = false;\n\n  edit(breakpointId: string) {\n    this.editingBreakpointId = breakpointId;\n    this.showAddForm = false;\n  }\n\n  openAddBreakpointForm() {\n    this.showAddForm = true;\n    this.editingBreakpointId = \"\";\n  }\n\n  toggleAddBreakpointForm() {\n    this.showAddForm = !this.showAddForm;\n  }\n\n  newBreakpointLabel: string | undefined = \"\";\n\n  addBreakpoint() {\n    if (!this.newBreakpointLabel) {\n      return;\n    }\n\n    const normalizedBreakpointLabel = this.newBreakpointLabel\n      .toLowerCase()\n      .replace(/[- ]/g, \"_\");\n    const newBreakpointId = `custom_breakpoint_${normalizedBreakpointLabel}`;\n\n    this.updateOrAddBreakpoint({\n      id: newBreakpointId,\n      label: this.newBreakpointLabel,\n      minWidth: undefined,\n      maxWidth: undefined,\n      defaultPreviewWidth: \"100%\",\n    });\n  }\n\n  deleteBreakpoint(breakpointId: string) {\n    const newBreakpoints = defensiveCopy(this.value);\n    const index = newBreakpoints.findIndex((b) => b.id === breakpointId);\n    newBreakpoints.splice(index, 1);\n    this.$emit(\"input\", newBreakpoints);\n  }\n\n  updateOrAddBreakpoint(newBreakpoint: Breakpoint) {\n    const newBreakpoints = addOrUpdateBreakpoint(this.value, newBreakpoint);\n    this.$emit(\"input\", newBreakpoints);\n\n    if (this.showAddForm === true) this.showAddForm = false;\n    this.newBreakpointLabel = \"\";\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditBreakpoints.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditBreakpoints.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditBreakpoints.vue?vue&type=template&id=1af09ae0&\"\nimport script from \"./EditBreakpoints.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditBreakpoints.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./EditBreakpoints.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"preferences-panel-topbar\"},[_c('div',{staticClass:\"preferences-panel-heading\"},[_vm._t(\"title\")],2),_vm._t(\"aftertitle\"),_c('v-spacer')],2),_c('div',{staticClass:\"preferences-panel-content-area\"},[_vm._t(\"content\")],2),_c('div',{staticClass:\"preferences-bottom-panel\"},[(!_vm.hideSaveButton)?_c('v-btn',{attrs:{\"loading\":_vm.save.inProgress,\"disabled\":_vm.save.disabled,\"color\":\"blue\",\"dark\":\"\"},on:{\"click\":_vm.save.function}},[_vm._v(_vm._s(_vm.save.text)+\" \")]):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component({})\nexport default class PreferencesPanel extends Vue {\n  @Prop()\n  save!: {\n    text: string;\n    function: () => void;\n    inProgress: boolean;\n    disabled: boolean;\n  };\n  @Prop({ default: false })\n  hideSaveButton!: boolean;\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreferencesPanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreferencesPanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PreferencesPanel.vue?vue&type=template&id=4c6977b0&\"\nimport script from \"./PreferencesPanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./PreferencesPanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PreferencesPanel.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VSpacer})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Breakpoint } from \"@/types/breakpoints\";\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport EditBreakpoints from \"./EditBreakpoints.vue\";\nimport PreferencesPanel from \"@/components/Settings/Preferences/PreferencesPanel.vue\";\nimport { isEqual } from \"lodash\";\n\n@Component({\n  components: {\n    EditBreakpoints,\n    PreferencesPanel\n  }\n})\nexport default class CustomBreakpointsPanel extends Vue {\n  @Prop()\n  value!: Breakpoint[];\n\n  internalValue = defensiveCopy(this.value);\n\n  get unsavedChangesPresent() {\n    return !isEqual(\n      defensiveCopy(this.internalValue),\n      defensiveCopy(this.value)\n    );\n  }\n\n  applyChanges() {\n    this.$emit(\"input\", this.internalValue);\n  }\n\n  breakpointsEdited(customBreakpoints: Breakpoint[]) {\n    this.internalValue = customBreakpoints;\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomBreakpointsPanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomBreakpointsPanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CustomBreakpointsPanel.vue?vue&type=template&id=fc54c074&\"\nimport script from \"./CustomBreakpointsPanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./CustomBreakpointsPanel.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('PreferencesPanel',{attrs:{\"save\":{\n    text: 'Save Fonts',\n    function: _vm.applyChanges,\n    inProgress: _vm.saveInProgress,\n    disabled: !_vm.unsavedChangesPresent || _vm.isFreeMode\n  }},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"Custom Fonts\")]},proxy:true},{key:\"content\",fn:function(){return [_c('ProOnlyAlertBox',{staticClass:\"mb-5\",attrs:{\"options\":{\n        content: 'Managing custom fonts is only available in Breakdance Pro',\n        feature: 'custom-fonts'\n      }}}),_vm._l((_vm.internalValue),function(fontFamily,index){return _c('FontFamily',{key:fontFamily.family,attrs:{\"value\":fontFamily,\"isOpen\":index === _vm.openedFontIndex},on:{\"open\":function($event){return _vm.openFont($event ? index : -1)},\"delete\":function($event){return _vm.deleteFontFamily(index)},\"input\":function($event){return _vm.updateFontFamily($event, index)}}})}),(_vm.internalValue.length)?[_c('div',{staticClass:\"mt-12\"})]:_vm._e(),_c('h4',{staticClass:\"mb-4 font-weight-medium\"},[_vm._v(\"Add Font\")]),(!_vm.showAddForm && _vm.internalValue.length == 0)?_c('EmptyStatePreferences',[_c('p',[_vm._v(\" Add a font family to Breakdance's font family dropdowns, and optionally upload associated .woff/.woff2 files. \")]),_c('v-btn',{attrs:{\"outlined\":\"\",\"disabled\":_vm.isFreeMode},on:{\"click\":_vm.toggleAddForm}},[_vm._v(\" Add Font \")])],1):_vm._e(),(_vm.showAddForm)?_c('div',[_c('v-form',{ref:\"form\",on:{\"submit\":function($event){$event.preventDefault();return _vm.saveNewFontFamily($event)}},model:{value:(_vm.validForm),callback:function ($$v) {_vm.validForm=$$v},expression:\"validForm\"}},[_c('div',{staticClass:\"add-font-family-form-content-wrapper\"},[_c('div',{staticClass:\"add-font-heading-box\"},[_c('h4',{staticClass:\"add-font-heading\"},[_vm._v(\"Add New Font\")]),_c('IconButton',{staticClass:\"add-font-cloe-button\",attrs:{\"icon\":\"CloseIcon\",\"size\":\"18\"},on:{\"click\":_vm.toggleAddForm}})],1),_c('TextInput',{attrs:{\"placeholder\":\"Custom font name, ie. Helvetica\",\"outlined\":\"\",\"dense\":\"\",\"solo\":\"\",\"flat\":\"\",\"single-line\":\"\",\"size\":\"md\",\"validation-function-name\":\"validateAlphanumericHyphenUnderscore\"},model:{value:(_vm.fontFamily),callback:function ($$v) {_vm.fontFamily=$$v},expression:\"fontFamily\"}}),_c('v-btn',{attrs:{\"disabled\":!_vm.fontFamily || _vm.validFontFamily !== true,\"type\":\"submit\",\"text\":\"\"}},[_c('Icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"PlusIcon\"}}),_vm._v(\" Add \")],1)],1)])],1):_vm._e(),(_vm.internalValue.length > 0 && !_vm.showAddForm)?_c('v-btn',{attrs:{\"outlined\":\"\",\"disabled\":_vm.isFreeMode},on:{\"click\":_vm.toggleAddForm}},[_vm._v(\" Add Font \")]):_vm._e(),_c('h4',{staticClass:\"my-4 font-weight-medium mt-12\"},[_vm._v(\" Use Fonts In External CSS \")]),(!_vm.showCssForm && _vm.internalValue.length == 0)?_c('EmptyStatePreferences',[_c('p',[_vm._v(\" Use hosted fonts from providers like Adobe Fonts. \")]),_c('v-btn',{attrs:{\"outlined\":\"\",\"disabled\":_vm.isFreeMode},on:{\"click\":_vm.toggleCssForm}},[_vm._v(\" Add External CSS \")])],1):_vm._e(),(_vm.showCssForm)?_c('div',[_c('v-form',{ref:\"cssForm\",on:{\"submit\":function($event){$event.preventDefault();return _vm.saveCssUrl($event)}},model:{value:(_vm.validCssForm),callback:function ($$v) {_vm.validCssForm=$$v},expression:\"validCssForm\"}},[_c('div',{staticClass:\"add-font-family-form-content-wrapper mb-4\"},[_c('div',{staticClass:\"add-font-heading-box\"},[_c('h4',{staticClass:\"add-font-heading\"},[_vm._v(\"CSS URL\")]),_c('IconButton',{staticClass:\"add-font-cloe-button\",attrs:{\"icon\":\"CloseIcon\",\"size\":\"18\"},on:{\"click\":_vm.toggleCssForm}})],1),_c('TextInput',{attrs:{\"rules\":[\n              function (v) { return !!v || 'Please enter a value'; },\n              function (v) { return _vm.isValidUrl(v) || 'Please enter a valid URL'; }\n            ],\"placeholder\":\"URL to CSS file containing Font Face definitions\",\"outlined\":\"\",\"dense\":\"\",\"solo\":\"\",\"flat\":\"\",\"single-line\":\"\",\"size\":\"md\"},model:{value:(_vm.cssUrl),callback:function ($$v) {_vm.cssUrl=$$v},expression:\"cssUrl\"}}),_c('v-btn',{attrs:{\"disabled\":_vm.saveInProgress,\"type\":\"submit\",\"text\":\"\"}},[_c('Icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"PlusIcon\"}}),_vm._v(\" Add \")],1)],1)])],1):_vm._e(),(_vm.internalValue.length > 0 && !_vm.showCssForm)?_c('v-btn',{attrs:{\"outlined\":\"\",\"disabled\":_vm.isFreeMode},on:{\"click\":_vm.toggleCssForm}},[_vm._v(\" Add CSS URL \")]):_vm._e()]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport {\n  CustomFontFamily,\n  FontFamiliesResponseV,\n  FontFileResponse,\n  FontFileResponseV,\n  FontFamiliesResponse\n} from \"@/types/custom-fonts\";\nimport { Either } from \"fp-ts/lib/Either\";\nimport { _Error } from \"@/lib/wordpress/data\";\nimport { fpJsonStringify } from \"@/util/fp-json-stringify\";\n\nexport async function saveFontFile(\n  fontFile: File\n): Promise<Either<_Error[], FontFileResponse>> {\n  return await makeWordPressAjaxRequest({\n    action: \"breakdance_save_font_file\",\n    dataToPost: { file: fontFile },\n    decoder: FontFileResponseV\n  });\n}\n\nexport async function getFontFamiliesFromCssFile(\n  cssUrl: string\n): Promise<Either<_Error[], FontFamiliesResponse>> {\n  return await makeWordPressAjaxRequest({\n    action: \"breakdance_get_font_families_from_css_file\",\n    dataToPost: { cssUrl },\n    decoder: FontFamiliesResponseV\n  });\n}\n\nexport async function sendFontsToBackend(\n  customFontFamilies: CustomFontFamily[]\n): Promise<Either<_Error[], FontFamiliesResponse>> {\n  return await makeWordPressAjaxRequest({\n    action: \"breakdance_save_font_families\",\n    dataToPost: {\n      customFontFamilies: fpJsonStringify(customFontFamilies)\n    },\n    decoder: FontFamiliesResponseV\n  });\n}\n","import { Font } from \"@/types/fonts\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { configStore } from \"@/store/store-accessor\";\n\nexport const addOrUpdateFontInStore = (newFontData: Font) => {\n  const newFonts = defensiveCopy(configStore.fonts);\n  const index = newFonts.findIndex(font => font.slug === newFontData.slug);\n\n  // Add the new font if it it's new, otherwise replace the existing one\n  if (index === -1) {\n    newFonts.unshift(newFontData);\n  } else {\n    newFonts[index] = newFontData;\n  }\n\n  configStore.setFonts(newFonts);\n};\n\nexport const removeFontFromStore = (slug: string) => {\n  const newFonts = defensiveCopy(configStore.fonts);\n  const index = newFonts.findIndex(font => font.slug === slug);\n\n  if (index > -1) {\n    newFonts.splice(index, 1);\n  }\n\n  configStore.setFonts(newFonts);\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"custom-font-family\"},[_c('div',{staticClass:\"custom-font-family-titlebar\",on:{\"click\":_vm.toggleFaces}},[_c('div',{staticClass:\"custom-font-family-title\"},[_vm._v(\" \"+_vm._s(_vm.value.family)+\" \")]),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteFontFamily($event)}}},[_c('Icon',{attrs:{\"icon\":\"TrashIcon\"}})],1)],1),(_vm.isOpen)?_c('div',{staticClass:\"custom-font-family-edit\"},[(!_vm.value.hasExternalCssUrl)?_c('div',[_c('FontFaces',{attrs:{\"value\":_vm.value.faces},on:{\"input\":_vm.editFontFamily}}),_c('TextField',{attrs:{\"placeholder\":\"CSS Fallback String (separate font families with commas)\",\"value\":_vm.value.fallbackString,\"size\":\"md\"},on:{\"input\":_vm.editFallbackString}}),(_vm.fallbackStringHasBeenEdited)?[_c('v-alert',{staticClass:\"mt-4\",attrs:{\"dense\":\"\",\"border\":\"left\",\"text\":\"\",\"type\":\"warning\"}},[_vm._v(\" Changes to the CSS fallback string will take effect after \"),_c('strong',[_vm._v(\"saving and refreshing\")]),_vm._v(\". \")])]:_vm._e()],2):_vm._e(),(_vm.value.hasExternalCssUrl)?_c('div',[_c('span',{staticStyle:{\"font-size\":\"var(--text-sm)\",\"font-weight\":\"500\"}},[_vm._v(\"Sourced from \"+_vm._s(_vm.value.cssUrl))]),_c('TextField',{staticClass:\"mt-4\",attrs:{\"placeholder\":\"CSS Fallback String (separate font families with commas)\",\"value\":_vm.value.fallbackString,\"size\":\"md\"},on:{\"input\":_vm.editFallbackString}})],1):_vm._e()]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"custom-font-family-font-faces\"},[_vm._l((_vm.value),function(fontFace,fontFaceIndex){return _c('UpdateFontFace',{key:fontFace.id,attrs:{\"value\":fontFace,\"existingFontFaces\":_vm.existingFontFaces(fontFaceIndex)},on:{\"input\":function($event){return _vm.updateFontFace($event, fontFaceIndex)},\"delete\":function($event){return _vm.deleteFontFace(fontFaceIndex)}}})}),_c('FontFileUpload',{on:{\"save\":_vm.newFontFileSuccessfullyUploaded}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"custom-font-family-font-face\"},[_c('v-form',{ref:\"form\",model:{value:(_vm.isFontFaceUnique),callback:function ($$v) {_vm.isFontFaceUnique=$$v},expression:\"isFontFaceUnique\"}},[_c('div',{staticClass:\"custom-font-family-font-face-titlebar\"},[_c('div',{staticClass:\"custom-font-family-font-face-titlebar-title\"},_vm._l((_vm.value.files),function(file){return _c('div',{key:file.fileUrl,staticClass:\"mr-3\"},[_vm._v(\" \"+_vm._s(file.fileName)+\" \")])}),0),_c('v-btn',{attrs:{\"icon\":\"\"},on:{\"click\":_vm.deleteFontFace}},[_c('Icon',{attrs:{\"icon\":\"TrashIcon\"}})],1)],1),_c('div',{staticClass:\"custom-font-family-font-face-controls\"},[_c('div',{staticClass:\"custom-font-family-font-face-controls-control\"},[_c('v-select',{staticClass:\"mr-4\",attrs:{\"dense\":\"\",\"outlined\":\"\",\"value\":_vm.value.weight,\"items\":_vm.weights,\"rules\":[_vm.validateWeight],\"label\":\"Font Weight\"},on:{\"input\":_vm.updateWeight}})],1),_c('div',{staticClass:\"custom-font-family-font-face-controls-control\"},[_c('v-radio-group',{staticClass:\"pt-0 mt-0 mr-4\",attrs:{\"value\":_vm.value.style,\"rules\":[_vm.validateStyle],\"row\":\"\",\"dense\":\"\"},on:{\"change\":_vm.updateStyle}},[_c('v-radio',{attrs:{\"label\":\"Normal\",\"value\":\"normal\"}}),_c('v-radio',{attrs:{\"label\":\"Italic\",\"value\":\"italic\"}})],1)],1)])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","export const CSS_WEIGHTS = [\n  {\n    text: \"100 (Thin)\",\n    value: 100\n  },\n  {\n    text: \"200 (Extra Light)\",\n    value: 200\n  },\n  {\n    text: \"300 (Light)\",\n    value: 300\n  },\n  {\n    text: \"400 (Normal)\",\n    value: 400\n  },\n  {\n    text: \"500 (Medium)\",\n    value: 500\n  },\n  {\n    text: \"600 (Semi Bold)\",\n    value: 600\n  },\n  {\n    text: \"700 (Bold)\",\n    value: 700\n  },\n  {\n    text: \"800 (Extra Bold)\",\n    value: 800\n  },\n  {\n    text: \"900 (Black)\",\n    value: 900\n  }\n];\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop, Ref, Watch } from \"vue-property-decorator\";\nimport { FontFace } from \"@/types/custom-fonts\";\nimport { CSS_WEIGHTS } from \"@/lib/fonts/constants\";\nimport Icon from \"@/components/UI/Icon.vue\";\n\n@Component({\n  components: { Icon }\n})\nexport default class UpdateFontFace extends Vue {\n  @Ref() readonly form!: HTMLFormElement;\n  @Prop()\n  value!: FontFace;\n\n  /* Form Validation */\n  @Prop({\n    default: []\n  })\n  existingFontFaces!: FontFace[];\n\n  isFontFaceUnique = true;\n\n  validateWeight(weight: number) {\n    if (!weight) {\n      return \"A weight is required\";\n    }\n\n    return (\n      !this.existingFontFaces\n        .find(\n          fontFace =>\n            fontFace.weight === weight && fontFace.style === this.value.style\n        )\n        ?.files.find(file => this.valueFormats.includes(file.format)) ||\n      \"This font weight already exists with this style, and format\"\n    );\n  }\n\n  validateStyle(style: \"normal\" | \"italic\") {\n    return (\n      !this.existingFontFaces\n        .find(\n          fontFace =>\n            fontFace.weight === this.value.weight && fontFace.style === style\n        )\n        ?.files.find(file => this.valueFormats.includes(file.format)) ||\n      \"This font style already exists with this weight, and format\"\n    );\n  }\n\n  get valueFormats() {\n    return this.value.files.map(file => file.format);\n  }\n\n  @Watch(\"value\")\n  revalidateOnValueChange() {\n    this.form.validate();\n  }\n  /* ------------ */\n\n  updateWeight(newWeight: number) {\n    const newValue = {\n      ...this.value,\n      weight: newWeight\n    };\n    this.$emit(\"input\", newValue);\n  }\n\n  updateStyle(newStyle: \"normal\" | \"italic\") {\n    const newValue = {\n      ...this.value,\n      style: newStyle\n    };\n    this.$emit(\"input\", newValue);\n  }\n\n  deleteFontFace() {\n    this.$emit(\"delete\");\n  }\n\n  get weights() {\n    return CSS_WEIGHTS;\n  }\n\n  get currentWeight() {\n    return CSS_WEIGHTS.find(w => w.value === this.value.weight);\n  }\n}\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateFontFace.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UpdateFontFace.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UpdateFontFace.vue?vue&type=template&id=daa63ea4&\"\nimport script from \"./UpdateFontFace.vue?vue&type=script&lang=ts&\"\nexport * from \"./UpdateFontFace.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./UpdateFontFace.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VForm } from 'vuetify/lib/components/VForm';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VBtn,VForm,VRadio,VRadioGroup,VSelect})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-font-file-uploader\"},[_c('FileUpload',{attrs:{\"height\":\"150px\",\"accept\":\".woff,.woff2\",\"saveInProgress\":_vm.saveInProgress},on:{\"input\":_vm.handleFiles}},[_vm._v(\" drag .woff or .woff2 files or \"),_c('span',{staticClass:\"breakdance-font-file-uploader-choose-link\"},[_vm._v(\"browse...\")])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { saveFontFile } from \"@/lib/fonts/backend\";\nimport FileUpload from \"@/components/Reusable/CustomInputs/FileUpload.vue\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport { _Error, logErrorsToUiStore } from \"@/lib/wordpress/data\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\n@Component({\n  components: { FileUpload }\n})\nexport default class FontFileUpload extends Vue {\n  saveInProgress = false;\n\n  handleFiles(files: FileList) {\n    Array.from(files).forEach((file: File) => {\n      const fileReader = new FileReader();\n      fileReader.onloadend = async e => {\n        if (!e?.target) return;\n\n        // Get the file's MIME type to validate the file type\n        // This is reliable in contrast to checking the extension\n        // https://stackoverflow.com/questions/18299806/how-to-check-file-mime-type-with-javascript-before-upload\n\n        const arr = new Uint8Array(\n          e.target.result as Iterable<number>\n        ).subarray(0, 4);\n        let header = \"\";\n        arr.forEach(value => (header += value.toString(16)));\n\n        const extension = file.name.split(\".\").pop();\n        // https://en.wikipedia.org/wiki/List_of_file_signatures\n        const isWoff = header === \"774f4646\" && extension === \"woff\";\n        const isWoff2 = header === \"774f4632\" && extension === \"woff2\";\n\n        if (!(isWoff || isWoff2)) {\n          NotificationLogger.log.message(\n            'Only  \".woff\" and \".woff2\" files are supported'\n          );\n\n          return;\n        }\n\n        this.saveInProgress = true;\n\n        pipe(\n          await saveFontFile(file),\n          fold(\n            (errors: _Error[]) => {\n              logErrorsToUiStore(errors);\n            },\n            r => {\n              this.$emit(\"save\", {\n                fileUrl: r.fileUrl,\n                format: isWoff ? \"woff\" : \"woff2\",\n                fileName: r.fileName\n              });\n            }\n          )\n        );\n\n        this.saveInProgress = false;\n      };\n\n      fileReader.readAsArrayBuffer(file);\n    });\n  }\n}\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FontFileUpload.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FontFileUpload.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FontFileUpload.vue?vue&type=template&id=3a285e30&\"\nimport script from \"./FontFileUpload.vue?vue&type=script&lang=ts&\"\nexport * from \"./FontFileUpload.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FontFileUpload.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport UpdateFontFace from \"@/components/Settings/Preferences/CustomFonts/components/UpdateFontFace.vue\";\nimport { FontFace, FontFile } from \"@/types/custom-fonts\";\nimport FontFileUpload from \"@/components/Settings/Preferences/CustomFonts/components/FontFileUpload.vue\";\nimport { v4 as uuidv4 } from \"uuid\";\n\n@Component({\n  components: {\n    FontFileUpload,\n    UpdateFontFace\n  }\n})\nexport default class FontFaces extends Vue {\n  @Prop()\n  value!: FontFace[];\n\n  newFontFileSuccessfullyUploaded(fontFile: FontFile) {\n    const newFontFace = fontFileToBlankFontFace(fontFile);\n    const newFontFaces = [...this.value, newFontFace];\n    this.$emit(\"input\", newFontFaces);\n  }\n\n  updateFontFace(newFontFace: FontFace, fontFaceIndex: number) {\n    const newFontFaces = [...this.value];\n    const newFontFaceFormats = newFontFace.files.map(file => file.format);\n\n    // If the weight and style are the same but the format is different\n    // Merge the newFontFace's files into an existing font face\n    const indexOfMatchingFontFace = newFontFaces.findIndex(\n      fontFace =>\n        fontFace.weight === newFontFace.weight &&\n        fontFace.style === newFontFace.style &&\n        // Doesn't match the file formats\n        !fontFace.files.find(file => newFontFaceFormats.includes(file.format))\n    );\n\n    if (indexOfMatchingFontFace === -1) {\n      newFontFaces[fontFaceIndex] = newFontFace;\n    } else {\n      // Merge the files\n      newFontFaces[indexOfMatchingFontFace].files = [\n        ...newFontFaces[indexOfMatchingFontFace].files,\n        ...newFontFace.files\n      ];\n\n      // And remove the merged font face from the list\n      newFontFaces.splice(fontFaceIndex, 1);\n    }\n\n    this.$emit(\"input\", newFontFaces);\n  }\n\n  deleteFontFace(fontFaceIndex: number) {\n    const newFontFaces = [...this.value];\n    newFontFaces.splice(fontFaceIndex, 1);\n    this.$emit(\"input\", newFontFaces);\n  }\n\n  existingFontFaces(fontFaceIndex: number) {\n    return this.value.filter((_, i) => i !== fontFaceIndex);\n  }\n}\n\nfunction fontFileToBlankFontFace(fontFile: FontFile): FontFace {\n  return {\n    id: uuidv4(),\n    files: [fontFile],\n    style: \"normal\",\n    weight: 0\n  };\n}\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FontFaces.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FontFaces.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FontFaces.vue?vue&type=template&id=30bcaa75&\"\nimport script from \"./FontFaces.vue?vue&type=script&lang=ts&\"\nexport * from \"./FontFaces.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FontFaces.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Vue from \"vue\";\nimport { CustomFontFamily, FontFace } from \"@/types/custom-fonts\";\nimport FontFaces from \"@/components/Settings/Preferences/CustomFonts/components/FontFaces.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport TextField from \"@/components/Reusable/CustomInputs/TextInput.vue\";\n\n@Component({\n  components: { Icon, FontFaces, TextField }\n})\nexport default class FontFamily extends Vue {\n  @Prop()\n  value!: CustomFontFamily;\n\n  @Prop()\n  isOpen!: boolean;\n\n  toggleFaces() {\n    this.$emit(\"open\", !this.isOpen);\n  }\n\n  deleteFontFamily() {\n    this.$emit(\"delete\");\n  }\n\n  fallbackStringHasBeenEdited = false;\n\n  editFallbackString(newFallbackString: string | undefined) {\n    this.fallbackStringHasBeenEdited = true;\n    this.$emit(\"input\", {\n      ...this.value,\n      fallbackString: newFallbackString\n    });\n  }\n\n  editFontFamily(newFontFaces: FontFace[]) {\n    this.$emit(\"input\", {\n      ...this.value,\n      faces: newFontFaces\n    });\n  }\n\n  editCssUrl(newCssUrl: string | undefined) {\n    this.$emit(\"input\", {\n      ...this.value,\n      cssUrl: newCssUrl\n    });\n  }\n}\n","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FontFamily.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FontFamily.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FontFamily.vue?vue&type=template&id=cf36cfe0&\"\nimport script from \"./FontFamily.vue?vue&type=script&lang=ts&\"\nexport * from \"./FontFamily.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./FontFamily.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAlert } from 'vuetify/lib/components/VAlert';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VAlert,VBtn})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop, Ref } from \"vue-property-decorator\";\nimport { CustomFontFamily } from \"@/types/custom-fonts\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport {\n  getFontFamiliesFromCssFile,\n  sendFontsToBackend\n} from \"@/lib/fonts/backend\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport { _Error, logErrorsToUiStore } from \"@/lib/wordpress/data\";\nimport { addOrUpdateFontInStore, removeFontFromStore } from \"@/lib/fonts/utils\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport FontFamily from \"@/components/Settings/Preferences/CustomFonts/components/FontFamily.vue\";\nimport PreferencesPanel from \"@/components/Settings/Preferences/PreferencesPanel.vue\";\nimport EmptyStatePreferences from \"@/components/Settings/Preferences/EmptyStatePreferences.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { isEqual } from \"lodash\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport { validateAlphanumericHyphenUnderscore } from \"@/util/input-text-validation-rules\";\nimport { configStore } from \"@/store/store-accessor\";\nimport AlertBox from \"@/components/Reusable/CustomInputs/AlertBox.vue\";\nimport ProOnlyAlertBox from \"@/components/Subscription/ProOnlyAlertBox.vue\";\n\n@Component({\n  components: {\n    ProOnlyAlertBox,\n    AlertBox,\n    FontFamily,\n    PreferencesPanel,\n    EmptyStatePreferences,\n    Icon,\n    TextInput,\n    IconButton\n  }\n})\nexport default class CustomFontFamilies extends Vue {\n  @Ref() readonly form!: HTMLFormElement;\n  @Ref() readonly cssForm!: HTMLFormElement;\n\n  @Prop()\n  readonly value!: CustomFontFamily[];\n\n  get unsavedChangesPresent() {\n    return !isEqual(\n      defensiveCopy(this.internalValue),\n      defensiveCopy(this.value)\n    );\n  }\n\n  get validFontFamily() {\n    return validateAlphanumericHyphenUnderscore(this.fontFamily);\n  }\n\n  internalValue = defensiveCopy(this.value);\n  fontFamily: string | undefined = \"\";\n  cssUrl: string | undefined = \"\";\n  validForm = true;\n  validCssForm = true;\n  saveInProgress = false;\n  openedFontIndex = -1;\n\n  showAddForm = false;\n  toggleAddForm() {\n    this.showAddForm = !this.showAddForm;\n  }\n\n  showCssForm = false;\n  toggleCssForm() {\n    this.showCssForm = !this.showCssForm;\n  }\n\n  async applyChanges() {\n    this.saveInProgress = true;\n\n    pipe(\n      await sendFontsToBackend(this.internalValue),\n      fold(\n        (errors: _Error[]) => {\n          logErrorsToUiStore(errors);\n        },\n        fontFamiliesResponse => {\n          fontFamiliesResponse.forEach(fontFamilyResponse => {\n            // Replace the cssUrl with the new cssUrl.\n            // Don't rely on indexes being the same since there's no guarantee that's the case\n            const indexOfFontFamilyMatchingIds = this.internalValue.findIndex(\n              fontFamily => fontFamily.id === fontFamilyResponse.fontId\n            );\n            this.internalValue[indexOfFontFamilyMatchingIds].cssUrl =\n              fontFamilyResponse.cssUrl;\n            this.internalValue[indexOfFontFamilyMatchingIds].cssName =\n              fontFamilyResponse.fontRegistrationData.cssName;\n\n            addOrUpdateFontInStore(fontFamilyResponse.fontRegistrationData);\n          });\n          this.$emit(\"input\", this.internalValue);\n        }\n      )\n    );\n\n    this.saveInProgress = false;\n  }\n\n  openFont(newOpenFontIndex: number) {\n    if (this.isFreeMode) return;\n\n    this.openedFontIndex = newOpenFontIndex;\n  }\n\n  updateFontFamily(newFontFamily: CustomFontFamily, fontIndex: number) {\n    // defensiveCopy is needed here because Vue is not making internalValue deeply reactive\n    // So we need to update the reference for it to work\n    const newValue = defensiveCopy(this.internalValue);\n    newValue[fontIndex] = newFontFamily;\n    this.internalValue = newValue;\n  }\n\n  deleteFontFamily(fontIndex: number) {\n    if (this.isFreeMode) return;\n\n    const newValue = defensiveCopy(this.internalValue);\n    newValue.splice(fontIndex, 1);\n    removeFontFromStore(this.internalValue[fontIndex].id);\n    this.internalValue = newValue;\n  }\n\n  saveNewFontFamily() {\n    if (!this.form.validate() || !this.fontFamily) {\n      return;\n    }\n\n    this.internalValue.push({\n      id: \"custom_font_\" + this.fontFamily.toLowerCase().replace(/ /g, \"_\"),\n      family: this.fontFamily,\n      fallbackString: \"\",\n      cssUrl: \"\",\n      hasExternalCssUrl: false,\n      cssName: this.fontFamily,\n      faces: []\n    });\n\n    this.openedFontIndex = this.internalValue.length - 1;\n    this.fontFamily = \"\";\n    this.form.reset();\n    this.showAddForm = false;\n  }\n\n  async saveCssUrl() {\n    if (!this.cssForm.validate() || !this.cssUrl) {\n      return;\n    }\n\n    this.saveInProgress = true;\n\n    pipe(\n      await getFontFamiliesFromCssFile(this.cssUrl),\n      fold(\n        (errors: _Error[]) => {\n          logErrorsToUiStore(errors);\n        },\n        fontFamiliesResponse => {\n          fontFamiliesResponse.forEach(fontFamilyResponse => {\n            // lets only add it if it's not already there\n            const fontIDAlreadyPresent =\n              this.internalValue.findIndex(\n                font => font.id === fontFamilyResponse.fontId\n              ) > -1;\n            if (!fontIDAlreadyPresent) {\n              this.internalValue.unshift({\n                id: fontFamilyResponse.fontId,\n                family: fontFamilyResponse.fontRegistrationData.label,\n                fallbackString:\n                  fontFamilyResponse.fontRegistrationData.fallbackString,\n                cssUrl: fontFamilyResponse.cssUrl,\n                hasExternalCssUrl: true,\n                cssName: fontFamilyResponse.fontRegistrationData.cssName,\n                faces: []\n              });\n            }\n          });\n        }\n      )\n    );\n\n    this.saveInProgress = false;\n\n    this.cssUrl = \"\";\n    this.showCssForm = false;\n  }\n\n  isValidUrl(value: string) {\n    let parsedUrl;\n\n    try {\n      parsedUrl = new URL(value);\n    } catch (error) {\n      return false;\n    }\n\n    return parsedUrl.protocol === \"http:\" || parsedUrl.protocol === \"https:\";\n  }\n\n  get isFreeMode() {\n    return configStore.subscriptionMode === \"free\";\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomFontFamilies.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomFontFamilies.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CustomFontFamilies.vue?vue&type=template&id=1979fe0b&\"\nimport script from \"./CustomFontFamilies.vue?vue&type=script&lang=ts&\"\nexport * from \"./CustomFontFamilies.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CustomFontFamilies.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VForm } from 'vuetify/lib/components/VForm';\ninstallComponents(component, {VBtn,VForm})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('PreferencesPanel',{attrs:{\"hide-save-button\":true},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\"UI Settings\")]},proxy:true},{key:\"content\",fn:function(){return [_c('h4',{staticClass:\"mb-4 font-weight-medium\"},[_vm._v(\"Settings\")]),_c('div',{staticClass:\"ui-setting\"},[_c('v-switch',{attrs:{\"input-value\":_vm.autoScrollEnabled,\"inset\":\"\",\"label\":\"Auto-scroll to active element\"},on:{\"change\":_vm.setAutoScrollEnabled}})],1),_c('div',{staticClass:\"ui-setting\"},[_c('v-switch',{attrs:{\"input-value\":_vm.isScaledToFit,\"label\":\"Scale content to fit the screen (zoom)\",\"inset\":\"\"},on:{\"change\":_vm.setScaleToFit}})],1),_c('div',{staticClass:\"ui-setting\"},[_c('v-switch',{attrs:{\"input-value\":_vm.isDarkMode,\"label\":\"Dark Mode\",\"inset\":\"\"},on:{\"change\":_vm.toggleTheme}})],1),(_vm.displayShowExperimentalElementsSetting)?_c('div',{staticClass:\"ui-setting\"},[_c('v-switch',{attrs:{\"input-value\":_vm.showExperimentalElements,\"label\":\"Show Experimental Elements\",\"inset\":\"\"},on:{\"change\":_vm.setShowExperimentalElements}})],1):_vm._e(),_c('div',{staticClass:\"ui-setting\"},[_c('v-switch',{attrs:{\"input-value\":_vm.disableNoticeForEmptySSRElements,\"label\":\"Disable Message For Empty SSR Elements\",\"inset\":\"\"},on:{\"change\":_vm.setDisableNoticeForEmptySSRElements}})],1),_c('div',{staticClass:\"ui-setting\"},[_c('v-switch',{attrs:{\"input-value\":_vm.isShowingIdsInStructurePanel,\"label\":\"Show elements ID in the Structure Panel\",\"inset\":\"\"},on:{\"change\":_vm.setIsShowingIdsInStructurePanel}})],1),_c('div',{staticClass:\"mt-4\"},[_c('h4',{staticClass:\"mb-4 font-weight-medium\"},[_vm._v(\"Panel Positions\")]),_vm._l((_vm.panelsState),function(panel,i){return [_c('div',{key:i,staticClass:\"d-flex align-center justify-space-between mb-3 panel-positions\"},[_c('div',{staticClass:\"ui-panel-title\"},[_vm._v(_vm._s(panel.label))]),_c('ButtonBarInput',{attrs:{\"value\":panel.value,\"items\":_vm.panelPositionsAsItems,\"options\":{ mandatory: true }},on:{\"input\":function($event){return _vm.setPanelPosition(panel.id, $event)}}})],1)]}),_c('div',{staticClass:\"d-flex align-center justify-space-between mb-3 panel-positions\"},[_c('div',{staticClass:\"ui-panel-title\"},[_vm._v(\"Popout Position\")]),_c('ButtonBarInput',{attrs:{\"value\":_vm.popoutPosition,\"items\":_vm.popoutPositionItems,\"options\":{ mandatory: true }},on:{\"input\":_vm.setPopoutPosition}})],1),_c('div',{staticClass:\"d-flex justify-end mt-4\"},[_c('NiceButton',{attrs:{\"disabled\":_vm.arePanelPositionsDefault},on:{\"click\":_vm.resetUiPanelPositionsToDefault}},[_vm._v(\"Reset to defaults\")])],1)],2)]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport PreferencesPanel from \"@/components/Settings/Preferences/PreferencesPanel.vue\";\nimport { Component } from \"vue-property-decorator\";\nimport {\n  closeAllUiPanels,\n  getPanelPositionPreferenceFromLocalStorage,\n  openUiPanel,\n  resetUiPanelPositionsToDefault,\n  savePanelPositionPreferenceToLocalStorage,\n  uiPanelDefaultPositions\n} from \"@/lib/panels/panels\";\nimport ButtonBarInput from \"@/components/Reusable/CustomInputs/ButtonBarInput/ButtonBarInput.vue\";\nimport { PanelPosition, UIPanel, UISettings } from \"@/types/ui\";\nimport {\n  setScaleToFitAndGetSettings,\n  UI_SETTINGS_LOCAL_STORAGE_KEY,\n  uiSettingsDefaults\n} from \"@/lib/ui-preference/ui-preference\";\nimport ToggleInput from \"@/components/Reusable/CustomInputs/ToggleInput.vue\";\nimport { uiStore } from \"@/store/store-accessor\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { jsonStringifyOrUndefined } from \"@/util/json-stringify-or-undefined\";\nimport { writeToLocalStorage } from \"@/util/localstorage\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\nimport isEqual from \"lodash/isEqual\";\nimport { isBreakdanceDevelopmentEnvironment } from \"@/lib/dev/development-environment\";\n\n@Component({\n  components: { NiceButton, PreferencesPanel, ButtonBarInput, ToggleInput }\n})\nexport default class CustomUiSettings extends Vue {\n  panelsState = this.getPanelsInitialState();\n\n  getPanelsInitialState() {\n    const panels: { id: UIPanel; label: string }[] = [\n      {\n        id: \"add\",\n        label: \"Add\"\n      },\n      {\n        id: \"elementproperties\",\n        label: \"Element Properties\"\n      },\n      {\n        id: \"selectors\",\n        label: \"Selectors\"\n      },\n      {\n        id: \"globalSettings\",\n        label: \"Global Settings\"\n      },\n      {\n        id: \"structure\",\n        label: \"Structure\"\n      },\n      {\n        id: \"history\",\n        label: \"History & Revisions\"\n      }\n    ];\n\n    return panels.map(panel => ({\n      ...panel,\n      value: getPanelPositionPreferenceFromLocalStorage(panel.id)\n    }));\n  }\n\n  setPanelPosition(panel: UIPanel, position: PanelPosition) {\n    const index = this.panelsState.findIndex(\n      panelState => panelState.id === panel\n    );\n\n    this.panelsState[index].value = position;\n\n    savePanelPositionPreferenceToLocalStorage(panel, position);\n    closeAllUiPanels();\n    openUiPanel(panel);\n  }\n\n  resetUiPanelPositionsToDefault() {\n    resetUiPanelPositionsToDefault();\n\n    this.panelsState = this.getPanelsInitialState();\n  }\n\n  get arePanelPositionsDefault() {\n    return isEqual(\n      uiPanelDefaultPositions,\n      this.panelsState.reduce((acc: Record<string, PanelPosition>, panel) => {\n        acc[panel.id] = panel.value;\n        return acc;\n      }, {})\n    );\n  }\n\n  get panelPositionsAsItems() {\n    return [\"left\", \"right\"].map(x => {\n      return {\n        text: x,\n        value: x\n      };\n    });\n  }\n\n  get popoutPositionItems() {\n    return [\n      {\n        text: \"Stacked\",\n        value: \"STACKED\"\n      },\n      {\n        text: \"Stacked (First Visible)\",\n        value: \"STACKED_FIRST_VISIBLE\"\n      },\n      {\n        text: \"Side By Side\",\n        value: \"SIDE_BY_SIDE\"\n      }\n    ];\n  }\n\n  get displayShowExperimentalElementsSetting() {\n    return isBreakdanceDevelopmentEnvironment();\n  }\n\n  get isDarkMode() {\n    return uiStore.settings.theme === \"dark\";\n  }\n\n  get isScaledToFit() {\n    return uiStore.settings.scaleToFit === \"SCALED_TO_FIT\";\n  }\n\n  get isShowingIdsInStructurePanel() {\n    return uiStore.settings.showElementIdInStructurePanel;\n  }\n\n  setScaleToFit(scaleToFit: boolean) {\n    this.setUiSettings(setScaleToFitAndGetSettings(scaleToFit));\n  }\n\n  toggleTheme() {\n    const settings = defensiveCopy(uiStore.settings);\n    settings.theme = this.isDarkMode ? \"light\" : \"dark\";\n\n    this.setUiSettings(settings);\n  }\n\n  setDisableNoticeForEmptySSRElements(disable: boolean) {\n    const settings = defensiveCopy(uiStore.settings);\n    settings.disableNoticeForEmptySSRElements = disable;\n\n    this.setUiSettings(settings);\n  }\n\n  get disableNoticeForEmptySSRElements() {\n    return uiStore.settings.disableNoticeForEmptySSRElements;\n  }\n\n  get showExperimentalElements() {\n    return uiStore.settings.showExperimentalElements;\n  }\n\n  setShowExperimentalElements(value: boolean) {\n    const settings = defensiveCopy(uiStore.settings);\n    settings.showExperimentalElements = value;\n\n    this.setUiSettings(settings);\n  }\n\n  setIsShowingIdsInStructurePanel(value: boolean) {\n    const settings = defensiveCopy(uiStore.settings);\n    settings.showElementIdInStructurePanel = value;\n\n    this.setUiSettings(settings);\n  }\n\n  get autoScrollEnabled() {\n    return uiStore.settings.autoScrollEnabled;\n  }\n\n  get popoutPosition() {\n    return uiStore.settings.popoutPosition;\n  }\n\n  setAutoScrollEnabled(value: boolean) {\n    const settings = defensiveCopy(uiStore.settings);\n    settings.autoScrollEnabled = value;\n\n    this.setUiSettings(settings);\n  }\n\n  setPopoutPosition(value: string) {\n    const settings = defensiveCopy(uiStore.settings);\n    settings.popoutPosition = value;\n\n    this.setUiSettings(settings);\n  }\n\n  setUiSettings(settings: UISettings) {\n    const maybeSettingsAsJsonString = jsonStringifyOrUndefined({\n      ...uiSettingsDefaults,\n      ...settings\n    });\n    if (maybeSettingsAsJsonString) {\n      writeToLocalStorage(\n        UI_SETTINGS_LOCAL_STORAGE_KEY,\n        maybeSettingsAsJsonString\n      );\n    }\n\n    uiStore.setSettings(settings);\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomUiSettings.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomUiSettings.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CustomUiSettings.vue?vue&type=template&id=03ad341f&\"\nimport script from \"./CustomUiSettings.vue?vue&type=script&lang=ts&\"\nexport * from \"./CustomUiSettings.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./CustomUiSettings.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VSwitch})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop, Ref } from \"vue-property-decorator\";\nimport { configStore } from \"@/store/store\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { Preferences } from \"@/types/preferences\";\nimport * as data from \"@/lib/wordpress/data\";\nimport CustomBreakpointsPanel from \"./Breakpoints/CustomBreakpointsPanel.vue\";\nimport { Breakpoint } from \"@/types/breakpoints\";\nimport { CustomFontFamily } from \"@/types/custom-fonts\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport { _Error, logErrorsToUiStore } from \"@/lib/wordpress/data\";\nimport CustomFontFamilies from \"@/components/Settings/Preferences/CustomFonts/CustomFontFamilies.vue\";\nimport Loading from \"@/components/Reusable/Loading.vue\";\nimport CustomUiSettings from \"@/components/Settings/Preferences/CustomUiSettings.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\n\n@Component({\n  components: {\n    Icon,\n    CustomUiSettings,\n    CustomFontFamilies,\n    CustomBreakpointsPanel,\n    Loading\n  }\n})\nexport default class PreferencesModal extends Vue {\n  @Prop()\n  open!: boolean;\n\n  @Ref() readonly customFontFamiliesPanel!: CustomFontFamilies;\n  @Ref() readonly customBreakpointsPanel!: CustomBreakpointsPanel;\n\n  tab = 0;\n  currentTab = 0;\n\n  uiSettingsTab = 0;\n  fontFamiliesTab = 1;\n  customBreakpointsTab = 2;\n\n  get preferences() {\n    return configStore.preferences;\n  }\n\n  get customBreakpoints() {\n    return this.preferences.customBreakpoints;\n  }\n\n  get customFontFamilies() {\n    return configStore.preferences.customFonts;\n  }\n\n  updateBreakpoints(newBreakpoints: Breakpoint[]) {\n    const newPrefs = defensiveCopy(this.preferences);\n    newPrefs.customBreakpoints = newBreakpoints;\n    this.save(newPrefs);\n  }\n\n  updateCustomFontFamilies(newCustomFontFamilies: CustomFontFamily[]) {\n    const newPrefs = defensiveCopy(this.preferences);\n    newPrefs.customFonts = newCustomFontFamilies;\n    this.save(newPrefs);\n  }\n\n  handleClickOutside() {\n    this.checkForUnsavedChanges();\n    if (!this.hasUnsavedChanges) {\n      return this.$emit(\"update:dialog\", false);\n    }\n    const exit = confirm(\"Exit without saving?\");\n    if (exit) {\n      return this.$emit(\"update:dialog\", false);\n    }\n    return this;\n  }\n\n  async handleChangeTab() {\n    this.checkForUnsavedChanges();\n    if (this.hasUnsavedChanges) {\n      const exit = confirm(\"Exit without saving?\");\n      if (!exit) {\n        await this.$nextTick();\n        this.tab = this.currentTab;\n        return true;\n      }\n    }\n    this.currentTab = this.tab;\n    return false;\n  }\n\n  saveInProgress = false;\n\n  async save(newPrefs: Preferences) {\n    this.saveInProgress = true;\n\n    pipe(\n      await data.saveToWP(\"preferences\", newPrefs),\n      fold(\n        (errors: _Error[]) => {\n          logErrorsToUiStore(errors);\n        },\n        () => {\n          configStore.setPreferences(newPrefs);\n        }\n      )\n    );\n    this.saveInProgress = false;\n    this.checkForUnsavedChanges();\n  }\n\n  hasUnsavedChanges = false;\n  checkForUnsavedChanges() {\n    if (this.currentTab === this.fontFamiliesTab) {\n      this.hasUnsavedChanges = this.customFontFamiliesPanel.unsavedChangesPresent;\n      return this.hasUnsavedChanges;\n    }\n\n    if (this.currentTab === this.customBreakpointsTab) {\n      this.hasUnsavedChanges = this.customBreakpointsPanel.unsavedChangesPresent;\n      return this.hasUnsavedChanges;\n    }\n\n    return (this.hasUnsavedChanges = false);\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreferencesModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PreferencesModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PreferencesModal.vue?vue&type=template&id=b306510c&\"\nimport script from \"./PreferencesModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./PreferencesModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PreferencesModal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\ninstallComponents(component, {VCard,VDialog,VProgressCircular,VTab,VTabs})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-dialog',{attrs:{\"content-class\":\"keyboard-shortcuts-help-modal\",\"value\":_vm.open,\"max-width\":\"850\"},on:{\"input\":function($event){return _vm.$emit('update:dialog', false)}}},[_c('v-card',{staticClass:\"d-flex flex-column\",attrs:{\"height\":\"100%\"}},[_c('v-card-text',[_c('table',{staticClass:\"styled-table\"},[_c('thead',[_c('tr',[_c('th',[_vm._v(\"Shortcut\")]),_c('th',[_vm._v(\"Description\")])])]),_c('tbody',[_c('tr',[_c('td',[_vm._v(_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_A)))]),_c('td',[_vm._v(\"Open add elements panel\")])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_B)))]),_c('td',[_vm._v(\"Open design sets modal\")])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_S)))]),_c('td',[_vm._v(\"Save\")])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_Z)))]),_c('td',[_vm._v(\"Undo\")])]),_c('tr',[_c('td',[_vm._v(\" \"+_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_SHIFT_Z))+\" \")]),_c('td',[_vm._v(\"Redo\")])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_C)))]),_c('td',[_vm._v(\"Copy the active element\")])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_V)))]),_c('td',[_vm._v(\"Paste copied element\")])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_D)))]),_c('td',[_vm._v(\"Duplicate the active element\")])]),_c('tr',[_c('td',[_vm._v(_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.ESC)))]),_c('td',[_vm._v(\"de-activate the active element \"),_c('b',[_vm._v(\"or\")]),_vm._v(\" close modal\")])]),_c('tr',[_c('td',[_vm._v(\" \"+_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.BACKSPACE))),_c('br'),_vm._v(\" \"+_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.DELETE))+\" \")]),_c('td',[_vm._v(\"Delete active element\")])]),_c('tr',[_c('td',[_vm._v(\" \"+_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_OPTION_R))+\" \")]),_c('td',[_vm._v(\"Cycle to the next breakpoint\")])]),_c('tr',[_c('td',[_vm._v(\" \"+_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_SHIFT_SLASH))),_c('br'),_vm._v(_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_QUESTION))+\" \")]),_c('td',[_vm._v(\"Show keyboard shortcuts help modal\")])]),_c('tr',[_c('td',[_vm._v(\" \"+_vm._s(_vm.getKeyboardShortcutValue(_vm.keyboardShortcuts.CMD_SHIFT_S))+\" \")]),_c('td',[_vm._v(\"Switch between \\\"scale to fit\\\" and \\\"actual size\\\" content\")])])])])])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { KEYBOARD_SHORTCUTS } from \"@/lib/keyboard-shortcuts/global-shortcuts\";\n\n@Component({\n  components: {}\n})\nexport default class KeyboardShortcutsHelpModal extends Vue {\n  @Prop()\n  open!: boolean;\n\n  get keyboardShortcuts() {\n    return KEYBOARD_SHORTCUTS;\n  }\n\n  getKeyboardShortcutValue(keys: string[]) {\n    const isMacLike = /(Mac|iPhone|iPod|iPad)/i.test(navigator.platform);\n    let keyCombo = keys ? keys[0] : \"\";\n    if (!isMacLike && keys.length == 2) {\n      keyCombo = keys[1];\n    }\n\n    return keyCombo\n      .toUpperCase()\n      .split(\"+\")\n      .join(\" + \");\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KeyboardShortcutsHelpModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./KeyboardShortcutsHelpModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./KeyboardShortcutsHelpModal.vue?vue&type=template&id=08535d12&\"\nimport script from \"./KeyboardShortcutsHelpModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./KeyboardShortcutsHelpModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./KeyboardShortcutsHelpModal.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\ninstallComponents(component, {VCard,VCardText,VDialog})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio\",style:(_vm.styles)},[_c('ElementStudioWidthAdjustmentBar',{on:{\"change\":_vm.adjustWidth}}),_c('div',{staticClass:\"element-studio-wrapper\",attrs:{\"data-test-id\":\"element-studio-wrapper\"}},[(_vm.isProdEnv || true)?_c('div',{staticClass:\"element-studio__beta-warning\"},[_vm._m(0)]):_vm._e(),(!_vm.activeItemType || _vm.activeItemType === 'element')?_c('ElementStudioElements',{attrs:{\"value\":_vm.data,\"width\":_vm.width},on:{\"input\":_vm.updateData,\"width\":_vm.updateWidth,\"active\":_vm.updateActiveItemType}}):_vm._e(),(!_vm.activeItemType || _vm.activeItemType === 'macro')?_c('ElementStudioMacros',{attrs:{\"value\":_vm.data},on:{\"input\":_vm.updateData,\"active\":_vm.updateActiveItemType}}):_vm._e(),(!_vm.activeItemType || _vm.activeItemType === 'preset')?_c('ElementStudioPresets',{attrs:{\"value\":_vm.data},on:{\"input\":_vm.updateData,\"active\":_vm.updateActiveItemType}}):_vm._e()],1)],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('b',[_c('a',{attrs:{\"target\":\"_blank\",\"href\":\"https://breakdance.com/documentation/developers/element-studio/\"}},[_vm._v(\"Element Studio is in alpha. Use at your own risk.\")])])}]\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ElementStudioWidthAdjustmentBarAdjustmentHandle',{staticClass:\"element-studio-width-adjustment-bar\",attrs:{\"on-dragging\":_vm.dragging}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._g(_vm._b({staticClass:\"breakdance-element-studio-adjustment-handle\",on:{\"mousedown\":_vm.dragStart}},'div',_vm.$attrs,false),_vm.$listeners),[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component({})\nexport default class ElementStudioWidthAdjustmentBarAdjustmentHandle extends Vue {\n  @Prop()\n  onDragging!: (e: MouseEvent, lastMouseX?: number) => void;\n\n  lastMouseX = 0;\n\n  draggingFunc(e: MouseEvent) {\n    e.preventDefault();\n\n    this.onDragging(e, this.lastMouseX);\n    this.lastMouseX = e.clientX;\n  }\n\n  dragStart(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    document.addEventListener(\"mousemove\", this.draggingFunc);\n\n    document.addEventListener(\"mouseup\", this.dragEnd);\n    this.lastMouseX = e.clientX;\n\n    /* Without this, once the mouse goes over the iframe, the mousemove event stops firing\n     * Because the cursor would be inside the iframe */\n    // @ts-ignore\n    document.getElementById(\"iframe\").style.pointerEvents = \"none\";\n  }\n\n  dragEnd(e: MouseEvent) {\n    e.preventDefault();\n\n    document.removeEventListener(\"mousemove\", this.draggingFunc);\n    document.removeEventListener(\"mouseup\", this.dragEnd);\n\n    // @ts-ignore\n    document.getElementById(\"iframe\").style.pointerEvents = \"auto\";\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?vue&type=template&id=8dd64aaa&\"\nimport script from \"./ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioWidthAdjustmentBarAdjustmentHandle.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport ElementStudioWidthAdjustmentBarAdjustmentHandle from \"./ElementStudioWidthAdjustmentBarAdjustmentHandle.vue\";\n\n@Component({\n  components: { ElementStudioWidthAdjustmentBarAdjustmentHandle }\n})\nexport default class ElementStudioWidthAdjustmentBar extends Vue {\n  dragging(e: MouseEvent, lastMouseX: number) {\n    // -1 to move to the opposite side (it does make sense)\n    this.$emit(\"change\", -1 * (e.clientX - lastMouseX));\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioWidthAdjustmentBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioWidthAdjustmentBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioWidthAdjustmentBar.vue?vue&type=template&id=6e0cbd07&\"\nimport script from \"./ElementStudioWidthAdjustmentBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioWidthAdjustmentBar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioWidthAdjustmentBar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-top-bar d-flex\"},[(_vm.showNewItemDialog)?_c('ElementStudioSaveNewDialog',{attrs:{\"save-locations\":_vm.saveLocations,\"item-type\":_vm.itemType},on:{\"input\":_vm.saveNewItem,\"close\":function($event){_vm.showNewItemDialog = false}}}):_vm._e(),_c('div',{staticClass:\"d-flex ml-4\"},[(!_vm.value)?[_c('Dropdown',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"text\":\"\",\"disabled\":_vm.itemsSlug.length === 0,\"data-test-id\":\"element-studio-open-element\"}},'v-btn',attrs,false),on),[_c('Icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"OpenFolderIcon\",\"size\":\"18\"}}),_vm._v(\" Open \"+_vm._s(_vm.itemType)+\" \")],1)]}}],null,false,4260211493)},[_c('v-list',{staticStyle:{\"max-height\":\"500px\",\"overflow\":\"auto\"}},[_c('v-text-field',{staticClass:\"breakdance-element-studio-searchbar\",staticStyle:{\"padding\":\"12px 16px\",\"margin-bottom\":\"24px\"},attrs:{\"label\":(\"Search \" + _vm.itemType + \"s\"),\"flat\":\"\",\"autofocus\":\"\"},model:{value:(_vm.availableItemsSearch),callback:function ($$v) {_vm.availableItemsSearch=$$v},expression:\"availableItemsSearch\"}}),_vm._l((_vm.availableItemsBySearch),function(slug,i){return _c('v-list-item',{key:i,attrs:{\"dense\":\"\"},on:{\"click\":function($event){return _vm.openItem(slug)}}},[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(slug)+\" \")])],1)})],2)],1),_c('v-btn',{staticClass:\"ml-2\",attrs:{\"text\":\"\",\"data-test-id\":\"element-studio-new-element-button\"},on:{\"click\":_vm.handleNewItem}},[_c('Icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"AddFileIcon\"}}),_vm._v(\" New \"+_vm._s(_vm.itemType)+\" \")],1)]:_vm._e(),(_vm.value)?[_c('div',{staticClass:\"d-flex align-center flex-wrap\"},[_c('div',{staticClass:\"mr-2 element-studio-element-name\"},[_vm._v(\" \"+_vm._s(_vm.itemName)+\" \")]),_c('Dropdown',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('div',[(_vm.value.directoryPath && _vm.canSaveOrIsAdvancedUser)?_c('NiceButton',_vm._b({staticClass:\"ma-2\",attrs:{\"loading\":_vm.saveInProgress,\"data-test-id\":\"element-studio-save-button\",\"title\":\"Save element\",\"left-icon\":\"SaveIcon\"},on:{\"contextmenu\":function($event){$event.preventDefault();return on.click($event)},\"click\":function($event){// https://github.com/vuetifyjs/vuetify/issues/9235#issuecomment-538504795\n                  // Use right click instead of left click to open the menu by @contextmenu.prevent\n                  // Adding comment here cuz I can't above\n                  _vm.saveOverwrite(false)}}},'NiceButton',attrs,false),[_vm._v(\" Save \")]):(!_vm.value.directoryPath || _vm.value.onlyForAdvancedUsers)?_c('NiceButton',_vm._g(_vm._b({staticClass:\"ma-2\",attrs:{\"loading\":_vm.saveInProgress,\"data-test-id\":\"element-studio-save-button\",\"title\":\"Save element\",\"left-icon\":\"SaveIcon\"},on:{\"contextmenu\":function($event){$event.preventDefault();return on.click($event)}}},'NiceButton',attrs,false),on),[_vm._v(\" Save \")]):_vm._e()],1)]}}],null,false,4107073749)},[_c('v-list',[(_vm.value.directoryPath)?[(_vm.showAdvancedFeatures)?_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":function($event){return _vm.saveOverwrite(true)}}},[_c('v-list-item-title',[_c('h3',[_vm._v(\"Save & Bypass Psalm...\")])])],1):(_vm.canSaveOrIsAdvancedUser)?_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":function($event){return _vm.saveOverwrite(true)}}},[_c('v-list-item-title',[_c('h3',[_vm._v(\"Save\")])])],1):_vm._e()]:_vm._e(),_c('v-list-item',{attrs:{\"dense\":\"\"}},[_c('v-list-item-title',[_c('h3',[_vm._v(\"Save A Copy In...\")])])],1),_vm._l((_vm.saveLocations),function(saveLocation,i){return [(_vm.showSaveLocation(saveLocation))?_c('v-list-item',{key:i,attrs:{\"dense\":\"\"},on:{\"click\":function($event){return _vm.saveAs(saveLocation)}}},[_c('v-list-item-title',[_vm._v(\" \"+_vm._s(saveLocation.label)+\"  \")])],1):_vm._e()]})],2)],1),(_vm.value && _vm.value.directoryPath)?_c('v-dialog',{attrs:{\"max-width\":\"360\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n                  var on = ref.on;\n                  var attrs = ref.attrs;\nreturn [_c('NiceButton',_vm._g(_vm._b({staticClass:\"mr-2\",attrs:{\"elevation\":\"0\",\"data-test-id\":\"element-studio-delete-button\",\"title\":\"Delete element\",\"left-icon\":\"TrashIcon\"}},'NiceButton',attrs,false),on),[_vm._v(\" Delete \")])]}}],null,false,2278590123),model:{value:(_vm.deleteDialog),callback:function ($$v) {_vm.deleteDialog=$$v},expression:\"deleteDialog\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"subtitle-1\"},[_vm._v(\" Delete \\\"\"+_vm._s(_vm.itemName)+\"\\\" \"+_vm._s(_vm.itemType)+\"? \")]),_c('v-card-text',[_vm._v(\"This action cannot be undone.\")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.deleteDialog = false}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"color\":\"red darken-1\",\"text\":\"\"},on:{\"click\":_vm.deleteItem}},[_vm._v(\" Delete \")])],1)],1)],1):_vm._e(),_c('v-btn',{attrs:{\"icon\":\"\",\"data-test-id\":\"element-studio-close-element\",\"title\":(\"Close \" + _vm.itemType)},on:{\"click\":_vm.closeItem}},[_c('Icon',{attrs:{\"icon\":\"CloseSquareIcon\"}})],1)],1)]:_vm._e()],2),_c('v-spacer'),(_vm.value)?_c('v-btn',{staticClass:\"mr-1 element-studio-switch-mode\",attrs:{\"icon\":\"\",\"title\":\"Switch mode\",\"data-test-id\":\"element-studio-topbar-switch-mode\"},on:{\"click\":_vm.switchMode}},[_c('Icon',{attrs:{\"icon\":\"TableColumnIcon\",\"size\":\"18\"}})],1):_vm._e(),_c('v-btn',{staticClass:\"mr-4 element-studio-close-panel\",attrs:{\"icon\":\"\",\"title\":\"Close Element Studio Panel\"},on:{\"click\":_vm.closePanel}},[_c('Icon',{attrs:{\"icon\":\"CloseCircleIcon\",\"size\":\"18\"}})],1),_c('v-dialog',{attrs:{\"value\":_vm.closeItemOrPanelDialog,\"persistent\":\"\",\"max-width\":\"400\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\" You have unsaved changes \")]),_c('v-card-text',[_vm._v(\" Please save your changes before closing this \"+_vm._s(_vm.itemType)+\", or discard your changes. \")]),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"red darken-1\",\"text\":\"\"},on:{\"click\":_vm.discardChanges}},[_vm._v(\" Discard my changes \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":function($event){_vm.closeItemOrPanelDialog = false}}},[_vm._v(\" I'll save them \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"value\":true,\"max-width\":\"400\",\"persistent\":\"\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\" Create new \"+_vm._s(_vm.itemType)+\" \")]),_c('v-card-text',{staticClass:\"pb-1\"},[_c('div',[_vm._v(\"Please enter the \"+_vm._s(_vm.itemType)+\"'s name.\")])]),_c('v-card-text',[_c('v-text-field',{attrs:{\"rules\":[_vm.nameIsValid],\"label\":\"Name\"},model:{value:(_vm.newItemName),callback:function ($$v) {_vm.newItemName=$$v},expression:\"newItemName\"}}),(!_vm.saveLocations.length)?[_c('b',[_vm._v(\"Error: no registered saving locations. Using the \"),_c('a',{attrs:{\"href\":\"https://github.com/soflyy/breakdance-custom-elements\"}},[_vm._v(\"Breakdance Custom Elements\")]),_vm._v(\" plugin will automatically register a saving location.\")])]:_c('v-radio-group',{attrs:{\"mandatory\":\"\"},scopedSlots:_vm._u([{key:\"label\",fn:function(){return [_vm._v(\" Select a saving location \")]},proxy:true}]),model:{value:(_vm.newItemSaveLocation),callback:function ($$v) {_vm.newItemSaveLocation=$$v},expression:\"newItemSaveLocation\"}},[_vm._l((_vm.saveLocations),function(saveLocation){return [(_vm.showSaveLocation(saveLocation))?_c('v-radio',{key:saveLocation.directoryPath,attrs:{\"label\":saveLocation.label,\"value\":saveLocation}}):_vm._e()]})],2)],2),_c('v-card-actions',[_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"green darken-1\",\"text\":\"\"},on:{\"click\":_vm.closeNewItemDialog}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\",\"disabled\":_vm.nameIsValid(_vm.newItemName) !== true || !_vm.newItemSaveLocation},on:{\"click\":_vm.saveNewItem}},[_vm._v(\" Create \")])],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport {\n  ElementStudioExpectedDataToLoad,\n  ElementStudioSaveLocation,\n  SaveLocationType\n} from \"@/types/element-studio\";\nimport { isValidItemName } from \"@/lib/elements/studio/misc\";\nimport { isBreakdanceDevelopmentEnvironment } from \"@/lib/dev/development-environment\";\nimport { configStore } from \"@/store/store-accessor\";\nimport Icon from \"@/components/UI/Icon.vue\";\n@Component({\n  components: { Icon }\n})\nexport default class ElementStudioSaveNewDialog extends Vue {\n  @Prop()\n  saveLocations!: ElementStudioExpectedDataToLoad[\"saveLocations\"];\n\n  @Prop()\n  itemType!: SaveLocationType;\n\n  newItemDialog = false;\n  newItemName = \"\";\n  newItemSaveLocation: ElementStudioSaveLocation | false = false;\n\n  nameIsValid(newName: string) {\n    return isValidItemName(newName);\n  }\n\n  get showAdvancedFeatures() {\n    return (\n      isBreakdanceDevelopmentEnvironment() ||\n      configStore.isElementStudioPowerUser\n    );\n  }\n\n  showSaveLocation(saveLocation: ElementStudioSaveLocation) {\n    if (saveLocation.type !== this.itemType) return false;\n\n    if (!saveLocation.onlyForAdvancedUsers) return true;\n\n    return this.showAdvancedFeatures;\n  }\n\n  saveNewItem() {\n    this.$emit(\"input\", {\n      ...this.newItemSaveLocation,\n      name: this.newItemName\n    });\n\n    this.closeNewItemDialog();\n  }\n\n  closeNewItemDialog() {\n    this.newItemDialog = false;\n    this.newItemName = \"\";\n    this.newItemSaveLocation = false;\n\n    this.$emit(\"close\");\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioSaveNewDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioSaveNewDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioSaveNewDialog.vue?vue&type=template&id=fcdec402&\"\nimport script from \"./ElementStudioSaveNewDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioSaveNewDialog.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VRadio } from 'vuetify/lib/components/VRadioGroup';\nimport { VRadioGroup } from 'vuetify/lib/components/VRadioGroup';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VRadio,VRadioGroup,VSpacer,VTextField})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport {\n  CurrentlyEditingItem,\n  ElementStudioExpectedDataToLoad,\n  ElementStudioSaveLocation,\n  ElementStudioSaveLocationWithName,\n  SaveLocationType\n} from \"@/types/element-studio\";\nimport { configStore, uiStore } from \"@/store/store\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\nimport { isBreakdanceDevelopmentEnvironment } from \"@/lib/dev/development-environment\";\nimport {\n  removeChangesNotSavedWarning,\n  warnIfExitingWithUnsavedChanges\n} from \"@/util/warn-unsaved-changes\";\nimport ElementStudioSaveNewDialog from \"@/components/ElementStudio/ElementStudioSaveNewDialog.vue\";\n\n@Component({\n  components: { ElementStudioSaveNewDialog, NiceButton, Icon, Dropdown }\n})\nexport default class ElementStudioTopBar extends Vue {\n  @Prop()\n  value!: CurrentlyEditingItem | false;\n\n  @Prop()\n  saveLocations!: ElementStudioExpectedDataToLoad[\"saveLocations\"];\n\n  @Prop()\n  hasUnsavedChanges!: boolean;\n\n  @Prop()\n  itemType!: SaveLocationType;\n\n  @Prop()\n  itemName!: string;\n\n  @Prop()\n  saveInProgress!: boolean;\n\n  @Prop()\n  itemsSlug!: string[];\n\n  deleteDialog = false;\n  availableItemsSearch = \"\";\n  closeItemOrPanelDialog: false | \"panel\" | \"item\" = false;\n  showNewItemDialog = false;\n\n  warnIfUnsavedFunction!: (e: Event) => void;\n\n  mounted() {\n    document.addEventListener(\n      \"breakdanceSaveButtonClicked\",\n      this.mainAppSaveButtonClicked\n    );\n\n    this.warnIfUnsavedFunction = warnIfExitingWithUnsavedChanges(\n      () => this.hasUnsavedChanges\n    );\n  }\n\n  destroyed() {\n    document.removeEventListener(\n      \"breakdanceSaveButtonClicked\",\n      this.mainAppSaveButtonClicked\n    );\n  }\n\n  beforeDestroy() {\n    removeChangesNotSavedWarning(this.warnIfUnsavedFunction);\n  }\n\n  handleNewItem() {\n    this.showNewItemDialog = true;\n  }\n\n  get availableItemsBySearch() {\n    return this.itemsSlug.filter(slug =>\n      slug\n        .toLowerCase()\n        .includes(this.availableItemsSearch.toLowerCase().replace(/ /g, \"\"))\n    );\n  }\n\n  discardChanges() {\n    if (this.closeItemOrPanelDialog === \"panel\") {\n      uiStore.toggleElementStudio();\n    }\n\n    this.closeItemOrPanelDialog = false;\n\n    this.$emit(\"discardChanges\");\n  }\n\n  mainAppSaveButtonClicked() {\n    if (this.hasUnsavedChanges) {\n      if (confirm(`Also save your Element Studio ${this.itemType}?`)) {\n        this.saveOverwrite(false);\n      }\n    }\n  }\n\n  openItem(itemSlug: string) {\n    this.availableItemsSearch = \"\";\n    this.$emit(\"open\", itemSlug);\n  }\n\n  closeItem() {\n    if (this.hasUnsavedChanges) {\n      this.closeItemOrPanelDialog = \"item\";\n    } else {\n      this.$emit(\"reset\");\n    }\n  }\n\n  closePanel() {\n    if (this.hasUnsavedChanges) {\n      this.closeItemOrPanelDialog = \"panel\";\n    } else {\n      uiStore.toggleElementStudio();\n    }\n  }\n\n  saveNewItem(newItem: ElementStudioSaveLocationWithName) {\n    this.$emit(\"saveNew\", newItem);\n  }\n\n  saveAs(saveLocation: ElementStudioSaveLocation) {\n    this.$emit(\"saveAs\", saveLocation);\n  }\n\n  saveOverwrite(bypassPsalm: boolean) {\n    if (\n      !this.value ||\n      !this.value.directoryPath ||\n      !this.canSaveOrIsAdvancedUser\n    ) {\n      return;\n    }\n\n    this.$emit(\"saveOverride\", bypassPsalm);\n  }\n\n  showSaveLocation(saveLocation: ElementStudioSaveLocation) {\n    if (saveLocation.type !== this.itemType) return false;\n\n    if (!saveLocation.onlyForAdvancedUsers) return true;\n\n    return this.showAdvancedFeatures;\n  }\n\n  get showAdvancedFeatures() {\n    return (\n      isBreakdanceDevelopmentEnvironment() ||\n      configStore.isElementStudioPowerUser\n    );\n  }\n\n  get canSaveOrIsAdvancedUser() {\n    return (\n      this.value &&\n      (!this.value.onlyForAdvancedUsers || this.showAdvancedFeatures)\n    );\n  }\n\n  deleteItem() {\n    this.deleteDialog = false;\n    this.$emit(\"delete\");\n  }\n\n  switchMode() {\n    this.$emit(\"switchMode\");\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioTopBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioTopBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioTopBar.vue?vue&type=template&id=7e08db06&\"\nimport script from \"./ElementStudioTopBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioTopBar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioTopBar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VList,VListItem,VListItemTitle,VSpacer,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n    'element-studio-wrapper': _vm.currentlyEditingElement\n  }},[_c('ElementStudioTopbar',{attrs:{\"save-locations\":_vm.value.saveLocations,\"items-slug\":_vm.elementsSlug,\"value\":_vm.currentlyEditingElement,\"itemType\":\"element\",\"item-name\":_vm.currentlyEditingElement ? _vm.currentlyEditingElement.element.name : '',\"hasUnsavedChanges\":_vm.hasUnsavedChanges,\"saveInProgress\":_vm.saveInProgress},on:{\"open\":_vm.openElement,\"switchMode\":_vm.switchMode,\"delete\":_vm.deleteElement,\"saveOverride\":_vm.saveOverride,\"saveAs\":_vm.saveAs,\"saveNew\":_vm.saveNewItem,\"discardChanges\":_vm.discardChanges,\"reset\":_vm.resetCurrentlyEditingElement}}),(_vm.currentlyEditingElement)?_c('div',{staticClass:\"element-studio-content\"},[(_vm.mode === 'split-vertical')?[_c('div',{staticClass:\"panel-50 panel-50-top-panel vscroll-scroll\"},[_c('ElementStudioTabsAndPanels',{attrs:{\"available\":_vm.value,\"element\":_vm.currentlyEditingElement.element},on:{\"input\":_vm.updateElement,\"update\":_vm.updateData}})],1),_c('div',{staticClass:\"panel-50 vscroll-scroll\"},[_c('ElementStudioTabsAndPanels',{attrs:{\"available\":_vm.value,\"element\":_vm.currentlyEditingElement.element,\"type\":\"secondary\"},on:{\"input\":_vm.updateElement,\"update\":_vm.updateData}})],1)]:(_vm.mode === 'split-horizontal')?[_c('div',{staticClass:\"d-flex flex-row\",staticStyle:{\"height\":\"100%\"}},[_c('div',{staticClass:\"panel-50-h panel-50-h-first-panel vscroll-scroll\"},[_c('ElementStudioTabsAndPanels',{attrs:{\"available\":_vm.value,\"element\":_vm.currentlyEditingElement.element},on:{\"input\":_vm.updateElement,\"update\":_vm.updateData}})],1),_c('div',{staticClass:\"panel-50-h vscroll-scroll\"},[_c('ElementStudioTabsAndPanels',{attrs:{\"available\":_vm.value,\"element\":_vm.currentlyEditingElement.element,\"type\":\"secondary\"},on:{\"input\":_vm.updateElement,\"update\":_vm.updateData}})],1)])]:[_c('div',{staticClass:\"panel-100 vscroll-scroll\"},[_c('ElementStudioTabsAndPanels',{attrs:{\"available\":_vm.value,\"element\":_vm.currentlyEditingElement.element},on:{\"input\":_vm.updateElement,\"update\":_vm.updateData}})],1)]],2):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-tabs-panel d-flex flex-column\",staticStyle:{\"height\":\"100%\"}},[(_vm.showNewMacroDialog)?_c('ElementStudioSaveNewDialog',{attrs:{\"save-locations\":_vm.available.saveLocations,\"item-type\":'macro'},on:{\"input\":_vm.saveNewMacro,\"close\":function($event){_vm.showNewMacroDialog = false}}}):_vm._e(),_c('Dropdown',{attrs:{\"value\":!!_vm.contextMenu,\"absolute\":true,\"position-x\":_vm.contextMenu.x,\"position-y\":_vm.contextMenu.y,\"transition\":false},on:{\"input\":function($event){_vm.contextMenu = false}},scopedSlots:_vm._u([{key:\"activator\",fn:function(){return [_vm._t(\"default\")]},proxy:true}],null,true)},[_c('v-list',{attrs:{\"dense\":\"\"}},[_c('v-list-item',{attrs:{\"link\":true},nativeOn:{\"click\":function($event){return _vm.handleCreateMacro($event)}}},[_c('v-list-item-title',[_vm._v(\"Make into a macro\")])],1)],1)],1),_c('div',{staticClass:\"element-studio-tabs\"},[_c('v-tabs',{attrs:{\"value\":_vm.tab},on:{\"change\":_vm.updateTab}},[_c('v-tab',{attrs:{\"href\":\"#content\",\"title\":\"Content\",\"data-test-id\":\"element-studio-content-tab\"}},[_c('Icon',{attrs:{\"icon\":\"PenIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#design\",\"title\":\"Design\",\"data-test-id\":\"element-studio-design-tab\"}},[_c('Icon',{attrs:{\"icon\":\"PaletteIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#html\",\"title\":\"HTML\",\"data-test-id\":\"element-studio-html-tab\"}},[_c('Icon',{attrs:{\"icon\":\"CodeIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#css\",\"title\":\"CSS\",\"data-test-id\":\"element-studio-css-tab\"}},[_c('Icon',{attrs:{\"icon\":\"Css3Icon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#defaultCss\",\"title\":\"Default CSS\",\"data-test-id\":\"element-studio-default-css-tab\"}},[_c('Icon',{attrs:{\"icon\":\"CssIcon\",\"size\":\"16\"}})],1),(_vm.nestingRuleTypeIsContainer)?_c('v-tab',{attrs:{\"href\":\"#default-elements\",\"title\":\"Default Elements\",\"data-test-id\":\"element-studio-default-elements\"}},[_c('Icon',{attrs:{\"icon\":\"BoxIcon\",\"size\":\"16\"}})],1):_vm._e(),_c('v-tab',{attrs:{\"href\":\"#attributes\",\"title\":\"HTML Attributes\",\"data-test-id\":\"element-studio-attributes\"}},[_c('Icon',{attrs:{\"icon\":\"AttributesIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#prop-paths\",\"title\":\"Property Paths\",\"data-test-id\":\"element-studio-property-paths\"}},[_c('Icon',{attrs:{\"icon\":\"SlidersSimpleIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#dependencies\",\"title\":\"Dependencies\",\"data-test-id\":\"element-studio-dependencies-tab\"}},[_c('Icon',{attrs:{\"icon\":\"DownloadFileIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#actions\",\"title\":\"Actions\",\"data-test-id\":\"element-studio-actions-tab\"}},[_c('Icon',{attrs:{\"icon\":\"ActionsIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#settings\",\"title\":\"Settings\",\"data-test-id\":\"element-studio-settings-tab\"}},[_c('Icon',{attrs:{\"icon\":\"CogsIcon\",\"size\":\"16\"}})],1)],1)],1),_c('div',{staticClass:\"element-studio-tabs-items vscroll-scroll\"},[(_vm.tab === 'settings')?_c('div',[_c('v-list-item',{attrs:{\"two-line\":\"\"}},[_c('v-list-item-content',[_c('v-list-item-title',{staticClass:\"font-weight-bold\"},[_vm._v(\"Slug\")]),_c('v-list-item-subtitle',[_vm._v(\" \"+_vm._s(_vm.element.slug))])],1)],1),_c('div',{staticClass:\"px-4 pt-2\"},[_c('div',{staticClass:\"d-flex align-center\"},[_c('v-text-field',{attrs:{\"label\":\"Name\",\"value\":_vm.element.name,\"data-test-id\":\"element-studio-name-input\",\"rules\":[_vm.isValidItemName]},on:{\"input\":_vm.updateElementName}}),(_vm.nameHasChanged)?_c('v-btn',{staticClass:\"ml-3\",attrs:{\"outlined\":\"\",\"small\":\"\"},on:{\"click\":_vm.updateSlug}},[_vm._v(\" Update slug \")]):_vm._e()],1),_c('v-text-field',{staticClass:\"mb-4\",attrs:{\"label\":\"Class Name\",\"placeholder\":\"the_best_class\",\"value\":_vm.element.className || '',\"data-test-id\":\"element-studio-classname-input\",\"persistent-hint\":\"\",\"hint\":\"Updating the Class Name will make the previous class obsolete. You'll need to update your CSS\",\"rules\":[_vm.htmlClassNameRule]},on:{\"input\":_vm.updateClassName}}),_c('v-select',{attrs:{\"items\":_vm.elementCategories,\"label\":\"Category\",\"value\":_vm.cleanElement.category},on:{\"input\":function($event){return _vm.updateElementValue('category', $event)}}}),_c('div',{staticClass:\"breakdance-element-studio-element-badges\"},[_c('v-autocomplete',{attrs:{\"clearable\":\"\",\"items\":_vm.badgeColors,\"value\":_vm.cleanElement.badge ? _vm.cleanElement.badge.backgroundColor : false,\"label\":\"Badge Background\"},on:{\"input\":function($event){return _vm.updateElementValue('badge.backgroundColor', $event)}}}),_c('v-autocomplete',{attrs:{\"clearable\":\"\",\"items\":_vm.badgeColors,\"value\":_vm.cleanElement.badge ? _vm.cleanElement.badge.textColor : false,\"label\":\"Badge Text\"},on:{\"input\":function($event){return _vm.updateElementValue('badge.textColor', $event)}}}),_c('v-text-field',{attrs:{\"label\":\"Badge Label\",\"value\":_vm.cleanElement.badge ? _vm.cleanElement.badge.label : false},on:{\"input\":function($event){return _vm.updateElementValue('badge.label', $event)}}}),_c('v-btn',{attrs:{\"outlined\":\"\",\"small\":\"\"},on:{\"click\":function($event){return _vm.updateElementValue('badge', false)}}},[_vm._v(\"clear badge\")])],1),_c('h3',[_vm._v(\"HTML Tag options\")]),_c('div',{staticClass:\"breakdance-element-studio__html-tags\"},[_c('v-autocomplete',{attrs:{\"label\":\"Default Tag\",\"value\":_vm.cleanElement.htmlTag.default,\"hint\":\"Tag of the root element\",\"clearable\":\"\",\"items\":_vm.defaultTag},on:{\"input\":function($event){return _vm.updateElementValue('htmlTag.default', $event)}}}),_c('v-autocomplete',{attrs:{\"label\":\"Tag Options\",\"value\":_vm.cleanElement.htmlTag.options,\"items\":_vm.htmlTags,\"multiple\":true,\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updateElementValue('htmlTag.options', $event)}}}),_c('v-autocomplete',{attrs:{\"label\":\"Get the Tag from a Control's path\",\"value\":_vm.cleanElement.htmlTag.pathToControl || '',\"items\":_vm.pathsToAllControls,\"hint\":\"This will disable the 'Settings -> Html -> Tag' control\",\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updateElementValue('htmlTag.pathToControl', $event)}}})],1),_c('h3',[_vm._v(\"UI Icon\")]),_c('div',{staticClass:\"mb-5 d-flex align-center\"},[(_vm.showAdvancedFeatures)?[_c('ToggleInput',{attrs:{\"value\":_vm.useLocalIcon},on:{\"input\":_vm.updateUseLocalIcon}}),_c('span',{staticClass:\"mr-4\"},[_vm._v(\"Local\")])]:_vm._e(),_c('div',{staticClass:\"d-flex align-center\"},[_c('ElementIcon',{staticClass:\"mr-2\",attrs:{\"icon\":_vm.cleanElement.uiIcon || 'SquareIcon',\"size\":\"16\"}}),(_vm.useLocalIcon && _vm.showAdvancedFeatures)?_c('ElementStudioIconsAutocomplete',{attrs:{\"value\":_vm.cleanElement.uiIcon || 'SquareIcon'},on:{\"input\":_vm.updateUiIcon}}):_c('v-text-field',{attrs:{\"label\":\"SVG code for icon\",\"value\":_vm.cleanElement.uiIcon,\"data-test-id\":\"element-studio-ui-icon-input\"},on:{\"input\":_vm.updateUiIcon}})],1)],2),_c('v-text-field',{attrs:{\"label\":\"UI Order (number)\",\"value\":_vm.cleanElement.order},on:{\"input\":_vm.updateUiOrder}}),_c('h3',[_vm._v(\"Nesting rules\")]),_c('v-autocomplete',{attrs:{\"items\":_vm.containerRestrictedElements,\"label\":\"Element to be a direct child of\",\"hint\":\"This element will only be allowed as a direct child of the selected elements\",\"persistent-hint\":\"\",\"value\":_vm.cleanElement.nestingRule.restrictedToBeADirectChildOf,\"multiple\":\"\"},on:{\"input\":function($event){_vm.updateElementValue(\n              'nestingRule.restrictedToBeADirectChildOf',\n              Array.isArray($event) && $event.length === 0\n                ? undefined\n                : $event\n            )}}}),_c('v-autocomplete',{staticClass:\"mt-4\",attrs:{\"items\":_vm.elementsThisElementIsAllowedToBeInsideOf,\"label\":\"Element to be a descendant of\",\"hint\":\"This element will only be allowed inside the selected elements\",\"persistent-hint\":\"\",\"value\":_vm.cleanElement.nestingRule.restrictedToBeADescendantOf,\"multiple\":\"\"},on:{\"input\":function($event){_vm.updateElementValue(\n              'nestingRule.restrictedToBeADescendantOf',\n              Array.isArray($event) && $event.length === 0\n                ? undefined\n                : $event\n            )}}}),_c('v-autocomplete',{staticClass:\"mt-4\",attrs:{\"items\":_vm.allElementSlugs,\"label\":\"Disallow if others are present\",\"hint\":\"This element will not be allowed on a page if one of the following elements is already present on the page\",\"persistent-hint\":\"\",\"value\":_vm.cleanElement.nestingRule.notAllowedWhenNodeTypeIsPresentInTree,\"multiple\":\"\"},on:{\"input\":function($event){_vm.updateElementValue(\n              'nestingRule.notAllowedWhenNodeTypeIsPresentInTree',\n              Array.isArray($event) && $event.length === 0\n                ? undefined\n                : $event\n            )}}}),_c('h3',[_vm._v(\"Misc options\")]),_c('v-select',{attrs:{\"items\":_vm.elementType,\"label\":\"Element Type\",\"value\":_vm.cleanElement.nestingRule.type,\"hint\":\"Only change to create complex elements\",\"persistent-hint\":\"\"},on:{\"input\":function($event){return _vm.updateElementValue('nestingRule.type', $event)}}}),_c('v-combobox',{staticClass:\"mt-3\",attrs:{\"label\":\"Required plugins\",\"items\":_vm.requiredPluginItems,\"hide-details\":\"\",\"value\":_vm.cleanElement.settings ? _vm.cleanElement.settings.requiredPlugins : [],\"multiple\":true},on:{\"input\":function($event){return _vm.updateElementValue(\n              'settings.requiredPlugins',\n              $event && $event.length ? $event : undefined\n            )}}}),_c('v-checkbox',{attrs:{\"label\":\"Is Pro Only\",\"input-value\":_vm.cleanElement.settings && _vm.cleanElement.settings.proOnly,\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.updateElementValue('settings.proOnly', !!$event)}}}),_c('v-checkbox',{attrs:{\"label\":\"Element depends on global scripts to work\",\"input-value\":_vm.cleanElement.settings &&\n              _vm.cleanElement.settings.dependsOnGlobalScripts,\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.updateElementValue('settings.dependsOnGlobalScripts', !!$event)}}}),_c('v-checkbox',{attrs:{\"label\":\"Experimental Element?\",\"input-value\":_vm.cleanElement.experimental,\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.updateElementValue('experimental', !!$event)}}}),_c('v-checkbox',{attrs:{\"label\":\"Bypass Pointer Events\",\"hint\":\"Use this if clicking on the element doesn't active it, but instead clicks something inside of it\",\"persistent-hint\":\"\",\"input-value\":_vm.cleanElement.settings && _vm.cleanElement.settings.bypassPointerEvents},on:{\"change\":function($event){return _vm.updateElementValue('settings.bypassPointerEvents', !!$event)}}}),_c('v-checkbox',{attrs:{\"label\":\"Share props with SSR children\",\"hint\":\"Use this if you need to access the properties data from this element in a child SSR element.\",\"persistent-hint\":\"\",\"input-value\":_vm.cleanElement.settings &&\n              _vm.cleanElement.settings.sharePropsWithSSRChildren},on:{\"change\":function($event){return _vm.updateElementValue('settings.shareStateWithChildSSR', !!$event)}}}),_c('div',{staticClass:\"pt-4\"},[_c('h3',[_vm._v(\"Add panel rules\")]),_c('v-checkbox',{attrs:{\"label\":\"Always hide element from the Add Panel\",\"input-value\":_vm.cleanElement.addPanelRules &&\n                _vm.cleanElement.addPanelRules.alwaysHide,\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.updateElementValue('addPanelRules.alwaysHide', !!$event)}}}),(\n              !_vm.cleanElement.addPanelRules ||\n                !_vm.cleanElement.addPanelRules.alwaysHide\n            )?[_c('v-combobox',{attrs:{\"label\":\"Allowed post type\",\"items\":['breakdance_template'],\"hide-details\":\"\",\"value\":_vm.cleanElement.addPanelRules\n                  ? _vm.cleanElement.addPanelRules.allowedPostTypes\n                  : [],\"multiple\":true},on:{\"input\":function($event){return _vm.updateElementValue(\n                  'addPanelRules.allowedPostTypes',\n                  $event && $event.length ? $event : undefined\n                )}}})]:_vm._e()],2),_c('ElementStudioDefaultProperties',{staticClass:\"my-8\",attrs:{\"elementSlug\":_vm.cleanElement.slug,\"value\":_vm.cleanElement.defaultProperties},on:{\"input\":function($event){return _vm.updateElementValue('defaultProperties', $event)}}})],1)],1):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tab === 'design'),expression:\"tab === 'design'\"}]},[_c('ElementStudioControls',{attrs:{\"value\":_vm.cleanElement.controls,\"section\":\"design\"}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tab === 'content'),expression:\"tab === 'content'\"}]},[_c('ElementStudioControls',{attrs:{\"value\":_vm.cleanElement.controls,\"section\":\"content\"}})],1),(_vm.tab === 'html')?_c('div',[_c('CodeInput',{attrs:{\"value\":_vm.cleanElement.template,\"tags\":_vm.tags,\"twig-variables\":_vm.pathsToAllControls,\"language\":\"html\"},on:{\"input\":function($event){return _vm.updateElementValue('template', $event || '')}}})],1):_vm._e(),(_vm.tab === 'css')?_c('div',[_c('CodeInput',{attrs:{\"value\":_vm.cleanElement.cssTemplate,\"tags\":_vm.tags,\"twig-variables\":_vm.pathsToAllControls,\"language\":\"css\"},on:{\"input\":function($event){return _vm.updateElementValue('cssTemplate', $event || '')}}})],1):_vm._e(),(_vm.tab === 'defaultCss')?_c('div',[_c('div',{staticClass:\"px-4 py-2\"},[_vm._v(\" Element's class: \"),_c('span',{staticClass:\"font-weight-bold mr-2\"},[_vm._v(_vm._s(_vm.elementClass))]),_c('CopyButton',{attrs:{\"value-to-copy\":'.breakdance ' + _vm.elementClass}})],1),_c('CodeInput',{attrs:{\"value\":_vm.cleanElement.defaultCss,\"language\":\"css\"},on:{\"input\":function($event){return _vm.updateElementValue('defaultCss', $event || '')}}})],1):_vm._e(),(_vm.nestingRuleTypeIsContainer)?_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tab === 'default-elements'),expression:\"tab === 'default-elements'\"}],staticClass:\"studio-default-elements-panel\"},[_c('ElementStudioDefaultElements',{attrs:{\"value\":_vm.cleanElement.defaultChildren,\"parent-element-slug\":_vm.cleanElement.slug},on:{\"input\":function($event){return _vm.updateElementValue('defaultChildren', $event ? $event : '')}}})],1):_vm._e(),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tab === 'attributes'),expression:\"tab === 'attributes'\"}],staticClass:\"studio-dependencies-panel\"},[_vm._v(\" Attributes are added to the container of the element \"),_c('ElementStudioAttributes',{attrs:{\"value\":_vm.cleanElement.attributes},on:{\"input\":function($event){return _vm.updateElementValue('attributes', $event)}}}),_c('br'),_vm._v(\" Classes are added to the container of the element \"),_c('ElementStudioAdditionalClasses',{attrs:{\"value\":_vm.cleanElement.additionalClasses || []},on:{\"input\":function($event){return _vm.updateElementValue('additionalClasses', $event)}}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tab === 'prop-paths'),expression:\"tab === 'prop-paths'\"}]},[_c('ElementStudioManagePropertyPaths',{attrs:{\"value\":_vm.cleanElement}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tab === 'dependencies'),expression:\"tab === 'dependencies'\"}],staticClass:\"studio-dependencies-panel\"},[_c('ElementStudioDependencies',{attrs:{\"value\":_vm.cleanElement.dependencies}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.tab === 'actions'),expression:\"tab === 'actions'\"}]},[_c('ElementStudioAction',{attrs:{\"action-key\":\"onPropertyChange\",\"value\":_vm.cleanElement.actions,\"accordion-state\":_vm.actionsAccordionState},on:{\"toggle\":_vm.toggleActionAccordion},scopedSlots:_vm._u([{key:\"action-description\",fn:function(){return [_vm._v(\" Runs after one of this element's property changes (a value in a control) \")]},proxy:true},{key:\"dependency-description-title\",fn:function(){return [_vm._v(\" Based on the \"),_c('b',[_vm._v(\"control's path\")]),_vm._v(\". \")]},proxy:true},{key:\"dependency-description\",fn:function(){return [_c('code',[_vm._v(\"design.background.color\")]),_vm._v(\": action will only run for that path. \"),_c('code',[_vm._v(\"design.background.*\")]),_vm._v(\": action will run for any control below 'background' \")]},proxy:true}])}),_c('ElementStudioAction',{attrs:{\"action-key\":\"onMovedElement\",\"value\":_vm.cleanElement.actions,\"accordion-state\":_vm.actionsAccordionState},on:{\"toggle\":_vm.toggleActionAccordion},scopedSlots:_vm._u([{key:\"action-description\",fn:function(){return [_vm._v(\" Runs after this element is moved in the canvas \")]},proxy:true},{key:\"dependency-description-title\",fn:function(){return [_vm._v(\" Based on the \"),_c('b',[_vm._v(\"element's and moved-on element's type \")]),_vm._v(\". \")]},proxy:true},{key:\"dependency-description\",fn:function(){return [_c('code',[_vm._v(\"EssentialElements\\\\Text\")]),_vm._v(\": action will only run if element being moved is of that type, \"),_c('b',[_vm._v(\"OR\")]),_vm._v(\" if the element was moved onto an element with that type. \")]},proxy:true}])}),_c('ElementStudioAction',{attrs:{\"action-key\":\"onAfterDeletedElement\",\"value\":_vm.cleanElement.actions,\"accordion-state\":_vm.actionsAccordionState},on:{\"toggle\":_vm.toggleActionAccordion},scopedSlots:_vm._u([{key:\"action-description\",fn:function(){return [_vm._v(\" Runs AFTER this element was deleted \"),_c('br')]},proxy:true},{key:\"dependency-description-title\",fn:function(){return [_vm._v(\" Based on the \"),_c('b',[_vm._v(\"deleted element's parent type\")]),_vm._v(\". \")]},proxy:true},{key:\"dependency-description\",fn:function(){return [_c('code',[_vm._v(\"EssentialElements\\\\Section\")]),_vm._v(\": action will only run if the deleted element was inside a Section element. \")]},proxy:true}])}),_c('ElementStudioAction',{attrs:{\"action-key\":\"onBeforeDeletingElement\",\"value\":_vm.cleanElement.actions,\"accordion-state\":_vm.actionsAccordionState,\"with-dependencies\":false},on:{\"toggle\":_vm.toggleActionAccordion},scopedSlots:_vm._u([{key:\"action-description\",fn:function(){return [_vm._v(\" Runs BEFORE this element is deleted \")]},proxy:true}])}),_c('ElementStudioAction',{attrs:{\"action-key\":\"onMountedElement\",\"value\":_vm.cleanElement.actions,\"accordion-state\":_vm.actionsAccordionState,\"with-dependencies\":false},on:{\"toggle\":_vm.toggleActionAccordion},scopedSlots:_vm._u([{key:\"action-description\",fn:function(){return [_vm._v(\" Runs after this element renders in the canvas \")]},proxy:true}])}),_c('ElementStudioAction',{attrs:{\"action-key\":\"onCreatedElement\",\"value\":_vm.cleanElement.actions,\"accordion-state\":_vm.actionsAccordionState,\"with-dependencies\":false},on:{\"toggle\":_vm.toggleActionAccordion},scopedSlots:_vm._u([{key:\"action-description\",fn:function(){return [_vm._v(\" Runs after adding this element to the canvas for the first time \")]},proxy:true}])}),_c('ElementStudioAction',{attrs:{\"action-key\":\"onActivatedElement\",\"value\":_vm.cleanElement.actions,\"accordion-state\":_vm.actionsAccordionState,\"with-dependencies\":false},on:{\"toggle\":_vm.toggleActionAccordion},scopedSlots:_vm._u([{key:\"action-description\",fn:function(){return [_vm._v(\" Runs after the element is activated (selected) \")]},proxy:true}])})],1)])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('draggable',{attrs:{\"value\":_vm.value[this.sectionName]},on:{\"input\":_vm.handleDrag}},_vm._l((_vm.value[this.sectionName]),function(control,i){return _c('ControlSectionOrControl',{key:control.slug,attrs:{\"value\":control,\"index\":i,\"path\":(_vm.sectionName + \"[\" + i + \"]\"),\"parentPath\":_vm.sectionName,\"twigParentPath\":_vm.section}})}),1),_c('div',{staticClass:\"text-center py-4\"},[_c('v-btn',{attrs:{\"tile\":\"\",\"text\":\"\",\"data-test-id\":\"element-studio-add-control-section\"},on:{\"click\":_vm.addSection}},[_vm._v(\" Add Control Section \")]),_c('v-btn',{attrs:{\"tile\":\"\",\"text\":\"\"},on:{\"click\":_vm.addPreset}},[_vm._v(\" Add Preset \")]),(_vm.canPaste)?_c('v-btn',{attrs:{\"tile\":\"\",\"text\":\"\"},on:{\"click\":_vm.handlePaste}},[_vm._v(\" Paste \")]):_vm._e()],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.showNewPresetDialog)?_c('ElementStudioSaveNewDialog',{attrs:{\"item-type\":'preset',\"save-locations\":_vm.elementStudioData.saveLocations},on:{\"input\":_vm.saveNewPreset,\"close\":function($event){_vm.showNewPresetDialog = false}}}):_vm._e(),_c('div',{class:_vm.classList},[_c('Accordion',{attrs:{\"expanded\":_vm.accordionState[_vm.index],\"disableToggle\":_vm.isPresetSection},on:{\"toggle\":function($event){return _vm.toggleAccordion(_vm.index)}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"d-flex flex-row justify-space-between align-center\",attrs:{\"data-test-id\":\"element-studio-control-accordion\"}},[(_vm.value.options.type !== 'section' || _vm.isPresetSection)?_c('Dropdown',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false,\"max-height\":\"450\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({staticClass:\"mr-2\",attrs:{\"color\":\"black\",\"small\":\"\",\"icon\":\"\",\"title\":\"Open Twig Code Helper\"}},'v-btn',attrs,false),on),[_c('Icon',{attrs:{\"icon\":\"BracketsIcon\"}})],1)]}}],null,false,1714806599),model:{value:(_vm.codeHelpOpen),callback:function ($$v) {_vm.codeHelpOpen=$$v},expression:\"codeHelpOpen\"}},[_c('v-card',{staticClass:\"element-studio-poppy-card\",staticStyle:{\"width\":\"400px\",\"height\":\"300px\"}},[_c('TwigCodeHelper',{key:_vm.keyToRerenderCodeHelp,attrs:{\"control\":_vm.value,\"twigParentPath\":_vm.twigParentPath,\"inRepeater\":_vm.isParentARepeater},on:{\"close\":function($event){_vm.codeHelpOpen = false}}})],1)],1):_vm._e(),_c('input',{staticClass:\"element-studio-control-label-input\",attrs:{\"placeholder\":\"Label\"},domProps:{\"value\":_vm.value.label},on:{\"click\":function($event){$event.stopPropagation();},\"focusout\":_vm.updateLabelAndSlugOnFocusOut}}),(_vm.isPresetSection)?_c('v-autocomplete',{staticClass:\"element-studio-control-type-dropdown mr-2\",attrs:{\"value\":_vm.presetSectionSlug,\"items\":_vm.availablePresetSections,\"dense\":\"\",\"hide-details\":\"\",\"data-test-id\":\"element-studio-control-type-dropdown\"},on:{\"input\":_vm.updatePresetSectionSlug}}):_vm._e(),(_vm.value.options.type !== 'section')?_c('v-autocomplete',{staticClass:\"element-studio-control-type-dropdown mr-2\",attrs:{\"value\":_vm.value.options.type,\"items\":_vm.controlTypes,\"dense\":\"\",\"hide-details\":\"\",\"data-test-id\":\"element-studio-control-type-dropdown\"},on:{\"input\":_vm.updateControlType}}):_vm._e(),(!_vm.isSection)?_c('Dropdown',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false,\"max-height\":\"450\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nvar attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"color\":\"black\",\"small\":\"\",\"icon\":\"\",\"title\":\"Open options\",\"data-test-id\":\"element-studio-control-open-options\"}},'v-btn',attrs,false),on),[_c('Icon',{attrs:{\"icon\":\"SlidersIcon\",\"size\":\"12\"}})],1)]}}],null,false,1074570844)},[_c('v-card',{staticClass:\"element-studio-poppy-card\",attrs:{\"data-test-id\":\"element-studio-control-options-card\"}},[_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Make this control's value available in all breakpoints\",\"input-value\":!!_vm.shouldControlValueBeAddedInAllBreakpoints,\"hide-details\":\"\"},on:{\"change\":_vm.updatePropertyPathsToWhitelistInFlatProps}}),(_vm.autofocusSupported)?_c('v-switch',{attrs:{\"label\":\"Autofocus\",\"value\":_vm.value.options.autofocus},on:{\"change\":function($event){return _vm.updateOptions($event, 'autofocus')}}}):_vm._e(),(_vm.hasSsr)?_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Make the element SSR when this control's value changes\",\"input-value\":!!_vm.shouldControlValueCauseSsr,\"hide-details\":\"\"},on:{\"change\":_vm.updatePropertyPathsToSsrElementWhenValueChanges}}):_vm._e(),(\n                  _vm.value.options.type === 'alert_box' ||\n                    _vm.value.options.type === 'pro_only_alert_box'\n                )?[_c('ElementStudioAlertBoxOptions',{attrs:{\"value\":_vm.value.options.alertBoxOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'alertBoxOptions')}}})]:_vm._e(),(_vm.value.options.type === 'date_picker')?[_c('h3',{staticClass:\"mb-3\"},[_vm._v(\"Date picker options\")]),_c('DropdownInput',{attrs:{\"value\":_vm.value.options.datePickerOptions\n                      ? Object.keys(_vm.value.options.datePickerOptions)[0]\n                      : '',\"items\":_vm.datePickerOptions,\"clearable\":\"\"},on:{\"input\":function($event){\n                      var _obj;\nreturn _vm.updateOptions(\n                      ( _obj = {}, _obj[$event] = $event, _obj ),\n                      'datePickerOptions'\n                    )}}})]:_vm._e(),(\n                  _vm.value.options.type === 'multiselect' ||\n                    _vm.value.options.type === 'dropdown' ||\n                    _vm.value.options.type === 'button_bar'\n                )?[_c('ElementStudioDropdownOptions',{attrs:{\"path\":_vm.path,\"control\":_vm.value,\"value\":_vm.value.options.dropdownOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'dropdownOptions')},\"updateDropdownItems\":_vm.updateDropdownItems,\"updateDropdownItem\":_vm.updateDropdownItem}})]:_vm._e(),(_vm.value.options.type === 'button_bar')?[_c('v-switch',{attrs:{\"label\":\"Big Button Bar\",\"value\":_vm.value.options.buttonBarOptions &&\n                      _vm.value.options.buttonBarOptions.size === 'big' &&\n                      _vm.value.options.buttonBarOptions.layout === 'default',\"hide-details\":\"\"},on:{\"change\":_vm.updateButtonBarOptionsSize}}),_c('v-switch',{attrs:{\"label\":\"Multiline Bar\",\"value\":_vm.value.options.buttonBarOptions &&\n                      _vm.value.options.buttonBarOptions.layout === 'multiline' &&\n                      _vm.value.options.buttonBarOptions.size === 'small',\"hide-details\":\"\"},on:{\"change\":_vm.updateButtonBarOptionsLayout}})]:_vm._e(),(_vm.value.options.type === 'trigger_action_button')?[_c('h3',{staticClass:\"mb-3\"},[_vm._v(\"Trigger action button options\")]),_c('TextInput',{staticClass:\"mr-3 d-inline-block\",attrs:{\"label\":\"Button Text\",\"value\":_vm.value.options.triggerActionsButtonOptions &&\n                      _vm.value.options.triggerActionsButtonOptions.text},on:{\"input\":function($event){return _vm.updateOptions(\n                      Object.assign({}, _vm.value.options.triggerActionsButtonOptions,\n                        {text: $event || ''}),\n                      'triggerActionsButtonOptions'\n                    )}}}),_c('ElementStudioIconsAutocomplete',{staticClass:\"d-inline-block\",attrs:{\"value\":_vm.value.options.triggerActionsButtonOptions &&\n                      _vm.value.options.triggerActionsButtonOptions.icon},on:{\"input\":function($event){return _vm.updateOptions(\n                      Object.assign({}, _vm.value.options.triggerActionsButtonOptions,\n                        {icon: $event}),\n                      'triggerActionsButtonOptions'\n                    )}}})]:_vm._e(),(_vm.isRepeater)?[_c('ElementStudioRepeaterOptions',{attrs:{\"control\":_vm.value,\"value\":_vm.value.options.repeaterOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'repeaterOptions')}}})]:_vm._e(),(_vm.value.options.type === 'unit')?[_c('ElementStudioUnitOptions',{attrs:{\"value\":_vm.value.options.unitOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'unitOptions')}}})]:_vm._e(),(_vm.value.options.type === 'wpmedia')?[_c('ElementStudioMediaOptions',{attrs:{\"value\":_vm.value.options.mediaOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'mediaOptions')}}})]:_vm._e(),(_vm.value.options.type === 'video')?[_c('ElementStudioVideoOptions',{attrs:{\"value\":_vm.value.options.videoOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'videoOptions')}}})]:_vm._e(),(\n                  _vm.value.options.type === 'unit' ||\n                    _vm.value.options.type === 'number' ||\n                    _vm.value.options.type === 'slider'\n                )?[_c('ElementStudioRangeOptions',{attrs:{\"value\":_vm.value.options.rangeOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'rangeOptions')}}})]:_vm._e(),(_vm.value.options.type === 'shadow')?[_vm._v(\" Shadow Type \"),_c('v-select',{staticClass:\"pt-3\",attrs:{\"dense\":\"\",\"items\":_vm.shadowTypes,\"value\":(_vm.value.options.shadowOptions &&\n                      _vm.value.options.shadowOptions.type) ||\n                      'box'},on:{\"input\":_vm.updateShadowType}})]:_vm._e(),(_vm.value.options.type === 'breakpoint_dropdown')?[_c('ElementStudioBreakpointOptions',{attrs:{\"value\":_vm.value.options.breakpointOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'breakpointOptions')}}})]:_vm._e(),(_vm.value.options.type === 'text')?[_c('v-switch',{attrs:{\"label\":\"Multiline\",\"value\":_vm.value.options.textOptions &&\n                      _vm.value.options.textOptions.multiline,\"hide-details\":\"\"},on:{\"change\":_vm.updateTextOptionsMultiline}})]:_vm._e(),(_vm.value.options.type === 'focus_point')?[_c('ElementStudioFocusPointOptions',{attrs:{\"value\":_vm.value.options.focusPointOptions,\"control\":_vm.value},on:{\"input\":function($event){return _vm.updateOptions($event, 'focusPointOptions')}}})]:_vm._e(),(_vm.value.options.type === 'media_size_dropdown')?[_c('ElementStudioMediaSizeOptions',{attrs:{\"value\":_vm.value.options.mediaSizeOptions,\"control\":_vm.value},on:{\"input\":function($event){return _vm.updateOptions($event, 'mediaSizeOptions')}}})]:_vm._e(),(_vm.value.options.type === 'post_chooser')?[_c('ElementStudioPostChooserOptions',{attrs:{\"value\":_vm.value.options.postChooserOptions,\"control\":_vm.value},on:{\"input\":function($event){return _vm.updateOptions($event, 'postChooserOptions')}}})]:_vm._e(),(_vm.value.options.type === 'icon')?[_c('ElementStudioIconOptions',{attrs:{\"value\":_vm.value.options.iconOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'iconOptions')}}})]:_vm._e(),(_vm.value.options.type === 'color')?[_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Color Type\")]),_c('DropdownInput',{attrs:{\"value\":(_vm.value.options.colorOptions &&\n                      _vm.value.options.colorOptions.type) ||\n                      'solidOnly',\"items\":[\n                    { text: 'Solid Only', value: 'solidOnly' },\n                    { text: 'Solid and Gradient', value: 'solidAndGradient' },\n                    { text: 'Gradient Only', value: 'gradientOnly' }\n                  ]},on:{\"input\":_vm.updateColorType}})]:_vm._e(),(!_vm.isSection)?[_c('h3',[_vm._v(\"Dynamic Property\")]),_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Enable dynamic property\",\"input-value\":!!_vm.dynamicPropertyPath,\"hide-details\":\"\"},on:{\"change\":_vm.updateDynamicPropertyPaths}}),(!!_vm.dynamicPropertyPath)?[_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Make dynamic data Pro only\",\"input-value\":_vm.dynamicPropertyPath && _vm.dynamicPropertyPath.proOnly,\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.updateDynamicPropertyPaths(\n                        true,\n                        _vm.dynamicPropertyPath\n                          ? _vm.dynamicPropertyPath.accepts\n                          : undefined,\n                        $event\n                      )}}}),_c('h4',{staticClass:\"mb-1\"},[_vm._v(\"Dynamic Property Type\")]),_c('DropdownInput',{attrs:{\"items\":_vm.dynamicPathAcceptsItems,\"value\":_vm.dynamicPropertyPath.accepts},on:{\"input\":function($event){return _vm.updateDynamicPropertyPaths(true, $event)}}})]:_vm._e()]:_vm._e(),(_vm.value.options.type === 'add_registered_children')?[_c('h3',[_vm._v(\"Registered Children options: add extra elements\")]),(!_vm.availableDescendantElements.length)?_c('div',[_vm._v(\" No available extra elements. \")]):_c('div',{staticClass:\"d-flex align-center\"},[_c('v-autocomplete',{staticClass:\"element-studio-control-type-dropdown mr-4 mt-2\",attrs:{\"items\":_vm.availableDescendantElements,\"value\":_vm.value.options.addRegisteredChildrenOptions &&\n                        _vm.value.options.addRegisteredChildrenOptions\n                          .addExtraElementsBySlug,\"dense\":\"\",\"hide-details\":\"\",\"data-test-id\":\"element-studio-control-type-dropdown\",\"multiple\":\"\"},on:{\"input\":_vm.updateAddExtraElementsBySlug}}),_c('IconButton',{attrs:{\"icon\":\"TrashIcon\"},on:{\"click\":function($event){return _vm.updateAddExtraElementsBySlug([])}}})],1)]:_vm._e(),(_vm.value.options.type === 'code')?[_c('h3',[_vm._v(\"Code input options\")]),_c('DropdownInput',{staticClass:\"pt-3\",attrs:{\"items\":_vm.codeTypes,\"value\":_vm.value.options.codeOptions &&\n                      _vm.value.options.codeOptions.language},on:{\"input\":_vm.updateCodeType}})]:_vm._e(),(\n                  _vm.value.options.type === 'text' ||\n                    _vm.value.options.type === 'richtext'\n                )?[_c('ElementStudioVariableOptions',{attrs:{\"path\":_vm.path,\"control\":_vm.value,\"value\":_vm.value.options.variableOptions},on:{\"input\":function($event){return _vm.updateOptions($event, 'variableOptions')},\"updateVariableItems\":_vm.updateVariableItems,\"updateVariableItem\":_vm.updateVariableItem}})]:_vm._e(),_c('h3',[_vm._v(\"Misc Options\")]),(_vm.isInContentTab)?[_c('v-checkbox',{attrs:{\"label\":\"See content editable code\",\"hide-details\":\"\"},model:{value:(_vm.showContentEditableCode),callback:function ($$v) {_vm.showContentEditableCode=$$v},expression:\"showContentEditableCode\"}}),(_vm.showContentEditableCode)?[_c('Copyable',{staticClass:\"element-studio-inline-helper-code\",attrs:{\"shouldCopy\":false}},[_vm._v(\" \"+_vm._s(_vm.contentEditableHelperCode)+\" \")])]:_vm._e()]:_vm._e(),_c('div',[(!_vm.isInContentTab)?[_c('div',{staticClass:\"d-flex flex-row\"},[_c('v-checkbox',{attrs:{\"disabled\":_vm.canHaveMediaQueries,\"label\":\"Enable Media Queries\",\"input-value\":_vm.value.enableMediaQueries,\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.updateControlBoolean($event, 'enableMediaQueries')}}})],1)]:_vm._e(),_c('div',{staticClass:\"d-flex flex-row\"},[_c('v-checkbox',{attrs:{\"label\":\"Enable Hover\",\"input-value\":_vm.value.enableHover,\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.updateControlBoolean($event, 'enableHover')}}})],1),_c('h3',[_vm._v(\"Layout\")]),_c('DropdownInput',{staticClass:\"pt-3\",attrs:{\"items\":_vm.controlLayouts,\"value\":_vm.value.options.layout},on:{\"input\":_vm.updateControlLayout}}),(\n                    _vm.value.options.type === 'text' ||\n                      _vm.value.options.type === 'dropdown' ||\n                      _vm.value.options.type === 'multiselect'\n                  )?[_c('h3',[_vm._v(\"Placeholder\")]),_c('TextInput',{attrs:{\"value\":_vm.value.options.placeholder},on:{\"input\":_vm.updatePlaceholder}})]:_vm._e(),_c('h3',[_vm._v(\"Keywords\")]),_c('TextInput',{attrs:{\"value\":_vm.keywordsValue},on:{\"input\":_vm.updateKeywords}}),_c('ElementStudioConditionInput',{attrs:{\"value\":_vm.value.options.condition},on:{\"input\":_vm.updateConditions}}),_c('ElementStudioHideControlInput',{attrs:{\"value\":_vm.value.options.hideForElements},on:{\"input\":_vm.updateHideForElements,\"remove\":_vm.deleteHideForElements}})],2)],2)],1):_vm._e(),(_vm.isSection)?_c('Dropdown',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false,\"max-height\":\"450\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n                  var on = ref.on;\n                  var attrs = ref.attrs;\nreturn [_c('v-btn',_vm._g(_vm._b({attrs:{\"color\":\"black\",\"small\":\"\",\"icon\":\"\",\"title\":\"Open options\",\"data-test-id\":\"element-studio-control-open-options\"}},'v-btn',attrs,false),on),[_c('Icon',{attrs:{\"icon\":\"SlidersIcon\",\"size\":\"12\"}})],1)]}}],null,false,1074570844)},[_c('v-card',{staticClass:\"element-studio-poppy-card\",attrs:{\"data-test-id\":\"element-studio-control-options-card\"}},[(!_vm.isPresetSection)?_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Make all control values in this section available in all breakpoints\",\"input-value\":!!_vm.shouldControlValueBeAddedInAllBreakpoints,\"hide-details\":\"\"},on:{\"change\":_vm.updatePropertyPathsToWhitelistInFlatProps}}):_vm._e(),(_vm.hasSsr)?_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Make the element SSR when any child control value changes\",\"input-value\":!!_vm.shouldControlValueCauseSsr,\"hide-details\":\"\"},on:{\"change\":_vm.updatePropertyPathsToSsrElementWhenValueChanges}}):_vm._e(),_c('h3',[_vm._v(\"Section Layout\")]),_c('v-select',{staticClass:\"pt-3\",attrs:{\"dense\":\"\",\"items\":_vm.sectionLayouts,\"value\":_vm.value.options.sectionOptions &&\n                    _vm.value.options.sectionOptions.type},on:{\"input\":_vm.updateSectionLayoutType}}),_c('ElementStudioConditionInput',{attrs:{\"value\":_vm.value.options.condition},on:{\"input\":_vm.updateConditions}}),_c('ElementStudioHideControlInput',{attrs:{\"value\":_vm.value.options.hideForElements},on:{\"input\":_vm.updateHideForElements,\"remove\":_vm.deleteHideForElements}}),(_vm.spacingBarPresetSlug)?[_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Enable spacing bars\",\"input-value\":_vm.isSpacingBarEnabled(),\"hide-details\":\"\"},on:{\"change\":_vm.updateSpacingBar}})]:_vm._e()],2)],1):_vm._e(),_c('v-spacer'),_c('Dropdown',{attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n                    var on = ref.on;\nreturn [_c('v-btn',_vm._g({staticClass:\"mr-1\",attrs:{\"color\":\"black\",\"icon\":\"\",\"small\":\"\"}},on),[_c('Icon',{attrs:{\"icon\":\"EllipsisIcon\",\"size\":\"18\"}})],1)]}}])},[_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.copy}},[_c('v-list-item-title',[_vm._v(\"Copy\")])],1),(_vm.canPaste)?_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.handlePaste}},[_c('v-list-item-title',[_vm._v(\"Paste As Child\")])],1):_vm._e(),(_vm.canReplace)?_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.handleReplace}},[_c('v-list-item-title',[_vm._v(\"Replace\")])],1):_vm._e(),(_vm.isSection)?_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.handleMakePreset}},[_c('v-list-item-title',[_vm._v(\"Make into a Preset\")])],1):_vm._e()],1)],1),_c('v-btn',{staticClass:\"mr-3\",attrs:{\"color\":\"black\",\"icon\":\"\",\"small\":\"\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.deleteControl($event)}}},[_c('Icon',{attrs:{\"icon\":\"TrashIcon\",\"size\":\"12\"}})],1)],1)]},proxy:true},{key:\"content\",fn:function(){return [_c('draggable',{attrs:{\"value\":_vm.value.children},on:{\"input\":_vm.handleDrag}},_vm._l((_vm.value.children),function(control,i){return _c('ControlSectionOrControl',{key:control.slug,attrs:{\"value\":control,\"path\":(_vm.path + \".children[\" + i + \"]\"),\"index\":i,\"parentPath\":_vm.path,\"twigParentPath\":(\"\" + _vm.twigParentPath + (_vm.isParentARepeater ? (\"[\" + i + \"]\") : '') + \".\" + (_vm.value.slug)),\"parentControl\":_vm.value}})}),1),(_vm.controlAcceptsChildren)?_c('v-btn',{staticClass:\"mt-2\",attrs:{\"tile\":\"\",\"text\":\"\",\"data-test-id\":\"element-studio-add-control\"},on:{\"click\":_vm.addControl}},[_vm._v(\" Add Control \")]):_vm._e(),(_vm.controlAcceptsChildren)?_c('v-btn',{staticClass:\"mt-2\",attrs:{\"tile\":\"\",\"text\":\"\",\"data-test-id\":\"element-studio-add-preset\"},on:{\"click\":_vm.addPreset}},[_vm._v(\" Add Preset \")]):_vm._e()]},proxy:true}])})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex\"},[_c('v-text-field',_vm._b({staticClass:\"breakdance-dense-input\",attrs:{\"value\":_vm.value,\"rules\":_vm.rules,\"clearable\":_vm.clearable,\"solo\":\"\",\"flat\":\"\",\"dense\":\"\",\"full-width\":\"\",\"single-line\":\"\",\"background-color\":\"var(--gray150)\",\"data-test-id\":_vm.testId},on:{\"input\":_vm.edit,\"blur\":function($event){return _vm.$emit('blur', $event)}}},'v-text-field',_vm.inputOptions,false))],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component\nexport default class TextInput extends Vue {\n  @Prop()\n  value: unknown;\n  @Prop()\n  inputOptions!: HTMLInputElement; // we should get rid of the input options... they're never used\n\n  @Prop()\n  rules!: ((v: string) => string)[];\n  @Prop()\n  testId!: string;\n  @Prop({ default: true })\n  clearable!: boolean;\n\n  get isNumber() {\n    return this.inputOptions?.type === \"number\";\n  }\n  edit(newVal: unknown) {\n    if (this.isNumber && newVal) {\n      this.$emit(\"input\", parseFloat(newVal as string));\n    } else {\n      this.$emit(\"input\", newVal);\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShittyTextInput.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ShittyTextInput.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ShittyTextInput.vue?vue&type=template&id=cdfb68de&\"\nimport script from \"./ShittyTextInput.vue?vue&type=script&lang=ts&\"\nexport * from \"./ShittyTextInput.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ShittyTextInput.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-element-studio-twig-code-helper\"},[(_vm.codeForControl)?_c('Copyable',{on:{\"onCopy\":_vm.close}},[_vm._v(_vm._s(_vm.codeForControl))]):[_vm._v(\"No code help available for \"),_c('code',[_vm._v(_vm._s(_vm.control.options.type))]),_vm._v(\" control type\")]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-element-studio-copyable\"},[_c('textarea',{ref:\"input\",attrs:{\"readonly\":\"\"},domProps:{\"value\":_vm.textToCopy}}),(_vm.shouldCopy)?_c('v-btn',{attrs:{\"small\":\"\"},on:{\"click\":_vm.copy}},[_vm._v(\"Copy\")]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\nimport { forceNextTick } from \"@/util/force-next-tick\";\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component({})\nexport default class Copyable extends Vue {\n  @Prop({ default: true })\n  shouldCopy!: boolean;\n\n  mounted() {\n    if (!this.shouldCopy) return;\n\n    forceNextTick(() => {\n      // @ts-ignore\n      this.$refs.input.select();\n      document.execCommand(\"copy\");\n    });\n  }\n  get textToCopy() {\n    // @ts-ignore\n    return this.$slots?.default[0]?.text || \"\";\n  }\n\n  copy() {\n    // @ts-ignore\n    this.$refs.input.select();\n    document.execCommand(\"copy\");\n    this.$emit(\"onCopy\");\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Copyable.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Copyable.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Copyable.vue?vue&type=template&id=0c6b2256&\"\nimport script from \"./Copyable.vue?vue&type=script&lang=ts&\"\nexport * from \"./Copyable.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Copyable.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","/* eslint-disable @typescript-eslint/camelcase */\nimport { Control, ControlConditions, ControlType } from \"@/types/controls\";\nimport { spacingBarsPresetSlug } from \"@/lib/elements/constants\";\n\ntype CodeHelperParams = { control: Control; twigPath: string };\n\nconst wrapPathWithMustaches = ({ twigPath }: CodeHelperParams) => {\n  return \"{{ \" + twigPath + \" }}\";\n};\n\nconst toggleCode = ({ twigPath }: CodeHelperParams) => {\n  return `{% if ${twigPath} %}\ntoggle is on\n{% else %}\ntoggle is off\n{% endif %}`;\n};\n\nconst dropdownOrButtonBarCode = ({ control, twigPath }: CodeHelperParams) => {\n  // TODO: use strict equality? Is this shit always a string? Couldnt it values be a number or some shit? Or is it a string by the time it gets to Twig?\n  // or since we dont know, dont use strict equality? lol this sounds like it could waste an unlucky element developer's time\n  return control.options.items\n    ? control.options.items\n        .map((item, index) => {\n          const ifOrElseIf = index ? \"elseif\" : \"if\";\n          return (\n            `{% ${ifOrElseIf} ${twigPath} == '${item.value}' %}` +\n            `\\n  CSS or HTML here` +\n            `\\n`\n          );\n        })\n        .join(\"\") + \"\\n{% endif %}\"\n    : \"no items yo\";\n};\n\nconst multiselectCode = ({ control, twigPath }: CodeHelperParams) => {\n  return control.options.items\n    ? control.options.items\n        .map((item, index) => {\n          const ifOrElseIf = index ? \"elseif\" : \"if\";\n          return (\n            `{% ${ifOrElseIf} '${item.value}' in ${twigPath} %}` +\n            `\\n  CSS or HTML here` +\n            `\\n`\n          );\n        })\n        .join(\"\") + \"\\n{% endif %}\"\n    : \"no items yo\";\n};\n\nconst shadowCode = ({ control, twigPath }: CodeHelperParams) => {\n  const isText = control?.options?.shadowOptions?.type === \"text\";\n  const property = isText ? \"text-shadow\" : \"box-shadow\";\n\n  return `${property}: {{ ${twigPath}.style }};`;\n};\n\nconst iconCode = ({ twigPath }: CodeHelperParams) => `\n<style>\n/* put this in your default CSS */\n.some-class-to-wrap-the-icon-svg { /* prefix with element classname, i.e. .element-classname .some-class-to-wrap-the-icon */\n    display: flex;\n    font-size: 24px;\n}\n\n.some-class-to-wrap-the-icon-svg > svg { /* also, prefix with element classname */\n    font-size: inherit;\n    width: 1em;\n    height: 1em;\n    stroke-width: 0;\n    stroke: currentColor;\n    fill: currentColor;\n}\n\n/* put this in your twig CSS */\n%%SELECTOR%% .some-class-to-wrap-the-icon-svg {\n    color: #ff0000;\n    font-size: 30px;\n}\n</style>\n<div class=\"some-class-to-wrap-the-icon-svg\">\n{{ ${twigPath}.svgCode }}\n</div>\n`;\n\nconst repeaterCode = ({ twigPath }: CodeHelperParams) => {\n  return `\n    {% for item in ${twigPath} %}\n        <div>\n            repeated\n        </div>\n    {% endfor %}\n    `;\n};\n\nconst focusPointCode = ({ twigPath }: CodeHelperParams) => {\n  return `\n  /* could be used for transforms */\n  transform-origin: {{ ${twigPath}.x }}% {{ ${twigPath}.y }}%;\n\n  /* or positioning a background */\n  background-position: {{ ${twigPath}.x }}% {{ ${twigPath}.y }}%;\n  `;\n};\n\nconst presetsWithMacroOfTheSameNameAndBasicCodeHelp = [\n  \"layout_basic_flex\",\n  \"layout\",\n  \"borders\",\n  \"background\",\n  \"css\",\n  \"size\",\n  \"grid\",\n  ...spacingBarsPresetSlug\n];\n\nconst presetSectionCode = ({ control, twigPath }: CodeHelperParams) => {\n  const presetType = control.options.sectionOptions?.preset?.slug?.replace(\n    \"EssentialElements\\\\\",\n    \"\"\n  );\n\n  if (!presetType) return \"undefined preset type\";\n\n  if (presetsWithMacroOfTheSameNameAndBasicCodeHelp.includes(presetType)) {\n    return `{{ macros.${presetType}(${twigPath}) }}`;\n  }\n\n  if (presetType === \"effects\") {\n    return `\n    {{ macros.effects(${twigPath}, '%%SELECTOR%%') }}\n    {{ macros.effectsHover(${twigPath}, '%%SELECTOR%%:hover') }}\n    `;\n  }\n\n  if (presetType === \"effects_no_hover\") {\n    return `{{ macros.effects(${twigPath}, '%%SELECTOR%%') }}`;\n  }\n\n  if (presetType === \"filter\") {\n    return `{{ macros.filters(${twigPath}) }}`;\n  }\n\n  if (\n    presetType === \"typography\" ||\n    presetType === \"typography_with_nothing\" ||\n    presetType === \"typography_with_align\" ||\n    presetType === \"typography_with_effects\" ||\n    presetType === \"typography_with_effects_and_align\"\n  ) {\n    return `{{ macros.typography(${twigPath}, globalSettings) }}`;\n  }\n\n  if (presetType === \"simpleLayout\") {\n    return `{{ macros.simpleLayout(${twigPath}, breakpoint) }}`;\n  }\n\n  if (presetType === \"fancy_background\") {\n    return `\n      {{ macros.fancyBackgroundHtml(${twigPath}) }}\n      {{ macros.fancyBackgroundCss('%%SELECTOR%%', ${twigPath}, breakpoint) }}\n    `;\n  }\n\n  if (\n    presetType === \"typography_with_hoverable_color\" ||\n    presetType === \"typography_with_align_with_hoverable_color\" ||\n    presetType === \"typography_with_effects_with_hoverable_color_and_effects\" ||\n    presetType ===\n      \"typography_with_effects_and_align_with_hoverable_color_and_effects\"\n  ) {\n    return `\n    %%SELECTOR%% {\n      {{ macros.typography(${twigPath}, globalSettings) }}\n    }\n\n    %%SELECTOR%%:hover {\n      {{ macros.typographyWithHoverableColorAndEffects(${twigPath}) }}\n    }\n    `;\n  }\n\n  if (\n    presetType === \"typography_with_hoverable_everything\" ||\n    presetType === \"typography_with_align_with_hoverable_everything\" ||\n    presetType === \"typography_with_effects_with_hoverable_everything\" ||\n    presetType === \"typography_with_effects_and_align_with_hoverable_everything\"\n  ) {\n    return `\n    %%SELECTOR%% {\n      {{ macros.typography(${twigPath}, globalSettings) }}\n    }\n\n    %%SELECTOR%%:hover {\n      {{ macros.typographyWithHoverableEverything(${twigPath}) }}\n    }\n    `;\n  }\n\n  if (presetType === \"AtomV1ButtonContent\") {\n    return `\n    <!-- In order to set default styles for your buttons, use the following macros: -->\n    <!-- You can overwrite these settings using design options  -->\n\n    <!-- Button (Primary) -->\n    {{ macros.atomV1ButtonHtml(${twigPath}, 'my-button-custom-class', path.to.button_design_preset_section, '${twigPath}.text') }}\n\n    <!-- Button (Secondary) -->\n    {{ macros.atomV1ButtonHtml(${twigPath}, 'my-button-custom-class', path.to.button_design_preset_section, 'secondary', '${twigPath}.text') }}\n\n    <!-- Button (Custom) -->\n    {{ macros.atomV1ButtonHtml(${twigPath}, 'my-button-custom-class', path.to.button_design_preset_section, 'custom', '${twigPath}.text') }}\n\n    <!-- Button (Text) -->\n    {{ macros.atomV1ButtonHtml(${twigPath}, 'my-button-custom-class', path.to.button_design_preset_section, 'text', '${twigPath}.text') }}\n\n    <!-- Form Button (Submit) -->\n    {{ macros.atomV1ButtonHtmlManual('Submit', false, '%%SELECTOR%% .my-button-custom-class', path.to.button_design_preset_section, 'primary/secondary/custom/text', 'custom-button-id', true, '${twigPath}.text') }}\n\n    <!-- SSR Button -->\n    echo /Breakdance/Elements/AtomV1Button/render($propertiesData['content']['button'], 'my-button-custom-class', $propertiesData['design']['button'], 'primary/secondary/custom/text');\n\n    <!-- SSR Form Button -->\n    echo /Breakdance/Elements/AtomV1Button/renderFormButton($propertiesData['content']['submit_button']['text'], 'my-button-custom-class', $propertiesData['design']['form_button'], 'primary/secondary/custom/text', 'custom-button-id');\n\n\n`;\n  }\n\n  if (presetType === \"AtomV1ButtonDesign\") {\n    return `\n      {{ macros.atomV1ButtonCss(${twigPath}, 'my-button-custom-class', '%%SELECTOR%%', breakpoint, globalSettings) }}\n    `;\n  }\n\n  if (presetType === \"AtomV1CustomButtonDesign\") {\n    return `\n\n      {{ macros.atomV1ButtonButton(${twigPath}, '%%SELECTOR%% .my-button-custom-class', 'primary/secondary/custom', breakpoint, globalSettings) }}\n\n\n    `;\n  }\n\n  if (presetType === \"AtomV1IconDesignWithHover\") {\n    return `\n    HTML:\n    {{ macros.atomV1IconHtml('my-icon-class', path.to.icon, path.to.rotate (number between 1 and 360) or false, path.to.link (link control) or false, ${twigPath}) }}\n\n    CSS:\n    {{ macros.atomV1IconCss(${twigPath}, 'my-icon-class', '%%SELECTOR%%', true) }}`;\n  }\n\n  if (presetType === \"AtomV1IconDesign\") {\n    return `\n    HTML:\n    {{ macros.atomV1IconHtml('my-icon-class', path.to.icon, path.to.rotate (number between 1 and 360) or false, path.to.link (link control) or false, ${twigPath}) }}\n\n    CSS:\n    {{ macros.atomV1IconCss(${twigPath}, 'my-icon-class', '%%SELECTOR%%') }}`;\n  }\n\n  if (presetType === \"AtomV1FormDesign\") {\n    return `{{ macros.atomV1FormCss(${twigPath}, '%%SELECTOR%%') }}`;\n  }\n\n  if (presetType === \"tabs_design\") {\n    return `{{ macros.atomV1TabsCss('%%SELECTOR%%', ${twigPath}, breakpoint, globalSettings) }}`;\n  }\n\n  if (presetType === \"WooGlobalStylerOverride\") {\n    return `{{ macros.wooGlobalStyler(${twigPath}, '%%SELECTOR%%', breakpoint, globalSettings) }}`;\n  }\n\n  if (presetType === \"pagination\") {\n    return `{{ macros.pagination(${twigPath}, '%%SELECTOR%%', listSelector, activeSelector, dotsSelector) }}`;\n  }\n\n  if (\n    presetType === \"wooPresetInputsDesign\" ||\n    presetType === \"wooPresetInputsDesignNoSelect2\"\n  ) {\n    return `\n    %%SELECTOR%% {\n      {{ macros.wooPresetInputsDesign(${twigPath}) }}\n    }`;\n  }\n\n  if (presetType === \"wooProductsListElements\") {\n    return `\n    {{ macros.wooPresetProductsListElementsDesign('%%SELECTOR%%', ${twigPath}) }}\n    `;\n  }\n\n  if (presetType === \"wooProductsListLayout\") {\n    return `\n    {{ macros.wooPresetProductsListLayoutDesign('%%SELECTOR%%', ${twigPath}) }}\n    `;\n  }\n\n  if (presetType === \"wooProductWrapperDesign\") {\n    return `\n    {{ macros.wooPresetProductWrapperDesign('%%SELECTOR%%', ${twigPath}) }}\n    `;\n  }\n\n  if ([\"lightbox_design\", \"lightbox_single_design\"].includes(presetType)) {\n    return `{{ macros.atomV1LightboxCss(${twigPath}) }}`;\n  }\n\n  if (presetType === \"AtomV1SwiperSettings\") {\n    return `\nHTML:\n\n<div class=\"breakdance-swiper-wrapper\">\n  <div class=\"swiper\">\n    <div class=\"swiper-wrapper\">\n      %%CHILDREN%%\n    </div>\n  </div>\n  \n  {{ macros.AtomV1SwiperPaginationAndArrowsHtml(design.slider) }}\n</div>\n\n----\n\nCSS:\n{{ macros.AtomV1SwiperCss(${twigPath}, '%%SELECTOR%%', globalSettings, isBaseBreakpoint) }}\n`;\n  }\n\n  if (presetType === \"borders_without_shadows\") {\n    return `\n    {{ macros.borders_without_shadows(${twigPath}) }}\n    `;\n  }\n\n  return `no code help for preset section type of ${presetType}`;\n};\n\nexport const codeForControls: {\n  [key in ControlType]: undefined | ((args: CodeHelperParams) => string);\n} = {\n  trigger_action_button: undefined,\n  border_complex: ({ twigPath }) => `{{ macros.border_complex(${twigPath}) }}`,\n  border_radius: ({ twigPath }) => `{{ macros.border_radius(${twigPath}) }}`,\n  breakpoint_dropdown: ({ twigPath }) =>\n    `\n    {% if breakpoint == ${twigPath} %}\n    %%SELECTOR%% {\n        /** some css that will apply to the selected breakpoint */\n    }\n    {% endif %}\n    `,\n  button_bar: dropdownOrButtonBarCode,\n  dropdown: dropdownOrButtonBarCode,\n  code: wrapPathWithMustaches,\n  color: ({ control, twigPath }) => {\n    if (control.options.colorOptions?.type === \"solidAndGradient\") {\n      return `\n        /* Background Color */\n        {{ macros.backgroundColor(${twigPath}) }}\n        \n        /* Or */\n        \n        /* Text Color */\n        {{ macros.textColor(${twigPath}) }}\n        \n        /* Or */\n        \n        /* Border Color */\n        {{ macros.borderColor(${twigPath}) }}\n      `;\n    }\n\n    return `background-color: {{ ${twigPath} }}`;\n  },\n  gradient: ({ twigPath }) => `background-image: {{ ${twigPath}.style }}`,\n  shadow: shadowCode,\n  icon: iconCode,\n  number: wrapPathWithMustaches,\n  repeater: repeaterCode,\n  inline_repeater: repeaterCode,\n  richtext: wrapPathWithMustaches,\n  toggle: toggleCode,\n  spacing_complex: ({ twigPath }) =>\n    `{{ macros.spacing_complex(${twigPath}, 'margin') }}`,\n  text: wrapPathWithMustaches,\n  url: wrapPathWithMustaches,\n  unit: ({ twigPath }) => `font-size: {{ ${twigPath}.style }};`,\n  wpmedia: ({ control, twigPath }) => {\n    if (control.options?.mediaOptions?.multiple) {\n      return `\n      {% for item in ${twigPath} %}\n        {{ macros.getMedia(item, content.content.size, content.content.lazyLoad) }}\n      {% endfor %}\n      `;\n    }\n\n    return `\n      This macro might return an img, video, or iframe tag, depending on the media type.\n      {{ macros.getMedia(${twigPath}, content.content.size, content.content.lazyLoad) }}\n      \n      Or you can render only images\n      {{ macros.image(${twigPath}, content.content.size, alt, lazyLoad) }}\n    `;\n  },\n  video: ({ twigPath }) => {\n    return `\n      {{ macros.video(${twigPath}) }}\n    `;\n  },\n  focus_point: focusPointCode,\n  section: presetSectionCode,\n  multiselect: multiselectCode,\n  condition: undefined,\n  font_family: undefined,\n  class: undefined,\n  global_colors: undefined,\n  global_block_chooser: undefined,\n  typography: undefined,\n  custom_typography: undefined,\n  typography_preset: undefined,\n  message: undefined,\n  post_chooser: undefined,\n  element_screenshot: undefined,\n  slider: undefined,\n  add_registered_children: undefined,\n  builder_behavior: undefined,\n  alert_box: undefined,\n  pro_only_alert_box: undefined,\n  date_picker: ({ twigPath }) => {\n    return `{{ ${twigPath} }}`;\n  },\n  time_picker: ({ twigPath }) => {\n    return `{{ ${twigPath} }}`;\n  },\n  api_key_input: undefined,\n  link: ({ twigPath }) => {\n    return `\n     {{ macros.linkStart(${twigPath}) }}\n         Link Text\n     {{ macros.linkEnd() }}\n    `;\n  },\n  media_size_dropdown: ({ twigPath }) => {\n    return `{{ ${twigPath} }}`;\n  },\n  wp_query: () =>\n    `Use this control in your SSR.php file. For example:\n    \\\\Breakdance\\\\WpQueryControl\\\\getWpQueryArgumentsFromWpQueryControlProperties($propertiesData['content']['wp_query']['query']);`,\n  conditional_form_field: undefined\n};\n\nexport const wrapWithCondition = (\n  controlConditions: ControlConditions,\n  code: string\n) => {\n  let ifCondition = \"\";\n\n  if (Array.isArray(controlConditions)) {\n    ifCondition = controlConditions.reduce((conditionsAcc, conditions) => {\n      const andCondition = conditions.reduce((acc, { path, value }) => {\n        if (acc) {\n          return `${acc} and ${path} == \"${value}\"`;\n        }\n\n        return `${path} == \"${value}\"`;\n      }, \"\");\n\n      if (conditionsAcc) {\n        return `${conditionsAcc} or (${andCondition})`;\n      }\n\n      return `(${andCondition})`;\n    }, \"\");\n  } else {\n    const { path, value } = controlConditions; // TODO: what about operand\n    // TODO - this is garbage for controls conditionally displayed by a toggle\n    ifCondition = `${path} == \"${value}\"`;\n  }\n\n  return `\n      {% if ${ifCondition} %}\n      ${code}\n      TODO - examples of not equals, is one of, is set, is not set\n      {% elseif %}\n      ...\n      {% else %}\n      ...\n      {% endif %}\n      `;\n};\n","\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { Control } from \"@/types/controls\";\nimport Copyable from \"./Copyable.vue\";\nimport {\n  codeForControls,\n  wrapWithCondition\n} from \"@/lib/element-studio/twig-code-helper\";\nimport { addHoverToPath } from \"@/lib/controls/utils\";\n\n@Component({\n  components: {\n    Copyable\n  }\n})\nexport default class TwigCodeHelper extends Vue {\n  @Prop()\n  control!: Control;\n\n  @Prop()\n  twigParentPath!: string;\n\n  @Prop()\n  inRepeater!: boolean;\n\n  get twigPath() {\n    return this.inRepeater\n      ? `item.${this.control.slug}`\n      : `${this.twigParentPath}.${this.control.slug}`;\n  }\n\n  get codeForControl() {\n    const getHelperCodeForControl = codeForControls[this.control.options.type];\n\n    // TODO eventually we should have all presets in element studio\n    // so we can get rid of the \"section\" part of codeForControls\n    const codeHelpFromPreset = this.control.options.sectionOptions?.preset?.codeHelp?.replace(\n      \"%%TWIG_PATH%%\",\n      this.twigPath\n    );\n\n    let helperCode =\n      codeHelpFromPreset ||\n      (getHelperCodeForControl &&\n        getHelperCodeForControl({\n          control: this.control,\n          twigPath: this.twigPath\n        }));\n\n    if (!helperCode) return false;\n\n    if (this.control.options.condition) {\n      helperCode = wrapWithCondition(\n        this.control.options.condition,\n        helperCode\n      );\n    }\n\n    if (this.control.enableHover) {\n      const hoverCode = helperCode.replace(\n        new RegExp(this.twigPath, \"g\"),\n        addHoverToPath(this.twigPath)\n      );\n\n      helperCode += \"\\n\\n.some-selector:hover {\\n\" + hoverCode + \"\\n}\\n\";\n    }\n\n    return helperCode;\n  }\n\n  close() {\n    this.$emit(\"close\");\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TwigCodeHelper.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TwigCodeHelper.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TwigCodeHelper.vue?vue&type=template&id=4f6fa6d0&\"\nimport script from \"./TwigCodeHelper.vue?vue&type=script&lang=ts&\"\nexport * from \"./TwigCodeHelper.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TwigCodeHelper.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',[_vm._v(_vm._s(_vm.label))]),_c('Repeater',{attrs:{\"value\":this.internalValue,\"control\":{\n      options: {\n        repeaterOptions: {\n          defaultNewValue: [_vm.getBlankCondition()],\n          titleTemplate: \"OR\",\n          buttonName: \"Add new OR condition\",\n          forceDontProcessDefaultNewValueWhenAddingItemsHack: true\n        }\n      }\n    }},on:{\"input\":_vm.emit},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n    var orRepeaterIndex = ref.index;\nreturn [_c('Repeater',{attrs:{\"value\":_vm.internalValue[orRepeaterIndex],\"control\":{\n          options: {\n            repeaterOptions: {\n              defaultNewValue: _vm.getBlankCondition(),\n              forceDontProcessDefaultNewValueWhenAddingItemsHack: true,\n              titleTemplate: (\"(AND) \" + _vm.title + \" for '{path}'\"),\n              buttonName: (\"Add new (AND) \" + _vm.title)\n            }\n          }\n        }},on:{\"input\":function($event){return _vm.updateOrCondition($event, orRepeaterIndex)}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n        var repeaterIndex = ref.index;\n        var value = ref.value;\nreturn [_c('div',{staticClass:\"element-studio-condition-input\"},[(!!value)?_c('div',{staticClass:\"element-studio-condition-input-row\"},[_c('v-combobox',{attrs:{\"label\":\"Path\",\"items\":_vm.paths,\"value\":value.path},on:{\"input\":function($event){return _vm.updatePath($event, orRepeaterIndex, repeaterIndex)}}}),_c('v-select',{attrs:{\"label\":\"Operand\",\"no-data-text\":\"No data. Select a path first\",\"value\":value.operand,\"items\":_vm.getOperands(value)},on:{\"input\":function($event){return _vm.updateOperand($event, orRepeaterIndex, repeaterIndex)}}}),(\n                  value.operand !== 'is set' && value.operand !== 'is not set'\n                )?[(\n                    value.operand !== 'is one of' &&\n                      value.operand !== 'is none of'\n                  )?[_c('v-combobox',{attrs:{\"label\":\"Value\",\"items\":_vm.getPossibleValues(value),\"value\":value.value},on:{\"input\":function($event){return _vm.updateValue($event, orRepeaterIndex, repeaterIndex)}}})]:[_c('v-combobox',{attrs:{\"multiple\":\"\",\"label\":\"Values\",\"items\":_vm.getPossibleValues(value),\"value\":_vm.hasMultipleValues(value)},on:{\"input\":function($event){return _vm.updateValue($event, orRepeaterIndex, repeaterIndex)}}})]]:_vm._e()],2):_vm._e()])]}}],null,true)})]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { ControlConditions, ControlConditionSingle } from \"@/types/controls\";\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport { ElementStudioContext } from \"./ElementStudioTabsAndPanels.vue\";\nimport { getElementControlByElementControlPathWithPrefix } from \"@/lib/elements/utils\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\n\n@Component({\n  components: { Repeater }\n})\nexport default class ElementStudioConditionInput extends Vue {\n  @Prop()\n  value!: ControlConditions | undefined;\n\n  @Prop({ default: \"Condition\" })\n  title!: string;\n\n  @Prop({ default: \"Only Show Control When Condition Is Met\" })\n  label!: string;\n\n  @Prop()\n  pathStartsWith!: string;\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  mounted() {\n    // we want to transition away from single-conditions\n    if (this.value && !Array.isArray(this.value)) {\n      this.emit([[this.value]]);\n    }\n  }\n\n  getBlankCondition() {\n    return {\n      path: \"\",\n      operand: \"equals\" as const,\n      value: \"\"\n    };\n  }\n\n  getOperands(condition: ControlConditionSingle) {\n    const path = condition.path;\n\n    if (!path) {\n      return [];\n    }\n\n    const control = this.getControl(path);\n\n    let operands = [\n      \"equals\",\n      \"not equals\",\n      \"is one of\",\n      \"is none of\",\n      \"is set\",\n      \"is not set\",\n      \"contains\",\n      \"does not contain\"\n    ];\n\n    if (control?.options.type === \"multiselect\") {\n      operands = [\"includes\"];\n    }\n\n    if (control?.options.type === \"toggle\") {\n      operands = [\"is set\", \"is not set\"];\n    }\n\n    return operands.map(x => {\n      return { text: x, value: x };\n    });\n  }\n\n  hasMultipleValues(condition: ControlConditionSingle) {\n    return Array.isArray(condition.value) ? condition.value : [];\n  }\n\n  get internalValue() {\n    if (!this.value) return [];\n\n    // We update the value when mounted to transition away from single conditions\n    // But still need to add safety here for types and to avoid any potential bug\n    if (!Array.isArray(this.value)) return [[this.value]];\n\n    return this.value;\n  }\n\n  get paths() {\n    const paths = this.context\n      .getPathsToAllControls()\n      .filter(path => !path.includes(\"settings.animations\"));\n\n    if (this.pathStartsWith) {\n      return paths\n        .filter(path => path.startsWith(this.pathStartsWith))\n        .map(path => path.replace(this.pathStartsWith, \"\"));\n    }\n\n    return paths;\n  }\n\n  getPossibleValues(condition: ControlConditionSingle) {\n    const path = condition.path;\n    if (!path) return [];\n\n    const control = this.getControl(path);\n\n    if (!control) return [];\n\n    const result = control.options.items?.map(x => String(x.value));\n\n    if (!result) return [];\n\n    return result;\n  }\n\n  getControl(path: string) {\n    return getElementControlByElementControlPathWithPrefix(\n      this.context.element(),\n      path\n    );\n  }\n\n  updatePath(path: string, index1: number, index2: number) {\n    const internalValue = defensiveCopy(this.internalValue);\n\n    internalValue[index1][index2].path = path;\n\n    this.emit(internalValue);\n  }\n\n  updateOperand(\n    operand:\n      | \"equals\"\n      | \"not equals\"\n      | \"is one of\"\n      | \"is set\"\n      | \"contains\"\n      | \"does not contain\",\n    index1: number,\n    index2: number\n  ) {\n    const internalValue = defensiveCopy(this.internalValue);\n\n    internalValue[index1][index2].operand = operand;\n\n    this.emit(internalValue);\n  }\n\n  updateValue(newValue: string, index1: number, index2: number) {\n    const internalValue = defensiveCopy(this.internalValue);\n\n    internalValue[index1][index2].value = newValue;\n\n    this.emit(internalValue);\n  }\n\n  updateOrCondition(conditions: ControlConditionSingle[], index: number) {\n    const internalValue = defensiveCopy(this.internalValue);\n\n    internalValue[index] = conditions;\n\n    this.emit(internalValue);\n  }\n\n  emit(condition: ControlConditions) {\n    this.$emit(\"input\", condition);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioConditionInput.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioConditionInput.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioConditionInput.vue?vue&type=template&id=62b5fc7c&\"\nimport script from \"./ElementStudioConditionInput.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioConditionInput.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\ninstallComponents(component, {VCombobox,VSelect})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-unit-options\"},[_c('h2',{staticClass:\"mb-2\"},[_vm._v(\"Unit Options\")]),_c('h3',[_vm._v(\"Allowed types\")]),_c('v-autocomplete',{attrs:{\"label\":\"Types\",\"value\":_vm.value && _vm.value.types,\"items\":_vm.availableTypes,\"multiple\":true,\"hide-details\":\"\"},on:{\"input\":_vm.updateTypes}}),_c('h3',{staticClass:\"mb-1\"},[_vm._v(\"Default Type\")]),_c('DropdownInput',{attrs:{\"label\":\"Default Type\",\"items\":(_vm.value && _vm.value.types) || [],\"value\":_vm.value && _vm.value.defaultType},on:{\"input\":_vm.updateDefaultType}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport { UNIT_TYPES, UnitOptions, UnitType } from \"@/types/unit\";\nimport defensiveCopy from \"@/util/defensive-copy\";\n\nimport { ElementStudioContext } from \"./ElementStudioTabsAndPanels.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\n\n@Component({\n  components: {\n    Repeater,\n    DropdownInput\n  }\n})\nexport default class ElementStudioUnitOptions extends Vue {\n  @Prop()\n  value!: UnitOptions | null;\n\n  get internalValue() {\n    return this.value || {};\n  }\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  get availableTypes() {\n    return UNIT_TYPES;\n  }\n\n  control = {\n    options: {\n      repeaterOptions: {\n        titleTemplate: \"Type\",\n        buttonName: \"Add type\"\n      }\n    }\n  };\n\n  updateTypes(types: UnitType[]) {\n    const newOptions = defensiveCopy(this.internalValue);\n\n    this.emit({\n      ...newOptions,\n      types\n    });\n  }\n\n  updateDefaultType(defaultType: UnitType) {\n    const newOptions = defensiveCopy(this.internalValue);\n\n    this.emit({\n      ...newOptions,\n      defaultType\n    });\n  }\n\n  emit(unitOptions: UnitOptions) {\n    this.$emit(\"input\", unitOptions);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioUnitOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioUnitOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioUnitOptions.vue?vue&type=template&id=051b5d3a&\"\nimport script from \"./ElementStudioUnitOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioUnitOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\ninstallComponents(component, {VAutocomplete})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-range-options\"},[_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Range Options\")]),_c('div',{staticClass:\"d-flex align-end\"},[_c('div',{staticClass:\"flex-grow-1 flex-column\"},[_vm._v(\" Step (fixed to 2 decimals) \"),_c('input',{class:_vm.inputClass,attrs:{\"type\":\"number\"},domProps:{\"value\":_vm.internalValue.step},on:{\"input\":function($event){return _vm.updateStep($event.target.value)}}})]),_c('div',{staticClass:\"flex-grow-1 mx-1 flex-column\"},[_vm._v(\" Min (Integer) \"),_c('input',{class:_vm.inputClass,attrs:{\"type\":\"number\"},domProps:{\"value\":_vm.internalValue.min},on:{\"input\":function($event){return _vm.updateMin($event.target.value)}}})]),_c('div',{staticClass:\"flex-grow-1 flex-column\"},[_vm._v(\" Max (Integer) \"),_c('input',{class:_vm.inputClass,attrs:{\"type\":\"number\"},domProps:{\"value\":_vm.internalValue.max},on:{\"input\":function($event){return _vm.updateMax($event.target.value)}}})])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport { RangeOptions } from \"@/types/controls\";\nimport { ElementStudioContext } from \"./ElementStudioTabsAndPanels.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport { parseFloatAndFixTo2Digits } from \"@/util/math\";\n\n@Component({\n  components: { TextInput }\n})\nexport default class ElementStudioUnitOptions extends Vue {\n  @Prop()\n  value!: RangeOptions | null;\n\n  get internalValue() {\n    return this.value || { min: undefined, max: undefined, step: undefined };\n  }\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  get inputClass() {\n    // same classes as TextInput\n    return \"d-flex breakdance-white-gray-outlined-input breakdance-simple-input breakdance-simple-input--text breakdance-simple-input--base\";\n  }\n\n  updateStep(step: string) {\n    this.emit({\n      ...this.internalValue,\n      step: step ? parseFloatAndFixTo2Digits(step) : undefined\n    });\n  }\n\n  updateMin(min: string) {\n    this.emit({\n      ...this.internalValue,\n      min: min ? parseInt(min) : undefined\n    });\n  }\n\n  updateMax(max: string) {\n    this.emit({\n      ...this.internalValue,\n      max: max ? parseInt(max) : undefined\n    });\n  }\n\n  emit(rangeOptions: RangeOptions) {\n    this.$emit(\"input\", rangeOptions);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioRangeOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioRangeOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioRangeOptions.vue?vue&type=template&id=04a8f67a&\"\nimport script from \"./ElementStudioRangeOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioRangeOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-repeater-options\"},[_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Repeater Options\")]),_c('div',[_vm._v(\" Title Template \"),_c('TextInput',{attrs:{\"value\":_vm.internalValue.titleTemplate},on:{\"input\":function($event){return _vm.update($event, 'titleTemplate')}}}),(_vm.controlSlugs.length)?_c('div',{staticClass:\"element-studio-repeater-options-variables\"},[_vm._v(\" Available variables: \"),_vm._l((_vm.controlSlugs),function(variable){return _c('span',{staticClass:\"element-studio-repeater-options-variable\",on:{\"click\":function($event){return _vm.appendVariableToTitle(variable)}}},[_c('span',[_vm._v(\"{\")]),_vm._v(_vm._s(variable)),_c('span',[_vm._v(\"}\")])])})],2):_vm._e()],1),_c('div',{staticClass:\"my-2\"},[_vm._v(\" Default Title \"),_c('TextInput',{attrs:{\"value\":_vm.internalValue.defaultTitle},on:{\"input\":function($event){return _vm.update($event, 'defaultTitle')}}}),_vm._v(\" Used as a fallback when the title template is blank. \")],1),_c('div',[_vm._v(\" Button Name \"),_c('TextInput',{attrs:{\"value\":_vm.internalValue.buttonName},on:{\"input\":function($event){return _vm.update($event, 'buttonName')}}}),_vm._v(\" Defaults to \\\"Add Item\\\". \")],1),_c('div',[_c('v-checkbox',{staticClass:\"mb-3\",attrs:{\"label\":\"Enable gallery mode\",\"hide-details\":\"\",\"input-value\":_vm.internalValue.galleryMode},on:{\"change\":_vm.updateGalleryMode}}),(_vm.internalValue.galleryMode)?[_c('h3',{staticClass:\"mb-3\"},[_vm._v(\"Gallery Media Path\")]),_c('DropdownInput',{attrs:{\"value\":_vm.internalValue.galleryMediaPath,\"items\":_vm.mediaControlSlugs},on:{\"input\":function($event){return _vm.update($event, 'galleryMediaPath')}}})]:_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport { Control, RepeaterOptions } from \"@/types/controls\";\nimport { ElementStudioContext } from \"./ElementStudioTabsAndPanels.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\n\nconst DEFAULT_REPEATER_VALUE = {\n  titleTemplate: \"\",\n  defaultTitle: \"\",\n  buttonName: \"\"\n};\n\n@Component({\n  components: { DropdownInput, TextInput }\n})\nexport default class ElementStudioRepeaterOptions extends Vue {\n  @Prop()\n  value!: RepeaterOptions;\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  @Prop()\n  control!: Control;\n\n  get internalValue() {\n    return this.value || DEFAULT_REPEATER_VALUE;\n  }\n\n  get controlSlugs() {\n    return this.control.children.map(c => c.slug);\n  }\n\n  get mediaControlSlugs() {\n    return this.control.children\n      .filter(c => c.options.type === \"wpmedia\")\n      .map(c => c.slug);\n  }\n\n  appendVariableToTitle(variable: string) {\n    const title = this.internalValue.titleTemplate;\n    const duplicated = title.includes(`{${variable}}`);\n\n    if (duplicated) return;\n\n    const newTitleTemplate = `${title} {${variable}}`.trim();\n    this.update(newTitleTemplate, \"titleTemplate\");\n  }\n\n  update(text: string | null, field: string) {\n    this.emit({\n      ...this.internalValue,\n      [field]: text ?? \"\"\n    });\n  }\n\n  updateGalleryMode(galleryMode: boolean) {\n    this.emit({\n      ...this.internalValue,\n      galleryMode\n    });\n  }\n\n  emit(repeaterOptions: RepeaterOptions) {\n    this.$emit(\"input\", repeaterOptions);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioRepeaterOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioRepeaterOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioRepeaterOptions.vue?vue&type=template&id=01ec0e22&\"\nimport script from \"./ElementStudioRepeaterOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioRepeaterOptions.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioRepeaterOptions.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\ninstallComponents(component, {VCheckbox})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-dropdown-options\"},[_c('h2',{staticClass:\"mb-2\"},[_vm._v(\"Dropdown options\")]),(_vm.control.options.type === 'dropdown')?[(this.element.htmlTag.options.length > 0)?_c('NiceButton',{on:{\"click\":_vm.populateWithHtmlTagOptions}},[_vm._v(\"Populate with HTML Tag Options\")]):_vm._e(),_c('v-checkbox',{attrs:{\"input-value\":!!_vm.internalValue.populate,\"label\":\"Populate dropdown dynamically\",\"hide-details\":\"\"},on:{\"change\":_vm.updateEnablePopulate}}),(_vm.internalValue.populate)?[_c('v-divider',{staticClass:\"my-3\"}),_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Populate from a Repeater's Input\")]),(_vm.internalValue.populate.fetchDataAction)?_c('div',[_vm._v(\" Populating from server data. To use items instead, clear those fields below. \")]):(_vm.repeaterPaths.length)?_c('div',[_c('v-combobox',{attrs:{\"label\":\"Path\",\"items\":_vm.repeaterPaths,\"value\":_vm.internalValue.populate.path,\"hide-details\":\"\",\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updatePopulateValue('path', $event)}}}),_c('v-combobox',{attrs:{\"label\":\"Label\",\"items\":_vm.possibleValues,\"value\":_vm.internalValue.populate.text,\"hide-details\":\"\",\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updatePopulateValue('text', $event)}}}),_c('v-combobox',{attrs:{\"label\":\"Value\",\"items\":_vm.possibleValues,\"value\":_vm.internalValue.populate.value,\"hide-details\":\"\",\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updatePopulateValue('value', $event)}}})],1):_c('div',[_c('h4',[_vm._v(\"No repeaters presenta\")])]),_c('v-divider',{staticClass:\"my-3\"}),_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Populate from server data\")]),_c('v-text-field',{attrs:{\"label\":\"Fetch data action route name\",\"value\":_vm.internalValue.populate.fetchDataAction,\"clearable\":\"\",\"hide-details\":\"\"},on:{\"input\":function($event){return _vm.updatePopulateValue('fetchDataAction', $event)}}}),_c('v-combobox',{attrs:{\"label\":\"Fetch context path\",\"items\":_vm.controlPaths,\"value\":_vm.internalValue.populate.fetchContextPath,\"clearable\":\"\",\"hide-details\":\"\"},on:{\"input\":function($event){return _vm.updatePopulateValue('fetchContextPath', $event)}}}),_c('h3',[_vm._v(\"Refetch data if a control's value changes (specify path)\")]),_c('Repeater',{attrs:{\"value\":_vm.internalValue.populate.refetchPaths},on:{\"input\":_vm.updateRefetchPaths},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar repeaterIndex = ref.index;\nreturn [_c('v-combobox',{staticClass:\"mb-2\",attrs:{\"items\":_vm.controlPaths,\"value\":_vm.internalValue.populate.refetchPaths[repeaterIndex],\"hide-details\":\"\"},on:{\"input\":function($event){return _vm.updateRefetchPath(repeaterIndex, $event)}}})]}}],null,false,3001308231)}),_c('v-divider',{staticClass:\"my-3\"}),_c('ElementStudioConditionInput',{attrs:{\"title\":\"Filtering\",\"label\":\"Show items in the dropdown only if a condition is met\",\"path-starts-with\":((_vm.internalValue.populate.path) + \".\"),\"value\":_vm.internalValue.populate.condition},on:{\"input\":_vm.updateCondition}})]:_vm._e()]:_vm._e(),(!_vm.internalValue.populate)?[_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Dropdown items\")]),_c('Repeater',{attrs:{\"path\":_vm.path,\"value\":_vm.dropdownItems,\"control\":_vm.control},on:{\"input\":_vm.updateDropdownItems},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar repeatedIndex = ref.index;\nreturn [_vm._v(\" Label \"),_c('TextInput',{staticClass:\"mb-2\",attrs:{\"value\":_vm.dropdownItems[repeatedIndex].text,\"testId\":\"element-studio-control-dropdown-label-input\"},on:{\"input\":function($event){return _vm.updateDropdownItem(\n              Object.assign({}, _vm.dropdownItems[repeatedIndex],\n                {text: $event || ''}),\n              repeatedIndex\n            )}}}),_vm._v(\" Value \"),_c('TextInput',{attrs:{\"value\":_vm.dropdownItems[repeatedIndex].value,\"testId\":\"element-studio-control-dropdown-value-input\"},on:{\"input\":function($event){return _vm.updateDropdownItem(\n              Object.assign({}, _vm.dropdownItems[repeatedIndex],\n                {value: $event || ''}),\n              repeatedIndex\n            )}}}),(_vm.control.options.type === 'button_bar')?_c('div',{staticClass:\"breakdance-dropdown-input d-flex mt-2\"},[(_vm.dropdownItems[repeatedIndex].icon)?_c('div',{staticClass:\"mr-2 d-flex align-center\"},[_c('Icon',{attrs:{\"icon\":_vm.dropdownItems[repeatedIndex].icon,\"size\":\"18\"}})],1):_vm._e(),_c('ElementStudioIconsAutocomplete',{attrs:{\"value\":_vm.dropdownItems[repeatedIndex].icon},on:{\"input\":function($event){return _vm.updateDropdownItem(\n                Object.assign({}, _vm.dropdownItems[repeatedIndex],\n                  {icon: $event}),\n                repeatedIndex\n              )}}})],1):_vm._e()]}}],null,false,280151685)})]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-autocomplete',{staticClass:\"breakdance-dense-select breakdance-white-gray-outlined-input\",attrs:{\"label\":\"Icon\",\"dense\":\"\",\"solo\":\"\",\"flat\":\"\",\"filled\":\"\",\"hide-details\":\"\",\"clearable\":\"\",\"placeholder\":\"CloseIcon\",\"items\":_vm.iconNames,\"value\":_vm.value},on:{\"input\":function($event){return _vm.$emit('input', $event)}}})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { IconName, iconNames } from \"@/lib/icons/icons\";\n@Component({})\nexport default class ElementStudioIconsAutocomplete extends Vue {\n  @Prop()\n  value!: IconName | string;\n\n  get iconNames() {\n    return iconNames;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioIconsAutocomplete.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioIconsAutocomplete.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioIconsAutocomplete.vue?vue&type=template&id=5d00ae73&\"\nimport script from \"./ElementStudioIconsAutocomplete.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioIconsAutocomplete.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\ninstallComponents(component, {VAutocomplete})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport {\n  ButtonBarOrDropdownItem,\n  Control,\n  ControlConditions,\n  DropdownOptions,\n  PopulateOptions,\n  PopulateWithFetch\n} from \"@/types/controls\";\nimport { ElementStudioContext } from \"./ElementStudioTabsAndPanels.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport ElementStudioConditionInput from \"@/components/ElementStudio/ElementStudioConditionInput.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { getElementControlByElementControlPathWithPrefix } from \"@/lib/elements/utils\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport ElementStudioIconsAutocomplete from \"@/components/ElementStudio/ElementStudioIconsAutocomplete.vue\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\n\nconst DEFAULT_POPULATE = {\n  path: \"\",\n  text: \"\",\n  value: \"\",\n  condition: undefined,\n  fetchDataAction: \"\",\n  fetchContextPath: \"\",\n  refetchPaths: []\n};\n\n@Component({\n  components: {\n    NiceButton,\n    ElementStudioIconsAutocomplete,\n    Icon,\n    DropdownInput,\n    Dropdown,\n    ElementStudioConditionInput,\n    Repeater,\n    TextInput\n  }\n})\nexport default class ElementStudioDropdownOptions extends Vue {\n  @Prop()\n  value!: DropdownOptions;\n\n  @Prop()\n  control!: Control;\n\n  @Prop()\n  path!: string;\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  get internalValue() {\n    return this.value || {};\n  }\n\n  get repeaterPaths() {\n    return this.context.getPathsToAllControls([\"repeater\"]);\n  }\n\n  get controlPaths() {\n    return this.context.getPathsToAllControls();\n  }\n\n  get possibleValues() {\n    const path = this.internalValue?.populate?.path;\n\n    if (!path) return [];\n\n    const control = this.getControl(path);\n\n    if (!control) return [];\n\n    const result = control.children.map(c => c.slug);\n\n    if (!result) return [];\n\n    return result;\n  }\n\n  getControl(path: string) {\n    return getElementControlByElementControlPathWithPrefix(this.element, path);\n  }\n\n  get populate() {\n    return this.internalValue.populate || DEFAULT_POPULATE;\n  }\n\n  get dropdownItems() {\n    // @ts-ignore\n    return this.control.options.items || [{ value: \"value\", text: \"Label\" }];\n  }\n\n  get element() {\n    return this.context.element();\n  }\n\n  updateDropdownItems(newItems: ButtonBarOrDropdownItem[]) {\n    this.$emit(\"updateDropdownItems\", newItems);\n  }\n\n  updateDropdownItem(newItem: ButtonBarOrDropdownItem, index: number) {\n    this.$emit(\"updateDropdownItem\", { newItem, index });\n  }\n\n  updateEnablePopulate(enabled: boolean) {\n    if (enabled) {\n      this.emit({\n        populate: DEFAULT_POPULATE\n      });\n    } else {\n      this.emit(undefined);\n    }\n  }\n\n  updateCondition(newCondition: ControlConditions) {\n    const newPopulate = defensiveCopy(this.populate);\n    newPopulate.condition = newCondition;\n\n    this.emit({\n      populate: newPopulate\n    });\n  }\n\n  updatePopulateValue(\n    key:\n      | keyof Omit<PopulateOptions, \"condition\">\n      | keyof Omit<PopulateWithFetch, \"refetchPaths\">,\n    value: string\n  ) {\n    const newPopulate = defensiveCopy(this.populate);\n\n    newPopulate[key] = value;\n\n    this.emit({\n      populate: newPopulate\n    });\n  }\n\n  updateRefetchPaths(newRefetchPaths: ({} | string)[]) {\n    const newPopulate = defensiveCopy(this.populate);\n\n    // Turn objects into string. It happens when Repeater adds a new item\n    newPopulate.refetchPaths = newRefetchPaths.map(dependency =>\n      typeof dependency === \"string\" ? dependency : \"\"\n    );\n\n    this.emit({\n      populate: newPopulate\n    });\n  }\n\n  updateRefetchPath(index: number, newValue: string) {\n    const newPopulate = defensiveCopy(this.populate);\n\n    if (!newPopulate.refetchPaths) {\n      return;\n    }\n\n    newPopulate.refetchPaths[index] = newValue;\n\n    this.emit({\n      populate: newPopulate\n    });\n  }\n\n  populateWithHtmlTagOptions() {\n    if (!this.element.htmlTag.options) {\n      return;\n    }\n\n    const items = this.element.htmlTag.options.map(option => ({\n      text: option,\n      value: option\n    }));\n\n    this.updateDropdownItems(items);\n  }\n\n  emit(dropdownOptions: DropdownOptions | undefined) {\n    this.$emit(\"input\", dropdownOptions);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDropdownOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDropdownOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioDropdownOptions.vue?vue&type=template&id=24444096&\"\nimport script from \"./ElementStudioDropdownOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioDropdownOptions.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioDropdownOptions.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VCheckbox,VCombobox,VDivider,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-dropdown-options\"},[_c('h2',{staticClass:\"mb-2\"},[_vm._v(\"Breakpoint options\")]),_vm._v(\" Support Multiple \"),_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Support Multiple\",\"input-value\":_vm.value && !!_vm.value.multiple,\"hide-details\":\"\"},on:{\"change\":_vm.updateMultiple}}),_vm._v(\" Enable Never \"),_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Enable Never\",\"input-value\":_vm.value && !!_vm.value.enableNever,\"hide-details\":\"\"},on:{\"change\":_vm.updateEnableNever}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { BreakpointOptions } from \"@/types/controls\";\nimport defensiveCopy from \"@/util/defensive-copy\";\n\n@Component({\n  components: {}\n})\nexport default class ElementStudioBreakpointOptions extends Vue {\n  @Prop()\n  value!: BreakpointOptions;\n\n  updateMultiple(multiple: boolean) {\n    const newBreakpointOptions = defensiveCopy(this.value);\n    newBreakpointOptions.multiple = multiple;\n    this.emit(newBreakpointOptions);\n  }\n\n  updateEnableNever(enableNever: boolean) {\n    const newBreakpointOptions = defensiveCopy(this.value);\n    newBreakpointOptions.enableNever = enableNever;\n    this.emit(newBreakpointOptions);\n  }\n\n  emit(breakpointOptions: BreakpointOptions | undefined) {\n    this.$emit(\"input\", breakpointOptions);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioBreakpointOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioBreakpointOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioBreakpointOptions.vue?vue&type=template&id=4660824a&\"\nimport script from \"./ElementStudioBreakpointOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioBreakpointOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\ninstallComponents(component, {VCheckbox})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-variable-options\"},[_c('h3',[_vm._v(\"Variables\")]),_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"label\":\"Enable variables\",\"input-value\":_vm.internalValue.enabled,\"hide-details\":\"\"},on:{\"change\":_vm.toggleEnabled}}),(_vm.internalValue.enabled)?[_c('Repeater',{attrs:{\"path\":_vm.path,\"value\":_vm.variables,\"control\":_vm.control},on:{\"input\":_vm.updateVariableItems},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar repeatedIndex = ref.index;\nreturn [_vm._v(\" Label \"),_c('TextInput',{staticClass:\"mb-2\",attrs:{\"value\":_vm.variables[repeatedIndex].label,\"testId\":\"element-studio-control-variable-label-input\"},on:{\"input\":function($event){return _vm.updateVariableItem(\n              Object.assign({}, _vm.variables[repeatedIndex],\n                {label: $event}),\n              repeatedIndex\n            )}}}),_vm._v(\" Value \"),_c('TextInput',{attrs:{\"value\":_vm.variables[repeatedIndex].value,\"testId\":\"element-studio-control-variable-value-input\"},on:{\"input\":function($event){return _vm.updateVariableItem(\n              Object.assign({}, _vm.variables[repeatedIndex],\n                {value: $event}),\n              repeatedIndex\n            )}}})]}}],null,false,98037988)}),_c('v-checkbox',{attrs:{\"input-value\":!!_vm.internalValue.populate,\"label\":\"Populate variables based on a Repeater Input\"},on:{\"change\":_vm.updateEnablePopulate}}),(_vm.internalValue.populate)?_c('div',[_c('div',[_c('v-combobox',{attrs:{\"label\":\"Path\",\"items\":_vm.paths,\"value\":_vm.internalValue.populate.path},on:{\"input\":function($event){return _vm.updatePopulateValue('path', $event)}}}),_c('v-combobox',{attrs:{\"label\":\"Label\",\"items\":_vm.possibleValues,\"value\":_vm.internalValue.populate.text},on:{\"input\":function($event){return _vm.updatePopulateValue('text', $event)}}}),_c('v-combobox',{attrs:{\"label\":\"Value\",\"items\":_vm.possibleValues,\"value\":_vm.internalValue.populate.value},on:{\"input\":function($event){return _vm.updatePopulateValue('value', $event)}}})],1),_c('ElementStudioConditionInput',{attrs:{\"title\":\"Filtering\",\"label\":\"Show items in the variable only if a condition is met\",\"path-starts-with\":((_vm.internalValue.populate.path) + \".\"),\"value\":_vm.internalValue.populate.condition},on:{\"input\":_vm.updateCondition}}),_c('v-divider')],1):_vm._e()]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport {\n  textAndRichTextVariableItem,\n  Control,\n  ControlConditions,\n  textAndRichTextVariableOptions\n} from \"@/types/controls\";\nimport { ElementStudioContext } from \"./ElementStudioTabsAndPanels.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport ElementStudioConditionInput from \"@/components/ElementStudio/ElementStudioConditionInput.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { getElementControlByElementControlPathWithPrefix } from \"@/lib/elements/utils\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport ElementStudioIconsAutocomplete from \"@/components/ElementStudio/ElementStudioIconsAutocomplete.vue\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\n\nconst DEFAULT_POPULATE = {\n  path: \"\",\n  text: \"\",\n  value: \"\",\n  condition: undefined\n};\n\n@Component({\n  components: {\n    NiceButton,\n    ElementStudioIconsAutocomplete,\n    Icon,\n    ElementStudioConditionInput,\n    Repeater,\n    TextInput\n  }\n})\nexport default class ElementStudioVariableOptions extends Vue {\n  @Prop()\n  value!: textAndRichTextVariableOptions;\n\n  @Prop()\n  control!: Control;\n\n  @Prop()\n  path!: string;\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  enabled = false;\n\n  get internalValue() {\n    return this.value || {};\n  }\n\n  get paths() {\n    return this.context.getPathsToAllControls([\"repeater\"]);\n  }\n\n  get possibleValues() {\n    const path = this.internalValue?.populate?.path;\n\n    if (!path) return [];\n\n    const control = this.getControl(path);\n\n    if (!control) return [];\n\n    const result = control.children.map(c => c.slug);\n\n    if (!result) return [];\n\n    return result;\n  }\n\n  getControl(path: string) {\n    return getElementControlByElementControlPathWithPrefix(this.element, path);\n  }\n\n  get populate() {\n    return this.internalValue.populate || DEFAULT_POPULATE;\n  }\n\n  get variables() {\n    return (\n      this.control.options.variableItems || [{ value: \"value\", text: \"Label\" }]\n    );\n  }\n\n  get element() {\n    return this.context.element();\n  }\n\n  updateVariableItems(newItems: textAndRichTextVariableItem[]) {\n    this.$emit(\"updateVariableItems\", newItems);\n  }\n\n  updateVariableItem(newItem: textAndRichTextVariableItem, index: number) {\n    this.$emit(\"updateVariableItem\", { newItem, index });\n  }\n\n  updateEnablePopulate(enabled: boolean) {\n    if (enabled) {\n      this.emit({\n        populate: DEFAULT_POPULATE\n      });\n    } else {\n      this.emit({\n        populate: undefined\n      });\n    }\n  }\n\n  updateCondition(newCondition: ControlConditions) {\n    const newPopulate = defensiveCopy(this.populate);\n    newPopulate.condition = newCondition;\n\n    this.emit({\n      populate: newPopulate\n    });\n  }\n\n  updatePopulateValue(key: \"path\" | \"text\" | \"value\", value: string) {\n    const newPopulate = defensiveCopy(this.populate);\n\n    newPopulate[key] = value;\n\n    this.emit({\n      populate: newPopulate\n    });\n  }\n\n  toggleEnabled(value: boolean) {\n    this.emit({\n      enabled: value\n    });\n  }\n\n  emit(variableOptions: textAndRichTextVariableOptions | undefined) {\n    this.$emit(\"input\", {\n      ...this.internalValue,\n      ...variableOptions\n    });\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioVariableOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioVariableOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioVariableOptions.vue?vue&type=template&id=186a7e8a&\"\nimport script from \"./ElementStudioVariableOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioVariableOptions.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioVariableOptions.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VDivider } from 'vuetify/lib/components/VDivider';\ninstallComponents(component, {VCheckbox,VCombobox,VDivider})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-media-options\"},[_c('div',{staticClass:\"mb-3\"},[_c('h2',{staticClass:\"mb-2\"},[_vm._v(\"WP Media Options\")]),_c('v-checkbox',{attrs:{\"label\":\"Enable gallery mode\",\"input-value\":_vm.internalValue.multiple,\"hide-details\":\"\"},on:{\"change\":_vm.updateMultiple}})],1),_c('v-checkbox',{attrs:{\"label\":\"Allow only certain file types\",\"input-value\":_vm.fileTypesEnabled,\"hide-details\":\"\"},on:{\"change\":_vm.updateEnableFileTypes}}),(_vm.fileTypesEnabled)?_c('v-autocomplete',{staticClass:\"mt-2\",attrs:{\"label\":\"Accepted File Types\",\"value\":_vm.internalValue.acceptedFileTypes,\"items\":_vm.types,\"multiple\":true,\"hint\":\"All file types are allowed by default.\"},on:{\"input\":_vm.updateType}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport {\n  MediaOptions,\n  MediaOptionsType,\n  MediaOptionsTypeV\n} from \"@/types/media\";\n\nconst DEFAULT_MEDIA_OPTIONS = {\n  acceptedFileTypes: undefined,\n  multiple: false\n};\n\n@Component({\n  components: { DropdownInput, Repeater }\n})\nexport default class ElementStudioMediaOptions extends Vue {\n  @Prop()\n  value!: MediaOptions | null;\n\n  get fileTypesEnabled() {\n    return Array.isArray(this.internalValue.acceptedFileTypes);\n  }\n\n  get types() {\n    return MediaOptionsTypeV.types.map(type => type.value);\n  }\n\n  get internalValue() {\n    return this.value || DEFAULT_MEDIA_OPTIONS;\n  }\n\n  updateType(acceptedFileTypes: MediaOptionsType[] | undefined) {\n    this.emit({\n      ...this.internalValue,\n      acceptedFileTypes\n    });\n  }\n\n  updateMultiple(multiple: boolean) {\n    this.emit({\n      ...this.internalValue,\n      multiple\n    });\n  }\n\n  updateEnableFileTypes(enabled: boolean) {\n    if (enabled) {\n      this.updateType([]);\n    } else {\n      this.updateType(undefined);\n    }\n  }\n\n  emit(mediaOptions: MediaOptions) {\n    this.$emit(\"input\", mediaOptions);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioMediaOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioMediaOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioMediaOptions.vue?vue&type=template&id=04e51593&\"\nimport script from \"./ElementStudioMediaOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioMediaOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\ninstallComponents(component, {VAutocomplete,VCheckbox})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-media-size-options\"},[_c('div',{staticClass:\"mb-3\"},[_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Media Size Options\")]),_c('v-combobox',{attrs:{\"label\":\"Image Path\",\"value\":_vm.internalValue.imagePropertyPath,\"items\":_vm.paths,\"hint\":\"Will only show an image's available sizes. Use [] when inside a repeater.\",\"persistent-hint\":\"\",\"clearable\":\"\"},on:{\"input\":_vm.updatePath}}),(_vm.internalValue.imagePropertyPath)?_c('v-checkbox',{staticClass:\"mb-3 mt-2\",attrs:{\"input-value\":_vm.internalValue.disableSrcset,\"label\":\"Don't add srcset attribute to the Image object\",\"persistent-hint\":\"\",\"hide-details\":\"\"},on:{\"change\":_vm.toggleSrcset}}):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport { MediaSizeOptions } from \"@/types/media\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\n\n@Component({\n  components: { DropdownInput, Repeater }\n})\nexport default class ElementStudioMediaSizeOptions extends Vue {\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  @Prop()\n  value?: MediaSizeOptions;\n\n  get internalValue() {\n    return this.value || {};\n  }\n\n  get paths() {\n    return this.context.getPathsToAllControls([\"wpmedia\"]);\n  }\n\n  updatePath(path: string) {\n    this.emit({\n      ...this.internalValue,\n      imagePropertyPath: path || \"\"\n    });\n  }\n\n  toggleSrcset(disableSrcset: boolean) {\n    this.emit({\n      ...this.internalValue,\n      disableSrcset\n    });\n  }\n\n  emit(mediaOptions: MediaSizeOptions) {\n    this.$emit(\"input\", mediaOptions);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioMediaSizeOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioMediaSizeOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioMediaSizeOptions.vue?vue&type=template&id=1e278c3b&\"\nimport script from \"./ElementStudioMediaSizeOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioMediaSizeOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\ninstallComponents(component, {VCheckbox,VCombobox})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-icon-options\"},[_c('div',{staticClass:\"mb-3\"},[_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Icon Options\")]),_c('v-combobox',{attrs:{\"clearable\":\"\",\"multiple\":\"\",\"value\":_vm.internalValue.suggestions,\"label\":\"Suggestions\"},on:{\"input\":_vm.updateSuggestions}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport { IconOptions } from \"@/types/controls\";\n\n@Component({\n  components: { DropdownInput, Repeater }\n})\nexport default class ElementStudioIconOptions extends Vue {\n  @Prop()\n  value!: IconOptions | null;\n\n  get internalValue() {\n    return this.value || {};\n  }\n\n  updateSuggestions(newSuggestions: string[]) {\n    this.emit({\n      ...this.internalValue,\n      suggestions: newSuggestions\n    });\n  }\n\n  emit(mediaOptions: IconOptions) {\n    this.$emit(\"input\", mediaOptions);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioIconOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioIconOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioIconOptions.vue?vue&type=template&id=1dd963c8&\"\nimport script from \"./ElementStudioIconOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioIconOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\ninstallComponents(component, {VCombobox})\n","import { SpacingBarSlugs } from \"@/lib/elements/constants\";\nimport { SpacingBarDescription } from \"@/types/elements\";\n\nexport function getSpacingBarsFromPresetSlug(\n  slug: SpacingBarSlugs,\n  twigPath: string\n): SpacingBarDescription[] {\n  function getSpaceBar(\n    position: \"outside\" | \"inside\",\n    property: \"margin\" | \"padding\",\n    direction: \"top\" | \"right\" | \"bottom\" | \"left\",\n    controlType: \"control\" | \"complex\" | \"not_responsive\"\n  ) {\n    let affectedPropertyPath = \"\";\n\n    if (controlType === \"control\") {\n      affectedPropertyPath = `${twigPath}.${property}_${direction}.%%BREAKPOINT%%`;\n    } else if (controlType === \"complex\") {\n      affectedPropertyPath = `${twigPath}.${property}.%%BREAKPOINT%%.${direction}`;\n    } else {\n      affectedPropertyPath = `${twigPath}.${property}.${direction}`;\n    }\n\n    return {\n      location: `${position}-${direction}`,\n      cssProperty: `${property}-${direction}`,\n      affectedPropertyPath\n    } as SpacingBarDescription;\n  }\n\n  const marginAll = [\n    getSpaceBar(\"outside\", \"margin\", \"top\", \"complex\"),\n    getSpaceBar(\"outside\", \"margin\", \"bottom\", \"complex\"),\n    getSpaceBar(\"outside\", \"margin\", \"right\", \"complex\"),\n    getSpaceBar(\"outside\", \"margin\", \"left\", \"complex\")\n  ];\n\n  const paddingAll = [\n    getSpaceBar(\"inside\", \"padding\", \"top\", \"complex\"),\n    getSpaceBar(\"inside\", \"padding\", \"bottom\", \"complex\"),\n    getSpaceBar(\"inside\", \"padding\", \"right\", \"complex\"),\n    getSpaceBar(\"inside\", \"padding\", \"left\", \"complex\")\n  ];\n\n  const marginY = [\n    getSpaceBar(\"outside\", \"margin\", \"top\", \"control\"),\n    getSpaceBar(\"outside\", \"margin\", \"bottom\", \"control\")\n  ];\n\n  const marginX = [\n    getSpaceBar(\"outside\", \"margin\", \"right\", \"control\"),\n    getSpaceBar(\"outside\", \"margin\", \"left\", \"control\")\n  ];\n\n  const paddingY = [\n    getSpaceBar(\"inside\", \"padding\", \"top\", \"control\"),\n    getSpaceBar(\"inside\", \"padding\", \"bottom\", \"control\")\n  ];\n\n  const paddingX = [\n    getSpaceBar(\"inside\", \"padding\", \"right\", \"control\"),\n    getSpaceBar(\"inside\", \"padding\", \"left\", \"control\")\n  ];\n\n  const allNotResponsive = [\n    getSpaceBar(\"outside\", \"margin\", \"top\", \"not_responsive\"),\n    getSpaceBar(\"outside\", \"margin\", \"bottom\", \"not_responsive\"),\n    getSpaceBar(\"outside\", \"margin\", \"right\", \"not_responsive\"),\n    getSpaceBar(\"outside\", \"margin\", \"left\", \"not_responsive\"),\n\n    getSpaceBar(\"inside\", \"padding\", \"top\", \"not_responsive\"),\n    getSpaceBar(\"inside\", \"padding\", \"bottom\", \"not_responsive\"),\n    getSpaceBar(\"inside\", \"padding\", \"right\", \"not_responsive\"),\n    getSpaceBar(\"inside\", \"padding\", \"left\", \"not_responsive\")\n  ];\n\n  switch (slug) {\n    case \"spacing_all\":\n      return [...marginAll, ...paddingAll];\n    case \"spacing_all_y\":\n      return [...marginY, ...paddingY];\n    case \"spacing_all_x\":\n      return [...marginX, ...paddingX];\n    case \"spacing_margin_all\":\n      return marginAll;\n    case \"spacing_margin_y\":\n      return marginY;\n    case \"spacing_margin_x\":\n      return marginX;\n    case \"spacing_padding_all\":\n      return paddingAll;\n    case \"spacing_padding_y\":\n      return paddingY;\n    case \"spacing_padding_x\":\n      return paddingX;\n    case \"spacing_all_not_responsive\":\n      return allNotResponsive;\n  }\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-post-chooser-options\"},[_c('div',{staticClass:\"mb-3\"},[_c('h2',{staticClass:\"mb-2\"},[_vm._v(\"Post Chooser Options\")]),_c('div',{staticClass:\"mt-2\"},[_c('h4',{staticClass:\"mb-1\"},[_vm._v(\"Post Type\")]),_c('TextInput',{attrs:{\"value\":_vm.internalValue.postType},on:{\"input\":function($event){return _vm.update('postType', $event)}}})],1),_c('v-checkbox',{attrs:{\"label\":\"Multiple\",\"input-value\":_vm.internalValue.multiple,\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.update('multiple', $event)}}}),_c('v-checkbox',{attrs:{\"label\":\"Show Thumbnails\",\"input-value\":_vm.internalValue.showThumbnails,\"hide-details\":\"\"},on:{\"change\":function($event){return _vm.update('showThumbnails', $event)}}})],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport { PostChooserOptions } from \"@/types/post-chooser\";\n\nconst DEFAULT_CHOOSER_OPTIONS = {\n  multiple: false,\n  showThumbnails: false,\n  postType: \"post\"\n};\n\n@Component({\n  components: { TextInput, DropdownInput, Repeater }\n})\nexport default class ElementStudioMediaOptions extends Vue {\n  @Prop()\n  value!: PostChooserOptions;\n\n  get internalValue() {\n    return this.value || DEFAULT_CHOOSER_OPTIONS;\n  }\n\n  updateMultiple(multiple: boolean) {\n    this.emit({\n      ...this.internalValue,\n      multiple\n    });\n  }\n\n  update(field: string, value: string | null) {\n    this.emit({\n      ...this.internalValue,\n      [field]: value ?? \"\"\n    });\n  }\n\n  emit(options: PostChooserOptions) {\n    this.$emit(\"input\", options);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioPostChooserOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioPostChooserOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioPostChooserOptions.vue?vue&type=template&id=bc36e576&\"\nimport script from \"./ElementStudioPostChooserOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioPostChooserOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\ninstallComponents(component, {VCheckbox})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-media-options mb-3\"},[_c('h2',{staticClass:\"mb-2\"},[_vm._v(\"Video Options\")]),_c('v-autocomplete',{attrs:{\"label\":\"Providers\",\"value\":_vm.internalValue.providers,\"items\":_vm.types,\"multiple\":true,\"hint\":\"All providers are allowed by default.\"},on:{\"input\":_vm.updateProviders}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport {\n  OEmbedProvider,\n  OEmbedProviderV,\n  VideoOptions\n} from \"@/types/controls\";\n\nconst DEFAULT_VIDEO_OPTIONS = {\n  providers: []\n};\n\n@Component({\n  components: { DropdownInput, Repeater }\n})\nexport default class ElementStudioVideoOptions extends Vue {\n  @Prop()\n  value!: VideoOptions | null;\n\n  get types() {\n    return OEmbedProviderV.types.map(type => type.value);\n  }\n\n  get internalValue() {\n    return this.value || DEFAULT_VIDEO_OPTIONS;\n  }\n\n  updateProviders(providers: OEmbedProvider[] | undefined) {\n    this.emit({\n      ...this.internalValue,\n      providers\n    });\n  }\n\n  emit(options: VideoOptions) {\n    this.$emit(\"input\", options);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioVideoOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioVideoOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioVideoOptions.vue?vue&type=template&id=563fd947&\"\nimport script from \"./ElementStudioVideoOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioVideoOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\ninstallComponents(component, {VAutocomplete})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-media-options mb-3\"},[_c('h3',{staticClass:\"mb-2\"},[_vm._v(\"Alert Box Options\")]),_c('DropdownInput',{staticClass:\"mb-4\",attrs:{\"placeholder\":\"Style\",\"items\":_vm.styles,\"value\":_vm.internalValue.style},on:{\"input\":_vm.updateStyle}}),_c('TipTapWrapper',{attrs:{\"value\":_vm.internalValue.content},on:{\"input\":_vm.updateContent}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport {\n  AlertBoxOptions,\n  AlertBoxStyleV,\n  AlertBoxStyle\n} from \"@/types/controls\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport TipTapWrapper from \"@/components/Reusable/CustomInputs/3rdPartyWrappers/TipTapWrapper.vue\";\n\nconst DEFAULT_OPTIONS: AlertBoxOptions = {\n  style: \"default\",\n  content: \"\"\n};\n\n@Component({\n  components: { DropdownInput, TipTapWrapper }\n})\nexport default class ElementStudioAlertBoxOptions extends Vue {\n  @Prop()\n  value!: AlertBoxOptions;\n\n  get internalValue() {\n    return this.value || DEFAULT_OPTIONS;\n  }\n\n  get styles() {\n    return AlertBoxStyleV.types.map(type => type.value);\n  }\n\n  updateStyle(style: AlertBoxStyle) {\n    this.emit({\n      ...this.internalValue,\n      style\n    });\n  }\n\n  updateContent(content: string | null) {\n    this.emit({\n      ...this.internalValue,\n      content: content ?? \"\"\n    });\n  }\n\n  emit(alertBoxOptions: AlertBoxOptions) {\n    this.$emit(\"input\", alertBoxOptions);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioAlertBoxOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioAlertBoxOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioAlertBoxOptions.vue?vue&type=template&id=b89503c4&\"\nimport script from \"./ElementStudioAlertBoxOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioAlertBoxOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-focus-point-options mb-3\"},[_c('h2',{staticClass:\"mb-2\"},[_vm._v(\"Focus Point Options\")]),_c('v-checkbox',{staticClass:\"mb-3\",attrs:{\"label\":\"Enable Grid Mode\",\"hide-details\":\"\",\"input-value\":_vm.internalValue.gridMode},on:{\"change\":_vm.updateGridMode}}),_c('v-autocomplete',{staticClass:\"mb-2\",attrs:{\"label\":\"Image Path\",\"value\":_vm.internalValue.imagePropertyPath,\"items\":_vm.paths,\"persistent-hint\":\"\",\"hint\":\"Shows an image as background of this input\",\"clearable\":\"\",\"disabled\":_vm.internalValue.gridMode},on:{\"input\":_vm.updatePath}}),(_vm.internalValue.gridMode)?_c('AlertBox',{attrs:{\"options\":{\n      type: 'info',\n      content: 'Not available when grid mode is enabled.'\n    }}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport { FocusPointOptions } from \"@/types/controls\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport AlertBox from \"@/components/Reusable/CustomInputs/AlertBox.vue\";\n\n@Component({\n  components: { AlertBox, DropdownInput, Repeater }\n})\nexport default class ElementStudioVideoOptions extends Vue {\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  @Prop()\n  value!: FocusPointOptions | null;\n\n  get internalValue() {\n    return this.value || {};\n  }\n\n  get paths() {\n    return this.context.getPathsToAllControls([\"wpmedia\"]);\n  }\n\n  updatePath(path: string) {\n    this.emit({\n      ...this.internalValue,\n      imagePropertyPath: path || \"\"\n    });\n  }\n\n  updateGridMode(gridMode: boolean) {\n    this.emit({\n      ...this.internalValue,\n      gridMode\n    });\n  }\n\n  emit(options: FocusPointOptions) {\n    this.$emit(\"input\", options);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioFocusPointOptions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioFocusPointOptions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioFocusPointOptions.vue?vue&type=template&id=748eb54a&\"\nimport script from \"./ElementStudioFocusPointOptions.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioFocusPointOptions.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\ninstallComponents(component, {VAutocomplete,VCheckbox})\n","import { PresetSection } from \"@/types/element-studio\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport {\n  presetToPhp,\n  slugToPhpSlug\n} from \"@/lib/elements/studio/element-to-php\";\nimport * as t from \"io-ts\";\nimport slugify from \"slugify\";\nimport { getItemNamespaceFromSlug } from \"@/lib/elements/studio/misc\";\n\nexport async function savePresetToServer(\n  preset: PresetSection,\n  directoryPath: string,\n  filename: string,\n  slug: string\n) {\n  return await makeWordPressAjaxRequest({\n    action: \"breakdance_save_preset\",\n    dataToPost: {\n      directoryPath,\n      filename,\n      preset: presetToPhp(\n        slugToPhpSlug(slug),\n        preset.section,\n        getItemNamespaceFromSlug(slug)\n      )\n    },\n    decoder: t.unknown\n  });\n}\n\nexport function getSlugFromNamespaceAndFilename(\n  namespace: string,\n  filename: string\n) {\n  return `${namespace}\\\\${slugify(filename)}`;\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio-hide-control-input\"},[_c('v-checkbox',{attrs:{\"input-value\":!!_vm.value,\"label\":\"Hide Control From Specific Elements\",\"hide-details\":\"\"},on:{\"change\":_vm.toggleControl}}),(!!_vm.value)?_c('v-combobox',{attrs:{\"label\":\"Elements\",\"items\":_vm.items,\"value\":_vm.value,\"multiple\":\"\"},on:{\"input\":_vm.updateValue}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport { ElementStudioContext } from \"./ElementStudioTabsAndPanels.vue\";\nimport { configStore } from \"@/store/store-accessor\";\n\n@Component({})\nexport default class ElementStudioHideControlInput extends Vue {\n  @Prop()\n  value!: string[] | undefined;\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  get items() {\n    return Object.keys(configStore.elements);\n  }\n\n  toggleControl(enabled: boolean) {\n    if (enabled) {\n      this.$emit(\"input\", []);\n    } else {\n      this.$emit(\"remove\");\n    }\n  }\n\n  updateValue(value: string[]) {\n    this.$emit(\"input\", value);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioHideControlInput.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioHideControlInput.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioHideControlInput.vue?vue&type=template&id=7faf1f3e&\"\nimport script from \"./ElementStudioHideControlInput.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioHideControlInput.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\ninstallComponents(component, {VCheckbox,VCombobox})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport {\n  Control,\n  ControlConditions,\n  ControlType,\n  CONTROL_TYPES,\n  RangeOptions,\n  DropdownOptions,\n  ButtonBarOrDropdownItem,\n  CodeOptionsV,\n  ShadowOptionsV,\n  ShadowOptions,\n  CodeOptions,\n  DatePickerOptionsV,\n  textAndRichTextVariableItem,\n  ControlOptions,\n  BreakpointOptions,\n  LayoutType,\n  controlLayoutTypes\n} from \"@/types/controls\";\nimport { ElementStudioContext } from \"./ElementStudioTabsAndPanels.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport draggable from \"vuedraggable\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport ShittyTextInput from \"@/components/Reusable/CustomInputs/ShittyTextInput.vue\";\nimport CopyButton from \"@/components/Reusable/CopyButton.vue\";\nimport TwigCodeHelper from \"./TwigCodeHelper.vue\";\nimport ElementStudioConditionInput from \"./ElementStudioConditionInput.vue\";\nimport ElementStudioUnitOptions from \"./ElementStudioUnitOptions.vue\";\n\nimport lodash from \"lodash\";\nimport { getHash } from \"@/util/hash\";\nimport { configStore, uiStore } from \"@/store/store\";\nimport { UnitOptions } from \"@/types/unit\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport ElementStudioRangeOptions from \"@/components/ElementStudio/ElementStudioRangeOptions.vue\";\nimport ElementStudioRepeaterOptions from \"@/components/ElementStudio/ElementStudioRepeaterOptions.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport ElementStudioDropdownOptions from \"@/components/ElementStudio/ElementStudioDropdownOptions.vue\";\nimport ElementStudioBreakpointOptions from \"@/components/ElementStudio/ElementStudioBreakpointOptions.vue\";\nimport ElementStudioVariableOptions from \"@/components/ElementStudio/ElementStudioVariableOptions.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport {\n  getDynamicPathAcceptsItems,\n  getPathWithoutRepeaterIndex\n} from \"@/lib/dynamic-data/utils\";\nimport Copyable from \"@/components/ElementStudio/Copyable.vue\";\nimport {\n  doesControlTypeAcceptChildren,\n  isControlTypeARepeater\n} from \"@/lib/elements/utils\";\nimport ElementStudioMediaOptions from \"@/components/ElementStudio/ElementStudioMediaOptions.vue\";\nimport ElementStudioMediaSizeOptions from \"@/components/ElementStudio/ElementStudioMediaSizeOptions.vue\";\nimport ElementStudioIconOptions from \"@/components/ElementStudio/ElementStudioIconOptions.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { spacingBarsPresetSlug } from \"@/lib/elements/constants\";\nimport { getSpacingBarsFromPresetSlug } from \"@/lib/elements/studio/spacing-bars\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\nimport ElementStudioPostChooserOptions from \"@/components/ElementStudio/ElementStudioPostChooserOptions.vue\";\nimport { jsonStringifyOrUndefined } from \"@/util/json-stringify-or-undefined\";\nimport ElementStudioIconsAutocomplete from \"@/components/ElementStudio/ElementStudioIconsAutocomplete.vue\";\nimport InlineRepeater from \"@/components/Reusable/CustomInputs/InlineRepeater.vue\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport { isNestingRuleAllowedInside } from \"@/lib/tree/nesting\";\nimport ElementStudioVideoOptions from \"@/components/ElementStudio/ElementStudioVideoOptions.vue\";\nimport ElementStudioAlertBoxOptions from \"@/components/ElementStudio/ElementStudioAlertBoxOptions.vue\";\nimport ElementStudioFocusPointOptions from \"@/components/ElementStudio/ElementStudioFocusPointOptions.vue\";\nimport { DynamicFieldReturnType } from \"@/types/dynamic-property-path\";\nimport { slugToPhpSlug } from \"@/lib/elements/studio/element-to-php\";\nimport ElementStudioSaveNewDialog from \"@/components/ElementStudio/ElementStudioSaveNewDialog.vue\";\nimport { ElementStudioSaveLocationWithName } from \"@/types/element-studio\";\nimport slugify from \"slugify\";\nimport { logNotificationOfSameItem } from \"@/lib/elements/studio/misc\";\nimport {\n  getSlugFromNamespaceAndFilename,\n  savePresetToServer\n} from \"@/lib/elements/studio/presets\";\nimport { pipe } from \"fp-ts/function\";\nimport { fold } from \"fp-ts/Either\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport ElementStudioHideControlInput from \"@/components/ElementStudio/ElementStudioHideControlInput.vue\";\nimport { SubscriptionMode, subscriptionMode } from \"@/types/load\";\n\n@Component({\n  name: \"ControlSectionOrControl\",\n  components: {\n    ElementStudioHideControlInput,\n    ElementStudioSaveNewDialog,\n    ElementStudioFocusPointOptions,\n    ElementStudioVideoOptions,\n    ElementStudioIconsAutocomplete,\n    IconButton,\n    InlineRepeater,\n    ElementStudioBreakpointOptions,\n    Icon,\n    ElementStudioIconOptions,\n    ElementStudioMediaSizeOptions,\n    ElementStudioMediaOptions,\n    ElementStudioPostChooserOptions,\n    TextInput,\n    Copyable,\n    ElementStudioDropdownOptions,\n    ElementStudioVariableOptions,\n    DropdownInput,\n    ElementStudioRepeaterOptions,\n    ElementStudioRangeOptions,\n    Dropdown,\n    CopyButton,\n    ShittyTextInput,\n    Repeater,\n    ControlSectionOrControl,\n    draggable,\n    Accordion,\n    TwigCodeHelper,\n    ElementStudioConditionInput,\n    ElementStudioUnitOptions,\n    ElementStudioAlertBoxOptions\n  }\n})\nexport default class ControlSectionOrControl extends Vue {\n  @Prop()\n  path!: string;\n\n  @Prop()\n  parentPath!: string;\n\n  @Prop()\n  index!: number;\n\n  @Prop()\n  value!: Control;\n\n  @Prop()\n  twigParentPath!: string;\n\n  @Prop()\n  parentControl!: Control | undefined;\n\n  codeHelpOpen = false;\n  showContentEditableCode = false;\n  showNewPresetDialog = false;\n\n  // can't have media queries within media queries\n  get canHaveMediaQueries() {\n    return !!this.parentControl?.enableMediaQueries;\n  }\n\n  get parentType() {\n    return this.parentControl?.options.type;\n  }\n\n  get keyToRerenderCodeHelp() {\n    const json = jsonStringifyOrUndefined(this.value);\n    return getHash(`${json}`);\n  }\n\n  accordionState: Array<undefined | boolean | null> = [false];\n\n  get isPresetSection() {\n    return !!this.presetSectionSlug;\n  }\n\n  get presetSectionSlug() {\n    return this.value.options.sectionOptions?.preset?.slug;\n  }\n\n  get isSection() {\n    return this.value.options.type === \"section\";\n  }\n\n  get isRepeater() {\n    return isControlTypeARepeater(this.value.options.type);\n  }\n\n  get isParentARepeater() {\n    return isControlTypeARepeater(this.parentType);\n  }\n\n  get controlAcceptsChildren() {\n    return doesControlTypeAcceptChildren(this.value.options.type);\n  }\n\n  get isInContentTab() {\n    return this.path.startsWith(\"contentSections\");\n  }\n\n  get spacingBarPresetSlug() {\n    if (!this.isSection) return undefined;\n\n    return spacingBarsPresetSlug.find(\n      slug => slug === this.value.options?.sectionOptions?.preset?.slug\n    );\n  }\n\n  get classList() {\n    return {\n      \"element-studio-control-or-control-section\": true,\n      \"element-studio-control-section\": true,\n      \"element-studio-control\": !this.controlAcceptsChildren\n    };\n  }\n\n  get dynamicPropertyPath() {\n    const dynamicPropertyPaths = this.context.element().dynamicPropertyPaths;\n\n    if (!dynamicPropertyPaths) return false;\n\n    const dynPropPathThatMatchesTwigPath = dynamicPropertyPaths.find(\n      dynPropPath =>\n        getPathWithoutRepeaterIndex(dynPropPath.path) ===\n        this.twigPathWithoutRepeaterIndex\n    );\n\n    return dynPropPathThatMatchesTwigPath;\n  }\n\n  get twigPathWithoutRepeaterIndex() {\n    return getPathWithoutRepeaterIndex(\n      `${this.twigParentPath}${this.isParentARepeater ? \"[]\" : \"\"}.${\n        this.value.slug\n      }`\n    );\n  }\n\n  get dynamicPathAcceptsItems() {\n    return getDynamicPathAcceptsItems();\n  }\n\n  get contentEditableHelperCode() {\n    return `// Add to the control value's wrapper HTML to make it ContentEditable\n\n    ${this.twigPathForContentEditable}\n    `;\n  }\n\n  get twigPathForContentEditable() {\n    if (this.isRepeater || this.isParentARepeater) {\n      return `{{ dataContentEditablePropertyPath('${this.twigParentPath}['~ loop.index0 ~ '].your_control') }}`;\n    }\n\n    return `{{ dataContentEditablePropertyPath('${this.twigPathWithoutRepeaterIndex}') }}`;\n  }\n\n  get datePickerOptions() {\n    return Object.keys(DatePickerOptionsV.props);\n  }\n\n  get elementStudioData() {\n    return this.context.getElementStudioData();\n  }\n\n  async saveNewPreset(newPreset: ElementStudioSaveLocationWithName) {\n    if (!this.isSection) return;\n\n    const filename = slugify(newPreset.name);\n    const newSlug = getSlugFromNamespaceAndFilename(\n      newPreset.namespace,\n      filename\n    );\n\n    if (\n      this.elementStudioData.presets.find(preset => preset.slug === newSlug)\n    ) {\n      logNotificationOfSameItem(\n        this.elementStudioData.saveLocations,\n        newPreset,\n        \"preset\"\n      );\n\n      return;\n    }\n\n    const presetSectionFromCurrentSection = this.value;\n\n    presetSectionFromCurrentSection.options.sectionOptions = {\n      ...presetSectionFromCurrentSection.options.sectionOptions,\n      preset: {\n        slug: newSlug\n      }\n    };\n\n    pipe(\n      await savePresetToServer(\n        {\n          slug: newSlug,\n          section: presetSectionFromCurrentSection\n        },\n        newPreset.directoryPath,\n        filename,\n        newSlug\n      ),\n      fold(\n        e => {\n          console.error(e);\n          NotificationLogger.log.message(\n            \"Failed to save element, check console\"\n          );\n        },\n        () => {\n          const newData = defensiveCopy(this.elementStudioData);\n\n          newData.presets.push({\n            slug: newSlug,\n            directoryPath: newPreset.directoryPath\n          });\n\n          newData.presetSections.push({\n            slug: newSlug,\n            section: presetSectionFromCurrentSection\n          });\n\n          this.context.updateElementStudioData(newData);\n\n          // Replace current control with the newly created preset\n          this.context.updateControl(\n            this.parentPath,\n            this.index,\n            presetSectionFromCurrentSection\n          );\n        }\n      )\n    );\n  }\n\n  toggleAccordion(index: number) {\n    /*\n    Vue cannot make a value reactive when you directly set an item with the index,\n    e.g. vm.items[indexOfItem] = newValue\n    Therefore, use Vue.set\n    */\n    Vue.set(this.accordionState, index, !this.accordionState[index]);\n  }\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  handleDrag(newControls: Control[]) {\n    this.context.replaceControls(`${this.path}.children`, newControls);\n  }\n\n  get canPaste() {\n    return (\n      this.controlAcceptsChildren &&\n      !this.isPresetSection &&\n      uiStore.clipboard.elementStudio &&\n      uiStore.clipboard.elementStudio.copiedControl\n    );\n  }\n\n  get canReplace() {\n    if (\n      !uiStore.clipboard.elementStudio ||\n      !uiStore.clipboard.elementStudio.copiedControl\n    ) {\n      return false;\n    }\n\n    const controlToPaste = uiStore.clipboard.elementStudio.copiedControl;\n\n    // Only allow to replace sections with other sections.\n    // In a preset, there must always be a section at the top\n    if (this.isSection && controlToPaste.options.type !== \"section\") {\n      return false;\n    }\n\n    return true;\n  }\n\n  handlePaste() {\n    if (!this.controlAcceptsChildren) return;\n\n    if (!uiStore.clipboard.elementStudio) return;\n\n    const controlToPaste = uiStore.clipboard.elementStudio.copiedControl;\n\n    if (!controlToPaste) return;\n\n    this.context.pasteControl(`${this.path}.children`, controlToPaste);\n  }\n\n  handleReplace() {\n    if (!uiStore.clipboard.elementStudio) return;\n\n    const controlToPaste = uiStore.clipboard.elementStudio.copiedControl;\n\n    if (!controlToPaste) return;\n\n    this.context.updateControl(this.parentPath, this.index, controlToPaste);\n  }\n\n  handleMakePreset() {\n    this.showNewPresetDialog = true;\n  }\n\n  get controlTypes() {\n    const capitalize = (s: string) => {\n      return s.charAt(0).toUpperCase() + s.slice(1);\n    };\n\n    const disallowedInContent: ControlType[] = [\n      // \"spacing_complex\",\n      // \"gradient\",\n      // \"unit\",\n      // \"color\",\n      // \"breakpoint_dropdown\",\n      // \"border_complex\",\n      // \"shadow\"\n    ];\n\n    return CONTROL_TYPES.sort()\n      .filter(this.removeDisallowedControlTypes)\n      .map(c => {\n        return {\n          text: capitalize(c),\n          value: c\n        };\n      })\n      .map(x => {\n        if (this.isInContentTab && disallowedInContent.includes(x.value)) {\n          return {\n            ...x,\n            disabled: true\n          };\n        } else {\n          return x;\n        }\n      });\n  }\n\n  copy() {\n    const copiedControl = defensiveCopy(this.value);\n    uiStore.copyElementStudioControl(copiedControl);\n  }\n\n  get availablePresetSections() {\n    return this.context.getPresetSections().map(preset => {\n      return {\n        text: preset.slug,\n        value: preset.slug\n      };\n    });\n  }\n\n  updatePresetSectionSlug(newPresetSectionSlug: string) {\n    const newPresetSection = defensiveCopy(\n      this.context.getPresetSection(newPresetSectionSlug)\n    );\n\n    if (newPresetSection !== undefined) {\n      newPresetSection.section.options.sectionOptions = {\n        ...newPresetSection.section.options.sectionOptions,\n        type: \"popout\"\n      };\n\n      this.context.updateControl(\n        this.parentPath,\n        this.index,\n        newPresetSection.section\n      );\n\n      this.turnRelativePropPathsToWhitelistInFlatPropsIntoAbsolutePathsAndUpdateElement(\n        newPresetSection.section.options.sectionOptions,\n        newPresetSection.section.slug\n      );\n      this.turnRelativeDynamicPropPathsIntoAbsoluteAndUpdateElement(\n        newPresetSection.section.options.sectionOptions,\n        newPresetSection.section.slug\n      );\n    }\n  }\n\n  turnRelativePropPathsToWhitelistInFlatPropsIntoAbsolutePathsAndUpdateElement(\n    sectionOptions: ControlOptions[\"sectionOptions\"],\n    newControlSlugArg: string\n  ) {\n    if (\n      !sectionOptions ||\n      !sectionOptions.preset?.relativePropertyPathsToWhitelistInFlatProps\n    ) {\n      return;\n    }\n\n    const newControlSlug =\n      newControlSlugArg || slugToPhpSlug(newControlSlugArg);\n\n    let newPropertyPathsToWhitelistInFlatProps = defensiveCopy(\n      this.context.element().propertyPathsToWhitelistInFlatProps\n    );\n\n    const absolutePathToWhitelistInFlatProps = sectionOptions.preset.relativePropertyPathsToWhitelistInFlatProps.map(\n      relativePath => `${this.twigParentPath}.${newControlSlug}.${relativePath}`\n    );\n\n    // when changing the slug, we don't want to leave the old paths\n    const oldAbsolutePathToWhitelistInFlatProps = sectionOptions.preset.relativePropertyPathsToWhitelistInFlatProps.map(\n      relativePath =>\n        `${this.twigParentPath}.${this.value.slug}.${relativePath}`\n    );\n\n    if (newPropertyPathsToWhitelistInFlatProps) {\n      // prevent adding the same path multiple times\n      newPropertyPathsToWhitelistInFlatProps = newPropertyPathsToWhitelistInFlatProps.filter(\n        path => {\n          return (\n            !absolutePathToWhitelistInFlatProps.includes(path) &&\n            !oldAbsolutePathToWhitelistInFlatProps.includes(path)\n          );\n        }\n      );\n\n      newPropertyPathsToWhitelistInFlatProps = [\n        ...newPropertyPathsToWhitelistInFlatProps,\n        ...absolutePathToWhitelistInFlatProps\n      ];\n    } else {\n      newPropertyPathsToWhitelistInFlatProps = absolutePathToWhitelistInFlatProps;\n    }\n\n    // this func is called right after updating a control. Wait until the changes propagate before updating again\n    forceNextTick(() =>\n      this.context.updateElementValue(\n        \"propertyPathsToWhitelistInFlatProps\",\n        newPropertyPathsToWhitelistInFlatProps\n      )\n    );\n  }\n\n  turnRelativeDynamicPropPathsIntoAbsoluteAndUpdateElement(\n    sectionOptions: ControlOptions[\"sectionOptions\"],\n    newControlSlugArg: string\n  ) {\n    if (\n      !sectionOptions ||\n      !sectionOptions.preset?.relativeDynamicPropertyPaths\n    ) {\n      return;\n    }\n    const newControlSlug =\n      newControlSlugArg || slugToPhpSlug(newControlSlugArg);\n\n    let newDynamicPropertyPaths = defensiveCopy(\n      this.context.element().dynamicPropertyPaths\n    );\n\n    const absoluteDynamicPropPaths = sectionOptions.preset.relativeDynamicPropertyPaths.map(\n      relativeDynamicPropertyPath => ({\n        ...relativeDynamicPropertyPath,\n        path: `${this.twigParentPath}.${newControlSlug}.${relativeDynamicPropertyPath.path}`\n      })\n    );\n\n    // when changing the slug, we don't want to leave the old paths\n    const oldAbsoluteDynamicPropPaths = sectionOptions.preset.relativeDynamicPropertyPaths.map(\n      relativeDynamicPropertyPath => ({\n        ...relativeDynamicPropertyPath,\n        path: `${this.twigParentPath}.${this.value.slug}.${relativeDynamicPropertyPath.path}`\n      })\n    );\n\n    if (newDynamicPropertyPaths) {\n      // prevent adding the same path multiple times\n      newDynamicPropertyPaths = newDynamicPropertyPaths.filter(\n        newDynPropPath => {\n          return (\n            !absoluteDynamicPropPaths.some(\n              dynPropPath => dynPropPath.path === newDynPropPath.path\n            ) &&\n            !oldAbsoluteDynamicPropPaths.some(\n              dynPropPath => dynPropPath.path === newDynPropPath.path\n            )\n          );\n        }\n      );\n\n      newDynamicPropertyPaths = [\n        ...newDynamicPropertyPaths,\n        ...absoluteDynamicPropPaths\n      ];\n    } else {\n      newDynamicPropertyPaths = absoluteDynamicPropPaths;\n    }\n\n    // this func is called right after updating a control. Wait until the changes propagate before updating again\n    forceNextTick(() =>\n      this.context.updateElementValue(\n        \"dynamicPropertyPaths\",\n        newDynamicPropertyPaths\n      )\n    );\n  }\n\n  removeDisallowedControlTypes(controlType: ControlType) {\n    const disallowedControlTypes: ControlType[] = [\n      \"class\",\n      // \"condition\", // TODO: what could element devs create if we allowed the condition control? Probably some cool stuff\n      \"font_family\",\n      \"global_colors\",\n      \"message\"\n    ];\n\n    return !disallowedControlTypes.includes(controlType);\n  }\n\n  addControl() {\n    this.context.addControl(this.path);\n  }\n\n  deleteControl() {\n    this.context.deleteControl(this.parentPath, this.index);\n  }\n\n  updateControlType(newType: ControlType) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.type = newType;\n\n    if (!this.isInContentTab) {\n      // if we are in the content tab all controls already have a vertical layout\n      const controlTypesThatShouldHaveVerticalLayout: ControlType[] = [\n        \"code\",\n        \"repeater\",\n        \"inline_repeater\",\n        \"spacing_complex\",\n        \"border_complex\",\n        \"gradient\",\n        \"icon\",\n        \"richtext\",\n        \"shadow\",\n        \"wpmedia\",\n        \"text\",\n        \"focus_point\",\n        \"url\"\n      ];\n\n      if (controlTypesThatShouldHaveVerticalLayout.includes(newType)) {\n        newControl.options.layout = \"vertical\";\n      } else {\n        newControl.options.layout = \"inline\";\n      }\n    }\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateVariableItems(newItems: textAndRichTextVariableItem[]) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.variableItems = newItems;\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateVariableItem({\n    newItem,\n    index\n  }: {\n    newItem: textAndRichTextVariableItem;\n    index: number;\n  }) {\n    const newControl = defensiveCopy(this.value);\n\n    if (!newControl.options.variableItems) {\n      newControl.options.variableItems = [];\n    }\n\n    newControl.options.variableItems[index] = newItem;\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateDropdownItems(newItems: ButtonBarOrDropdownItem[]) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.items = newItems;\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateDropdownItem({\n    newItem,\n    index\n  }: {\n    newItem: ButtonBarOrDropdownItem;\n    index: number;\n  }) {\n    const newControl = defensiveCopy(this.value);\n\n    if (!newControl.options.items) {\n      newControl.options.items = [];\n    }\n\n    // @ts-ignore\n    newControl.options.items[index] = newItem;\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateOptions(\n    newOptions:\n      | UnitOptions\n      | RangeOptions\n      | DropdownOptions\n      | BreakpointOptions,\n    optionsPath: string\n  ) {\n    const newControl = defensiveCopy(this.value);\n    const path = `options.${optionsPath}`;\n\n    lodash.set(newControl, path, newOptions);\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  get availableDescendantElements() {\n    return Object.values(configStore.elements)\n      .filter(element => {\n        if (!element) return false;\n\n        // direct children are added automatically in the control\n        // And we don't want to add an element that isn't allowed inside\n        if (element.nestingRule.restrictedToBeADirectChildOf) {\n          return false;\n        }\n\n        return isNestingRuleAllowedInside(\n          element.nestingRule,\n          this.context.element().nestingRule,\n          this.context.element().slug\n        );\n      })\n      .map(element => element?.slug);\n  }\n\n  updateAddExtraElementsBySlug(newElementSlugs: string[]) {\n    const newControl = defensiveCopy(this.value);\n\n    newControl.options.addRegisteredChildrenOptions = {\n      ...newControl.options.addRegisteredChildrenOptions,\n      addExtraElementsBySlug: newElementSlugs\n    };\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  get autofocusSupported() {\n    switch (this.value.options.type) {\n      case \"text\":\n        return true;\n      case \"video\":\n        return true;\n      default:\n        return false;\n    }\n  }\n\n  get codeTypes() {\n    return CodeOptionsV.props.language.types.map(type => type.value);\n  }\n\n  updateCodeType(language: CodeOptions[\"language\"]) {\n    const newControl = defensiveCopy(this.value);\n\n    newControl.options.codeOptions = {\n      ...newControl.options.codeOptions,\n      language\n    };\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  get shadowTypes() {\n    return ShadowOptionsV.props.type.types.map(type => type.value);\n  }\n\n  updateShadowType(type: ShadowOptions[\"type\"]) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.shadowOptions = {\n      ...newControl.options.shadowOptions,\n      type\n    };\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateTextOptionsMultiline(multiline: boolean) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.textOptions = {\n      ...newControl.options.textOptions,\n      multiline: multiline\n    };\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateButtonBarOptionsSize(big: boolean) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.buttonBarOptions = {\n      ...newControl.options.buttonBarOptions,\n      size: big ? \"big\" : \"small\",\n      layout: \"default\"\n    };\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateButtonBarOptionsLayout(multiline: boolean) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.buttonBarOptions = {\n      ...newControl.options.buttonBarOptions,\n      layout: multiline ? \"multiline\" : \"default\",\n      size: \"small\"\n    };\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  addPreset() {\n    this.context.addPreset(this.path);\n  }\n\n  get controlLayouts() {\n    return [\"inline\", \"vertical\"];\n  }\n\n  updateControlLayout(newLayout: \"inline\" | \"vertical\" | undefined) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.layout = newLayout;\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateKeywords(newKeywords: string | null) {\n    const newControl = defensiveCopy(this.value);\n    newControl.keywords =\n      newKeywords === null ? undefined : newKeywords.split(\",\");\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  get keywordsValue() {\n    return this.value.keywords ? this.value.keywords.join(\",\") : \"\";\n  }\n\n  updatePlaceholder(newPlaceholder: string | null) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.placeholder = newPlaceholder ?? undefined;\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateColorType(type: \"solidOnly\" | \"solidAndGradient\") {\n    const newControl = defensiveCopy(this.value);\n\n    newControl.options.colorOptions = {\n      ...newControl.options.colorOptions,\n      type\n    };\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateConditions(newConditions: ControlConditions) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.condition = newConditions;\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateHideForElements(newValue: string[]) {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.hideForElements = newValue;\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  deleteHideForElements() {\n    const newControl = defensiveCopy(this.value);\n    delete newControl.options.hideForElements;\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  get sectionLayouts() {\n    return controlLayoutTypes;\n  }\n\n  updateSectionLayoutType(newLayout: LayoutType = \"accordion\") {\n    const newControl = defensiveCopy(this.value);\n    newControl.options.sectionOptions = {\n      ...newControl.options.sectionOptions,\n      type: newLayout\n    };\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  /*\n   * Updating on \"focus out\" because the \"key\" prop is the slug\n   * So changing the label -> slug will re-render the component while the user is typing\n   */\n  updateLabelAndSlugOnFocusOut(event: { target: HTMLInputElement }) {\n    const newLabel = event.target.value;\n    const newControl = defensiveCopy(this.value);\n\n    newControl.label = newLabel;\n    newControl.slug =\n      // replace anything non-alphanumeric with \"_\".\n      // \"Display: time (ms!)\" becomes \"display_time_ms_\"\n      newLabel.replace(/[^a-z0-9]+/gi, \"_\").toLowerCase();\n\n    if (/^\\d/.test(newControl.slug)) {\n      // it starts with a number\n      newControl.slug = `slug_cant_start_with_number_${newControl.slug}`;\n    }\n\n    this.context.updateControl(this.parentPath, this.index, newControl);\n\n    // State that depends on the slug will be invalid after changing it\n    this.updateElementPropertiesNotTiedToControl(newControl);\n  }\n\n  updateControlBoolean(\n    enable: boolean,\n    property: \"enableHover\" | \"enableMediaQueries\"\n  ) {\n    const newControl = defensiveCopy(this.value);\n    newControl[property] = enable;\n    this.context.updateControl(this.parentPath, this.index, newControl);\n  }\n\n  updateDynamicPropertyPaths(\n    enable: boolean,\n    accepts: DynamicFieldReturnType = \"string\",\n    proOnly = false\n  ) {\n    let newDynamicPropertyPaths = defensiveCopy(\n      this.context.element().dynamicPropertyPaths\n    );\n\n    // Avoids duplicating the element on each change\n    if (newDynamicPropertyPaths) {\n      newDynamicPropertyPaths = newDynamicPropertyPaths.filter(\n        propPath => propPath.path !== this.twigPathWithoutRepeaterIndex\n      );\n    }\n\n    if (enable) {\n      if (!newDynamicPropertyPaths) {\n        newDynamicPropertyPaths = [];\n      }\n\n      newDynamicPropertyPaths.push({\n        accepts,\n        path: this.twigPathWithoutRepeaterIndex,\n        ...(proOnly && { proOnly })\n      });\n    }\n\n    this.context.updateElementValue(\n      \"dynamicPropertyPaths\",\n      newDynamicPropertyPaths\n    );\n  }\n\n  isSpacingBarEnabled() {\n    const spacingBars = this.context.element().spacingBars;\n\n    if (!spacingBars || !spacingBars.length) return false;\n\n    if (!this.spacingBarPresetSlug) return false;\n\n    const spacingBarsAffectedPropertyPaths = getSpacingBarsFromPresetSlug(\n      this.spacingBarPresetSlug,\n      this.twigPathWithoutRepeaterIndex\n    ).map(spaceBar => spaceBar.affectedPropertyPath);\n\n    // If any current spacing bar matches a spacingBarsAffectedPropertyPaths it's enabled\n    const enabledSpaceBar = spacingBars.find(elementSpaceBar =>\n      spacingBarsAffectedPropertyPaths.includes(\n        elementSpaceBar.affectedPropertyPath\n      )\n    );\n\n    return !!enabledSpaceBar;\n  }\n\n  updateSpacingBar(enabled: boolean) {\n    if (!this.spacingBarPresetSlug) return;\n\n    let newSpacingBars = defensiveCopy(this.context.element().spacingBars);\n\n    const spacingBars = getSpacingBarsFromPresetSlug(\n      this.spacingBarPresetSlug,\n      this.twigPathWithoutRepeaterIndex\n    );\n\n    if (enabled) {\n      if (!newSpacingBars) {\n        newSpacingBars = [];\n      }\n\n      newSpacingBars = [...newSpacingBars, ...spacingBars];\n    } else if (newSpacingBars) {\n      const spacingBarsAffectedPropertyPaths = spacingBars.map(\n        spaceBar => spaceBar.affectedPropertyPath\n      );\n\n      newSpacingBars = newSpacingBars.filter(\n        elementSpaceBar =>\n          !spacingBarsAffectedPropertyPaths.includes(\n            elementSpaceBar.affectedPropertyPath\n          )\n      );\n    }\n\n    this.context.updateElementValue(\"spacingBars\", newSpacingBars);\n  }\n\n  // must be called last\n  updateElementPropertiesNotTiedToControl(newControl: Control) {\n    // nextTick to wait for props to  propagate with the new values.\n    // This avoids overriding changes since we call the functions one after another\n    // The correct way would've been to update the entire element value through context and not just a single property\n    // But I'm not refactoring everything\n    forceNextTick(() => this.updateSpacingBar(false));\n    forceNextTick(() => this.updateDynamicPropertyPaths(false));\n    forceNextTick(() => this.updatePropertyPathsToWhitelistInFlatProps(false));\n    forceNextTick(() =>\n      this.updatePropertyPathsToSsrElementWhenValueChanges(false)\n    );\n\n    this.turnRelativePropPathsToWhitelistInFlatPropsIntoAbsolutePathsAndUpdateElement(\n      newControl.options.sectionOptions,\n      newControl.slug\n    );\n\n    this.turnRelativeDynamicPropPathsIntoAbsoluteAndUpdateElement(\n      newControl.options.sectionOptions,\n      newControl.slug\n    );\n  }\n\n  get shouldControlValueBeAddedInAllBreakpoints() {\n    const propertyPathsToWhitelistInFlatProps = this.context.element()\n      .propertyPathsToWhitelistInFlatProps;\n\n    return (\n      propertyPathsToWhitelistInFlatProps &&\n      propertyPathsToWhitelistInFlatProps.includes(\n        this.twigPathWithoutRepeaterIndex\n      )\n    );\n  }\n\n  updatePropertyPathsToWhitelistInFlatProps(enable: boolean) {\n    let newPropertyPathsToWhitelistInFlatProps = defensiveCopy(\n      this.context.element().propertyPathsToWhitelistInFlatProps\n    );\n\n    if (enable) {\n      if (!newPropertyPathsToWhitelistInFlatProps) {\n        newPropertyPathsToWhitelistInFlatProps = [];\n      }\n\n      newPropertyPathsToWhitelistInFlatProps.push(\n        this.twigPathWithoutRepeaterIndex\n      );\n    } else if (newPropertyPathsToWhitelistInFlatProps) {\n      const propertyPathIndex = newPropertyPathsToWhitelistInFlatProps.findIndex(\n        (path: string) => path === this.twigPathWithoutRepeaterIndex\n      );\n\n      if (propertyPathIndex > -1) {\n        newPropertyPathsToWhitelistInFlatProps.splice(propertyPathIndex, 1);\n      }\n    }\n\n    this.context.updateElementValue(\n      \"propertyPathsToWhitelistInFlatProps\",\n      newPropertyPathsToWhitelistInFlatProps\n    );\n  }\n\n  get hasSsr() {\n    return this.context.element().template.includes(\"%%SSR%%\");\n  }\n\n  get shouldControlValueCauseSsr() {\n    const propertyPathsToSsrElementWhenValueChanges = this.context.element()\n      .propertyPathsToSsrElementWhenValueChanges;\n\n    return (\n      propertyPathsToSsrElementWhenValueChanges &&\n      propertyPathsToSsrElementWhenValueChanges.includes(\n        this.twigPathWithoutRepeaterIndex\n      )\n    );\n  }\n\n  updatePropertyPathsToSsrElementWhenValueChanges(enable: boolean) {\n    let newPropertyPathsToSsrElementWhenValueChanges = defensiveCopy(\n      this.context.element().propertyPathsToSsrElementWhenValueChanges\n    );\n\n    if (enable) {\n      if (!newPropertyPathsToSsrElementWhenValueChanges) {\n        newPropertyPathsToSsrElementWhenValueChanges = [];\n      }\n\n      newPropertyPathsToSsrElementWhenValueChanges.push(\n        this.twigPathWithoutRepeaterIndex\n      );\n    } else if (newPropertyPathsToSsrElementWhenValueChanges) {\n      newPropertyPathsToSsrElementWhenValueChanges = newPropertyPathsToSsrElementWhenValueChanges.filter(\n        (path: string) => path !== this.twigPathWithoutRepeaterIndex\n      );\n    }\n\n    this.context.updateElementValue(\n      \"propertyPathsToSsrElementWhenValueChanges\",\n      newPropertyPathsToSsrElementWhenValueChanges\n    );\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControlSectionOrControl.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ControlSectionOrControl.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ControlSectionOrControl.vue?vue&type=template&id=4816dc55&\"\nimport script from \"./ControlSectionOrControl.vue?vue&type=script&lang=ts&\"\nexport * from \"./ControlSectionOrControl.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ControlSectionOrControl.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VAutocomplete,VBtn,VCard,VCheckbox,VList,VListItem,VListItemTitle,VSelect,VSpacer,VSwitch})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { BuilderElementControls } from \"@/types/elements\";\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport ControlSectionOrControl from \"./ControlSectionOrControl.vue\";\nimport draggable from \"vuedraggable\";\nimport { Control } from \"@/types/controls\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport { uiStore } from \"@/store/store-accessor\";\n\n@Component({\n  components: {\n    ControlSectionOrControl,\n    draggable\n  }\n})\nexport default class ElementStudioControls extends Vue {\n  @Prop()\n  value!: BuilderElementControls;\n\n  @Prop()\n  section!: \"design\" | \"content\";\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  get sectionName() {\n    return `${this.section}Sections`;\n  }\n\n  handleDrag(newControls: Control[]) {\n    this.context.replaceControls(this.sectionName, newControls);\n  }\n\n  get canPaste() {\n    return (\n      uiStore.clipboard.elementStudio &&\n      uiStore.clipboard.elementStudio.copiedControl\n    );\n  }\n\n  handlePaste() {\n    if (!uiStore.clipboard.elementStudio) return;\n\n    const controlToPaste = uiStore.clipboard.elementStudio.copiedControl;\n\n    if (!controlToPaste) return;\n\n    this.context.pasteControl(this.sectionName, controlToPaste);\n  }\n\n  addSection() {\n    this.context.addControl(this.sectionName, \"section\");\n  }\n\n  addPreset() {\n    this.context.addPreset(this.sectionName);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioControls.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioControls.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioControls.vue?vue&type=template&id=d8c974a0&\"\nimport script from \"./ElementStudioControls.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioControls.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_vm._v(\" Dependencies \"),_c('Repeater',{attrs:{\"value\":_vm.value || [],\"control\":{\n      options: {\n        repeaterOptions: {\n          titleTemplate: '{title}',\n          defaultTitle: 'Dependency'\n        }\n      }\n    }},on:{\"input\":function($event){return _vm.updateDependenciesRoot($event)}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n    var repeaterIndexRoot = ref.index;\n    var value = ref.value;\nreturn [_c('v-text-field',{attrs:{\"label\":\"Title\",\"value\":value.title},on:{\"input\":function($event){return _vm.updateDependency($event, (\"[\" + repeaterIndexRoot + \"].title\"))}}}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'scripts'},on:{\"toggle\":function($event){return _vm.toggleAccordion('scripts')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" Scripts (\"+_vm._s(value.scripts ? value.scripts.length : 0)+\") \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('Repeater',{attrs:{\"value\":value.scripts,\"control\":{\n              options: { repeaterOptions: { titleTemplate: 'URL to script' } }\n            }},on:{\"input\":function($event){return _vm.updateDependencies($event, (\"[\" + repeaterIndexRoot + \"].scripts\"))}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n            var repeaterIndex = ref.index;\n            var value = ref.value;\nreturn [_c('v-autocomplete',{attrs:{\"placeholder\":\"Script\",\"value\":value,\"items\":_vm.jsLocalDependencies},on:{\"input\":function($event){return _vm.updateDependency(\n                    $event,\n                    (\"[\" + repeaterIndexRoot + \"].scripts[\" + repeaterIndex + \"]\")\n                  )}}}),(\n                  !value || _vm.dependencyIsNotLocal(value, _vm.jsLocalDependencies)\n                )?_c('div',[(value)?_c('div',[_vm._v(\"The dependency is a hardcoded value:\")]):_c('div',[_vm._v(\"Hardcode a value:\")]),_c('div',[_vm._v(\" Remember to use \"),_c('pre',[_vm._v(\"%%BREAKDANCE_ELEMENTS_PLUGIN_URL%%\")])]),_c('ShittyTextInput',{attrs:{\"value\":value},on:{\"input\":function($event){return _vm.updateDependency(\n                      $event,\n                      (\"[\" + repeaterIndexRoot + \"].scripts[\" + repeaterIndex + \"]\")\n                    )}}})],1):_vm._e(),_c('v-btn',{attrs:{\"outlined\":\"\",\"small\":\"\"},on:{\"click\":_vm.getLocalDependenciesFilesFromWordpress}},[_vm._v(\" Reload dependencies files \")])]}}],null,true)})]},proxy:true}],null,true)}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'inlineScripts'},on:{\"toggle\":function($event){return _vm.toggleAccordion('inlineScripts')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" Inline Scripts (\"+_vm._s(value.inlineScripts ? value.inlineScripts.length : 0)+\") \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('Repeater',{attrs:{\"value\":value.inlineScripts,\"control\":{\n              options: { repeaterOptions: { titleTemplate: 'JavaScript' } }\n            }},on:{\"input\":function($event){return _vm.updateDependencies(\n                $event,\n                (\"[\" + repeaterIndexRoot + \"].inlineScripts\")\n              )}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n              var repeaterIndex = ref.index;\n              var value = ref.value;\nreturn [_c('div',{staticClass:\"element-studio__execute-inline-script-dependencies\"},[_c('v-btn',{attrs:{\"small\":\"\",\"outlined\":\"\"},on:{\"click\":function($event){return _vm.executeInlineScript(\n                      (\"[\" + repeaterIndexRoot + \"].inlineScripts[\" + repeaterIndex + \"]\")\n                    )}}},[_vm._v(\" Execute code \")])],1),_c('CodeInput',{attrs:{\"value\":value,\"language\":\"javascript\",\"twig-variables\":_vm.twigVariables,\"tags\":_vm.tags},on:{\"input\":function($event){return _vm.updateDependency(\n                    $event || '',\n                    (\"[\" + repeaterIndexRoot + \"].inlineScripts[\" + repeaterIndex + \"]\")\n                  )}}})]}}],null,true)})]},proxy:true}],null,true)}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'styles'},on:{\"toggle\":function($event){return _vm.toggleAccordion('styles')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" Styles (\"+_vm._s(value.styles ? value.styles.length : 0)+\") \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('Repeater',{attrs:{\"value\":value.styles,\"control\":{\n              options: { repeaterOptions: { titleTemplate: 'URL to style' } }\n            }},on:{\"input\":function($event){return _vm.updateDependencies($event, (\"[\" + repeaterIndexRoot + \"].styles\"))}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n            var repeaterIndex = ref.index;\n            var value = ref.value;\nreturn [_c('v-autocomplete',{attrs:{\"placeholder\":\"Style\",\"value\":value,\"items\":_vm.cssLocalDependencies},on:{\"input\":function($event){return _vm.updateDependency(\n                    $event,\n                    (\"[\" + repeaterIndexRoot + \"].styles[\" + repeaterIndex + \"]\")\n                  )}}}),(\n                  !value || _vm.dependencyIsNotLocal(value, _vm.cssLocalDependencies)\n                )?_c('div',[(value)?_c('div',[_vm._v(\"The dependency is a hardcoded value:\")]):_c('div',[_vm._v(\"Hardcode a value:\")]),_c('div',[_vm._v(\" Remember to use \"),_c('pre',[_vm._v(\"%%BREAKDANCE_ELEMENTS_PLUGIN_URL%%\")])]),_c('ShittyTextInput',{attrs:{\"value\":value},on:{\"input\":function($event){return _vm.updateDependency(\n                      $event,\n                      (\"[\" + repeaterIndexRoot + \"].styles[\" + repeaterIndex + \"]\")\n                    )}}})],1):_vm._e(),_c('v-btn',{attrs:{\"outlined\":\"\",\"small\":\"\"},on:{\"click\":_vm.getLocalDependenciesFilesFromWordpress}},[_vm._v(\" Reload dependencies files \")])]}}],null,true)})]},proxy:true}],null,true)}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'inlineStyles'},on:{\"toggle\":function($event){return _vm.toggleAccordion('inlineStyles')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" Inline Styles (\"+_vm._s(value.inlineStyles ? value.inlineStyles.length : 0)+\") \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('Repeater',{attrs:{\"path\":\"inlineStyles\",\"value\":value.inlineStyles,\"control\":{\n              options: {\n                repeaterOptions: {\n                  titleTemplate: 'CSS'\n                }\n              }\n            }},on:{\"input\":function($event){return _vm.updateDependencies(\n                $event,\n                (\"[\" + repeaterIndexRoot + \"].inlineStyles\")\n              )}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n              var repeaterIndex = ref.index;\n              var value = ref.value;\nreturn [_c('CodeInput',{attrs:{\"value\":value,\"language\":\"css\",\"twig-variables\":_vm.twigVariables,\"tags\":_vm.tags},on:{\"input\":function($event){return _vm.updateDependency(\n                    $event || '',\n                    (\"[\" + repeaterIndexRoot + \"].inlineStyles[\" + repeaterIndex + \"]\")\n                  )}}})]}}],null,true)})]},proxy:true}],null,true)}),_c('div',{staticClass:\"element-studio-dependencies-separator\"}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'builderCondition'},on:{\"toggle\":function($event){return _vm.toggleAccordion('builderCondition')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" Builder Condition (\"+_vm._s(value.builderCondition ? \"present\" : \"empty\")+\") \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('CodeInput',{attrs:{\"value\":value.builderCondition,\"language\":\"javascript\",\"twig-variables\":_vm.twigVariables},on:{\"input\":function($event){return _vm.updateDependency(\n                $event || '',\n                (\"[\" + repeaterIndexRoot + \"].builderCondition\")\n              )}}}),_c('div',{class:{\n              'element-studio-action-info': true,\n              'element-studio-action-info__open': _vm.conditionInfoOpen\n            },on:{\"click\":function($event){_vm.conditionInfoOpen = !_vm.conditionInfoOpen}}},[_c('TextWithChevron',{attrs:{\"open\":_vm.conditionInfoOpen}},[_vm._t(\"default\",[_vm._v(\"Decides if the dependencies are added to the builder\")])],2),_c('div',{staticClass:\"mt-2\"},[_vm._v(\" Can run Twig and JS code. \")]),_c('div',[_vm._v(\" When left empty the dependencies will always be added. \")]),_c('div',[_vm._v(\" If any code is present and the result returns a \"),_c('code',[_vm._v(\"true\")]),_vm._v(\" value the dependencies will be added. \")]),_c('div',[_vm._v(\" If it returns \"),_c('code',[_vm._v(\"false\")]),_vm._v(\" no dependencies are added. \")])],1)]},proxy:true}],null,true)}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'frontendCondition'},on:{\"toggle\":function($event){return _vm.toggleAccordion('frontendCondition')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" Frontend Condition (\"+_vm._s(value.frontendCondition ? \"present\" : \"empty\")+\") \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('CodeInput',{attrs:{\"value\":value.frontendCondition,\"language\":\"x-php\",\"twig-variables\":_vm.twigVariables},on:{\"input\":function($event){return _vm.updateDependency(\n                $event || '',\n                (\"[\" + repeaterIndexRoot + \"].frontendCondition\")\n              )}}}),_c('div',{class:{\n              'element-studio-action-info': true,\n              'element-studio-action-info__open': _vm.conditionInfoOpen\n            },on:{\"click\":function($event){_vm.conditionInfoOpen = !_vm.conditionInfoOpen}}},[_c('TextWithChevron',{attrs:{\"open\":_vm.conditionInfoOpen}},[_vm._t(\"default\",[_vm._v(\"Decides if the dependencies are added to the frontend\")])],2),_c('div',{staticClass:\"mt-2\"},[_vm._v(\" Can run Twig and PHP code. \")]),_c('div',[_vm._v(\" When left empty the dependencies will always be added. \")]),_c('div',[_vm._v(\" If any code is present and the result returns a \"),_c('code',[_vm._v(\"true\")]),_vm._v(\" value the dependencies will be added. \")]),_c('div',[_vm._v(\" If it returns \"),_c('code',[_vm._v(\"false\")]),_vm._v(\" no dependencies are added. \")])],1)]},proxy:true}],null,true)})]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex align-center\"},[_c('Icon',{staticClass:\"mr-2\",attrs:{\"icon\":\"ChevronDownIcon\",\"rotate\":_vm.open ? '90' : undefined,\"size\":\"12\"}}),_c('b',[_vm._t(\"default\")],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Icon from \"@/components/UI/Icon.vue\";\n@Component({\n  components: { Icon }\n})\nexport default class TextWithChevron extends Vue {\n  @Prop()\n  open!: boolean;\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextWithChevron.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TextWithChevron.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TextWithChevron.vue?vue&type=template&id=ba3f4bd2&\"\nimport script from \"./TextWithChevron.vue?vue&type=script&lang=ts&\"\nexport * from \"./TextWithChevron.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import * as t from \"io-ts\";\n\nexport const TagsV = t.union([\n  t.literal(\"id\"), // Element ID\n  t.literal(\"parentId\"), // Element's parent ID\n  t.literal(\"selector\"), // Element CSS Selector\n  t.literal(\"parent_selector\"), // Parent CSS Selector\n  t.literal(\"postId\"), // Parent-most post ID\n  t.literal(\"ssr\") // SSR Content\n]);\nexport const TAGS_AVAILABLE: Tag[] = TagsV.types.map(({ value }) => value);\nexport type Tag = t.TypeOf<typeof TagsV>;\nexport type Tags = Partial<Record<Tag, string | number | null>>;\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport ShittyTextInput from \"@/components/Reusable/CustomInputs/ShittyTextInput.vue\";\nimport {\n  AvailableDependencyFilesV,\n  ElementDependencyAndCondition\n} from \"@/types/elements\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport lodash from \"lodash\";\nimport TextWithChevron from \"@/components/ElementStudio/TextWithChevron.vue\";\nimport { addOrRerunInlineScriptInHead } from \"@/lib/canvas/assets/js-in-head\";\nimport { configStore } from \"@/store/store-accessor\";\nimport { VuetifyShapeForSelect } from \"@/types/conditions\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport * as t from \"io-ts\";\nimport { TAGS_AVAILABLE } from \"@/types/tags\";\nimport { getBuilderCanvasDocument } from \"@/lib/canvas/helpers\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\n\ntype DependencyKeys = keyof ElementDependencyAndCondition;\n\n@Component({\n  components: {\n    TextInput,\n    TextWithChevron,\n    CodeInput,\n    Accordion,\n    ShittyTextInput,\n    Repeater\n  }\n})\nexport default class ElementStudioDependencies extends Vue {\n  @Prop()\n  value!: ElementDependencyAndCondition[] | false;\n\n  accordionState: DependencyKeys | \"\" = \"\";\n  index = 0;\n  conditionInfoOpen = false;\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  get tags() {\n    return TAGS_AVAILABLE;\n  }\n\n  get twigVariables() {\n    return this.context.getPathsToAllControls();\n  }\n\n  async mounted() {\n    if (configStore.localDependenciesFiles.length) return;\n\n    await this.getLocalDependenciesFilesFromWordpress();\n  }\n\n  async getLocalDependenciesFilesFromWordpress() {\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_get_local_dependency_files\",\n        decoder: t.array(AvailableDependencyFilesV),\n        resultKey: \"localDependencyFiles\"\n      }),\n      fold(\n        errors => errors.forEach(e => NotificationLogger.log.message(e.msg)),\n        localDependencyFiles => {\n          configStore.setLocalDependenciesFiles(localDependencyFiles);\n        }\n      )\n    );\n  }\n\n  updateDependenciesRoot(newValue: ElementDependencyAndCondition[]) {\n    this.context.updateDependency(newValue);\n  }\n\n  updateDependencies(newValue: ({} | string)[], path: string) {\n    const newDependencies = defensiveCopy(this.value) || [];\n\n    lodash.set(\n      newDependencies,\n      path,\n      // Turn objects into string. It happens when Repeater adds a new item\n      newValue.map(dependency =>\n        typeof dependency === \"string\" ? dependency : \"\"\n      )\n    );\n\n    this.context.updateDependency(newDependencies);\n  }\n\n  updateDependency(newValue: string, path: string) {\n    const newDependencies = defensiveCopy(this.value) || [];\n    lodash.set(newDependencies, path, newValue);\n    this.context.updateDependency(newDependencies);\n  }\n\n  toggleAccordion(state: DependencyKeys) {\n    this.accordionState = this.accordionState === state ? \"\" : state;\n  }\n\n  executeInlineScript(path: string) {\n    const inlineScript = lodash.get(this.value, path);\n\n    if (inlineScript) {\n      addOrRerunInlineScriptInHead(getBuilderCanvasDocument(), {\n        code: inlineScript,\n        origin: `Executed inline script from Element Studio`\n      });\n    }\n  }\n\n  dependencyIsNotLocal(value: string, localDepsItems: VuetifyShapeForSelect[]) {\n    return !localDepsItems.find(\n      localDep => \"value\" in localDep && localDep.value === value\n    );\n  }\n\n  get jsLocalDependencies() {\n    return this.localDependenciesAsVuetifySelectShape(\"js\");\n  }\n\n  get cssLocalDependencies() {\n    return this.localDependenciesAsVuetifySelectShape(\"css\");\n  }\n\n  localDependenciesAsVuetifySelectShape(fileType: \"js\" | \"css\") {\n    const localDependencies: VuetifyShapeForSelect[] = [];\n\n    configStore.localDependenciesFiles.forEach(dependencyFile => {\n      if (!dependencyFile.files[fileType].length) return;\n\n      localDependencies.push({ header: dependencyFile.name });\n\n      dependencyFile.files[fileType].forEach(file => {\n        localDependencies.push({\n          text: file.name,\n          value: file.url\n        });\n      });\n    });\n\n    return localDependencies;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDependencies.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDependencies.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioDependencies.vue?vue&type=template&id=724382e9&\"\nimport script from \"./ElementStudioDependencies.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioDependencies.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioDependencies.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAutocomplete,VBtn,VTextField})\n","/*\n  Avoid duplication of controls, settings and others\n  Removing external controls, settingsSections and cleaning up CSS Template before sending to PHP\n\n  PHP will re-add them all back on each render otherwise\n */\n\nimport { BuilderElement } from \"@/types/elements\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { objectGetTypedKeys } from \"@/util/type-assertions\";\n\nexport const getElementWithoutExternalValues = (elementArg: BuilderElement) => {\n  const element = defensiveCopy(elementArg);\n\n  const cleanElement = getElementWithoutExternalControls(element);\n\n  cleanElement.controls.settingsSections = [];\n  // Delete everything after '{#%---' which is the delimiter for universal twig CSS\n  cleanElement.cssTemplate = cleanElement.cssTemplate.split(\"\\n{#%---\")[0];\n\n  return cleanElement;\n};\n\n// Filter out all external controls (like AOS, motion effects, etc)\nfunction getElementWithoutExternalControls(elementArg: BuilderElement) {\n  const element = defensiveCopy(elementArg);\n\n  objectGetTypedKeys(element.controls).forEach(key => {\n    element.controls[key] = element.controls[key].filter(\n      control => !control.options.isExternal\n    );\n  });\n\n  return element;\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === _vm.actionKey},on:{\"toggle\":_vm.toggleAccordion},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" \"+_vm._s(_vm.actionName)+\" (\"+_vm._s(_vm.value && _vm.value[_vm.actionKey] ? _vm.value[_vm.actionKey].length : 0)+\") \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('b',[_vm._t(\"action-description\")],2),_c('Repeater',{attrs:{\"value\":_vm.value[_vm.actionKey],\"control\":{\n          options: {\n            repeaterOptions: {\n              titleTemplate: 'Script',\n              buttonName: 'Add script'\n            }\n          }\n        },\"default-new-value\":{ script: '' }},on:{\"input\":function($event){return _vm.updateActions($event)}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n        var repeaterIndex = ref.index;\n        var value = ref.value;\nreturn [_c('CodeInput',{attrs:{\"language\":\"javascript\",\"value\":value.script,\"twig-variables\":_vm.twigVariables,\"tags\":_vm.tags},on:{\"input\":function($event){return _vm.updateAction(\n                $event || '',\n                (_vm.actionKey + \"[\" + repeaterIndex + \"].script\")\n              )}}}),_c('div',{class:{\n              'element-studio-action-info': true,\n              'element-studio-action-info__open': _vm.actionInfoOpen\n            },on:{\"click\":function($event){_vm.actionInfoOpen = !_vm.actionInfoOpen}}},[_c('TextWithChevron',{attrs:{\"open\":_vm.actionInfoOpen}},[_vm._t(\"default\",[_vm._v(\" Available within the action's code: \")])],2),(_vm.actionKey === 'onAfterDeletedElement')?[_c('div',{staticClass:\"mt-3\"},[_vm._v(\" Tags: \"),_c('code',[_vm._v(\"%%PARENT_SELECTOR%%\")]),_vm._v(\" and \"),_c('code',[_vm._v(\"%%PARENT_ID%%\")]),_vm._v(\" are available. \")])]:[_c('div',{staticClass:\"mt-3\"},[_vm._v(\" You can use Twig to access the element properties. eg. \"),_c('code',[_vm._v(\"{ { design.background.color } }\")]),_vm._v(\". \")]),_c('div',{staticClass:\"mt-3\"},[_c('code',[_vm._v(\"%%SELECTOR%%, %%ID%%\")]),_vm._v(\" are also available. \")])]],2),(_vm.withDependencies)?_c('Repeater',{attrs:{\"value\":value.dependencies,\"control\":{\n              options: {\n                repeaterOptions: {\n                  titleTemplate: 'Dependency',\n                  buttonName: 'Add dependency'\n                }\n              }\n            }},on:{\"input\":function($event){return _vm.updateDependencies($event, repeaterIndex)}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n            var repeaterIndex2 = ref.index;\n            var value2 = ref.value;\nreturn [_c('v-combobox',{attrs:{\"items\":_vm.pathsToAllControls,\"value\":value2},on:{\"input\":function($event){return _vm.updateDependency(\n                    $event,\n                    (_vm.actionKey + \"[\" + repeaterIndex + \"].dependencies[\" + repeaterIndex2 + \"]\")\n                  )}}}),_c('div',{class:{\n                  'element-studio-action-info': true,\n                  'element-studio-action-info__open': _vm.dependencyInfoOpen\n                },on:{\"click\":function($event){_vm.dependencyInfoOpen = !_vm.dependencyInfoOpen}}},[_c('TextWithChevron',{attrs:{\"open\":_vm.dependencyInfoOpen}},[_vm._t(\"default\",[_vm._t(\"dependency-description-title\")])],2),_c('div',{staticClass:\"mt-2\"},[_vm._t(\"dependency-description\")],2)],1)]}}],null,true)}):_vm._e(),_c('v-checkbox',{attrs:{\"input-value\":value.runForAllChildren,\"label\":\"Run for all children\",\"hint\":\"beware that the Twig code running in the action will be with the child's data, including tags\",\"persistent-hint\":\"\"},on:{\"change\":function($event){return _vm.updateAction(\n                $event,\n                (_vm.actionKey + \"[\" + repeaterIndex + \"].runForAllChildren\")\n              )}}})]}}],null,true)})]},proxy:true}],null,true)})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport { BuilderActionData, BuilderActions } from \"@/types/elements\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport ShittyTextInput from \"@/components/Reusable/CustomInputs/ShittyTextInput.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport lodash from \"lodash\";\nimport TextWithChevron from \"@/components/ElementStudio/TextWithChevron.vue\";\nimport { TAGS_AVAILABLE } from \"@/types/tags\";\n\ntype BuilderActionKeys = keyof BuilderActions;\n\n@Component({\n  components: {\n    TextWithChevron,\n    CodeInput,\n    ShittyTextInput,\n    Repeater,\n    Accordion\n  }\n})\nexport default class ElementStudioAction extends Vue {\n  @Prop()\n  value!: BuilderActions | false;\n\n  @Prop()\n  actionKey!: BuilderActionKeys;\n\n  @Prop()\n  accordionState!: BuilderActionKeys | \"\";\n\n  @Prop({ default: true })\n  withDependencies!: boolean;\n\n  index = 0;\n  actionInfoOpen = false;\n  dependencyInfoOpen = false;\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  get actionName() {\n    return lodash.lowerCase(this.actionKey);\n  }\n\n  get tags() {\n    return TAGS_AVAILABLE;\n  }\n\n  get twigVariables() {\n    return this.context.getPathsToAllControls();\n  }\n\n  toggleAccordion() {\n    this.$emit(\n      \"toggle\",\n      this.accordionState === this.actionKey ? \"\" : this.actionKey\n    );\n  }\n\n  getValueOrDefault(path: BuilderActionKeys) {\n    let newActions = defensiveCopy(this.value);\n\n    if (!newActions) {\n      newActions = { [path]: [{ script: \"\" }] };\n    } else if (!newActions[path]) {\n      newActions[path] = [{ script: \"\" }];\n    }\n\n    return newActions;\n  }\n\n  updateActions(newValues: BuilderActionData[]) {\n    const newActions = this.getValueOrDefault(this.actionKey);\n\n    newActions[this.actionKey] = newValues;\n\n    this.context.updateActions(newActions);\n  }\n\n  updateAction(newValue: string, path: string) {\n    // We know it can't be false here\n    const newActions = defensiveCopy(this.value) as BuilderActions;\n\n    lodash.set(newActions, path, newValue);\n    this.context.updateActions(newActions);\n  }\n\n  updateDependencies(newValue: ({} | string)[], index: number) {\n    const newActions = this.getValueOrDefault(this.actionKey);\n\n    let action = newActions[this.actionKey];\n\n    if (!action) {\n      action = [];\n    }\n\n    // Turn objects into string. It happens when Repeater adds a new item\n    action[index].dependencies = newValue.map(script =>\n      typeof script === \"string\" ? script : \"\"\n    );\n\n    newActions[this.actionKey] = action;\n\n    this.context.updateActions(newActions);\n  }\n\n  get pathsToAllControls() {\n    const controls = this.context.element().controls;\n    return [\n      controls.designSections.length ? \"design\" : null,\n      controls.contentSections.length ? \"content\" : null,\n      ...this.context.getPathsToAllControls([], [])\n    ].filter(Boolean);\n  }\n\n  updateDependency(newValue: string, path: string) {\n    // We know it can't be false here because it can only be reached after a value being added\n    const newActions = defensiveCopy(this.value) as BuilderActions;\n\n    lodash.set(newActions, path, newValue);\n\n    this.context.updateActions(newActions);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioAction.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioAction.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioAction.vue?vue&type=template&id=40bf053f&\"\nimport script from \"./ElementStudioAction.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioAction.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioAction.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\ninstallComponents(component, {VCheckbox,VCombobox})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Repeater',{attrs:{\"value\":_vm.value || [],\"control\":{\n    options: {\n      repeaterOptions: {\n        defaultNewValue: {\n          name: '',\n          template: ''\n        },\n        titleTemplate: 'HTML Attribute',\n        buttonName: 'Add new HTML attribute'\n      }\n    }\n  }},on:{\"input\":function($event){return _vm.updateAttributes($event)}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n  var repeaterIndex = ref.index;\n  var value = ref.value;\nreturn [_c('b',[_vm._v(\"Attribute Name\")]),_c('v-text-field',{attrs:{\"value\":value.name,\"rules\":[_vm.htmlAttributeNameRule]},on:{\"input\":function($event){return _vm.updateName(repeaterIndex, $event)}}}),_c('b',[_vm._v(\"Attribute Value\")]),('template' in value)?_c('CodeInput',{attrs:{\"value\":value.template,\"language\":\"html\"},on:{\"input\":function($event){return _vm.updateTemplateValue(repeaterIndex, $event)}}}):('propertyPath' in value)?_c('v-text-field',{attrs:{\"value\":value.template},on:{\"input\":function($event){return _vm.updatePropertyPathValue(repeaterIndex, $event)}}}):('rawValue' in value)?_c('v-text-field',{attrs:{\"value\":value.template},on:{\"input\":function($event){return _vm.updateRawValue(repeaterIndex, $event)}}}):_vm._e()]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  BuilderElementAttributePropertyPathBased,\n  BuilderElementAttributes,\n  BuilderElementAttributeTemplated,\n  BuilderElementAttributeWithRawValue\n} from \"@/types/elements\";\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport draggable from \"vuedraggable\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport { inputTextValidationRules } from \"@/util/input-text-validation-rules\";\n\n@Component({\n  components: {\n    CodeInput,\n    Repeater,\n    Dropdown,\n    Accordion,\n    draggable\n  }\n})\nexport default class ElementStudioAttributes extends Vue {\n  @Prop({ default: () => [] })\n  value!: BuilderElementAttributes;\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  updateAttributes(newValue: BuilderElementAttributes) {\n    this.$emit(\"input\", newValue);\n  }\n\n  updateName(index: number, newAttributeName: string) {\n    const newValue = defensiveCopy(this.value);\n\n    if (this.htmlAttributeNameRule(newAttributeName) !== true) return;\n\n    newValue[index].name = newAttributeName.trim();\n    this.$emit(\"input\", newValue);\n  }\n\n  updateTemplateValue(index: number, newTemplate: string | null) {\n    const newValue = defensiveCopy(this.value);\n\n    (newValue[index] as BuilderElementAttributeTemplated).template =\n      newTemplate ?? \"\";\n    this.$emit(\"input\", newValue);\n  }\n\n  updatePropertyPathValue(index: number, newTemplate: string) {\n    const newValue = defensiveCopy(this.value);\n\n    (newValue[\n      index\n    ] as BuilderElementAttributePropertyPathBased).propertyPath = newTemplate;\n    this.$emit(\"input\", newValue);\n  }\n\n  updateRawValue(index: number, newTemplate: string) {\n    const newValue = defensiveCopy(this.value);\n\n    (newValue[\n      index\n    ] as BuilderElementAttributeWithRawValue).rawValue = newTemplate;\n    this.$emit(\"input\", newValue);\n  }\n\n  htmlAttributeNameRule(value: string | undefined) {\n    return inputTextValidationRules.validateHtmlAttributeName(value);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioAttributes.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioAttributes.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioAttributes.vue?vue&type=template&id=4cf0ed44&\"\nimport script from \"./ElementStudioAttributes.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioAttributes.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Repeater',{attrs:{\"value\":_vm.value || [],\"control\":{\n    options: {\n      repeaterOptions: {\n        titleTemplate: 'Class .{name}',\n        buttonName: 'Add Class',\n        defaultNewValue: {\n          name: 'my-class',\n          template: 'yes'\n        }\n      }\n    }\n  }},on:{\"input\":function($event){return _vm.updateClasses($event)}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n  var repeaterIndex = ref.index;\n  var value = ref.value;\nreturn [_c('b',[_vm._v(\"Class Name\")]),_c('v-text-field',{attrs:{\"value\":value.name,\"rules\":[_vm.htmlClassNameRule]},on:{\"input\":function($event){return _vm.updateName(repeaterIndex, $event)}}}),_c('b',[_vm._v(\"Class Condition Twig Template\")]),_c('CodeInput',{attrs:{\"value\":value.template,\"language\":\"html\"},on:{\"input\":function($event){return _vm.updateValue(repeaterIndex, $event)}}}),_c('div',{staticClass:\"mt-2\"},[_vm._v(\" The template can run Twig code. Properties like design.something.whatever are available. If the template returns a blank string, the class will not be added. If the template returns anything, the class will be added. \")]),_c('div',[_vm._v(\" (the returned value is trimmed for spaces and newlines) \")])]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport draggable from \"vuedraggable\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport { inputTextValidationRules } from \"@/util/input-text-validation-rules\";\nimport { BuilderElementAdditionalClasses } from \"@/types/elements\";\n\n@Component({\n  components: {\n    CodeInput,\n    Repeater,\n    Dropdown,\n    Accordion,\n    draggable\n  }\n})\nexport default class ElementStudioAdditionalClasses extends Vue {\n  @Prop({ default: [] })\n  value!: BuilderElementAdditionalClasses;\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  updateClasses(newValue: BuilderElementAdditionalClasses) {\n    this.$emit(\"input\", newValue);\n  }\n\n  updateName(index: number, newClassName: string) {\n    const newValue = defensiveCopy(this.value);\n\n    if (this.htmlClassNameRule(newClassName) !== true) return;\n\n    newValue[index].name = newClassName.trim();\n    this.$emit(\"input\", newValue);\n  }\n\n  updateValue(index: number, newTemplate: string | null) {\n    const newValue = defensiveCopy(this.value);\n\n    newValue[index].template = newTemplate ?? \"\";\n    this.$emit(\"input\", newValue);\n  }\n\n  htmlClassNameRule(value: string | undefined) {\n    return inputTextValidationRules.validateHtmlClassName(value);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioAdditionalClasses.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioAdditionalClasses.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioAdditionalClasses.vue?vue&type=template&id=2105a9d1&\"\nimport script from \"./ElementStudioAdditionalClasses.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioAdditionalClasses.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-card',[_c('v-card-text',[_vm._v(\" Looks Good \"),_c('DropdownInput',{attrs:{\"items\":_vm.dropdownItems,\"value\":_vm.value.looksGood,\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updateValueForKey('looksGood', $event)}}}),_c('br'),_vm._v(\" Options Are Good \"),_c('DropdownInput',{attrs:{\"items\":_vm.dropdownItems,\"value\":_vm.value.optionsGood,\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updateValueForKey('optionsGood', $event)}}}),_c('br'),_vm._v(\" Options Work \"),_c('DropdownInput',{attrs:{\"items\":_vm.dropdownItems,\"value\":_vm.value.optionsWork,\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updateValueForKey('optionsWork', $event)}}}),_c('br'),_vm._v(\" Dynamic Behavior Works \"),_c('DropdownInput',{attrs:{\"items\":_vm.dropdownItems,\"value\":_vm.value.dynamicBehaviorWorks,\"clearable\":\"\"},on:{\"input\":function($event){return _vm.updateValueForKey('dynamicBehaviorWorks', $event)}}}),_c('br'),_c('br'),_c('v-textarea',{staticStyle:{\"border\":\"1px solid var(--gray500)\"},attrs:{\"filled\":\"\",\"value\":_vm.value.notes},on:{\"input\":_vm.updateNotes}}),_c('br')],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  BuilderElementProjectManagement,\n  BuilderElementProjectManagementValue\n} from \"@/types/elements\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\n\n@Component({\n  components: { DropdownInput }\n})\nexport default class ElementStudioProjectManagement extends Vue {\n  @Prop()\n  value!: BuilderElementProjectManagement;\n\n  get dropdownItems(): BuilderElementProjectManagementValue[] {\n    return [\"yes\", \"no\", \"unknown\", \"sort of\"];\n  }\n\n  updateValueForKey(\n    key: keyof BuilderElementProjectManagement,\n    value: BuilderElementProjectManagementValue | undefined\n  ) {\n    const newBuilderElementProjectManagementValue = defensiveCopy(this.value);\n    newBuilderElementProjectManagementValue[key] = value;\n    this.emit(newBuilderElementProjectManagementValue);\n  }\n\n  updateNotes(newNotes: unknown) {\n    const newBuilderElementProjectManagementValue = defensiveCopy(this.value);\n    newBuilderElementProjectManagementValue.notes =\n      typeof newNotes === \"string\" ? newNotes : \"\";\n    this.emit(newBuilderElementProjectManagementValue);\n  }\n\n  emit(newValue: BuilderElementProjectManagement) {\n    this.$emit(\"input\", newValue);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioProjectManagement.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioProjectManagement.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioProjectManagement.vue?vue&type=template&id=6a169e7c&\"\nimport script from \"./ElementStudioProjectManagement.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioProjectManagement.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VTextarea } from 'vuetify/lib/components/VTextarea';\ninstallComponents(component, {VCard,VCardText,VTextarea})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('InlineRepeater',{attrs:{\"value\":_vm.value || []},on:{\"input\":function($event){return _vm.updateElementValue($event)}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\nvar repeaterIndex = ref.index;\nvar value = ref.value;\nreturn [_c('v-combobox',{attrs:{\"value\":value,\"hint\":\"To describe a repeater, use \\\"[]\\\". e.g: \\\"content.list.my_repeater[].url\\\"\",\"rules\":[_vm.pathRules],\"items\":_vm.allPaths},on:{\"input\":function($event){return _vm.updatePropertyPathByIndex(repeaterIndex, $event)}}})]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport draggable from \"vuedraggable\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport InlineRepeater from \"@/components/Reusable/CustomInputs/InlineRepeater.vue\";\nimport { propertyPathRule } from \"@/lib/elements/utils\";\n\n@Component({\n  components: {\n    InlineRepeater,\n    Repeater,\n    DropdownInput,\n    CodeInput,\n    Dropdown,\n    Accordion,\n    draggable\n  }\n})\nexport default class ElementStudioPropertyPaths extends Vue {\n  @Prop({ default: () => [] })\n  value!: string[];\n\n  @Prop({ default: () => [] })\n  allPaths!: string[];\n\n  updateElementValue(newValue: (string | {})[]) {\n    const newValueWithNewEntryChangedToEmptyString = newValue.map(value => {\n      if (typeof value === \"string\") {\n        return value;\n      }\n\n      return \"\";\n    });\n\n    this.$emit(\"input\", newValueWithNewEntryChangedToEmptyString);\n  }\n\n  updatePropertyPathByIndex(index: number, newPath: string | undefined) {\n    const newValue = defensiveCopy(this.value);\n\n    if (!newPath || !this.pathRules(newPath)) {\n      return;\n    }\n\n    newValue[index] = newPath.trim();\n    this.updateElementValue(newValue);\n  }\n\n  pathRules(newPath: string) {\n    return propertyPathRule(newPath);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioPropertyPaths.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioPropertyPaths.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioPropertyPaths.vue?vue&type=template&id=149653f7&\"\nimport script from \"./ElementStudioPropertyPaths.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioPropertyPaths.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\ninstallComponents(component, {VCombobox})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'dynamicPropertyPaths'},on:{\"toggle\":function($event){return _vm.toggleAccordion('dynamicPropertyPaths')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\"Dynamic Property Paths\")])]},proxy:true},{key:\"content\",fn:function(){return [_c('ElementStudioDynPropPaths',{attrs:{\"value\":_vm.value.dynamicPropertyPaths,\"all-paths\":_vm.allPaths},on:{\"input\":function($event){return _vm.updateElementValuePropPath($event, 'dynamicPropertyPaths')}}})]},proxy:true}])}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'propertyPathsToWhitelistInFlatProps'},on:{\"toggle\":function($event){return _vm.toggleAccordion('propertyPathsToWhitelistInFlatProps')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\"Property paths to whitelist in flat props\")])]},proxy:true},{key:\"content\",fn:function(){return [_c('ElementStudioPropertyPaths',{attrs:{\"value\":_vm.value.propertyPathsToWhitelistInFlatProps,\"all-paths\":_vm.allPathsWithDesignAndContent},on:{\"input\":function($event){return _vm.updateElementValuePropPath(\n            $event,\n            'propertyPathsToWhitelistInFlatProps'\n          )}}})]},proxy:true}])}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'dynamic-prop-paths'},on:{\"toggle\":function($event){return _vm.toggleAccordion('dynamic-prop-paths')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" Property paths to SSR the element when value changes \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('ElementStudioPropertyPaths',{attrs:{\"value\":_vm.value.propertyPathsToSsrElementWhenValueChanges,\"all-paths\":_vm.allPathsWithDesignAndContent},on:{\"input\":function($event){return _vm.updateElementValuePropPath(\n            $event,\n            'propertyPathsToSsrElementWhenValueChanges'\n          )}}})]},proxy:true}])}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'spacing-bars'},on:{\"toggle\":function($event){return _vm.toggleAccordion('spacing-bars')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\"Spacing Bars\")])]},proxy:true},{key:\"content\",fn:function(){return [_c('ElementStudioSpacingBars',{attrs:{\"value\":_vm.value.spacingBars}})]},proxy:true}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Repeater',{attrs:{\"value\":_vm.value || [],\"control\":{\n    options: {\n      repeaterOptions: {\n        titleTemplate: '{path} - {accepts}',\n        buttonName: 'Add new Dynamic Property Path',\n        defaultNewValue: { accepts: 'string', path: '' }\n      }\n    }\n  }},on:{\"input\":function($event){return _vm.updateElementValue($event)}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n  var repeaterIndex = ref.index;\n  var value = ref.value;\nreturn [_c('b',[_vm._v(\"Dynamic Property Path\")]),_c('v-combobox',{attrs:{\"value\":value.path,\"hint\":\"To describe a repeater, use \\\"[]\\\". e.g: \\\"content.list.my_repeater[].url\\\"\",\"rules\":[_vm.pathRules],\"items\":_vm.allPaths},on:{\"input\":function($event){return _vm.updateDynamicPropertyPath(repeaterIndex, $event)}}}),_c('b',{staticClass:\"d-block pt-2\"},[_vm._v(\"Accepts:\")]),_c('DropdownInput',{attrs:{\"items\":_vm.getDynamicPathAcceptsItems,\"value\":value.accepts},on:{\"input\":function($event){return _vm.updateValue(repeaterIndex, $event)}}})]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport draggable from \"vuedraggable\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport { getDynamicPathAcceptsItems } from \"@/lib/dynamic-data/utils\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport { propertyPathRule } from \"@/lib/elements/utils\";\nimport {\n  DynamicFieldReturnType,\n  DynamicPropertyPath\n} from \"@/types/dynamic-property-path\";\n\n@Component({\n  components: {\n    Repeater,\n    DropdownInput,\n    CodeInput,\n    Dropdown,\n    Accordion,\n    draggable\n  }\n})\nexport default class ElementStudioDynPropPaths extends Vue {\n  @Prop({ default: () => [] })\n  value!: DynamicPropertyPath[];\n\n  @Prop({ default: () => [] })\n  allPaths!: string[];\n\n  updateElementValue(newValue: DynamicPropertyPath[]) {\n    this.$emit(\"input\", newValue);\n  }\n\n  updateDynamicPropertyPath(index: number, newPath: string) {\n    const newValue = defensiveCopy(this.value);\n\n    if (!this.pathRules(newPath)) {\n      return;\n    }\n\n    newValue[index].path = newPath.trim();\n    this.updateElementValue(newValue);\n  }\n\n  pathRules(newPath: string) {\n    return propertyPathRule(newPath);\n  }\n\n  get getDynamicPathAcceptsItems() {\n    return getDynamicPathAcceptsItems();\n  }\n\n  updateValue(index: number, newAccepts: DynamicFieldReturnType) {\n    const newValue = defensiveCopy(this.value);\n\n    newValue[index].accepts = newAccepts;\n    this.updateElementValue(newValue);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDynPropPaths.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDynPropPaths.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioDynPropPaths.vue?vue&type=template&id=d3b1c41e&\"\nimport script from \"./ElementStudioDynPropPaths.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioDynPropPaths.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\ninstallComponents(component, {VCombobox})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Repeater',{attrs:{\"value\":_vm.value || [],\"control\":{\n    options: {\n      repeaterOptions: {\n        titleTemplate: 'Spacing bar',\n        buttonName: 'Add new spacing bar'\n      }\n    }\n  }},on:{\"input\":function($event){return _vm.updateSpaceBars($event)}},scopedSlots:_vm._u([{key:\"default\",fn:function(ref){\n  var value = ref.value;\n  var index = ref.index;\nreturn [_c('ElementStudioSpacingBar',{attrs:{\"value\":value},on:{\"input\":function($event){return _vm.updateSpaceBar($event, index)}}})]}}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('div',{staticClass:\"mt-4\"},[_vm._v(\"Location\")]),_c('DropdownInput',{attrs:{\"items\":_vm.cssProperties,\"value\":_vm.newSpaceBar.cssProperty},on:{\"input\":_vm.updateLocationAndProperty}}),_c('div',{staticClass:\"mt-4\"},[_vm._v(\"Affected property path\")]),_c('v-combobox',{attrs:{\"items\":_vm.pathsToAllControls,\"placeholder\":\"design.spacing.%%BREAKPOINT%%.top\"},model:{value:(_vm.newSpaceBar.affectedPropertyPath),callback:function ($$v) {_vm.$set(_vm.newSpaceBar, \"affectedPropertyPath\", $$v)},expression:\"newSpaceBar.affectedPropertyPath\"}}),_c('NiceButton',{on:{\"click\":_vm.saveNewSpaceBar}},[_vm._v(\"Save\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport {\n  SpacingBarCssProperty,\n  SpacingBarDescription,\n  SpacingBarDescriptionV,\n  SpacingBarLocation,\n  SpacingBarLocationV,\n  SpacingBarProperty\n} from \"@/types/elements\";\nimport { pipe } from \"fp-ts/function\";\nimport { fold } from \"fp-ts/Either\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport { iotsErrorsToCustomErrorType } from \"@/util/io-ts-errors-to-_error\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\n\n@Component({\n  components: { NiceButton, DropdownInput }\n})\nexport default class ElementStudioSpacingBar extends Vue {\n  @Prop()\n  value!: SpacingBarDescription;\n\n  newSpaceBar = this.value || {};\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  get pathsToAllControls() {\n    return this.context.getPathsToAllControls();\n  }\n\n  // merge location and property so that the user selects only one. They're tied together anyway and reduces errors\n  get propertiesLocationsKeyPair() {\n    const locations = SpacingBarLocationV.types.map(type => type.value);\n    const cssProperties = SpacingBarCssProperty.types.map(type => type.value);\n\n    return cssProperties.reduce(\n      (acc, property, key) => ({ ...acc, [property]: locations[key] }),\n      {}\n    ) as Record<SpacingBarProperty, SpacingBarLocation>;\n  }\n\n  get cssProperties() {\n    return Object.keys(this.propertiesLocationsKeyPair);\n  }\n\n  updateLocationAndProperty(newProperty: SpacingBarProperty) {\n    this.newSpaceBar.cssProperty = newProperty;\n\n    this.newSpaceBar.location = this.propertiesLocationsKeyPair[newProperty];\n  }\n\n  saveNewSpaceBar() {\n    pipe(\n      SpacingBarDescriptionV.decode(this.newSpaceBar),\n      fold(\n        e => {\n          NotificationLogger.log.message(\n            `Error saving new space bar, please fill out all fields`\n          );\n\n          iotsErrorsToCustomErrorType(e);\n        },\n        () => {\n          this.$emit(\"input\", this.newSpaceBar);\n        }\n      )\n    );\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioSpacingBar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioSpacingBar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioSpacingBar.vue?vue&type=template&id=33cfa7e7&\"\nimport script from \"./ElementStudioSpacingBar.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioSpacingBar.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\ninstallComponents(component, {VCombobox})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport draggable from \"vuedraggable\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport Repeater from \"@/components/Reusable/CustomInputs/Repeater/Repeater.vue\";\nimport InlineRepeater from \"@/components/Reusable/CustomInputs/InlineRepeater.vue\";\nimport { SpacingBarDescription } from \"@/types/elements\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\nimport ElementStudioSpacingBar from \"@/components/ElementStudio/ElementStudioSpacingBar.vue\";\n\n@Component({\n  components: {\n    ElementStudioSpacingBar,\n    NiceButton,\n    TextInput,\n    InlineRepeater,\n    Repeater,\n    DropdownInput,\n    CodeInput,\n    Dropdown,\n    Accordion,\n    draggable\n  }\n})\nexport default class ElementStudioSpacingBars extends Vue {\n  @Prop({ default: [] })\n  value!: SpacingBarDescription[];\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  updateSpaceBar(newSpaceBar: SpacingBarDescription, index: number) {\n    const spaceBars = defensiveCopy(this.value);\n\n    spaceBars[index] = newSpaceBar;\n\n    this.updateSpaceBars(spaceBars);\n  }\n\n  updateSpaceBars(newSpaceBars: SpacingBarDescription[]) {\n    this.context.updateElementValue(\"spacingBars\", newSpaceBars);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioSpacingBars.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioSpacingBars.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioSpacingBars.vue?vue&type=template&id=a28e3dfa&\"\nimport script from \"./ElementStudioSpacingBars.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioSpacingBars.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioSpacingBars.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport ElementStudioDynPropPaths from \"@/components/ElementStudio/ElementStudioDynPropPaths.vue\";\nimport { BuilderElement } from \"@/types/elements\";\nimport ElementStudioPropertyPaths from \"@/components/ElementStudio/ElementStudioPropertyPaths.vue\";\nimport ElementStudioSpacingBars from \"@/components/ElementStudio/ElementStudioSpacingBars.vue\";\nimport { ElementStudioContext } from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\n\n@Component({\n  components: {\n    ElementStudioSpacingBars,\n    ElementStudioPropertyPaths,\n    ElementStudioDynPropPaths,\n    Accordion\n  }\n})\nexport default class ElementStudioManagePropertyPaths extends Vue {\n  @Prop()\n  value!: BuilderElement;\n\n  accordionState = \"\";\n\n  toggleAccordion(key: string) {\n    this.accordionState = this.accordionState === key ? \"\" : key;\n  }\n\n  @Inject(\"context\") readonly context!: ElementStudioContext;\n\n  get allPathsWithDesignAndContent() {\n    return [\n      this.context.element().controls.designSections.length ? \"design\" : null,\n      this.context.element().controls.contentSections.length ? \"content\" : null,\n      ...this.context.getPathsToAllControls([], [])\n    ].filter(Boolean);\n  }\n\n  get allPaths() {\n    return this.context.getPathsToAllControls();\n  }\n\n  updateElementValuePropPath(newValue: string[], propertyName: string) {\n    this.context.updateElementValue(propertyName, newValue);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioManagePropertyPaths.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioManagePropertyPaths.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioManagePropertyPaths.vue?vue&type=template&id=419b9cf0&\"\nimport script from \"./ElementStudioManagePropertyPaths.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioManagePropertyPaths.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { MacrosData } from \"@/types/elements\";\nimport { configStore, uiStore } from \"@/store/store-accessor\";\nimport {\n  compileTwigTemplate,\n  getAllTwigMacrosString,\n  TWIG_MACROS_CACHE_KEY\n} from \"@/lib/twig/twig\";\n\nexport function setTwigMacrosInStoreAndRecompile(twigMacros: MacrosData) {\n  configStore.setTwigMacros(twigMacros);\n\n  // The local storage hash and cache will be updated on page refresh\n  // Don't touch it here\n  compileTwigTemplate(\n    getAllTwigMacrosString(twigMacros),\n    TWIG_MACROS_CACHE_KEY\n  );\n\n  // force the Canvas to re-render everything, since macros are not reactive\n  uiStore.forceUpdateEntireCanvas();\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport {\n  BuilderActions,\n  BuilderElement,\n  BuilderElementControls,\n  ElementDependencyAndCondition,\n  NestingRuleTypeV,\n  RequiredPluginV\n} from \"@/types/elements\";\nimport Vue from \"vue\";\nimport { Component, Prop, Provide, Watch } from \"vue-property-decorator\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport ElementStudioControls from \"./ElementStudioControls.vue\";\nimport * as lodash from \"lodash\";\nimport { Control, ControlType } from \"@/types/controls\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport { configStore } from \"@/store/store-accessor\";\nimport { objectGetTypedKeys } from \"@/util/type-assertions\";\nimport ElementStudioDependencies from \"@/components/ElementStudio/ElementStudioDependencies.vue\";\nimport { getElementWithoutExternalValues } from \"@/lib/elements/studio/clean-element\";\nimport ElementStudioAction from \"@/components/ElementStudio/ElementStudioAction.vue\";\nimport CopyButton from \"@/components/Reusable/CopyButton.vue\";\nimport { breakdanceStoreActions } from \"@/store/actions/store-actions\";\nimport {\n  CurrentlyEditingMacro,\n  ElementStudioExpectedDataToLoad,\n  ElementStudioItem,\n  ElementStudioSaveLocationWithName\n} from \"@/types/element-studio\";\nimport {\n  getNestingRuleTypesThatAreAllowedInside,\n  isNestingRuleAllowedInside\n} from \"@/lib/tree/nesting\";\nimport ElementStudioDefaultElements from \"@/components/ElementStudio/ElementStudioDefaultElements.vue\";\nimport ElementStudio from \"@/components/ElementStudio/ElementStudio.vue\";\nimport ElementStudioAttributes from \"@/components/ElementStudio/ElementStudioAttributes.vue\";\nimport ElementStudioAdditionalClasses from \"@/components/ElementStudio/ElementStudioAdditionalClasses.vue\";\nimport ElementStudioDefaultProperties from \"./ElementStudioDefaultProperties.vue\";\nimport ElementStudioProjectManagement from \"@/components/ElementStudio/ElementStudioProjectManagement.vue\";\nimport { unwrapControlValue } from \"@/lib/controls/utils\";\nimport { TAGS_AVAILABLE } from \"@/types/tags\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport ToggleInput from \"@/components/Reusable/CustomInputs/ToggleInput.vue\";\nimport { iconNames } from \"@/lib/icons/icons\";\nimport ElementIcon from \"@/components/UI/ElementIcon.vue\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport ElementStudioPropertyPaths from \"@/components/ElementStudio/ElementStudioPropertyPaths.vue\";\nimport ElementStudioManagePropertyPaths from \"@/components/ElementStudio/ElementStudioManagePropertyPaths.vue\";\nimport { COLUMNS_SLUG } from \"@/lib/elements/constants\";\nimport ElementStudioIconsAutocomplete from \"@/components/ElementStudio/ElementStudioIconsAutocomplete.vue\";\nimport { readFromLocalStorage, writeToLocalStorage } from \"@/util/localstorage\";\nimport { getBaseClassNameForBuilderElement } from \"@/lib/elements/utils\";\nimport { inputTextValidationRules } from \"@/util/input-text-validation-rules\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport colors from \"@/sass/modules/color.module.scss\";\nimport {\n  getPathToAllControls,\n  logNotificationOfSameItem\n} from \"@/lib/elements/studio/misc\";\nimport { isBreakdanceDevelopmentEnvironment } from \"@/lib/dev/development-environment\";\nimport {\n  getElementSlug,\n  getItemNamespaceFromSlug,\n  isValidItemName\n} from \"@/lib/elements/studio/misc\";\nimport ElementStudioSaveNewDialog from \"@/components/ElementStudio/ElementStudioSaveNewDialog.vue\";\nimport { getMacroName } from \"@/lib/elements/studio/element-to-php\";\nimport slugify from \"slugify\";\nimport { getSlugFromNamespaceAndFilename } from \"@/lib/elements/studio/presets\";\nimport { pipe } from \"fp-ts/function\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport * as t from \"io-ts\";\nimport { fold } from \"fp-ts/Either\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport clipboardCopy from \"clipboard-copy\";\nimport notifications from \"@/lib/notifications/notifications\";\nimport { renderTags } from \"@/lib/twig/twig\";\nimport { setTwigMacrosInStoreAndRecompile } from \"@/lib/elements/studio/macros\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\n\nconst updateStoreActionsThrottled = lodash.debounce(\n  breakdanceStoreActions.registerAllStoreActions,\n  // This is a not-UI update so we make it slowish\n  500\n);\n\n@Component({\n  components: {\n    Dropdown,\n    ElementStudioSaveNewDialog,\n    TextInput,\n    ElementStudioIconsAutocomplete,\n    ElementStudioManagePropertyPaths,\n    ElementStudioPropertyPaths,\n    Accordion,\n    ElementIcon,\n    ToggleInput,\n    Icon,\n    ElementStudioAttributes,\n    ElementStudioAdditionalClasses,\n    ElementStudio,\n    ElementStudioDefaultElements,\n    CopyButton,\n    ElementStudioAction,\n    ElementStudioDependencies,\n    ElementStudioControls,\n    CodeInput,\n    ElementStudioDefaultProperties,\n    ElementStudioProjectManagement\n  }\n})\nexport default class ElementStudioTabsAndPanels extends Vue {\n  @Prop()\n  element!: BuilderElement;\n  @Prop({ default: \"primary\" })\n  type!: \"primary\" | \"secondary\";\n\n  @Prop()\n  available!: ElementStudioExpectedDataToLoad;\n\n  // Remember the last used tabs\n  tab = readFromLocalStorage(`element-studio-tab-${this.type}`) || \"content\";\n\n  actionsAccordionState = \"\";\n  nameHasChanged = false;\n  useLocalIcon =\n    !!iconNames.find(iconName => iconName === this.element.uiIcon) ||\n    !this.element.uiIcon ||\n    false;\n\n  contextMenu: { x: number; y: number } | false = false;\n  showNewMacroDialog = false;\n  savedCssSelection = \"\";\n\n  async mounted() {\n    document.addEventListener(\"contextmenu\", this.handleRightClickInCodeInput);\n  }\n\n  beforeDestroy() {\n    document.removeEventListener(\n      \"contextmenu\",\n      this.handleRightClickInCodeInput\n    );\n  }\n\n  @Watch(\"element.name\")\n  onElementSlugChange() {\n    this.nameHasChanged = true;\n  }\n\n  handleRightClickInCodeInput(e: MouseEvent) {\n    const selectedText = window.getSelection()?.toString();\n\n    if (!(selectedText && (this.tab === \"css\" || this.tab === \"html\"))) {\n      return;\n    }\n\n    // only prevent it if we're going to show something. Otherwise, default.\n    e.preventDefault();\n\n    this.contextMenu = {\n      x: e.clientX,\n      y: e.clientY\n    };\n  }\n\n  handleCreateMacro() {\n    // When we open the dialog, the window loses focus and can't find the selection anymore\n    this.savedCssSelection = window.getSelection()?.toString() || \"\";\n    this.showNewMacroDialog = true;\n  }\n\n  async saveNewMacro(newItem: ElementStudioSaveLocationWithName) {\n    if (!this.savedCssSelection) return;\n\n    this.contextMenu = false;\n\n    const selectedCss = this.savedCssSelection?.toString();\n\n    const macroName = getMacroName(newItem.namespace, newItem.name);\n    // Tags such as %%SELECTOR%% are invalid twig and would error out\n    // plus it's nice DX\n    const macroText = renderTags(selectedCss, {\n      selector: \"{{ selector }}\",\n      id: \"{{ id }}\",\n      postId: \"{{ postId }}\"\n    }).replace(\"macros.\", \"_self.\");\n\n    const macro = `{% macro ${macroName}() %}\\n\\n${macroText} \\n\\n{% endmacro %}`;\n\n    const filename = slugify(newItem.name);\n    const newSlug = getSlugFromNamespaceAndFilename(\n      newItem.namespace,\n      newItem.name\n    );\n\n    if (this.available.macros.find(macro => macro.slug === newSlug)) {\n      logNotificationOfSameItem(this.available.saveLocations, newItem, \"macro\");\n\n      return;\n    }\n\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_save_macro\",\n        dataToPost: {\n          directoryPath: newItem.directoryPath,\n          filename,\n          macro\n        },\n        decoder: t.unknown\n      }),\n      fold(\n        e => {\n          console.error(e);\n          NotificationLogger.log.message(\n            \"Failed to save element, check console\"\n          );\n        },\n        () => {\n          const macroText = `{{ macros.${macroName}() }}`;\n          notifications.log.message(`New macro created: ${macroText}. `);\n          clipboardCopy(macroText);\n\n          const newData = defensiveCopy(this.available);\n          newData.macros.push({\n            slug: newSlug,\n            directoryPath: newItem.directoryPath\n          });\n          this.elementStudioContext.updateElementStudioData(newData);\n\n          const newMacros = defensiveCopy(configStore.twigMacros);\n          newMacros.push({ macro, slug: newSlug });\n          setTwigMacrosInStoreAndRecompile(newMacros);\n        }\n      )\n    );\n  }\n\n  updateSlug() {\n    if (\n      !window.confirm(\n        \"Changing the slug of an existing element will make it obsolete in all pages, everywhere. Continue anyway?\"\n      )\n    ) {\n      return;\n    }\n\n    const newSlug = getElementSlug(\n      getItemNamespaceFromSlug(this.element.slug),\n      this.element.name\n    );\n\n    this.updateElementValue(\"slug\", newSlug);\n  }\n\n  updateUiOrder(newOrder: unknown) {\n    const safeOrder = Number(newOrder);\n    if (Number.isNaN(safeOrder)) {\n      this.updateElementValue(\"order\", 0);\n    } else {\n      this.updateElementValue(\"order\", safeOrder);\n    }\n  }\n\n  updateUiIcon(newIcon = \"SquareIcon\") {\n    this.updateElementValue(\"uiIcon\", newIcon);\n  }\n\n  updateUseLocalIcon(newUseLocalIcon: boolean) {\n    this.useLocalIcon = newUseLocalIcon;\n\n    if (!newUseLocalIcon) {\n      this.updateUiIcon(\"\");\n    }\n  }\n\n  updateClassName(newClassName: string | undefined) {\n    if (this.htmlClassNameRule(newClassName) !== true) return;\n\n    this.updateElementValue(\"className\", newClassName || false);\n  }\n\n  htmlClassNameRule(value: string | undefined) {\n    if (!value) return true;\n\n    return inputTextValidationRules.validateHtmlClassName(value);\n  }\n\n  isValidItemName(newName: string) {\n    return isValidItemName(newName);\n  }\n\n  updateElementName(value: string) {\n    if (isValidItemName(value) !== true) return;\n\n    const newElement = defensiveCopy(this.element);\n\n    newElement.name = value;\n\n    this.emit(newElement);\n  }\n\n  updateElementValue(path: string, value: unknown) {\n    const newElement = defensiveCopy(this.element);\n    const newValue = unwrapControlValue(value);\n    lodash.set(newElement, path, newValue);\n\n    this.emit(newElement);\n  }\n\n  emit(newElement: BuilderElement) {\n    this.$emit(\"input\", newElement);\n  }\n\n  updateTab(newTab: string) {\n    // Update the preferences\n    writeToLocalStorage(`element-studio-tab-${this.type}`, newTab);\n    this.tab = newTab;\n  }\n\n  // We only get the internal controls in the prop\n  // So we use this to merge them back before emitting\n  mergeElementControlsWithExternalControls(\n    newElementControls: BuilderElementControls\n  ) {\n    const elementWithAllControls = defensiveCopy(newElementControls);\n\n    objectGetTypedKeys(this.element.controls).forEach(key => {\n      this.element.controls[key].forEach(control => {\n        if (control.options.isExternal) {\n          elementWithAllControls[key].push(control);\n        }\n      });\n    });\n\n    return elementWithAllControls;\n  }\n\n  get showAdvancedFeatures() {\n    return (\n      isBreakdanceDevelopmentEnvironment() ||\n      configStore.isElementStudioPowerUser\n    );\n  }\n\n  get requiredPluginItems() {\n    return RequiredPluginV.types.map(type => type.value);\n  }\n\n  get tags() {\n    return TAGS_AVAILABLE;\n  }\n\n  get pathsToAllControls() {\n    return this.elementStudioContext.getPathsToAllControls();\n  }\n\n  get nestingRuleTypeIsContainer() {\n    return (\n      getNestingRuleTypesThatAreAllowedInside(\n        this.cleanElement.nestingRule.type\n      ).length > 0 ||\n      this.cleanElement.nestingRule.type === \"container-restricted\"\n    );\n  }\n\n  get cleanElement() {\n    return getElementWithoutExternalValues(this.element);\n  }\n\n  get elementCategories() {\n    return configStore.builderElementCategories.map(category => ({\n      text: category.label,\n      value: category.slug\n    }));\n  }\n\n  get badgeColors() {\n    return Object.entries(colors).map(([k]) => {\n      const correctValue = k\n        .replace(/brand_/g, \"brand\")\n        .replace(/_dark|_light|breakdance_/g, \"\");\n\n      return {\n        text: correctValue,\n        value: `var(--${correctValue})`\n      };\n    });\n  }\n\n  get elementType() {\n    return NestingRuleTypeV.types.map(type => type.value);\n  }\n\n  get containerRestrictedElements() {\n    return Object.values(configStore.elements)\n      .filter(\n        element =>\n          element?.nestingRule.type === \"container-restricted\" &&\n          element?.slug !== COLUMNS_SLUG\n      )\n      .map(element => element?.slug);\n  }\n\n  get elementsThisElementIsAllowedToBeInsideOf() {\n    return Object.values(configStore.elements)\n      .filter(\n        element =>\n          element &&\n          isNestingRuleAllowedInside(\n            this.element.nestingRule,\n            element.nestingRule,\n            element.slug\n          )\n      )\n      .map(element => element?.slug);\n  }\n\n  get allElementSlugs() {\n    return Object.values(configStore.elements).map(element => element?.slug);\n  }\n\n  get elementClass() {\n    return `.${getBaseClassNameForBuilderElement(this.element)}`;\n  }\n\n  parentControls(path: string) {\n    // The path could lead to a Control (`${path}.children[${i}]`)\n    // Or a Control[] (designSections)\n    return defensiveCopy(\n      lodash.get(this.element.controls, path) as Control | Control[]\n    );\n  }\n\n  @Provide(\"context\")\n  elementStudioContext = {\n    replaceControls: (path: string, newControls: Control[]) => {\n      const newElement = defensiveCopy(this.element);\n      lodash.set(newElement.controls, path, newControls);\n      this.emit(newElement);\n    },\n    pasteControl: (path: string, controlToPaste: Control) => {\n      const newElement = defensiveCopy(this.element);\n\n      const currentControls = lodash.get(newElement.controls, path);\n      currentControls.push(controlToPaste);\n\n      lodash.set(newElement.controls, path, currentControls);\n      this.emit(newElement);\n    },\n    addControl: (path: string, controlType: ControlType = \"text\") => {\n      const newElement = defensiveCopy(this.element);\n      const newControl: Control = {\n        slug: controlType === \"section\" ? \"new_section\" : \"new_control\",\n        label: controlType === \"section\" ? \"New Section\" : \"New Control\",\n        keywords: [],\n        options: {\n          type: controlType\n        },\n        enableMediaQueries: false,\n        enableHover: false,\n        children: []\n      };\n\n      if (\n        path.startsWith(\"contentSections\") ||\n        controlType === \"text\" ||\n        controlType === \"number\"\n      ) {\n        newControl.options.layout = \"vertical\";\n      }\n\n      // Use the clean controls to push stuff of top of the internal and not external ones\n      const internalElementControls = this.cleanElement.controls;\n      const parentControl = lodash.get(internalElementControls, path) as\n        | Control\n        | Control[];\n\n      if (Array.isArray(parentControl)) {\n        parentControl.push(newControl);\n      } else {\n        parentControl.children.push(newControl);\n      }\n\n      lodash.set(internalElementControls, path, parentControl);\n\n      newElement.controls = this.mergeElementControlsWithExternalControls(\n        internalElementControls\n      );\n\n      this.emit(newElement);\n    },\n    addPreset: (path: string) => {\n      const newElement = defensiveCopy(this.element);\n      const presetSection = defensiveCopy(\n        this.elementStudioContext.getPresetSection(\n          \"EssentialElements\\\\typography\"\n        )\n      );\n\n      if (!presetSection) return;\n\n      presetSection.section.options.sectionOptions = {\n        ...presetSection.section.options.sectionOptions,\n        type: \"popout\"\n      };\n\n      // Use the clean controls to push stuff of top of the internal and not external ones\n      const internalElementControls = this.cleanElement.controls;\n      const parentControl = lodash.get(internalElementControls, path) as\n        | Control\n        | Control[];\n\n      if (Array.isArray(parentControl)) {\n        parentControl.push(presetSection.section);\n      } else {\n        parentControl.children.push(presetSection.section);\n      }\n\n      lodash.set(internalElementControls, path, parentControl);\n\n      newElement.controls = this.mergeElementControlsWithExternalControls(\n        internalElementControls\n      );\n\n      this.emit(newElement);\n    },\n    deleteControl: (parentPath: string, index: number) => {\n      const newElement = defensiveCopy(this.element);\n      const parentControl = this.parentControls(parentPath);\n\n      if (Array.isArray(parentControl)) {\n        parentControl.splice(index, 1);\n      } else {\n        parentControl.children.splice(index, 1);\n      }\n\n      lodash.set(newElement.controls, parentPath, parentControl);\n\n      this.emit(newElement);\n    },\n    updateControl: (parentPath: string, index: number, newControl: Control) => {\n      const newElement = defensiveCopy(this.element);\n      const parentControl = this.parentControls(parentPath);\n\n      if (Array.isArray(parentControl)) {\n        parentControl.splice(index, 1, newControl);\n      } else {\n        parentControl.children.splice(index, 1, newControl);\n      }\n\n      lodash.set(newElement.controls, parentPath, parentControl);\n\n      this.emit(newElement);\n    },\n    updateDependency: (newDependencies: ElementDependencyAndCondition[]) => {\n      this.updateElementValue(\"dependencies\", newDependencies);\n    },\n    updateActions: (newActions: BuilderActions) => {\n      this.updateElementValue(\"actions\", newActions);\n      updateStoreActionsThrottled();\n    },\n    getPresetSection: (slug: string) => {\n      return this.available.presetSections.find(preset => preset.slug === slug);\n    },\n    getPresetSections: () => {\n      return this.available.presetSections;\n    },\n    getPathsToAllControls: (\n      controlTypes: ControlType[] = [],\n      controlTypesToIgnore: ControlType[] = [\"section\"]\n    ) => {\n      const contentPaths = getPathToAllControls(\n        this.element.controls.contentSections,\n        controlTypes,\n        controlTypesToIgnore,\n        \"content\"\n      );\n\n      const designPaths = getPathToAllControls(\n        this.element.controls.designSections,\n        controlTypes,\n        controlTypesToIgnore,\n        \"design\"\n      );\n\n      return [...contentPaths, ...designPaths];\n    },\n    element: () => {\n      return this.element;\n    },\n    updateElementValue: this.updateElementValue,\n    getElementStudioData: () => this.available,\n    updateElementStudioData: (newData: ElementStudioExpectedDataToLoad) => {\n      this.update(newData);\n    }\n  };\n\n  update(newData: ElementStudioExpectedDataToLoad) {\n    this.$emit(\"update\", newData);\n  }\n\n  toggleActionAccordion(state: string) {\n    this.actionsAccordionState = state;\n  }\n\n  get htmlTags() {\n    return (\n      [\n        \"section\",\n        \"div\",\n        \"span\",\n        \"p\",\n        \"h1\",\n        \"h2\",\n        \"h3\",\n        \"h4\",\n        \"h5\",\n        \"h6\",\n        \"footer\",\n        \"header\",\n        \"nav\",\n        \"aside\",\n        \"figure\",\n        \"ul\",\n        \"ol\",\n        \"li\",\n        \"a\",\n        \"article\",\n        \"main\",\n        \"details\",\n        \"summary\",\n        \"img\"\n      ]\n        // No point in selecting the default\n        .filter(tag => tag !== this.cleanElement.htmlTag.default)\n    );\n  }\n\n  get defaultTag() {\n    // Add the default in case it's not in htmlTags. e.g \"section\" for Sections\n    return [...this.htmlTags, this.cleanElement.htmlTag.default];\n  }\n}\n\nexport type ElementStudioContext = typeof ElementStudioTabsAndPanels.prototype.elementStudioContext;\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioTabsAndPanels.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioTabsAndPanels.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioTabsAndPanels.vue?vue&type=template&id=6fa1c750&\"\nimport script from \"./ElementStudioTabsAndPanels.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioTabsAndPanels.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioTabsAndPanels.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VAutocomplete } from 'vuetify/lib/components/VAutocomplete';\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCheckbox } from 'vuetify/lib/components/VCheckbox';\nimport { VCombobox } from 'vuetify/lib/components/VCombobox';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemContent } from 'vuetify/lib/components/VList';\nimport { VListItemSubtitle } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSelect } from 'vuetify/lib/components/VSelect';\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VAutocomplete,VBtn,VCheckbox,VCombobox,VList,VListItem,VListItemContent,VListItemSubtitle,VListItemTitle,VSelect,VTab,VTabs,VTextField})\n","import { BuilderElement } from \"@/types/elements\";\n\nexport const BLANK_ELEMENT: Omit<BuilderElement, \"slug\" | \"name\"> = {\n  className: false,\n  uiIcon: false,\n  category: \"other\",\n  badge: false,\n  htmlTag: {\n    default: \"div\",\n    options: [],\n    pathToControl: false\n  },\n  template: \"Blank Element\",\n  attributes: false,\n  cssTemplate: \"%%SELECTOR%% { }\",\n  defaultCss: \" \", // If it's empty PHP errors when creating the file even tho it works.\n  defaultProperties: false,\n  defaultChildren: false,\n  controls: { contentSections: [], designSections: [], settingsSections: [] },\n  dependencies: false,\n  actions: false,\n  nestingRule: { type: \"final\" },\n  spacingBars: false,\n  dynamicPropertyPaths: false,\n  settings: false,\n  addPanelRules: false,\n  experimental: false,\n  order: 0,\n  additionalClasses: false,\n  projectManagement: false,\n  propertyPathsToWhitelistInFlatProps: false,\n  propertyPathsToSsrElementWhenValueChanges: false\n};\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { configStore } from \"@/store/store\";\nimport { BuilderElement } from \"@/types/elements\";\nimport ElementStudioWidthAdjustmentBar from \"./ElementStudioWidthAdjustmentBar.vue\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport ElementStudioTopbar from \"./ElementStudioTopBar.vue\";\nimport lodash from \"lodash\";\n\nimport {\n  ElementStudioExpectedDataToLoad,\n  CurrentlyEditingElement,\n  ElementStudioUIMode,\n  ElementStudioSaveLocation\n} from \"@/types/element-studio\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport ElementStudioTabsAndPanels from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport * as t from \"io-ts\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport { updateElementAndPrecompileItsTemplates } from \"@/lib/elements/utils\";\nimport { readFromLocalStorage, writeToLocalStorage } from \"@/util/localstorage\";\nimport {\n  getItemNamespaceFromSlug,\n  getElementSlug,\n  logNotificationOfSameItem\n} from \"@/lib/elements/studio/misc\";\nimport { getElementWithoutExternalValues } from \"@/lib/elements/studio/clean-element\";\nimport {\n  elementToPhp,\n  getFinalDirectoryPath,\n  removeElementPathFromDirectoryPath\n} from \"@/lib/elements/studio/element-to-php\";\nimport { BLANK_ELEMENT } from \"@/lib/elements/studio/blank-element\";\n\n@Component({\n  components: {\n    ElementStudioTabsAndPanels,\n    ElementStudioWidthAdjustmentBar,\n    ElementStudioTopbar\n  }\n})\nexport default class ElementStudioElements extends Vue {\n  @Prop()\n  value!: ElementStudioExpectedDataToLoad;\n\n  @Prop()\n  width!: number;\n\n  lastSavedElement: CurrentlyEditingElement | false = false;\n  currentlyEditingElement: CurrentlyEditingElement | false = false;\n  saveInProgress = false;\n\n  get elementsSlug() {\n    return this.value.elements.map(element => element.slug);\n  }\n\n  updateCurrentlyEditingElement(\n    newCurrentlyEditingElement: CurrentlyEditingElement\n  ) {\n    this.currentlyEditingElement = defensiveCopy(newCurrentlyEditingElement);\n\n    // Set the lastSavedElement when opening a new element\n    if (this.lastSavedElement === false) {\n      this.lastSavedElement = defensiveCopy(newCurrentlyEditingElement);\n    }\n  }\n\n  updateAvailableElementsAndStore(\n    newCurrentlyEditingElement: CurrentlyEditingElement\n  ) {\n    const newSlug = newCurrentlyEditingElement.element.slug;\n\n    // Delete the old element if the user is changing the slug\n    // and it's not a copy of the element in a different save location\n    if (\n      this.lastSavedElement &&\n      newSlug !== this.lastSavedElement.element.slug &&\n      getItemNamespaceFromSlug(newSlug) ===\n        getItemNamespaceFromSlug(this.lastSavedElement.element.slug)\n    ) {\n      this.deleteElementFromServer(this.lastSavedElement);\n    }\n\n    const existingElement = !!this.value.elements.find(\n      element => element.slug === newSlug\n    );\n\n    if (!existingElement && newCurrentlyEditingElement.directoryPath) {\n      const newValue = defensiveCopy(this.value);\n\n      newValue.elements.push({\n        slug: newSlug,\n        directoryPath: newCurrentlyEditingElement.directoryPath\n      });\n\n      this.$emit(\"input\", newValue);\n    }\n\n    this.lastSavedElement = newCurrentlyEditingElement;\n  }\n\n  get hasUnsavedChanges() {\n    if (!this.currentlyEditingElement || !this.lastSavedElement) {\n      return false;\n    }\n\n    return !lodash.isEqual(\n      this.lastSavedElement.element,\n      this.currentlyEditingElement.element\n    );\n  }\n\n  // throttle to make the experience smoother.\n  // There's lot of stuff running after an element updates\n  throttledUpdateElement = lodash.throttle(\n    updateElementAndPrecompileItsTemplates,\n    500\n  );\n\n  updateData(newData: ElementStudioExpectedDataToLoad) {\n    this.$emit(\"input\", newData);\n  }\n\n  updateElement(newElement: BuilderElement) {\n    if (\n      !this.currentlyEditingElement ||\n      !this.lastSavedElement ||\n      !this.lastSavedElement.element\n    ) {\n      return;\n    }\n\n    const slugChanged = newElement.slug !== this.lastSavedElement.element.slug;\n\n    let directoryPath = this.currentlyEditingElement.directoryPath;\n\n    if (slugChanged && this.currentlyEditingElement.directoryPath) {\n      directoryPath = getFinalDirectoryPath({\n        directoryPath: removeElementPathFromDirectoryPath(\n          this.currentlyEditingElement.directoryPath\n        ),\n        elementName: this.currentlyEditingElement.element.name\n      });\n    }\n\n    this.currentlyEditingElement = {\n      directoryPath,\n      element: newElement,\n      onlyForAdvancedUsers: this.currentlyEditingElement.onlyForAdvancedUsers\n    };\n\n    this.throttledUpdateElement(newElement);\n  }\n\n  deleteElementFromStore(elementSlugToDelete: string) {\n    const indexOfElementToDelete = this.value.elements.findIndex(\n      element => element.slug === elementSlugToDelete\n    );\n\n    configStore.deleteElement(elementSlugToDelete);\n\n    if (indexOfElementToDelete !== -1) {\n      this.value.elements.splice(indexOfElementToDelete, 1);\n    }\n  }\n\n  deleteElement() {\n    if (!this.currentlyEditingElement) {\n      return;\n    }\n\n    this.deleteElementFromServer(this.currentlyEditingElement, () => {\n      this.currentlyEditingElement = false;\n    });\n  }\n\n  async deleteElementFromServer(\n    elementToDelete: CurrentlyEditingElement,\n    successCallback: () => void = () => {}\n  ) {\n    if (!elementToDelete.element) return;\n\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_delete_element\",\n        dataToPost: {\n          directoryPath: elementToDelete.directoryPath\n        },\n        decoder: t.literal(\"success\"),\n        resultKey: \"data\"\n      }),\n      fold(\n        () => {\n          NotificationLogger.log.message(\"Failed to delete element\");\n        },\n        () => {\n          if (!elementToDelete.element) {\n            NotificationLogger.log.message(\"Failed to delete element\");\n\n            return;\n          }\n\n          this.deleteElementFromStore(elementToDelete.element.slug);\n          successCallback();\n        }\n      )\n    );\n  }\n\n  discardChanges() {\n    if (this.lastSavedElement && this.lastSavedElement.element) {\n      // Update to the last saved state\n      this.updateElement(this.lastSavedElement.element);\n    }\n\n    this.resetCurrentlyEditingElement();\n  }\n\n  resetCurrentlyEditingElement() {\n    this.currentlyEditingElement = false;\n    this.lastSavedElement = false;\n    this.$emit(\"active\", null);\n  }\n\n  /* ui stuff */\n  mode: ElementStudioUIMode =\n    (readFromLocalStorage(\"element-studio-mode\") as ElementStudioUIMode) ||\n    \"split-horizontal\";\n\n  switchMode() {\n    switch (this.mode) {\n      case \"split-vertical\":\n        this.mode = \"split-horizontal\";\n        this.$emit(\"width\", 750);\n        break;\n      case \"split-horizontal\":\n        this.$emit(\"width\", 600);\n        this.mode = \"normal\";\n        break;\n      case \"normal\":\n        this.$emit(\"width\", 600);\n        this.mode = \"split-vertical\";\n        break;\n    }\n\n    writeToLocalStorage(\"element-studio-mode\", this.mode);\n  }\n\n  openElement(elementSlug: string) {\n    const element = defensiveCopy(configStore.element(elementSlug));\n    const newStudioElement = this.value.elements.find(\n      element => element.slug === elementSlug\n    );\n\n    if (!newStudioElement) return;\n\n    const activeSaveLocation = this.value.saveLocations.find(saveLocation =>\n      newStudioElement.directoryPath.startsWith(saveLocation.directoryPath)\n    );\n    const onlyForAdvancedUsers = !!activeSaveLocation?.onlyForAdvancedUsers;\n\n    this.updateCurrentlyEditingElement({\n      element,\n      directoryPath: newStudioElement.directoryPath,\n      onlyForAdvancedUsers\n    });\n\n    this.$emit(\"active\", \"element\");\n  }\n\n  saveAs(saveLocation: ElementStudioSaveLocation) {\n    if (!this.currentlyEditingElement) return;\n\n    const { namespace, directoryPath, onlyForAdvancedUsers } = saveLocation;\n\n    this.saveToServer(\n      this.currentlyEditingElement.element,\n      getFinalDirectoryPath({\n        directoryPath,\n        elementName: this.currentlyEditingElement.element.name\n      }),\n      namespace,\n      false,\n      onlyForAdvancedUsers\n    );\n  }\n\n  saveNewItem(newItem: ElementStudioSaveLocation & { name: string }) {\n    const newSlug = getElementSlug(newItem.namespace, newItem.name);\n\n    if (this.value.elements.find(element => element.slug === newSlug)) {\n      logNotificationOfSameItem(this.value.saveLocations, newItem, \"element\");\n\n      return;\n    }\n\n    const newElement = {\n      ...defensiveCopy(BLANK_ELEMENT),\n      slug: newSlug,\n      name: newItem.name\n    };\n\n    this.saveToServer(\n      newElement,\n      getFinalDirectoryPath({\n        directoryPath: newItem.directoryPath,\n        elementName: newItem.name\n      }),\n      newItem.namespace,\n      false,\n      newItem.onlyForAdvancedUsers\n    );\n\n    this.$emit(\"active\", \"element\");\n  }\n\n  saveOverride(bypassPsalm: boolean) {\n    if (\n      !this.currentlyEditingElement ||\n      !this.currentlyEditingElement.directoryPath\n    ) {\n      return;\n    }\n\n    this.saveToServer(\n      this.currentlyEditingElement.element,\n      this.currentlyEditingElement.directoryPath,\n      getItemNamespaceFromSlug(this.currentlyEditingElement.element.slug),\n      bypassPsalm,\n      this.currentlyEditingElement.onlyForAdvancedUsers\n    );\n  }\n\n  async saveToServer(\n    element: BuilderElement,\n    directoryPath: string,\n    namespaceArg: string | null,\n    bypassPsalm = false,\n    onlyForAdvancedUsers: boolean\n  ) {\n    this.saveInProgress = true;\n\n    const namespace = namespaceArg || getItemNamespaceFromSlug(element.slug);\n    const cleanElement = getElementWithoutExternalValues(element);\n    const elementSlug = element.slug || getElementSlug(namespace, element.name);\n\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_save_element\",\n        dataToPost: {\n          ...elementToPhp(cleanElement, namespace),\n          directoryPath,\n          bypassPsalm: bypassPsalm ? \"yes\" : \"no\"\n        },\n        decoder: t.unknown\n      }),\n      fold(\n        e => {\n          console.error(e);\n          NotificationLogger.log.message(\n            \"Failed to save element, check console\"\n          );\n        },\n        () => {\n          const newElement = {\n            element: {\n              ...defensiveCopy(element),\n              slug: elementSlug,\n              // Uppercase first letters for consistency in naming across elements\n              name: element.name\n                .split(\" \")\n                .map(word => word.charAt(0).toUpperCase() + word.substring(1))\n                .join(\" \")\n            },\n            directoryPath,\n            onlyForAdvancedUsers\n          };\n\n          this.updateCurrentlyEditingElement(newElement);\n          this.updateAvailableElementsAndStore(newElement);\n          updateElementAndPrecompileItsTemplates(newElement.element);\n        }\n      )\n    );\n\n    this.saveInProgress = false;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioElements.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioElements.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioElements.vue?vue&type=template&id=09d16932&\"\nimport script from \"./ElementStudioElements.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioElements.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import * as t from \"io-ts\";\nimport { BuilderElement } from \"@/types/elements\";\nimport { ControlV } from \"./controls\";\n\nexport const ElementStudioItemV = t.type({\n  slug: t.string,\n  directoryPath: t.string\n});\n\nexport type ElementStudioItem = t.TypeOf<typeof ElementStudioItemV>;\n\nconst SaveLocationTypesV = t.union([\n  t.literal(\"element\"),\n  t.literal(\"macro\"),\n  t.literal(\"preset\")\n]);\n\nexport type SaveLocationType = t.TypeOf<typeof SaveLocationTypesV>;\n\nexport const ElementStudioSaveLocationV = t.type({\n  directoryPath: t.string,\n  namespace: t.string,\n  type: SaveLocationTypesV,\n  label: t.string,\n  onlyForAdvancedUsers: t.boolean\n});\n\nexport type ElementStudioSaveLocationWithName = ElementStudioSaveLocation & {\n  name: string;\n};\n\nexport type ElementStudioSaveLocation = t.TypeOf<\n  typeof ElementStudioSaveLocationV\n>;\n\nexport const PresetSectionV = t.type({\n  slug: t.string,\n  section: ControlV\n});\n\nexport type PresetSection = t.TypeOf<typeof PresetSectionV>;\n\nexport const ElementStudioExpectedDataToLoadV = t.type({\n  elements: t.array(ElementStudioItemV),\n  macros: t.array(ElementStudioItemV),\n  presets: t.array(ElementStudioItemV),\n  saveLocations: t.array(ElementStudioSaveLocationV),\n  presetSections: t.array(PresetSectionV)\n});\n\nexport type ElementStudioExpectedDataToLoad = t.TypeOf<\n  typeof ElementStudioExpectedDataToLoadV\n>;\n\nexport type CurrentlyEditingItem = {\n  directoryPath: string | false;\n  onlyForAdvancedUsers: boolean;\n};\n\nexport type CurrentlyEditingMacro = CurrentlyEditingItem & {\n  macroData: ElementStudioItem & { macro: string };\n};\n\nexport type CurrentlyEditingPreset = CurrentlyEditingItem & {\n  presetData: ElementStudioItem & { preset: PresetSection };\n};\n\nexport type CurrentlyEditingElement = CurrentlyEditingItem & {\n  element: BuilderElement;\n};\n\nexport type ElementStudioUIMode =\n  | \"split-vertical\"\n  | \"split-horizontal\"\n  | \"normal\";\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n    'element-studio-wrapper': _vm.currentlyEditingMacro,\n    'element-studio__hide-the-close-button': !_vm.currentlyEditingMacro,\n    'element-studio__hide-the-switch-mode-button': true\n  }},[_c('ElementStudioTopbar',{attrs:{\"save-locations\":_vm.value.saveLocations,\"items-slug\":_vm.macrosSlug,\"value\":_vm.currentlyEditingMacro,\"itemType\":\"macro\",\"item-name\":_vm.currentMacroName,\"hasUnsavedChanges\":_vm.hasUnsavedChanges,\"saveInProgress\":_vm.saveInProgress},on:{\"open\":_vm.openMacro,\"delete\":_vm.deleteMacro,\"saveOverride\":_vm.saveOverride,\"saveAs\":_vm.saveAs,\"saveNew\":_vm.saveNewItem,\"discardChanges\":_vm.discardChanges,\"reset\":_vm.resetCurrentlyEditingMacro}}),(_vm.currentlyEditingMacro)?_c('div',{staticClass:\"element-studio-content\"},[_c('div',{staticClass:\"panel-100 vscroll-scroll\"},[_c('div',{staticClass:\"element-studio-tabs-panel d-flex flex-column\"},[_c('div',{staticClass:\"element-studio-tabs\"},[_c('v-tabs',{attrs:{\"value\":_vm.activeTab},on:{\"change\":_vm.updateTab}},[_c('v-tab',{attrs:{\"href\":\"#macro\",\"title\":\"Macro\"}},[_c('Icon',{attrs:{\"icon\":\"PenIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#settings\",\"title\":\"Settings\"}},[_c('Icon',{attrs:{\"icon\":\"GearIcon\",\"size\":\"16\"}})],1)],1)],1)]),_c('div',{staticClass:\"element-studio-tabs-items vscroll-scroll\"},[_c('CodeInput',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeTab === 'macro'),expression:\"activeTab === 'macro'\"}],attrs:{\"value\":_vm.currentlyEditingMacro.macroData.macro,\"language\":\"twig\"},on:{\"input\":_vm.updateMacroValue}}),(_vm.activeTab === 'settings')?_c('div',{staticClass:\"pa-4\"},[_c('v-text-field',{attrs:{\"value\":_vm.currentMacroName,\"label\":\"Name\",\"rules\":[_vm.isValidItemName]},on:{\"input\":_vm.updateMacroName}})],1):_vm._e()],1)])]):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { configStore } from \"@/store/store\";\nimport ElementStudioWidthAdjustmentBar from \"./ElementStudioWidthAdjustmentBar.vue\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport ElementStudioTopbar from \"./ElementStudioTopBar.vue\";\nimport lodash from \"lodash\";\n\nimport {\n  ElementStudioExpectedDataToLoad,\n  CurrentlyEditingMacro,\n  ElementStudioSaveLocation\n} from \"@/types/element-studio\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport ElementStudioTabsAndPanels from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport * as t from \"io-ts\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport {\n  compileTwigTemplate,\n  getAllTwigMacrosString,\n  TWIG_MACROS_CACHE_KEY\n} from \"@/lib/twig/twig\";\nimport slugify from \"slugify\";\nimport { getMacroName } from \"@/lib/elements/studio/element-to-php\";\nimport {\n  getItemNameFromSlug,\n  getItemNamespaceFromSlug,\n  isValidItemName,\n  logNotificationOfSameItem\n} from \"@/lib/elements/studio/misc\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport { getSlugFromNamespaceAndFilename } from \"@/lib/elements/studio/presets\";\nimport { setTwigMacrosInStoreAndRecompile } from \"@/lib/elements/studio/macros\";\n\n@Component({\n  components: {\n    TextInput,\n    Icon,\n    CodeInput,\n    ElementStudioTabsAndPanels,\n    ElementStudioWidthAdjustmentBar,\n    ElementStudioTopbar\n  }\n})\nexport default class ElementStudioMacros extends Vue {\n  @Prop()\n  value!: ElementStudioExpectedDataToLoad;\n\n  lastSavedMacro: CurrentlyEditingMacro | false = false;\n  currentlyEditingMacro: CurrentlyEditingMacro | false = false;\n\n  saveInProgress = false;\n\n  activeTab = \"macro\";\n\n  get macrosSlug() {\n    return this.value.macros.map(macro => macro.slug);\n  }\n\n  isValidItemName(newName: string) {\n    return isValidItemName(newName);\n  }\n\n  updateCurrentlyEditingMacro(newCurrentlyEditingMacro: CurrentlyEditingMacro) {\n    this.currentlyEditingMacro = defensiveCopy(newCurrentlyEditingMacro);\n\n    // Set the lastSavedMacro when opening a new element\n    if (this.lastSavedMacro === false) {\n      this.lastSavedMacro = defensiveCopy(newCurrentlyEditingMacro);\n    }\n  }\n\n  updateTab(newTab: string) {\n    this.activeTab = newTab;\n  }\n\n  updateMacroName(newName: string) {\n    if (!this.currentlyEditingMacro) return;\n\n    this.currentlyEditingMacro.macroData.slug = getSlugFromNamespaceAndFilename(\n      getItemNamespaceFromSlug(this.currentlyEditingMacro.macroData.slug),\n      newName\n    );\n  }\n\n  // re-compiling the macros is very heavy. Debounce this aggressively\n  throttledUpdateElement = lodash.debounce(\n    this.updateMacroAndRecompileTwigTemplates,\n    1000\n  );\n\n  updateMacroAndRecompileTwigTemplates(\n    newMacro: CurrentlyEditingMacro[\"macroData\"]\n  ) {\n    const twigMacros = defensiveCopy(configStore.twigMacros);\n\n    const index = twigMacros.findIndex(macro => macro.slug === newMacro.slug);\n\n    if (index === -1) {\n      twigMacros.push(newMacro);\n\n      const newValue = defensiveCopy(this.value);\n      newValue.macros.push(newMacro);\n\n      this.$emit(\"input\", newValue);\n    } else {\n      twigMacros[index].macro = newMacro.macro;\n    }\n\n    // Delete the old macro if the slug changed and it's not a copy of the macro in a different save location\n    if (\n      this.lastSavedMacro &&\n      this.lastSavedMacro.directoryPath &&\n      newMacro.slug !== this.lastSavedMacro.macroData.slug &&\n      newMacro.directoryPath === this.lastSavedMacro.directoryPath\n    ) {\n      this.deleteMacroFromServer(this.lastSavedMacro);\n    }\n\n    setTwigMacrosInStoreAndRecompile(twigMacros);\n  }\n\n  deleteMacroAndRecompileTwigTemplates(deletedMacroSlug: string) {\n    const twigMacros = defensiveCopy(configStore.twigMacros);\n    const storeIndex = twigMacros.findIndex(\n      macro => macro.slug === deletedMacroSlug\n    );\n    const valueIndex = this.value.macros.findIndex(\n      macro => macro.slug === deletedMacroSlug\n    );\n\n    if (storeIndex !== -1) {\n      twigMacros.splice(storeIndex, 1);\n    }\n\n    if (valueIndex !== -1) {\n      const newValue = defensiveCopy(this.value);\n      newValue.macros.splice(valueIndex, 1);\n\n      this.$emit(\"input\", newValue);\n    }\n\n    setTwigMacrosInStoreAndRecompile(twigMacros);\n  }\n\n  get currentMacroName() {\n    if (!this.currentlyEditingMacro) return \"\";\n\n    return getItemNameFromSlug(this.currentlyEditingMacro.macroData.slug);\n  }\n\n  get hasUnsavedChanges() {\n    if (!this.currentlyEditingMacro || !this.lastSavedMacro) {\n      return false;\n    }\n\n    return !lodash.isEqual(\n      this.lastSavedMacro.macroData,\n      this.currentlyEditingMacro.macroData\n    );\n  }\n\n  updateMacroValue(newMacro: string) {\n    if (!this.currentlyEditingMacro) return;\n\n    this.currentlyEditingMacro.macroData.macro = newMacro;\n\n    this.throttledUpdateElement(this.currentlyEditingMacro.macroData);\n  }\n\n  deleteMacro() {\n    if (!this.currentlyEditingMacro) {\n      return;\n    }\n\n    this.deleteMacroFromServer(this.currentlyEditingMacro, () => {\n      this.currentlyEditingMacro = false;\n    });\n  }\n\n  async deleteMacroFromServer(\n    macroToDelete: CurrentlyEditingMacro,\n    successCallback: () => void = () => {}\n  ) {\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_delete_macro\",\n        dataToPost: {\n          directoryPath: macroToDelete.directoryPath,\n          filename: getItemNameFromSlug(macroToDelete.macroData.slug)\n        },\n        decoder: t.literal(\"success\"),\n        resultKey: \"data\"\n      }),\n      fold(\n        () => {\n          NotificationLogger.log.message(\"Failed to delete element\");\n        },\n        () => {\n          successCallback();\n\n          this.deleteMacroAndRecompileTwigTemplates(\n            macroToDelete.macroData.slug\n          );\n        }\n      )\n    );\n  }\n\n  discardChanges() {\n    if (this.lastSavedMacro && this.lastSavedMacro.macroData) {\n      this.updateMacroAndRecompileTwigTemplates(this.lastSavedMacro.macroData);\n    }\n\n    this.resetCurrentlyEditingMacro();\n  }\n\n  resetCurrentlyEditingMacro() {\n    this.currentlyEditingMacro = false;\n    this.lastSavedMacro = false;\n    this.$emit(\"active\", null);\n  }\n\n  openMacro(macroSlug: string) {\n    const macroSaveLocation = defensiveCopy(\n      this.value.macros.find(macro => macro.slug === macroSlug)\n    );\n\n    if (!macroSaveLocation) return;\n\n    const macroString = configStore.twigMacros.find(\n      macro => macro.slug === macroSlug\n    )?.macro;\n\n    if (!macroString) return;\n\n    const activeSaveLocation = this.value.saveLocations.find(saveLocation =>\n      macroSaveLocation.directoryPath.startsWith(saveLocation.directoryPath)\n    );\n    const onlyForAdvancedUsers = !!activeSaveLocation?.onlyForAdvancedUsers;\n\n    this.updateCurrentlyEditingMacro({\n      macroData: { ...macroSaveLocation, macro: macroString },\n      directoryPath: macroSaveLocation.directoryPath,\n      onlyForAdvancedUsers\n    });\n    this.$emit(\"active\", \"macro\");\n  }\n\n  saveAs(saveLocation: ElementStudioSaveLocation) {\n    if (!this.currentlyEditingMacro) return;\n\n    const filename = getItemNameFromSlug(\n      this.currentlyEditingMacro.macroData.slug\n    );\n\n    this.saveToServer(\n      this.currentlyEditingMacro.macroData.macro,\n      saveLocation.directoryPath,\n      filename,\n      getSlugFromNamespaceAndFilename(saveLocation.namespace, filename),\n      saveLocation.onlyForAdvancedUsers\n    );\n  }\n\n  saveNewItem(newItem: ElementStudioSaveLocation & { name: string }) {\n    const macroName = getMacroName(newItem.namespace, newItem.name);\n    const filename = slugify(newItem.name);\n    const newSlug = getSlugFromNamespaceAndFilename(\n      newItem.namespace,\n      newItem.name\n    );\n\n    if (this.value.macros.find(macro => macro.slug === newSlug)) {\n      logNotificationOfSameItem(this.value.saveLocations, newItem, \"macro\");\n\n      return;\n    }\n\n    this.saveToServer(\n      `{% macro ${macroName}() %}\\n  {# Your code here #} \\n{% endmacro %}`,\n      newItem.directoryPath,\n      filename,\n      newSlug,\n      newItem.onlyForAdvancedUsers\n    );\n\n    this.$emit(\"active\", \"macro\");\n  }\n\n  saveOverride() {\n    if (\n      !this.currentlyEditingMacro ||\n      !this.currentlyEditingMacro.directoryPath\n    ) {\n      return;\n    }\n\n    this.saveToServer(\n      this.currentlyEditingMacro.macroData.macro,\n      this.currentlyEditingMacro.directoryPath,\n      getItemNameFromSlug(this.currentlyEditingMacro.macroData.slug),\n      this.currentlyEditingMacro.macroData.slug,\n      this.currentlyEditingMacro.onlyForAdvancedUsers\n    );\n  }\n\n  async saveToServer(\n    macro: string,\n    directoryPath: string,\n    filename: string,\n    slug: string,\n    onlyForAdvancedUsers: boolean\n  ) {\n    this.saveInProgress = true;\n\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_save_macro\",\n        dataToPost: {\n          directoryPath,\n          filename,\n          macro\n        },\n        decoder: t.unknown\n      }),\n      fold(\n        e => {\n          console.error(e);\n          NotificationLogger.log.message(\n            \"Failed to save element, check console\"\n          );\n        },\n        () => {\n          const newMacro: CurrentlyEditingMacro = {\n            macroData: {\n              macro,\n              slug,\n              directoryPath\n            },\n            directoryPath,\n            onlyForAdvancedUsers\n          };\n\n          this.updateCurrentlyEditingMacro(newMacro);\n          this.updateMacroAndRecompileTwigTemplates(newMacro.macroData);\n          this.lastSavedMacro = newMacro;\n        }\n      )\n    );\n\n    this.saveInProgress = false;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioMacros.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioMacros.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioMacros.vue?vue&type=template&id=c9b18f4a&\"\nimport script from \"./ElementStudioMacros.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioMacros.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VTab,VTabs,VTextField})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n    'element-studio-wrapper': _vm.currentlyEditingPreset,\n    'element-studio__hide-the-close-button': !_vm.currentlyEditingPreset,\n    'element-studio__hide-the-switch-mode-button': true\n  }},[_c('ElementStudioTopbar',{attrs:{\"save-locations\":_vm.value.saveLocations,\"items-slug\":_vm.presetsSlug,\"value\":_vm.currentlyEditingPreset,\"itemType\":\"preset\",\"item-name\":_vm.currentPresetName,\"hasUnsavedChanges\":_vm.hasUnsavedChanges,\"saveInProgress\":_vm.saveInProgress},on:{\"open\":_vm.openPreset,\"delete\":_vm.deletePreset,\"saveOverride\":_vm.saveOverride,\"saveAs\":_vm.saveAs,\"saveNew\":_vm.saveNewItem,\"discardChanges\":_vm.discardChanges,\"reset\":_vm.resetCurrentlyEditingPreset}}),(_vm.currentlyEditingPreset)?_c('div',{staticClass:\"element-studio-content\"},[_c('div',{staticClass:\"panel-100 vscroll-scroll\"},[_c('div',{staticClass:\"element-studio-tabs-panel d-flex flex-column\"},[_c('div',{staticClass:\"element-studio-tabs\"},[_c('v-tabs',{attrs:{\"value\":_vm.activeTab},on:{\"change\":_vm.updateTab}},[_c('v-tab',{attrs:{\"href\":\"#preset\",\"title\":\"Preset\"}},[_c('Icon',{attrs:{\"icon\":\"PenIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#code-help\",\"title\":\"Code Help\"}},[_c('Icon',{attrs:{\"icon\":\"CodeIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#prop-paths\",\"title\":\"Property Paths\"}},[_c('Icon',{attrs:{\"icon\":\"SlidersSimpleIcon\",\"size\":\"16\"}})],1),_c('v-tab',{attrs:{\"href\":\"#settings\",\"title\":\"Settings\"}},[_c('Icon',{attrs:{\"icon\":\"GearIcon\",\"size\":\"16\"}})],1)],1)],1)]),_c('div',{staticClass:\"element-studio-tabs-items vscroll-scroll\"},[_c('ControlSectionOrControl',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeTab === 'preset'),expression:\"activeTab === 'preset'\"}],attrs:{\"value\":_vm.currentPresetWithoutPresetSlug\n              ? _vm.currentPresetWithoutPresetSlug.presetData.preset.section\n              : [],\"index\":0,\"path\":\"control\",\"parentPath\":\"presetSection\",\"twigParentPath\":\"\"}}),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeTab === 'code-help'),expression:\"activeTab === 'code-help'\"}]},[_vm._m(0),_c('CodeInput',{attrs:{\"language\":\"twig\",\"value\":_vm.codeHelpValue,\"placeholder\":_vm.codeHelpPlaceholder},on:{\"input\":_vm.updateCodeHelp}})],1),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.activeTab === 'prop-paths'),expression:\"activeTab === 'prop-paths'\"}]},[_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'relativePropertyPathsToWhitelistInFlatProps'},on:{\"toggle\":function($event){return _vm.toggleAccordion('relativePropertyPathsToWhitelistInFlatProps')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" Relative Property Paths To Whitetlist In Flatprops \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('ElementStudioPropertyPaths',{attrs:{\"value\":_vm.presetRelativePropertyPathsToWhitelistInFlatProps,\"all-paths\":_vm.allPaths},on:{\"input\":function($event){return _vm.updateElementValuePropPath(\n                    $event,\n                    'relativePropertyPathsToWhitelistInFlatProps'\n                  )}}})]},proxy:true}],null,false,3695337097)}),_c('Accordion',{attrs:{\"expanded\":_vm.accordionState === 'relativeDynamicPropertyPaths'},on:{\"toggle\":function($event){return _vm.toggleAccordion('relativeDynamicPropertyPaths')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"pa-4\"},[_vm._v(\" Relative Dynamic Property Paths \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('ElementStudioDynPropPaths',{attrs:{\"value\":_vm.relativeDynamicPropertyPaths,\"all-paths\":_vm.allPaths},on:{\"input\":function($event){return _vm.updateElementValuePropPath(\n                    $event,\n                    'relativeDynamicPropertyPaths'\n                  )}}})]},proxy:true}],null,false,63984396)})],1),(_vm.activeTab === 'settings')?_c('div',{staticClass:\"pa-4\"},[_c('v-text-field',{attrs:{\"value\":_vm.currentPresetName,\"label\":\"Name\",\"rules\":[_vm.isValidItemName]},on:{\"input\":_vm.updatePresetSlug}}),_c('ToggleInput',{attrs:{\"value\":_vm.autoRefresh},on:{\"input\":_vm.updateAutoRefresh}}),_c('label',{staticClass:\"ml-2\"},[_vm._v(\"Live preview changes\")])],1):_vm._e()],1)])]):_vm._e()],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"element-studio__presets-code-help\"},[_c('div',[_c('b',[_vm._v(\"Code Help\")])]),_c('pre',[_vm._v(\"%%TWIG_PATH%%\")]),_vm._v(\" will be replaced with the correct path in the element. \")])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop, Provide } from \"vue-property-decorator\";\nimport ElementStudioWidthAdjustmentBar from \"./ElementStudioWidthAdjustmentBar.vue\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport ElementStudioTopbar from \"./ElementStudioTopBar.vue\";\nimport lodash from \"lodash\";\n\nimport {\n  ElementStudioExpectedDataToLoad,\n  CurrentlyEditingPreset,\n  ElementStudioSaveLocation,\n  PresetSection,\n  ElementStudioSaveLocationWithName\n} from \"@/types/element-studio\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport ElementStudioTabsAndPanels from \"@/components/ElementStudio/ElementStudioTabsAndPanels.vue\";\nimport * as t from \"io-ts\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport CodeInput from \"@/components/Reusable/CustomInputs/CodeInput/CodeInput.vue\";\nimport slugify from \"slugify\";\nimport { getMacroName } from \"@/lib/elements/studio/element-to-php\";\nimport {\n  getItemNameFromSlug,\n  getItemNamespaceFromSlug,\n  getPathToAllControls,\n  isValidItemName,\n  logNotificationOfSameItem\n} from \"@/lib/elements/studio/misc\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport ControlSectionOrControl from \"@/components/ElementStudio/ControlSectionOrControl.vue\";\nimport { Control, ControlType } from \"@/types/controls\";\nimport { getEmptyElement } from \"@/lib/elements/utils\";\nimport { getBlankControl, getBlankControlSection } from \"@/lib/controls/utils\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport ElementStudioPropertyPaths from \"@/components/ElementStudio/ElementStudioPropertyPaths.vue\";\nimport ElementStudioDynPropPaths from \"@/components/ElementStudio/ElementStudioDynPropPaths.vue\";\nimport { configStore } from \"@/store/store-accessor\";\nimport { BuilderElement } from \"@/types/elements\";\nimport ToggleInput from \"@/components/Reusable/CustomInputs/ToggleInput.vue\";\nimport {\n  getSlugFromNamespaceAndFilename,\n  savePresetToServer\n} from \"@/lib/elements/studio/presets\";\n\n@Component({\n  components: {\n    ToggleInput,\n    ElementStudioDynPropPaths,\n    ElementStudioPropertyPaths,\n    Accordion,\n    ControlSectionOrControl,\n    TextInput,\n    Icon,\n    CodeInput,\n    ElementStudioTabsAndPanels,\n    ElementStudioWidthAdjustmentBar,\n    ElementStudioTopbar\n  }\n})\nexport default class ElementStudioPresets extends Vue {\n  @Prop()\n  value!: ElementStudioExpectedDataToLoad;\n\n  lastSavedPreset: CurrentlyEditingPreset | false = false;\n  currentlyEditingPreset: CurrentlyEditingPreset | false = false;\n\n  saveInProgress = false;\n  activeTab = \"preset\";\n  accordionState = \"\";\n\n  autoRefresh = true;\n\n  toggleAccordion(key: string) {\n    this.accordionState = this.accordionState === key ? \"\" : key;\n  }\n\n  /**\n   * \"Provide\" is not reactive. We use state inside it, so it must be reactive\n   * By giving it an object instead of a static function, we make it reactive\n   *\n   * https://github.com/soflyy/breakdance/issues/1550\n   */\n  reactiveContext() {\n    return {\n      replaceControls: (path: string, newControls: Control[]) => {\n        if (!this.currentlyEditingPreset) return;\n\n        const newEditingPreset = defensiveCopy(this.currentlyEditingPreset);\n        const correctPath = this.getCorrectPathForPresetFromContextPath(path);\n\n        lodash.set(\n          newEditingPreset.presetData.preset,\n          correctPath,\n          newControls\n        );\n\n        this.updateCurrentlyEditingPreset(newEditingPreset);\n      },\n      pasteControl: (path: string, controlToPaste: Control) => {\n        if (!this.currentlyEditingPreset) return;\n\n        const newEditingPreset = defensiveCopy(this.currentlyEditingPreset);\n        const correctPath = this.getCorrectPathForPresetFromContextPath(path);\n        const currentControls = lodash.get(\n          newEditingPreset.presetData.preset,\n          correctPath\n        );\n\n        currentControls.push(controlToPaste);\n\n        lodash.set(\n          newEditingPreset.presetData.preset,\n          correctPath,\n          currentControls\n        );\n\n        this.updateCurrentlyEditingPreset(newEditingPreset);\n      },\n      addControl: (path: string) => {\n        if (!this.currentlyEditingPreset) return;\n\n        const newEditingPreset = defensiveCopy(this.currentlyEditingPreset);\n\n        const correctPath = this.getCorrectPathForPresetFromContextPath(path);\n        const parentControl = this.getParentControlOrControls(correctPath);\n\n        if (!parentControl) return;\n\n        if (Array.isArray(parentControl)) {\n          parentControl.push(getBlankControl());\n        } else {\n          parentControl.children.push(getBlankControl());\n        }\n\n        lodash.set(\n          newEditingPreset.presetData.preset,\n          correctPath,\n          parentControl\n        );\n\n        this.updateCurrentlyEditingPreset(newEditingPreset);\n      },\n      addPreset: (path: string) => {\n        if (!this.currentlyEditingPreset) return;\n\n        const presetSection = defensiveCopy(\n          this.elementStudioContext.getPresetSection(\n            \"EssentialElements\\\\typography\"\n          )\n        );\n\n        if (!presetSection) return;\n\n        presetSection.section.options.sectionOptions = {\n          ...presetSection.section.options.sectionOptions,\n          type: \"popout\"\n        };\n\n        const newEditingPreset = defensiveCopy(this.currentlyEditingPreset);\n        const correctPath = this.getCorrectPathForPresetFromContextPath(path);\n        const parentControl = this.getParentControlOrControls(correctPath);\n\n        if (!parentControl) return;\n\n        if (Array.isArray(parentControl)) {\n          parentControl.push(presetSection.section);\n        } else {\n          parentControl.children.push(presetSection.section);\n        }\n\n        lodash.set(\n          newEditingPreset.presetData.preset,\n          correctPath,\n          parentControl\n        );\n\n        this.updateCurrentlyEditingPreset(newEditingPreset);\n      },\n      deleteControl: (parentPath: string, index: number) => {\n        if (!this.currentlyEditingPreset) return;\n\n        const newEditingPreset = defensiveCopy(this.currentlyEditingPreset);\n        const correctPath = this.getCorrectPathForPresetFromContextPath(\n          parentPath\n        );\n        const parentControl = this.getParentControlOrControls(correctPath);\n\n        if (!parentControl) return;\n\n        if (Array.isArray(parentControl)) {\n          parentControl.splice(index, 1);\n        } else {\n          parentControl.children.splice(index, 1);\n        }\n\n        lodash.set(\n          newEditingPreset.presetData.preset,\n          correctPath,\n          parentControl\n        );\n\n        this.updateCurrentlyEditingPreset(newEditingPreset);\n      },\n      updateControl: (\n        parentPath: string,\n        index: number,\n        newControl: Control\n      ) => {\n        if (!this.currentlyEditingPreset) return;\n        const newEditingPreset = defensiveCopy(this.currentlyEditingPreset);\n\n        if (parentPath === \"presetSection\") {\n          newEditingPreset.presetData.preset.section = newControl;\n        } else {\n          const correctPath = this.getCorrectPathForPresetFromContextPath(\n            parentPath\n          );\n          const parentControl = this.getParentControlOrControls(correctPath);\n\n          if (!parentControl) return;\n\n          if (Array.isArray(parentControl)) {\n            parentControl.splice(index, 1, newControl);\n          } else {\n            parentControl.children.splice(index, 1, newControl);\n          }\n\n          lodash.set(\n            newEditingPreset.presetData.preset,\n            correctPath,\n            parentControl\n          );\n        }\n\n        this.updateCurrentlyEditingPreset(newEditingPreset);\n      },\n      getPresetSection: (sectionSlug: string) => {\n        return this.value.presetSections.find(\n          preset => preset.slug === sectionSlug\n        );\n      },\n      getPresetSections: () => {\n        return this.value.presetSections;\n      },\n      getPathsToAllControls: (\n        controlTypes: ControlType[] = [],\n        controlTypesToIgnore: ControlType[] = [\"section\"]\n      ) => {\n        if (!this.currentlyEditingPreset) return;\n\n        return getPathToAllControls(\n          this.currentlyEditingPreset.presetData.preset.section.children,\n          controlTypes,\n          controlTypesToIgnore,\n          \"\"\n        );\n      },\n      // This is here just to support the func and avoid any errors, but it doesn't affect anything in the preset\n      // And shouldn't be called at all when editing it\n      element: getEmptyElement,\n      updateDependency: () => {},\n      updateActions: () => {},\n      updateElementValue: () => {},\n      getElementStudioData: () => this.value,\n      updateElementStudioData: (newData: ElementStudioExpectedDataToLoad) => {\n        this.$emit(\"input\", newData);\n      }\n    };\n  }\n\n  @Provide(\"context\")\n  elementStudioContext = this.reactiveContext();\n\n  updateAutoRefresh(newAutoRefresh: boolean) {\n    this.autoRefresh = newAutoRefresh;\n\n    // Don't wait for a new change, update all elements\n    if (newAutoRefresh && this.currentlyEditingPreset) {\n      this.updateCurrentlyEditingPreset(this.currentlyEditingPreset);\n    }\n  }\n\n  getCorrectPathForPresetFromContextPath(path: string) {\n    return path.replace(\"control\", \"section\");\n  }\n\n  getParentControlOrControls(path: string) {\n    if (!this.currentlyEditingPreset) return;\n\n    return defensiveCopy(\n      lodash.get(this.currentlyEditingPreset.presetData.preset, path)\n    ) as Control | Control[];\n  }\n\n  get codeHelpValue() {\n    if (!this.currentlyEditingPreset) return \"\";\n\n    return (\n      this.currentlyEditingPreset.presetData.preset.section.options\n        .sectionOptions?.preset?.codeHelp || \"\"\n    );\n  }\n\n  get codeHelpPlaceholder() {\n    if (!this.currentlyEditingPreset) return \"\";\n    const potentialMacroName = getMacroName(\n      getItemNamespaceFromSlug(this.currentlyEditingPreset.presetData.slug),\n      this.currentPresetName\n    );\n\n    return `{{ macros.${potentialMacroName}(%%TWIG_PATH%%) }}`;\n  }\n\n  updateCodeHelp(newValue: string) {\n    if (!this.currentlyEditingPreset) return;\n\n    const newPreset = defensiveCopy(this.currentlyEditingPreset);\n\n    lodash.set(\n      newPreset,\n      \"presetData.preset.section.options.sectionOptions.preset.codeHelp\",\n      newValue\n    );\n\n    this.updateCurrentlyEditingPreset(newPreset);\n  }\n\n  get presetsSlug() {\n    return this.value.presets.map(preset => preset.slug);\n  }\n\n  get allPaths() {\n    return this.reactiveContext().getPathsToAllControls([], []);\n  }\n\n  get presetRelativePropertyPathsToWhitelistInFlatProps() {\n    if (!this.currentlyEditingPreset) return [];\n\n    return this.currentlyEditingPreset.presetData.preset.section.options\n      .sectionOptions?.preset?.relativePropertyPathsToWhitelistInFlatProps;\n  }\n\n  get relativeDynamicPropertyPaths() {\n    if (!this.currentlyEditingPreset) return [];\n\n    return this.currentlyEditingPreset.presetData.preset.section.options\n      .sectionOptions?.preset?.relativeDynamicPropertyPaths;\n  }\n\n  updateElementValuePropPath(newValue: string[], propertyName: string) {\n    if (!this.currentlyEditingPreset) return;\n\n    const newCurrentlyEditingPreset = defensiveCopy(\n      this.currentlyEditingPreset\n    );\n\n    lodash.set(\n      newCurrentlyEditingPreset,\n      `presetData.preset.section.options.sectionOptions.preset[${propertyName}]`,\n      newValue\n    );\n\n    this.currentlyEditingPreset = newCurrentlyEditingPreset;\n  }\n\n  isValidItemName(newName: string) {\n    return isValidItemName(newName);\n  }\n\n  updateCurrentlyEditingPreset(\n    newCurrentlyEditingPreset: CurrentlyEditingPreset\n  ) {\n    // If the new preset comes from a context update, it won't have the section slug\n    newCurrentlyEditingPreset.presetData.preset = this.getPresetWithRestoredSectionSlug(\n      newCurrentlyEditingPreset.presetData.preset\n    );\n\n    this.currentlyEditingPreset = defensiveCopy(newCurrentlyEditingPreset);\n\n    // Set the lastSavedPreset when opening a new element\n    if (this.lastSavedPreset === false) {\n      this.lastSavedPreset = defensiveCopy(newCurrentlyEditingPreset);\n    }\n\n    if (!this.autoRefresh) return;\n\n    const allElementsWithModifiedPresetUpdated = Object.values(\n      configStore.elements\n    )\n      .map(element => {\n        if (!element) return element;\n\n        element.controls.designSections = element.controls.designSections.map(\n          this.updateSectionWithCurrentPresetSection\n        );\n\n        element.controls.contentSections = element.controls.contentSections.map(\n          this.updateSectionWithCurrentPresetSection\n        );\n\n        element.controls.settingsSections = element.controls.settingsSections.map(\n          this.updateSectionWithCurrentPresetSection\n        );\n\n        return element;\n      })\n      .filter((element): element is BuilderElement => element !== undefined);\n\n    configStore.addElements(allElementsWithModifiedPresetUpdated);\n  }\n\n  get currentPresetWithoutPresetSlug() {\n    if (!this.currentlyEditingPreset) return false;\n    const newCurrentlyEditingPreset = defensiveCopy(\n      this.currentlyEditingPreset\n    );\n    // Change it from being a preset to being a section so that we can edit its children\n    // Inside ControlSectionOrControl\n    if (\n      newCurrentlyEditingPreset.presetData.preset.section.options.sectionOptions\n        ?.preset?.slug\n    ) {\n      newCurrentlyEditingPreset.presetData.preset.section.options.sectionOptions.preset.slug = undefined;\n    }\n    return newCurrentlyEditingPreset;\n  }\n\n  updateSectionWithCurrentPresetSection(section: Control) {\n    if (\n      section.options.sectionOptions?.preset?.slug &&\n      this.currentlyEditingPreset &&\n      section.options.sectionOptions.preset.slug ===\n        this.currentlyEditingPreset.presetData.slug\n    ) {\n      return defensiveCopy(\n        this.currentlyEditingPreset.presetData.preset.section\n      );\n    }\n\n    if (section.children.length) {\n      const newSection = defensiveCopy(section);\n\n      newSection.children = newSection.children.map(\n        this.updateSectionWithCurrentPresetSection\n      );\n\n      return newSection;\n    }\n\n    return section;\n  }\n\n  filterOutCurrentSection(section: Control, slug: string) {\n    if (\n      section.options.sectionOptions?.preset?.slug &&\n      section.options.sectionOptions.preset.slug === slug\n    ) {\n      return undefined;\n    }\n\n    if (section.children.length) {\n      const newSection = defensiveCopy(section);\n\n      newSection.children = newSection.children\n        .map(s => this.filterOutCurrentSection(s, slug))\n        .filter((s): s is Control => !!s);\n\n      return newSection;\n    }\n\n    return section;\n  }\n\n  /**\n   * We remove the slug from the section when first updating it to treat it as a control\n   * This turns it back into a \"preset section\"\n   * @param newPresetSection\n   */\n  getPresetWithRestoredSectionSlug(newPresetSection: PresetSection) {\n    if (!this.currentlyEditingPreset) return newPresetSection;\n\n    lodash.set(\n      newPresetSection,\n      \"section.options.sectionOptions.preset.slug\",\n      this.currentlyEditingPreset.presetData.slug\n    );\n\n    return newPresetSection;\n  }\n\n  updateTab(newTab: string) {\n    this.activeTab = newTab;\n  }\n\n  updatePresetSlug(newName: string) {\n    if (!this.currentlyEditingPreset) return;\n\n    const newEditingPreset = defensiveCopy(this.currentlyEditingPreset);\n\n    newEditingPreset.presetData.slug = getSlugFromNamespaceAndFilename(\n      getItemNamespaceFromSlug(this.currentlyEditingPreset.presetData.slug),\n      newName\n    );\n\n    this.updateCurrentlyEditingPreset(newEditingPreset);\n  }\n\n  updatePreset(newPresetArg: CurrentlyEditingPreset[\"presetData\"]) {\n    const newPreset = defensiveCopy(newPresetArg);\n\n    const presetsIndex = this.value.presets.findIndex(\n      preset => preset.slug === newPreset.slug\n    );\n    const presetSectionsIndex = this.value.presetSections.findIndex(\n      presetSection => presetSection.slug === newPreset.preset.slug\n    );\n\n    const newValue = defensiveCopy(this.value);\n\n    if (presetsIndex === -1 && presetSectionsIndex === -1) {\n      newValue.presets.push(newPreset);\n      newValue.presetSections.push(newPreset.preset);\n    } else {\n      newValue.presets[presetsIndex] = newPreset;\n      newValue.presetSections[presetSectionsIndex].section =\n        newPreset.preset.section;\n    }\n\n    this.$emit(\"input\", newValue);\n\n    // Delete the old preset if the slug changed, and it's not a copy of the preset in a different save location\n    if (\n      this.lastSavedPreset &&\n      this.lastSavedPreset.directoryPath &&\n      newPreset.slug !== this.lastSavedPreset.presetData.slug &&\n      newPreset.directoryPath === this.lastSavedPreset.directoryPath\n    ) {\n      this.deletePresetFromServer(this.lastSavedPreset);\n    }\n  }\n\n  deletePresetAndRecompileTwigTemplates(deletedPresetSlug: string) {\n    const deletedPresetType = getItemNameFromSlug(deletedPresetSlug);\n    const presetSections = defensiveCopy(this.value.presetSections);\n    const storeIndex = presetSections.findIndex(\n      preset => preset.slug === deletedPresetType\n    );\n    const valueIndex = this.value.presets.findIndex(\n      preset => preset.slug === deletedPresetSlug\n    );\n\n    if (storeIndex !== -1) {\n      presetSections.splice(storeIndex, 1);\n    }\n\n    if (valueIndex !== -1) {\n      const newValue = defensiveCopy(this.value);\n      newValue.presets.splice(valueIndex, 1);\n\n      this.$emit(\"input\", newValue);\n    }\n\n    if (!this.autoRefresh) return;\n\n    // Delete preset from all elements using it\n    const allElementsWithDeletedPresetRemoved = Object.values(\n      configStore.elements\n    )\n      .map(element => {\n        if (!element) return element;\n\n        element.controls.designSections = element.controls.designSections\n          .map(section =>\n            this.filterOutCurrentSection(section, deletedPresetSlug)\n          )\n          .filter((s): s is Control => !!s);\n\n        element.controls.contentSections = element.controls.contentSections\n          .map(section =>\n            this.filterOutCurrentSection(section, deletedPresetSlug)\n          )\n          .filter((s): s is Control => !!s);\n\n        element.controls.settingsSections = element.controls.settingsSections\n          .map(section =>\n            this.filterOutCurrentSection(section, deletedPresetSlug)\n          )\n          .filter((s): s is Control => !!s);\n\n        return element;\n      })\n      .filter((element): element is BuilderElement => element !== undefined);\n\n    configStore.addElements(allElementsWithDeletedPresetRemoved);\n  }\n\n  get currentPresetName() {\n    if (!this.currentlyEditingPreset) return \"\";\n\n    return getItemNameFromSlug(this.currentlyEditingPreset.presetData.slug);\n  }\n\n  get hasUnsavedChanges() {\n    if (!this.currentlyEditingPreset || !this.lastSavedPreset) {\n      return false;\n    }\n\n    return !lodash.isEqual(\n      this.lastSavedPreset.presetData,\n      this.currentlyEditingPreset.presetData\n    );\n  }\n\n  deletePreset() {\n    if (!this.currentlyEditingPreset) {\n      return;\n    }\n\n    this.deletePresetFromServer(this.currentlyEditingPreset, () => {\n      this.currentlyEditingPreset = false;\n    });\n  }\n\n  async deletePresetFromServer(\n    presetToDelete: CurrentlyEditingPreset,\n    successCallback: () => void = () => {}\n  ) {\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_delete_preset\",\n        dataToPost: {\n          directoryPath: presetToDelete.directoryPath,\n          filename: getItemNameFromSlug(presetToDelete.presetData.slug)\n        },\n        decoder: t.literal(\"success\"),\n        resultKey: \"data\"\n      }),\n      fold(\n        () => {\n          NotificationLogger.log.message(\"Failed to delete element\");\n        },\n        () => {\n          successCallback();\n\n          this.deletePresetAndRecompileTwigTemplates(\n            presetToDelete.presetData.slug\n          );\n        }\n      )\n    );\n  }\n\n  discardChanges() {\n    if (this.lastSavedPreset && this.lastSavedPreset.presetData) {\n      this.updateCurrentlyEditingPreset(this.lastSavedPreset);\n      this.updatePreset(this.lastSavedPreset.presetData);\n    }\n\n    this.resetCurrentlyEditingPreset();\n  }\n\n  resetCurrentlyEditingPreset() {\n    this.currentlyEditingPreset = false;\n    this.lastSavedPreset = false;\n    this.$emit(\"active\", null);\n  }\n\n  openPreset(presetSlug: string) {\n    const presetSaveLocation = defensiveCopy(\n      this.value.presets.find(preset => preset.slug === presetSlug)\n    );\n\n    if (!presetSaveLocation) return;\n\n    const preset = this.value.presetSections.find(\n      preset => preset.slug === presetSlug\n    );\n\n    if (!preset) {\n      NotificationLogger.log.message(`${presetSlug} couldn't be found`);\n\n      return;\n    }\n\n    const activeSaveLocation = this.value.saveLocations.find(saveLocation =>\n      presetSaveLocation.directoryPath.startsWith(saveLocation.directoryPath)\n    );\n    const onlyForAdvancedUsers = !!activeSaveLocation?.onlyForAdvancedUsers;\n\n    this.updateCurrentlyEditingPreset({\n      presetData: { ...presetSaveLocation, preset },\n      directoryPath: presetSaveLocation.directoryPath,\n      onlyForAdvancedUsers\n    });\n    this.$emit(\"active\", \"preset\");\n  }\n\n  saveAs(saveLocation: ElementStudioSaveLocation) {\n    if (!this.currentlyEditingPreset) return;\n\n    this.saveToServer(\n      this.currentlyEditingPreset.presetData.preset,\n      saveLocation.directoryPath,\n      this.currentPresetName,\n      getSlugFromNamespaceAndFilename(\n        saveLocation.namespace,\n        this.currentPresetName\n      ),\n      saveLocation.onlyForAdvancedUsers\n    );\n  }\n\n  saveNewItem(newItem: ElementStudioSaveLocationWithName) {\n    const filename = slugify(newItem.name);\n    const newSlug = getSlugFromNamespaceAndFilename(\n      newItem.namespace,\n      newItem.name\n    );\n\n    if (this.value.presets.find(preset => preset.slug === newSlug)) {\n      logNotificationOfSameItem(this.value.saveLocations, newItem, \"preset\");\n\n      return;\n    }\n\n    this.saveToServer(\n      {\n        slug: newSlug,\n        section: getBlankControlSection()\n      },\n      newItem.directoryPath,\n      filename,\n      newSlug,\n      newItem.onlyForAdvancedUsers\n    );\n\n    this.$emit(\"active\", \"preset\");\n  }\n\n  saveOverride() {\n    if (\n      !this.currentlyEditingPreset ||\n      !this.currentlyEditingPreset.directoryPath\n    ) {\n      return;\n    }\n\n    this.saveToServer(\n      this.currentlyEditingPreset.presetData.preset,\n      this.currentlyEditingPreset.directoryPath,\n      this.currentPresetName,\n      this.currentlyEditingPreset.presetData.slug,\n      this.currentlyEditingPreset.onlyForAdvancedUsers\n    );\n  }\n\n  async saveToServer(\n    preset: PresetSection,\n    directoryPath: string,\n    filename: string,\n    slug: string,\n    onlyForAdvancedUsers: boolean\n  ) {\n    this.saveInProgress = true;\n\n    pipe(\n      await savePresetToServer(preset, directoryPath, filename, slug),\n      fold(\n        e => {\n          console.error(e);\n          NotificationLogger.log.message(\n            \"Failed to save element, check console\"\n          );\n        },\n        () => {\n          const newPreset: CurrentlyEditingPreset = {\n            presetData: {\n              preset: defensiveCopy(preset),\n              slug,\n              directoryPath\n            },\n            directoryPath,\n            onlyForAdvancedUsers\n          };\n\n          this.updateCurrentlyEditingPreset(newPreset);\n          this.updatePreset(newPreset.presetData);\n          this.lastSavedPreset = newPreset;\n        }\n      )\n    );\n\n    this.saveInProgress = false;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioPresets.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioPresets.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioPresets.vue?vue&type=template&id=3aca5f34&\"\nimport script from \"./ElementStudioPresets.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioPresets.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioPresets.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VTab } from 'vuetify/lib/components/VTabs';\nimport { VTabs } from 'vuetify/lib/components/VTabs';\nimport { VTextField } from 'vuetify/lib/components/VTextField';\ninstallComponents(component, {VTab,VTabs,VTextField})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport ElementStudioWidthAdjustmentBar from \"./ElementStudioWidthAdjustmentBar.vue\";\nimport ElementStudioTopbar from \"./ElementStudioTopBar.vue\";\n\nimport ElementStudioElements from \"@/components/ElementStudio/ElementStudioElements.vue\";\nimport { isBreakdanceDevelopmentEnvironment } from \"@/lib/dev/development-environment\";\nimport { pipe } from \"fp-ts/function\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport {\n  ElementStudioExpectedDataToLoad,\n  ElementStudioExpectedDataToLoadV,\n  SaveLocationType\n} from \"@/types/element-studio\";\nimport { fold } from \"fp-ts/Either\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport ElementStudioMacros from \"@/components/ElementStudio/ElementStudioMacros.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport ElementStudioPresets from \"@/components/ElementStudio/ElementStudioPresets.vue\";\n\n@Component({\n  components: {\n    ElementStudioPresets,\n    ElementStudioMacros,\n    ElementStudioElements,\n    ElementStudioWidthAdjustmentBar,\n    ElementStudioTopbar\n  }\n})\nexport default class ElementStudio extends Vue {\n  async mounted() {\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_load_element_studio\",\n        decoder: ElementStudioExpectedDataToLoadV\n      }),\n      fold(\n        errors => errors.forEach(e => NotificationLogger.log.message(e.msg)),\n        expectedDataToLoad => {\n          this.data = expectedDataToLoad;\n        }\n      )\n    );\n  }\n\n  data: ElementStudioExpectedDataToLoad = {\n    elements: [],\n    macros: [],\n    presets: [],\n    saveLocations: [],\n    presetSections: []\n  };\n\n  width = 600;\n\n  activeItemType: SaveLocationType | null = null;\n\n  updateData(newData: ElementStudioExpectedDataToLoad) {\n    this.data = defensiveCopy(newData);\n  }\n\n  updateActiveItemType(newType: SaveLocationType | null) {\n    this.activeItemType = newType;\n  }\n\n  updateWidth(newWidth: number) {\n    this.width = newWidth;\n  }\n\n  adjustWidth(adjustAmount: number) {\n    this.width += adjustAmount;\n  }\n\n  get styles() {\n    return {\n      width: `${this.width}px`\n    };\n  }\n\n  get isProdEnv() {\n    return !isBreakdanceDevelopmentEnvironment();\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudio.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudio.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudio.vue?vue&type=template&id=2a95327c&\"\nimport script from \"./ElementStudio.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudio.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudio.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('AppLayoutBodyPanelArea',{attrs:{\"panel-state\":_vm.panelState,\"position\":_vm.position}},[_c('Add',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.panelState === 'add'),expression:\"panelState === 'add'\"}]}),(_vm.panelState === 'selectors')?_c('SelectorsPanel'):(_vm.panelState === 'structure')?_c('StructurePanel'):_vm._e(),(_vm.panelState === 'elementproperties')?_c('ElementPropertiesPanel',{key:_vm.activeElementId}):(_vm.panelState === 'history')?_c('HistoryAndRevisionsPanel'):(_vm.panelState === 'globalSettings')?_c('GlobalSettingsPanel'):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-element-properties-panel vscroll-wrap vscroll-scroll\",attrs:{\"data-test-id\":\"element-properties-panel\"}},[(_vm.elementIsActive)?[_c('Titlebar'),_c('TabsAndControls')]:[_c('BlankSidebarContent')]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"properties-panel-titlebar\"},[_c('div',{staticClass:\"properties-panel-titlebar-title truncate\"},[_vm._v(\" \"+_vm._s(_vm.elementTitle)+\" \")]),_vm._l((_vm.elementBadges),function(badge,i){return _c('ElementBadge',{key:i,staticClass:\"ml-1\",attrs:{\"value\":badge}})}),_c('v-spacer'),_c('IconButton',{staticClass:\"properties-panel-duplicate-button\",attrs:{\"icon\":\"DuplicateIcon\",\"size\":\"16\",\"small\":true},on:{\"click\":_vm.duplicateElement}}),_c('IconButton',{staticClass:\"properties-panel-delete-button\",attrs:{\"icon\":\"TrashIcon\",\"size\":\"16\",\"small\":true},on:{\"click\":_vm.remove}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { uiStore, documentStore, configStore } from \"@/store/store\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport ElementBadge from \"./ElementBadge.vue\";\nimport { getProBadge } from \"@/lib/subscriptions/free-mode\";\n\n@Component({\n  components: {\n    Dropdown,\n    IconButton,\n    ElementBadge\n  }\n})\nexport default class Titlebar extends Vue {\n  get elementTitle() {\n    return uiStore.activeElement\n      ? configStore.element(uiStore.activeElement.data.type).name\n      : \"No Active Element\"; /* should never happen */\n  }\n  get elementBadges() {\n    if (!uiStore.activeElement) return [];\n\n    const element = configStore.element(uiStore.activeElement.data.type);\n\n    const badges = element.badge ? [element.badge] : [];\n\n    if (\n      element.settings &&\n      element.settings.proOnly &&\n      configStore.subscriptionMode === \"free\"\n    ) {\n      badges.push(getProBadge());\n    }\n\n    return badges;\n  }\n  duplicateElement() {\n    if (uiStore.activeElementId) {\n      documentStore.duplicateElementAndActivateIt(uiStore.activeElementId);\n    }\n  }\n  remove() {\n    if (uiStore.activeElementId !== null) {\n      documentStore.deleteElement({\n        nodeId: uiStore.activeElementId\n      });\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Titlebar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Titlebar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Titlebar.vue?vue&type=template&id=57e20002&\"\nimport script from \"./Titlebar.vue?vue&type=script&lang=ts&\"\nexport * from \"./Titlebar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Titlebar.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VSpacer})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pa-7 d-flex align-center justify-center flex-column\",staticStyle:{\"height\":\"100%\"}},[_vm._m(0),_c('StandardButton',{staticClass:\"open-elements-toolbar-button\",attrs:{\"size\":\"22\",\"testId\":\"open-elements-toolbar-button\"},on:{\"click\":_vm.toggleAdd}},[_vm._v(\" Add \")])],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"blank-sidebar-text\"},[_c('p',[_vm._v(\" Add an element to your page or click an existing element to edit it. \")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport StandardButton from \"@/components/UI/StandardButton.vue\";\nimport { toggleUiPanel } from \"@/lib/panels/panels\";\n\n@Component({ components: { StandardButton } })\nexport default class BlankSidebarContent extends Vue {\n  toggleAdd() {\n    toggleUiPanel(\"add\");\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlankSidebarContent.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BlankSidebarContent.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BlankSidebarContent.vue?vue&type=template&id=668b9782&\"\nimport script from \"./BlankSidebarContent.vue?vue&type=script&lang=ts&\"\nexport * from \"./BlankSidebarContent.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BlankSidebarContent.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vscroll-wrap vscroll-scroll\"},[(!_vm.hasSearchParameters)?_c('DesignContentSettingsTabs',{attrs:{\"value\":_vm.tab,\"controls\":_vm.controls},on:{\"input\":_vm.updateTab}}):_vm._e(),_c('div',{staticClass:\"vscroll-scroll\"},[(_vm.hasSearchParameters && !_vm.noSearchResults)?_c('v-sheet',[(_vm.searchBoxState.query !== '')?_c('div',{staticClass:\"control-tree-search-term\"},[_c('span',[_vm._v(\"Search results for \\\"\"+_vm._s(_vm.searchBoxState.query)+\"\\\"\")]),_c('div',{staticClass:\"control-tree-search-clear\",on:{\"click\":_vm.clearQuery}},[_c('Icon',{attrs:{\"icon\":\"CloseIcon\",\"size\":\"14\"}})],1)]):_vm._e(),_c('ControlsTree',{attrs:{\"controls\":_vm.controlsFilteredBySearchParams.contentSections,\"path\":'content',\"linear\":true}}),_c('ControlsTree',{attrs:{\"controls\":_vm.controlsFilteredBySearchParams.designSections,\"path\":'design',\"linear\":true}}),_c('ControlsTree',{attrs:{\"controls\":_vm.controlsFilteredBySearchParams.settingsSections,\"path\":'settings',\"linear\":true}})],1):(_vm.hasSearchParameters && _vm.noSearchResults)?_c('v-sheet',{staticClass:\"d-flex justify-center align-center flex-column\",attrs:{\"height\":\"100%\"}},[_c('SearchBoxEmptyState',{attrs:{\"label\":\"controls\"},on:{\"input\":_vm.clearQuery}})],1):_c('v-tabs-items',{model:{value:(_vm.tab),callback:function ($$v) {_vm.tab=$$v},expression:\"tab\"}},[(_vm.hasContentControls)?_c('v-tab-item',{attrs:{\"value\":\"content\",\"transition\":false,\"reverse-transition\":false}},[_c('ControlsTree',{attrs:{\"controls\":_vm.contentSections,\"path\":'content',\"forceFirstSectionOpen\":true}})],1):_vm._e(),(_vm.hasDesignControls)?_c('v-tab-item',{attrs:{\"value\":\"design\",\"transition\":false,\"reverse-transition\":false}},[_c('DesignTabContent',{attrs:{\"controls\":_vm.designSections,\"path\":'design'}})],1):_vm._e(),(_vm.hasSettingsControls)?_c('v-tab-item',{attrs:{\"value\":\"settings\",\"transition\":false,\"reverse-transition\":false}},[_c('ControlsTree',{attrs:{\"controls\":_vm.settingsSections,\"path\":'settings'}})],1):_vm._e()],1)],1),_c('SearchBox',{attrs:{\"value\":_vm.searchBoxState,\"location\":\"element\",\"include-settings-toggle\":true},on:{\"input\":_vm.updateSearchBoxState}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"properties-panel-search-box-wrap\"},[_c('div',{staticClass:\"properties-panel-search-box-inner-wrap\"},[_c('Icon',{staticClass:\"properties-panel-search-icon\",attrs:{\"icon\":\"SearchIcon\",\"size\":\"13\"}}),_c('TextInput',{staticClass:\"properties-panel-search-text-input\",attrs:{\"value\":_vm.value.query,\"placeholder\":_vm.placeholder,\"data-test-id\":\"elements-panel-search\"},on:{\"input\":_vm.editQuery}}),_c('div',{staticClass:\"properties-panel-search-actions\"},[(_vm.value.query)?_c('div',{staticClass:\"properties-panel-search-modified\",on:{\"click\":_vm.clearQuery}},[_c('Icon',{attrs:{\"icon\":\"CloseIcon\",\"size\":\"12\"}})],1):_vm._e(),_c('SearchFilter',{attrs:{\"value\":_vm.value.modifiedOnly},on:{\"input\":_vm.editModified}},[_vm._v(\"modified\")]),(_vm.includeSettingsToggle)?_c('SearchFilter',{attrs:{\"value\":_vm.value.includeSettings},on:{\"input\":_vm.editSettings}},[_c('Icon',{attrs:{\"icon\":\"GearIcon\",\"size\":\"12\"}})],1):_vm._e()],1)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n    'properties-panel-search-modified': true,\n    'properties-panel-search-modified-on': this.value\n  },on:{\"click\":_vm.toggle}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\n@Component\nexport default class SearchFilter extends Vue {\n  @Prop()\n  value!: boolean;\n\n  toggle() {\n    this.$emit(\"input\", !this.value);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchFilter.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchFilter.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SearchFilter.vue?vue&type=template&id=51a15e86&\"\nimport script from \"./SearchFilter.vue?vue&type=script&lang=ts&\"\nexport * from \"./SearchFilter.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SearchFilter.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport SearchFilter from \"./SearchFilter.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\n\nexport type SearchBoxState = {\n  query: string;\n  modifiedOnly: boolean;\n  includeSettings?: boolean;\n};\n\n@Component({\n  components: { SearchFilter, TextInput, Icon }\n})\nexport default class SearchBox extends Vue {\n  @Prop()\n  value!: SearchBoxState;\n\n  @Prop()\n  includeSettingsToggle!: boolean;\n\n  @Prop()\n  location!: \"element\" | \"settings\" | \"selector\" | string;\n\n  emit(newState: SearchBoxState) {\n    this.$emit(\"input\", newState);\n  }\n\n  editQuery(newQuery: string | null) {\n    if (typeof newQuery === \"string\") {\n      this.emit({\n        ...this.value,\n        query: newQuery.trim().toLowerCase()\n      });\n    } else {\n      this.emit({\n        ...this.value,\n        query: \"\"\n      });\n    }\n  }\n\n  clearQuery() {\n    this.emit({\n      ...this.value,\n      query: \"\",\n      modifiedOnly: false\n    });\n  }\n\n  editModified(modified: boolean) {\n    this.emit({\n      ...this.value,\n      modifiedOnly: modified\n    });\n  }\n\n  editSettings(settings: boolean) {\n    this.emit({\n      ...this.value,\n      includeSettings: settings\n    });\n  }\n\n  get placeholder() {\n    return \"Search\";\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchBox.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchBox.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SearchBox.vue?vue&type=template&id=e7258348&\"\nimport script from \"./SearchBox.vue?vue&type=script&lang=ts&\"\nexport * from \"./SearchBox.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SearchBox.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('TabsRow',[(_vm.hasContentControls)?_c('Tab',{staticClass:\"properties-panel-tab\",attrs:{\"value\":_vm.value,\"id\":\"content\",\"data-test-id\":'element-properties-tab-content'},on:{\"input\":_vm.setTab},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('Icon',{attrs:{\"icon\":\"PenIcon\",\"size\":\"18\"}})]},proxy:true},{key:\"contextmenu\",fn:function(){return [_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":function($event){return _vm.resetToDefault(\"content\")}}},[_c('v-list-item-title',[_vm._v(\"Reset Content\")])],1)],1)]},proxy:true}],null,false,855652120)}):_vm._e(),(_vm.hasDesignControls)?_c('Tab',{staticClass:\"properties-panel-tab\",attrs:{\"value\":_vm.value,\"id\":\"design\",\"data-test-id\":'element-properties-tab-design'},on:{\"input\":_vm.setTab},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('Icon',{attrs:{\"icon\":\"PaletteIcon\",\"size\":\"18\"}})]},proxy:true},{key:\"contextmenu\",fn:function(){return [_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":function($event){return _vm.resetToDefault(\"design\")}}},[_c('v-list-item-title',[_vm._v(\"Reset Design\")])],1)],1)]},proxy:true}],null,false,1825965438)}):_vm._e(),(_vm.hasSettingsControls)?_c('Tab',{staticClass:\"properties-panel-tab\",attrs:{\"value\":_vm.value,\"id\":\"settings\",\"data-test-id\":'element-properties-tab-settings'},on:{\"input\":_vm.setTab},scopedSlots:_vm._u([{key:\"icon\",fn:function(){return [_c('Icon',{attrs:{\"icon\":\"GearIcon\",\"size\":\"18\"}})]},proxy:true},{key:\"contextmenu\",fn:function(){return [_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":function($event){return _vm.resetToDefault(\"settings\")}}},[_c('v-list-item-title',[_vm._v(\"Reset Settings\")])],1)],1)]},proxy:true}],null,false,325617522)}):_vm._e(),_c('SavePreset',{attrs:{\"open\":_vm.savePresetDialogOpen},on:{\"update:dialog\":function($event){_vm.savePresetDialogOpen = $event}}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.classList,on:{\"click\":function($event){return _vm.$emit('input', _vm.id)},\"contextmenu\":_vm.openContextMenu}},[(_vm.hasIconSlot)?_c('div',{staticClass:\"breakdance-tab__icon\"},[_vm._t(\"icon\")],2):_vm._e(),(!_vm.hasIconSlot)?_c('div',{staticClass:\"breakdance-tab__label\"},[_vm._t(\"default\")],2):_vm._e(),(_vm.hasContextMenuSlot)?_c('div',{staticClass:\"breakdance-tab__context-menu\"},[_c('Dropdown',{attrs:{\"position-x\":_vm.contextMenuX,\"position-y\":_vm.contextMenuY,\"absolute\":\"\",\"offset-y\":\"\"},model:{value:(_vm.contextMenu),callback:function ($$v) {_vm.contextMenu=$$v},expression:\"contextMenu\"}},[_vm._t(\"contextmenu\")],2)],1):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\n\n@Component({\n  components: { Dropdown }\n})\nexport default class Tab extends Vue {\n  @Prop()\n  value!: string;\n\n  @Prop()\n  id!: string;\n\n  get classList() {\n    return {\n      \"breakdance-tab\": true,\n      [`breakdance-tab--id-${this.id}`]: true,\n      \"breakdance-tab--active\": this.value === this.id\n    };\n  }\n\n  get hasContextMenuSlot() {\n    return !!this.$slots.contextmenu;\n  }\n\n  get hasIconSlot() {\n    return !!this.$slots.icon;\n  }\n\n  contextMenu = false;\n  contextMenuX = 0;\n  contextMenuY = 0;\n\n  openContextMenu(e: MouseEvent) {\n    if (!this.hasContextMenuSlot) {\n      return;\n    }\n\n    e.preventDefault();\n\n    this.contextMenu = false;\n    this.contextMenuX = e.clientX;\n    this.contextMenuY = e.clientY;\n\n    this.$nextTick(() => {\n      this.contextMenu = true;\n    });\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tab.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Tab.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Tab.vue?vue&type=template&id=d09a777e&\"\nimport script from \"./Tab.vue?vue&type=script&lang=ts&\"\nexport * from \"./Tab.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Tab.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-tabs-row\"},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\n\n@Component({})\nexport default class TabsRow extends Vue {}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabsRow.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabsRow.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TabsRow.vue?vue&type=template&id=1ee7e7e0&\"\nimport script from \"./TabsRow.vue?vue&type=script&lang=ts&\"\nexport * from \"./TabsRow.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TabsRow.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dialog',{attrs:{\"value\":_vm.open},on:{\"input\":function($event){return _vm.$emit('update:dialog', false)}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Save Design Settings As Preset \")]},proxy:true},{key:\"text\",fn:function(){return [_c('TextInput',{attrs:{\"size\":\"md\",\"placeholder\":\"Present name\"},model:{value:(_vm.newPresetName),callback:function ($$v) {_vm.newPresetName=$$v},expression:\"newPresetName\"}}),_c('WPMediaInput',{staticClass:\"mt-6\",model:{value:(_vm.newPresetScreenshot),callback:function ($$v) {_vm.newPresetScreenshot=$$v},expression:\"newPresetScreenshot\"}})]},proxy:true},{key:\"actions\",fn:function(){return [_c('v-btn',{staticStyle:{\"margin-right\":\"auto\"},attrs:{\"text\":\"\"},on:{\"click\":function($event){_vm.open = false}}},[_vm._v(\"Cancel\")]),_c('v-btn',{attrs:{\"outlined\":\"\"},on:{\"click\":_vm.exportPreset}},[_vm._v(\"Export To JSON\")]),_c('v-btn',{attrs:{\"dark\":\"\",\"color\":\"blue\",\"loading\":_vm.saveInProgress},on:{\"click\":_vm.savePreset}},[_vm._v(\"Save\")])]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","// https://gist.github.com/liabru/11263260\nexport function triggerDownload(\n  content: string,\n  filename: string,\n  type = \"text/plain\"\n) {\n  const blob = new Blob([content], { type: type }),\n    anchor = document.createElement(\"a\");\n  anchor.download = filename;\n  anchor.href = (window.webkitURL || window.URL).createObjectURL(blob);\n  anchor.dataset.downloadurl = [type, anchor.download, anchor.href].join(\":\");\n  anchor.click();\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport * as data from \"@/lib/wordpress/data\";\nimport { configStore, uiStore } from \"@/store/store\";\nimport { ElementPreset } from \"@/types/presets\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { ControlsTreeContext } from \"@/types/controls\";\nimport WPMediaInput from \"@/components/Reusable/CustomInputs/MediaInput/WPMediaInput.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport Dialog from \"@/components/UI/Dialog.vue\";\nimport { triggerDownload } from \"@/util/trigger-download\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport { Media } from \"@/types/media\";\nimport { jsonStringifyOrUndefined } from \"@/util/json-stringify-or-undefined\";\n\n@Component({\n  components: { WPMediaInput, TextInput, Dialog }\n})\nexport default class SavePreset extends Vue {\n  newPresetName: string | undefined | null = \"\";\n  newPresetScreenshot: Media | null = null;\n\n  @Prop()\n  open!: boolean;\n\n  @Inject(\"context\") readonly context!: ControlsTreeContext;\n\n  saveInProgress = false;\n\n  async saveToLibrary(newPreset: ElementPreset) {\n    this.saveInProgress = true;\n    const newPresets = defensiveCopy(configStore.presetsForElements);\n    newPresets.push(newPreset);\n\n    pipe(\n      await data.saveToWP(\"presets_for_elements\", newPresets),\n      fold(\n        errors => {\n          errors.forEach(e => NotificationLogger.log.message(e.msg));\n        },\n        () => {\n          configStore.setPresetsForElements(newPresets);\n        }\n      )\n    );\n\n    this.saveInProgress = false;\n  }\n\n  makePreset() {\n    const activeElement = uiStore.activeElement;\n    if (!activeElement) return false;\n    if (!this.newPresetName || !this.newPresetScreenshot) {\n      NotificationLogger.log.message(\n        \"Presets must have a name and a screenshot.\"\n      );\n      return false;\n    }\n\n    const designProps = defensiveCopy(this.context.getControlValue(\"design\"));\n\n    if (!designProps) {\n      NotificationLogger.log.message(\n        \"Unable to save blank design settings as preset.\"\n      );\n      return false;\n    }\n\n    const newPreset: ElementPreset = {\n      availableForType: activeElement.data.type,\n      designPropertiesData: designProps,\n      label: this.newPresetName,\n      screenshotUrl: this.newPresetScreenshot\n    };\n\n    return newPreset;\n  }\n\n  savePreset() {\n    const newPreset = this.makePreset();\n    if (newPreset) {\n      this.saveToLibrary(newPreset);\n      this.clearAndClose();\n    }\n  }\n\n  exportPreset() {\n    const newPreset = this.makePreset();\n    if (newPreset) {\n      triggerDownload(jsonStringifyOrUndefined(newPreset) || \"\", \"preset.json\");\n      this.clearAndClose();\n    }\n  }\n\n  clearAndClose() {\n    this.newPresetName = \"\";\n    this.newPresetScreenshot = null;\n    this.$emit(\"update:dialog\", false);\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavePreset.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SavePreset.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SavePreset.vue?vue&type=template&id=6b378b91&\"\nimport script from \"./SavePreset.vue?vue&type=script&lang=ts&\"\nexport * from \"./SavePreset.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Prop } from \"vue-property-decorator\";\nimport { configStore, documentStore, uiStore } from \"@/store/store\";\nimport Tab from \"@/components/Reusable/Tabs/Tab.vue\";\nimport TabsRow from \"@/components/Reusable/Tabs/TabsRow.vue\";\nimport { ControlsTreeContext } from \"@/types/controls\";\nimport SavePreset from \"@/components/DesignLibrary/Presets/SavePreset.vue\";\nimport { BuilderElementControls } from \"@/types/elements\";\nimport { findNode } from \"@/lib/tree/tree\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport lodash from \"lodash\";\nimport { CONTROL_CLEAR_VALUE } from \"@/lib/controls/values\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { getBuilderElementNameBySlug } from \"@/lib/undo/snapshot-labels/document-store-property-change.utils\";\n\n@Component({\n  components: {\n    TabsRow,\n    Tab,\n    Icon,\n    SavePreset\n  }\n})\nexport default class DesignContentSettingsTabs extends Vue {\n  @Prop({\n    default: \"content\"\n  })\n  value!: string;\n\n  savePresetDialogOpen = false;\n\n  @Prop()\n  controls!: BuilderElementControls;\n\n  setTab(tab: string) {\n    this.$emit(\"input\", tab);\n  }\n\n  get hasContentControls() {\n    return this.controls.contentSections.length > 0;\n  }\n\n  get hasDesignControls() {\n    return this.controls.designSections.length > 0;\n  }\n\n  get hasSettingsControls() {\n    return this.controls.settingsSections.length > 0;\n  }\n\n  @Inject(\"context\") readonly context!: ControlsTreeContext;\n\n  resetToDefault(path: \"design\" | \"content\" | \"settings\") {\n    if (uiStore.activeElement === false) return;\n    resetElementProperties(uiStore.activeElement.id, path);\n  }\n}\n\nfunction resetElementProperties(\n  elementId: number,\n  path: \"design\" | \"content\" | \"settings\"\n) {\n  const element = findNode(documentStore.document.tree, elementId);\n\n  if (!element) return;\n\n  const defaultProperties = configStore.element(element.data.type)\n    .defaultProperties;\n\n  /*\n    Setting to undefined actually blows up VueSimpleDeepset\n    when you then try to set a control value that has previously been cleared\n    by this function. so we use null as a fallback\n    */\n  const defaultAtPath = lodash.get(\n    defaultProperties,\n    path,\n    CONTROL_CLEAR_VALUE\n  );\n\n  documentStore.throttledPropertyChanged({\n    elementId: element.id,\n    path: path,\n    value: defensiveCopy(defaultAtPath),\n    meta: {\n      snapshotLabel: `Reset ${getBuilderElementNameBySlug(\n        element.data.type\n      )} ${lodash.capitalize(path)}`\n    }\n  });\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignContentSettingsTabs.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignContentSettingsTabs.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DesignContentSettingsTabs.vue?vue&type=template&id=25b1de8b&\"\nimport script from \"./DesignContentSettingsTabs.vue?vue&type=script&lang=ts&\"\nexport * from \"./DesignContentSettingsTabs.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VList,VListItem,VListItemTitle})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.mode === 'custom')?[_c('ControlsTree',{attrs:{\"controls\":_vm.controls,\"path\":_vm.path}}),(_vm.presets.length > 0)?_c('div',{staticClass:\"design-tab-design-settings-go-back-to-presets-link\",on:{\"click\":function($event){return _vm.changeMode('presets')}}},[_vm._v(\" presets  \")]):_vm._e()]:[_c('div',{staticClass:\"design-tab-presets-browser-content\"},[_c('div',{staticClass:\"design-tab-design-settings-customize-link\",attrs:{\"data-test-id\":\"element-design-customize\"},on:{\"click\":function($event){return _vm.changeMode('custom')}}},[_vm._v(\" customize  \")])])]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.presets),function(preset,i){return _c('div',{key:i,staticClass:\"breakdance-presets-in-design-tab-preset\",on:{\"click\":function($event){return _vm.applyPreset(preset)}}},[_vm._v(\" \"+_vm._s(preset.label)+\" \"),_c('img',{attrs:{\"src\":preset.screenshotUrl.url}})])}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { ElementPreset } from \"@/types/presets\";\nimport { uiStore, documentStore } from \"@/store/store\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { getBuilderElementNameBySlug } from \"@/lib/undo/snapshot-labels/document-store-property-change.utils\";\n\nexport function applyPresetToActiveElementIfMatchingTypeOrCreateNewElementOfThatTypeAndThenApplyPreset(\n  preset: ElementPreset\n) {\n  if (\n    !uiStore.activeElement ||\n    uiStore.activeElement.data.type !== preset.availableForType\n  ) {\n    documentStore.addElement({ elementSlug: preset.availableForType });\n  }\n\n  if (\n    uiStore.activeElement &&\n    uiStore.activeElement.data.type === preset.availableForType\n  ) {\n    documentStore.throttledPropertyChanged({\n      elementId: uiStore.activeElement.id,\n      path: \"design\",\n      value: defensiveCopy(preset.designPropertiesData),\n      meta: {\n        snapshotLabel: `Apply preset \"${\n          preset.label\n        }\" to ${getBuilderElementNameBySlug(uiStore.activeElement.data.type)}`\n      }\n    });\n  }\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { ElementPreset } from \"@/types/presets\";\nimport { applyPresetToActiveElementIfMatchingTypeOrCreateNewElementOfThatTypeAndThenApplyPreset } from \"@/lib/presets/presets\";\n\n@Component\nexport default class PresetsInDesignTab extends Vue {\n  @Prop({\n    default: []\n  })\n  presets!: ElementPreset[];\n\n  applyPreset(preset: ElementPreset) {\n    applyPresetToActiveElementIfMatchingTypeOrCreateNewElementOfThatTypeAndThenApplyPreset(\n      preset\n    );\n    this.$emit(\"presetApplied\");\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PresetsInDesignTab.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PresetsInDesignTab.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PresetsInDesignTab.vue?vue&type=template&id=c72b5210&\"\nimport script from \"./PresetsInDesignTab.vue?vue&type=script&lang=ts&\"\nexport * from \"./PresetsInDesignTab.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PresetsInDesignTab.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport ControlsTree from \"@/components/Reusable/ControlsTree/ControlsTree.vue\";\nimport PresetsInDesignTab from \"./PresetsInDesignTab.vue\";\nimport { Control } from \"@/types/controls\";\nimport { configStore, uiStore } from \"@/store/store\";\n\n@Component({\n  components: {\n    ControlsTree,\n    PresetsInDesignTab\n  }\n})\nexport default class DesignTabContent extends Vue {\n  @Prop()\n  controls!: Control[];\n\n  @Prop()\n  path!: string;\n\n  mode: \"presets\" | \"custom\" = \"custom\";\n\n  changeMode(newMode: \"presets\" | \"custom\") {\n    this.mode = newMode;\n  }\n\n  get presets() {\n    if (!uiStore.activeElement) return [];\n\n    return configStore.presetsForElements.filter(\n      // @ts-ignore\n      p => p.availableForType === uiStore.activeElement.data.type\n    );\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignTabContent.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignTabContent.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DesignTabContent.vue?vue&type=template&id=6dc456cc&\"\nimport script from \"./DesignTabContent.vue?vue&type=script&lang=ts&\"\nexport * from \"./DesignTabContent.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DesignTabContent.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { Control, ControlsTreeContext } from \"@/types/controls\";\nimport { BuilderElementControls } from \"@/types/elements\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { valuePresent } from \"@/lib/controls/values\";\n\nexport function filterBuilderElementControls(\n  controls: BuilderElementControls,\n  onlyShowModified: boolean,\n  searchQuery: string,\n  context: ControlsTreeContext\n): BuilderElementControls {\n  const regexSearchQuery = new RegExp(\n    searchQuery.trim().replace(\" \", \"|\"),\n    \"si\"\n  );\n\n  const callback = (control: Control, path: string) => {\n    if (\n      regexSearchQuery &&\n      !`${control.label}`.match(regexSearchQuery) &&\n      !`${control.slug}`.match(regexSearchQuery) &&\n      !`${control.keywords}`.match(regexSearchQuery)\n    ) {\n      return false;\n    }\n\n    if (onlyShowModified && !valuePresent(path, control, context)) {\n      return false;\n    }\n\n    /*\n    we could use shouldShowControl here, but I think\n    it is better to show all the controls when searching,\n    even if they would be hidden by a condition. maybe the right\n    UX would be to grey them out though.\n    */\n\n    return true;\n  };\n\n  return {\n    contentSections: _filterControls(\n      controls.contentSections,\n      callback,\n      \"content\",\n      onlyShowModified\n    ),\n    designSections: _filterControls(\n      controls.designSections,\n      callback,\n      \"design\",\n      onlyShowModified\n    ),\n    settingsSections: _filterControls(\n      controls.settingsSections,\n      callback,\n      \"settings\",\n      onlyShowModified\n    )\n  };\n}\n\nexport function filterControls(\n  controls: Control[],\n  onlyShowModified: boolean,\n  searchQuery: string,\n  context: ControlsTreeContext,\n  path: string\n): Control[] {\n  const regexSearchQuery = new RegExp(\n    searchQuery.trim().replace(\" \", \"|\"),\n    \"si\"\n  );\n\n  const callback = (control: Control, path: string) => {\n    if (\n      regexSearchQuery &&\n      !`${control.label}`.match(regexSearchQuery) &&\n      !`${control.slug}`.match(regexSearchQuery) &&\n      !`${control.keywords}`.match(regexSearchQuery)\n    ) {\n      return false;\n    }\n\n    if (onlyShowModified && !valuePresent(path, control, context)) {\n      return false;\n    }\n\n    /*\n    we could use shouldShowControl here, but I think\n    it is better to show all the controls when searching,\n    even if they would be hidden by a condition. maybe the right\n    UX would be to grey them out though.\n    */\n\n    return true;\n  };\n\n  return _filterControls(controls, callback, path, onlyShowModified);\n}\n\nfunction _filterControls(\n  controls: Control[],\n  callback: (control: Control, path: string) => boolean,\n  path: string,\n  onlyShowModified: boolean\n) {\n  const controls_ = defensiveCopy(controls);\n  return controls_.filter(control => {\n    const outcome = callback(control, `${path}.${control.slug}`);\n    if (control.options.type === \"section\") {\n      if (outcome && !onlyShowModified) {\n        return true;\n      }\n      control.children = _filterControls(\n        control.children,\n        callback,\n        `${path}.${control.slug}`,\n        onlyShowModified\n      );\n      return control.children.length > 0;\n    }\n    return outcome;\n  });\n}\n\nexport const flattenAndCount = (controls: Control[], acc: number) => {\n  controls.forEach(control => {\n    acc = flattenAndCount(\n      control.children,\n      acc + (control.options.type === \"section\" ? 0 : 1)\n    );\n  });\n  return acc;\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"properties-panel-search-empty-state\"},[_c('svg',{staticClass:\"properties-panel-search-empty-state-icon\",attrs:{\"viewBox\":\"0 0 100 100\",\"xmlns\":\"http://www.w3.org/2000/svg\"}},[_c('g',{attrs:{\"fill\":\"none\",\"stroke\":\"currentColor\",\"stroke-linecap\":\"round\",\"stroke-linejoin\":\"round\",\"stroke-width\":\"1.5\"}},[_c('path',{attrs:{\"d\":\"M90.667 34.388v-25a6.25 6.25 0 0 0-6.25-6.25h-75a6.25 6.25 0 0 0-6.25 6.25v68.75a6.25 6.25 0 0 0 6.25 6.25h25M3.167 21.888h87.5\",\"stroke-width\":\"6.250005\"}}),_c('path',{attrs:{\"d\":\"M46.917 71.888a25 25 0 1 0 50 0 25 25 0 1 0-50 0ZM81.292 62.513l-18.75 18.75M62.542 62.513l18.75 18.75\",\"stroke-width\":\"6.250005\"}})])]),_c('h5',[_vm._v(\"No \"+_vm._s(_vm.label)+\" found.\")]),_c('v-btn',{staticClass:\"mt-4\",attrs:{\"text\":\"\",\"outlined\":\"\",\"small\":\"\"},on:{\"click\":_vm.clearSearch}},[_vm._v(\"Clear Search\")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\n\n@Component({\n  components: {\n    Dropdown,\n    IconButton\n  }\n})\nexport default class SearchBoxEmptyState extends Vue {\n  @Prop({ default: \"element\" })\n  label!: string;\n\n  clearSearch() {\n    this.$emit(\"input\");\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchBoxEmptyState.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SearchBoxEmptyState.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SearchBoxEmptyState.vue?vue&type=template&id=83983632&\"\nimport script from \"./SearchBoxEmptyState.vue?vue&type=script&lang=ts&\"\nexport * from \"./SearchBoxEmptyState.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Provide, Prop } from \"vue-property-decorator\";\nimport ControlsTree from \"@/components/Reusable/ControlsTree/ControlsTree.vue\";\nimport SearchBox, { SearchBoxState } from \"./SearchBox.vue\";\nimport { uiStore, configStore, documentStore } from \"@/store/store\";\nimport {\n  Control,\n  ControlsTreeContext,\n  ChangeControlValueMeta\n} from \"@/types/controls\";\nimport lodash from \"lodash\";\nimport DesignContentSettingsTabs from \"./DesignContentSettingsTabs.vue\";\nimport DesignTabContent from \"./DesignTabContent.vue\";\nimport { filterControlsThatCanBeModified } from \"@/lib/permissions/utils\";\nimport { getPathWithoutRepeaterIndex } from \"@/lib/dynamic-data/utils\";\nimport {\n  filterBuilderElementControls,\n  flattenAndCount\n} from \"@/lib/controls/search\";\nimport {\n  getElementAccordionState,\n  setElementAccordionState\n} from \"@/lib/panels/accordions\";\nimport {\n  separatePathPrefixFromElementControlPath,\n  getElementControlsListBasedOnPathPrefix\n} from \"@/lib/elements/utils\";\nimport { addMetadataToDocumentPropertyChangeBasingOnControlValueChangeMetadata } from \"@/lib/controls/utils\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport SearchBoxEmptyState from \"@/components/ElementPropertiesPanel/SearchBoxEmptyState.vue\";\n\n@Component({\n  components: {\n    ControlsTree,\n    SearchBox,\n    DesignContentSettingsTabs,\n    DesignTabContent,\n    Icon,\n    SearchBoxEmptyState\n  }\n})\nexport default class TabsAndControls extends Vue {\n  @Prop()\n  value!: boolean;\n\n  searchBoxState: SearchBoxState = {\n    modifiedOnly: false,\n    includeSettings: false,\n    query: \"\"\n  };\n\n  get element() {\n    return uiStore.activeElement;\n  }\n\n  get elementId() {\n    return uiStore.activeElementId;\n  }\n\n  clearQuery() {\n    this.updateSearchBoxState({\n      modifiedOnly: false,\n      query: \"\",\n      includeSettings: false\n    });\n  }\n\n  updateSearchBoxState(newSearchBoxState: SearchBoxState) {\n    this.searchBoxState = newSearchBoxState;\n  }\n\n  get hasSearchParameters() {\n    return this.searchBoxState.modifiedOnly || this.searchBoxState.query;\n  }\n\n  get noSearchResults() {\n    return (\n      flattenAndCount(this.controlsFilteredBySearchParams.contentSections, 0) +\n        flattenAndCount(this.controlsFilteredBySearchParams.designSections, 0) +\n        flattenAndCount(\n          this.controlsFilteredBySearchParams.settingsSections,\n          0\n        ) ===\n      0\n    );\n  }\n\n  get controlsFilteredBySearchParams() {\n    const controls = this.searchBoxState.includeSettings\n      ? {\n          designSections: [],\n          contentSections: [],\n          settingsSections: this.controls.settingsSections\n        }\n      : {\n          ...this.controls,\n          settingsSections: []\n        };\n\n    return filterBuilderElementControls(\n      this.searchBoxState.modifiedOnly ? this.controls : controls,\n      this.searchBoxState.modifiedOnly,\n      this.searchBoxState.query,\n      this.editingElementControlsTreeContext\n    );\n  }\n\n  @Provide(\"context\")\n  editingElementControlsTreeContext = editingElementControlsTreeContext;\n\n  get controls() {\n    // @ts-ignore\n    const type = this.element.data.type;\n    const controls = configStore.element(type).controls;\n\n    // for client mode / permissions\n    return filterControlsThatCanBeModified(controls, configStore.permission);\n  }\n\n  get contentSections() {\n    return this.controls.contentSections;\n  }\n\n  get designSections() {\n    return this.controls.designSections;\n  }\n\n  get settingsSections() {\n    return this.controls.settingsSections;\n  }\n\n  get hasContentControls() {\n    return this.controls.contentSections.length > 0;\n  }\n\n  get hasDesignControls() {\n    return this.controls.designSections.length > 0;\n  }\n\n  get hasSettingsControls() {\n    return this.controls.settingsSections.length > 0;\n  }\n\n  get tab() {\n    if (\n      this.elementId &&\n      uiStore.panelState.elementPropertiesPanelActiveTab[this.elementId]\n    ) {\n      return uiStore.panelState.elementPropertiesPanelActiveTab[this.elementId];\n    }\n\n    if (this.hasContentControls) return \"content\";\n    if (this.hasDesignControls) return \"design\";\n    if (this.hasSettingsControls) return \"settings\";\n\n    return \"\";\n  }\n\n  updateTab(tab: \"content\" | \"design\" | \"settings\" | undefined) {\n    if (!this.elementId) return;\n\n    uiStore.setPanelState({\n      ...uiStore.panelState,\n      elementPropertiesPanelActiveTab: {\n        ...uiStore.panelState.elementPropertiesPanelActiveTab,\n        [this.elementId]: tab\n      }\n    });\n  }\n\n  searchString = \"\";\n}\n\nconst editingElementControlsTreeContext: ControlsTreeContext = {\n  dynamicProperty: (controlPath: string) => {\n    if (!uiStore.activeElement) return false;\n\n    const dynamicPropertyPaths = configStore.element(\n      uiStore.activeElement.data.type\n    ).dynamicPropertyPaths;\n\n    if (!dynamicPropertyPaths) return false;\n\n    const controlPathWithoutRepeaterIndexAndBreakpoint = getPathWithoutRepeaterIndex(\n      controlPath\n    )\n      /**\n       *  The \"dynPropPath\" for a control in a repeater can be `content.layers[].something`\n       *  But if the repeater is responsive, the path would become `content.layers.base_breakpoint[].something`\n       */\n      .replace(`.${uiStore.currentBreakpoint.id}[`, \"[\");\n\n    const dynPropPathThatMatchesControlPath = dynamicPropertyPaths.find(\n      dynPropPath =>\n        getPathWithoutRepeaterIndex(dynPropPath.path) ===\n        controlPathWithoutRepeaterIndexAndBreakpoint\n    );\n\n    return dynPropPathThatMatchesControlPath?.accepts\n      ? dynPropPathThatMatchesControlPath\n      : false;\n  },\n\n  getControlValue: controlPath => {\n    return lodash.get(uiStore.activeElement, `data.properties.${controlPath}`);\n  },\n  setControlValue(\n    controlPathProbablyWithBreakpointIdAndHoverSuffix,\n    newValue,\n    control,\n    meta?: ChangeControlValueMeta\n  ) {\n    if (!uiStore.activeElementId) return;\n\n    documentStore.throttledPropertyChanged(\n      addMetadataToDocumentPropertyChangeBasingOnControlValueChangeMetadata(\n        {\n          elementId: uiStore.activeElementId,\n          path: controlPathProbablyWithBreakpointIdAndHoverSuffix,\n          value: newValue\n        },\n        {\n          control,\n          controlsTree:\n            this.getControls(\n              controlPathProbablyWithBreakpointIdAndHoverSuffix\n            ) || []\n        },\n        meta\n      )\n    );\n  },\n  getControls: (controlPath: string): Control[] | undefined => {\n    if (!uiStore.activeElement) {\n      return undefined;\n    }\n\n    const splittedPath = separatePathPrefixFromElementControlPath(controlPath);\n\n    if (splittedPath) {\n      return getElementControlsListBasedOnPathPrefix(\n        configStore.element(uiStore.activeElement.data.type),\n        splittedPath.prefix\n      );\n    }\n\n    return undefined;\n  },\n  setAccordionState: (accordionPath: string, open: boolean) => {\n    if (!uiStore.activeElementId) return;\n    setElementAccordionState(uiStore.activeElementId, accordionPath, open);\n  },\n  getAccordionState: (accordionPath: string) => {\n    if (!uiStore.activeElementId) return false;\n    return getElementAccordionState(uiStore.activeElementId, accordionPath);\n  }\n};\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabsAndControls.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TabsAndControls.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TabsAndControls.vue?vue&type=template&id=2c8fbd6f&\"\nimport script from \"./TabsAndControls.vue?vue&type=script&lang=ts&\"\nexport * from \"./TabsAndControls.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./TabsAndControls.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VTabItem } from 'vuetify/lib/components/VTabs';\nimport { VTabsItems } from 'vuetify/lib/components/VTabs';\ninstallComponents(component, {VSheet,VTabItem,VTabsItems})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\n\nimport Titlebar from \"./Titlebar.vue\";\nimport BlankSidebarContent from \"./BlankSidebarContent.vue\";\nimport TabsAndControls from \"./TabsAndControls.vue\";\nimport { uiStore } from \"@/store/store\";\n\n@Component({\n  components: {\n    Titlebar,\n    TabsAndControls,\n    BlankSidebarContent\n  }\n})\nexport default class ElementPropertiesPanel extends Vue {\n  get elementIsActive() {\n    return !!uiStore.activeElement;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementPropertiesPanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementPropertiesPanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementPropertiesPanel.vue?vue&type=template&id=c2d30970&\"\nimport script from \"./ElementPropertiesPanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementPropertiesPanel.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-add-panel\"},[_c('PanelHeader',{on:{\"close\":_vm.close}},[_vm._v(\" Add \")]),(_vm.state === 'success')?[_c('div',{staticClass:\"breakdance-add-panel__selection-wrapper\"},[_c('button',{staticClass:\"breakdance-add-panel__panel-selection breakdance-add-panel__panel-selection--active\"},[_vm._v(\" Elements \")]),_c('button',{staticClass:\"breakdance-add-panel__panel-selection\",on:{\"click\":_vm.openDesignLibrary}},[_vm._v(\" Library \")])]),_c('ElementsList')]:(_vm.state === 'loading')?[_c('div',{staticClass:\"d-flex justify-center align-center\",staticStyle:{\"height\":\"100%\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":100,\"color\":\"var(--gray300)\"}})],1)]:[_c('div',{staticClass:\"d-flex justify-center align-center pa-4\",staticStyle:{\"height\":\"100%\",\"font-size\":\"var(--text-md)\",\"font-weight\":\"500\",\"color\":\"var(--gray700)\"}},[_vm._v(\" error: failed to load elements \")])]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-add-panel__element-list\"},[_c('div',{staticClass:\"breakdance-add-panel-search d-flex\"},[(_vm.isAddPanelOpen)?_c('SearchInput',{attrs:{\"tabindex\":\"0\",\"placeholder\":_vm.isElementStudioOpen\n          ? (\"Search \" + _vm.elementsCount + \" elements\")\n          : \"Search elements\",\"value\":_vm.searchString,\"autofocus\":true,\"data-test-id\":\"breakdance-add-panel-search\"},on:{\"input\":_vm.handleSearch,\"keydown\":[_vm.resetSelectedSearchItemIndex,function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.addSelectedSearchItem($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"tab\",9,$event.key,\"Tab\")){ return null; }return _vm.nextOrPreviousSelectedSearchElement($event)},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"up\",38,$event.key,[\"Up\",\"ArrowUp\"])){ return null; }$event.preventDefault();return _vm.goToSelectedSearchElement('prev')},function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"down\",40,$event.key,[\"Down\",\"ArrowDown\"])){ return null; }$event.preventDefault();return _vm.goToSelectedSearchElement('next')}]}}):_vm._e(),(_vm.advancedSearchAvailable)?[_c('v-btn',{staticClass:\"ml-2\",attrs:{\"x-small\":\"\",\"text\":\"\",\"outlined\":_vm.hasSearchParams},on:{\"click\":function($event){_vm.advancedSearchDialogOpen = true}}},[_vm._v(\"advanced\")]),_c('v-dialog',{attrs:{\"width\":\"220\"},model:{value:(_vm.advancedSearchDialogOpen),callback:function ($$v) {_vm.advancedSearchDialogOpen=$$v},expression:\"advancedSearchDialogOpen\"}},[_c('v-card',[_c('v-card-text',[_c('br'),_c('h4',[_vm._v(\"Internal Element Project Management Tool\")]),_c('v-btn',{attrs:{\"small\":\"\"},on:{\"click\":_vm.dumpSearchResults}},[_vm._v(\"dump search results\")]),_c('div',{staticClass:\"d-flex align-center justify-space-between\"},[_vm._v(\" Has Dynamic Stuff \"),_c('v-switch',{model:{value:(_vm.advancedSearchHasDynamicStuff),callback:function ($$v) {_vm.advancedSearchHasDynamicStuff=$$v},expression:\"advancedSearchHasDynamicStuff\"}})],1),_vm._v(\" Looks Good: \"),_c('DropdownInput',{attrs:{\"items\":_vm.advancedSearchDropdownItems,\"clearable\":\"\"},model:{value:(_vm.advancedSearchLooksGood),callback:function ($$v) {_vm.advancedSearchLooksGood=$$v},expression:\"advancedSearchLooksGood\"}}),_c('br'),_vm._v(\" Options Good: \"),_c('DropdownInput',{attrs:{\"items\":_vm.advancedSearchDropdownItems,\"clearable\":\"\"},model:{value:(_vm.advancedSearchOptionsGood),callback:function ($$v) {_vm.advancedSearchOptionsGood=$$v},expression:\"advancedSearchOptionsGood\"}}),_c('br'),_vm._v(\" Options Work: \"),_c('DropdownInput',{attrs:{\"items\":_vm.advancedSearchDropdownItems,\"clearable\":\"\"},model:{value:(_vm.advancedSearchOptionsWork),callback:function ($$v) {_vm.advancedSearchOptionsWork=$$v},expression:\"advancedSearchOptionsWork\"}}),_c('br'),_vm._v(\" Dynamic Behavior Works: \"),_c('DropdownInput',{attrs:{\"items\":_vm.advancedSearchDropdownItems,\"clearable\":\"\"},model:{value:(_vm.advancedSearchDynamicBehaviorWorks),callback:function ($$v) {_vm.advancedSearchDynamicBehaviorWorks=$$v},expression:\"advancedSearchDynamicBehaviorWorks\"}}),_c('br')],1)],1)],1)]:_vm._e()],2),_c('div',{staticClass:\"breakdance-add-panel__item-wrapper\"},[(!_vm.hasSearchParams)?_vm._l((_vm.elementCategories),function(category,index){return _c('div',{key:index},[(_vm.elementsInActiveCategory(category.slug).length)?_c('Accordion',{attrs:{\"expanded\":_vm.openCategoriesIndex.includes(index)},on:{\"toggle\":function($event){return _vm.chooseCategory(index)}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_c('div',{staticClass:\"breakdance-add-panel__item-title\",attrs:{\"tabindex\":\"0\",\"data-test-id\":(\"elements-category-\" + (category.label\n                  .replace(/ /g, '-')\n                  .toLowerCase()))},on:{\"keypress\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"enter\",13,$event.key,\"Enter\")){ return null; }return _vm.chooseCategory(index)}}},[_vm._v(\" \"+_vm._s(category.label)+\" \")])]},proxy:true},{key:\"content\",fn:function(){return [_c('div',{staticClass:\"breakdance-add-panel__item-element-wrapper\"},_vm._l((_vm.elementsInActiveCategory(\n                  category.slug\n                )),function(element,i){return _c('AddElement',{key:i,attrs:{\"element\":element}})}),1)]},proxy:true}],null,true)}):_vm._e()],1)}):_vm._e(),(_vm.hasSearchParams)?_c('div',{staticClass:\"breakdance-add-panel__item-element-wrapper breakdance-add-panel__item-element-wrapper--search\"},[(!_vm.searchResultsCount)?_c('div',{staticClass:\"breakdance-add-panel__no-results-for-search\"},[_vm._v(\" no results \")]):_vm._e(),_vm._l((_vm.elementsForSearch),function(element,index){return _c('AddElement',{key:element.slug,attrs:{\"element\":element,\"isSelected\":_vm.selectedSearchElementIndex === index}})})],2):_vm._e()],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('v-btn',{on:{\"click\":function($event){_vm.isOpen = true}}},[_vm._v(\"Open Website Dialog\")]),_c('v-dialog',{model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('v-card',[_c('h1',[_vm._v(\" use the below HTML code on breakdance.com to display a list of elements. \")]),_c('p',[_vm._v(\" this is currently used at https://breakdance.com/features/elements \")]),_c('div',{staticClass:\"all-elements\"},_vm._l((_vm.elementCategories),function(elementCategory){return _c('div',{key:elementCategory.categoryLabel,staticClass:\"element-category-wrapper\"},[_c('div',{staticClass:\"element-category\"},[_c('h3',{staticClass:\"element-category-label\"},[_vm._v(\" \"+_vm._s(elementCategory.categoryLabel)+\" \")])]),_c('div',{staticClass:\"elements\"},_vm._l((elementCategory.elements),function(element){return _c('div',{key:element.element,staticClass:\"element\"},[_c('div',{staticClass:\"element-title\"},[_vm._v(\" \"+_vm._s(element.element)+\" \")]),(element.icon && _vm.elementIconIsLocal(element.icon))?_c('div',{staticClass:\"element-icon\"},[_c('RawIcon',{attrs:{\"icon\":element.icon}})],1):_c('div',{staticClass:\"element-icon\",domProps:{\"innerHTML\":_vm._s(element.icon)}})])}),0)])}),0)])],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { configStore } from \"@/store/store\";\nimport { BuilderElement } from \"@/types/elements\";\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport RawIcon from \"@/components/UI/RawIcon.vue\";\nimport { iconNames } from \"@/lib/icons/icons\";\n\n@Component({\n  components: { RawIcon }\n})\nexport default class WebsiteDialog extends Vue {\n  elementIconIsLocal(x: string) {\n    return iconNames.find(iconName => iconName === x);\n  }\n\n  isOpen = false;\n\n  get elementCategories() {\n    const elements = Object.values(configStore.elements) as BuilderElement[];\n\n    return configStore.builderElementCategories\n      .map(category => {\n        return {\n          categoryLabel: category.label,\n          elements: elements\n            .filter(element => element.experimental !== true)\n            .filter(\n              element =>\n                !element.addPanelRules || !element.addPanelRules.alwaysHide\n            )\n            .filter(element => element.category === category.slug)\n            .map(element => {\n              return {\n                element: element.name,\n                icon: element.uiIcon\n              };\n            })\n            .sort((a, b) => a.element.localeCompare(b.element))\n        };\n      })\n      .filter(c => c.elements.length !== 0);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WebsiteDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./WebsiteDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./WebsiteDialog.vue?vue&type=template&id=9b53a890&\"\nimport script from \"./WebsiteDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./WebsiteDialog.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\ninstallComponents(component, {VBtn,VCard,VDialog})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Inject, Watch } from \"vue-property-decorator\";\nimport { configStore, documentStore, uiStore } from \"@/store/store\";\nimport {\n  BuilderElement,\n  BuilderElementProjectManagementValue\n} from \"@/types/elements\";\nimport AddElement from \"@/components/Add/AddElement.vue\";\nimport Accordion from \"@/components/UI/Accordion.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport SearchInput from \"@/components/Reusable/CustomInputs/SearchInput.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport WebsiteDialog from \"@/components/Add/WebsiteDialog.vue\";\nimport { keyboardShortcuts } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\nimport {\n  getFuzzySearchedElements,\n  isElementAvailable,\n  isElementHidden\n} from \"@/lib/elements/utils\";\nimport { PanelContext } from \"@/components/Builder/SidebarPanels.vue\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\n\n@Component({\n  components: {\n    SearchInput,\n    TextInput,\n    Accordion,\n    AddElement,\n    DropdownInput,\n    WebsiteDialog\n  }\n})\nexport default class ElementsList extends Vue {\n  openCategoriesIndex = [0, 1];\n  searchString = \"\";\n  selectedSearchElementIndex = 0;\n\n  @Inject({ from: \"panelContext\", default: {} })\n  readonly panelContext?: PanelContext;\n\n  addSelectedSearchItem() {\n    const slug = this.elementsForSearch[this.selectedSearchElementIndex]?.slug;\n\n    if (\n      !slug ||\n      !isElementAvailable(\n        this.elementsForSearch[this.selectedSearchElementIndex]\n      )\n    ) {\n      return;\n    }\n\n    documentStore.addElement({\n      elementSlug: slug\n    });\n  }\n\n  get searchResultsCount() {\n    return Object.keys(this.elementsForSearch).length;\n  }\n\n  goToSelectedSearchElement(direction = \"next\") {\n    let nextIndex =\n      direction === \"next\"\n        ? this.selectedSearchElementIndex + 1\n        : this.selectedSearchElementIndex - 1;\n\n    if (nextIndex === this.searchResultsCount) {\n      nextIndex = 0;\n    } else if (-1 === nextIndex) {\n      nextIndex = this.searchResultsCount - 1;\n    }\n\n    this.selectedSearchElementIndex = nextIndex;\n    this.scrollToActive();\n  }\n\n  nextOrPreviousSelectedSearchElement(event: KeyboardEvent) {\n    if (this.searchString !== \"\") {\n      event.preventDefault();\n    }\n\n    this.goToSelectedSearchElement(event.shiftKey ? \"prev\" : \"next\");\n  }\n\n  handleSearch(newSearch: string) {\n    // keeping the scroll when all elements changed due to search is disorienting\n    if (this.searchString !== newSearch) {\n      document.querySelector(\".breakdance-add-panel\")?.scrollTo({ top: 0 });\n    }\n\n    this.searchString = newSearch;\n  }\n\n  get isAddPanelOpen() {\n    return this.panelContext?.state === \"add\";\n  }\n\n  @Watch(\"isAddPanelOpen\")\n  resetSearchWhenPanelOpens() {\n    if (this.isAddPanelOpen) {\n      this.handleSearch(\"\");\n    }\n  }\n\n  resetSelectedSearchItemIndex(event: KeyboardEvent) {\n    const ignoreKeys = [\n      \"Enter\",\n      \"Tab\",\n      \"ShiftLeft\",\n      \"ShiftRight\",\n      \"ArrowUp\",\n      \"ArrowDown\"\n    ];\n\n    if (!ignoreKeys.includes(event.code)) {\n      this.selectedSearchElementIndex = 0;\n    }\n  }\n\n  get elementsCount() {\n    return this.elements.length;\n  }\n\n  chooseCategory(newIndex: number) {\n    this.searchString = \"\";\n\n    const existingCategoryIndex = this.openCategoriesIndex.findIndex(\n      i => i === newIndex\n    );\n\n    if (existingCategoryIndex === -1) {\n      this.openCategoriesIndex = [...this.openCategoriesIndex, newIndex];\n    } else {\n      this.openCategoriesIndex.splice(existingCategoryIndex, 1);\n    }\n  }\n\n  elementsInActiveCategory(categorySlug: string) {\n    return this.elements.filter(element => element.category === categorySlug);\n  }\n\n  get elementCategories() {\n    return configStore.builderElementCategories;\n  }\n\n  get elements(): BuilderElement[] {\n    return (Object.values(configStore.elements) as BuilderElement[])\n      .filter(element =>\n        uiStore.settings.showExperimentalElements\n          ? true\n          : element.experimental !== true\n      )\n      .filter(\n        element => !isElementHidden(element.addPanelRules, element.settings)\n      )\n      .filter(element => isElementAvailable(element))\n      .sort((a, b) => {\n        if (a.order < b.order) return -1;\n        if (a.order > b.order) return 1;\n        return 0;\n      });\n  }\n\n  get elementsForSearch(): BuilderElement[] {\n    const results = getFuzzySearchedElements(this.elements, this.searchString);\n\n    const resultsAfterInternalSearchTool = results.filter(e => {\n      const pm = e.projectManagement ? e.projectManagement : undefined;\n\n      return !Object.values({\n        looksGood: this.advancedSearchLooksGood\n          ? pm?.looksGood == this.advancedSearchLooksGood\n          : undefined,\n        optionsGood: this.advancedSearchOptionsGood\n          ? pm?.optionsGood == this.advancedSearchOptionsGood\n          : undefined,\n        optionsWork: this.advancedSearchOptionsWork\n          ? pm?.optionsWork == this.advancedSearchOptionsWork\n          : undefined,\n        dynamicBehaviorWorks: this.advancedSearchDynamicBehaviorWorks\n          ? pm?.dynamicBehaviorWorks == this.advancedSearchDynamicBehaviorWorks\n          : undefined,\n        hasDynamicStuff: this.advancedSearchHasDynamicStuff\n          ? e.dependencies || e.actions\n          : undefined\n      }).includes(false);\n    });\n\n    return resultsAfterInternalSearchTool;\n  }\n\n  scrollToActive() {\n    forceNextTick(() => {\n      document\n        .querySelector(\".breakdance-add-panel__element--selected\")\n        ?.scrollIntoView({\n          block: \"center\"\n        });\n    });\n  }\n\n  dumpSearchResults() {\n    console.log(this.elementsForSearch.map(e => e.name).join(\"\\n\"));\n  }\n\n  get advancedSearchDropdownItems(): BuilderElementProjectManagementValue[] {\n    return [\"yes\", \"no\", \"unknown\", \"sort of\"];\n  }\n\n  advancedSearchAvailable = false;\n\n  mounted() {\n    keyboardShortcuts.register(\n      \"a d v\",\n      () => (this.advancedSearchAvailable = true)\n    );\n  }\n\n  beforeDestroy() {\n    keyboardShortcuts.unbind(\"a d v\");\n  }\n\n  advancedSearchDialogOpen = false;\n  advancedSearchHasDynamicStuff = false;\n  advancedSearchLooksGood: BuilderElementProjectManagementValue | false = false;\n  advancedSearchOptionsGood:\n    | BuilderElementProjectManagementValue\n    | false = false;\n  advancedSearchOptionsWork:\n    | BuilderElementProjectManagementValue\n    | false = false;\n  advancedSearchDynamicBehaviorWorks:\n    | BuilderElementProjectManagementValue\n    | false = false;\n\n  get hasSearchParams() {\n    return !!(\n      this.searchString ||\n      this.advancedSearchLooksGood ||\n      this.advancedSearchOptionsGood ||\n      this.advancedSearchOptionsWork ||\n      this.advancedSearchDynamicBehaviorWorks ||\n      this.advancedSearchHasDynamicStuff\n    );\n  }\n\n  updateAdvancedSearchValue(key: string, value: unknown) {\n    // @ts-ignore\n    this[key] = value;\n  }\n\n  get isElementStudioOpen() {\n    return uiStore.panelState.elementStudioOpen;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementsList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementsList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementsList.vue?vue&type=template&id=65d85918&\"\nimport script from \"./ElementsList.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementsList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementsList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VSwitch } from 'vuetify/lib/components/VSwitch';\ninstallComponents(component, {VBtn,VCard,VCardText,VDialog,VSwitch})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-dialog',{attrs:{\"fullscreen\":_vm.fullscreen,\"width\":!_vm.fullscreen ? 960 : null,\"content-class\":\"design-library-dialog\"},model:{value:(_vm.isOpen),callback:function ($$v) {_vm.isOpen=$$v},expression:\"isOpen\"}},[_c('header',{staticClass:\"design-library-header\"},[_c('TopBarSection',[_c('IconButton',{attrs:{\"icon\":\"HouseIcon\",\"size\":\"18\"},on:{\"click\":_vm.goHome}})],1),_c('TopBarSection',{attrs:{\"border-left\":true,\"border-right\":true}},[_c('DesignProviderDropdown',{attrs:{\"providers\":_vm.providers},model:{value:(_vm.selectedProvider),callback:function ($$v) {_vm.selectedProvider=$$v},expression:\"selectedProvider\"}})],1),_c('TopBarSection',{staticClass:\"design-library-breakpoint-chooser ml-auto mr-auto\",attrs:{\"border-left\":true,\"border-right\":true}},[_c('BreakpointsSelection',{model:{value:(_vm.breakpoint),callback:function ($$v) {_vm.breakpoint=$$v},expression:\"breakpoint\"}})],1),_c('TopBarSection',{staticClass:\"ml-auto pr-2\",attrs:{\"border-right\":true}},[_c('NiceButton',{attrs:{\"disabled\":!_vm.canImportAll,\"left-icon\":\"ArrowDownToLine\"},on:{\"click\":_vm.importAll}},[_vm._v(\" Import Page \")])],1),_c('TopBarSection',[_c('IconButton',{attrs:{\"icon\":_vm.fullscreen\n            ? 'DownLeftAndUpRightToCenter'\n            : 'UpRightAndDownLeftFromCenter',\"size\":\"18\"},on:{\"click\":_vm.toggleFullscreen}})],1),_c('TopBarSection',{attrs:{\"border-left\":true}},[_c('IconButton',{attrs:{\"icon\":\"CloseIcon\",\"size\":\"18\"},on:{\"click\":_vm.close}})],1)],1),_c('div',{staticClass:\"design-library-contents\"},[_c('DesignLibrarySidebar',{attrs:{\"items\":_vm.sidebarItems},on:{\"select\":_vm.onPostSelected}}),_c('div',{ref:\"iframeWrapper\",staticClass:\"design-library-iframe-wrapper\"},[(_vm.reliesOnGlobalSettings)?[_c('div',{staticClass:\"design-library-global-settings-warning\"},[_c('div',[_c('div',{staticClass:\"design-library-global-settings-warning-text\"},[(\n                  _vm.globalSettingsLastImportedFromUrl === _vm.selectedProvider.url\n                )?[_c('Icon',{staticClass:\"design-library_success-icon\",attrs:{\"icon\":\"CheckSquareIcon\"}}),_vm._v(\" You've already imported the global settings from this site. \")]:(_vm.globalSettingsLastImportedFromUrl)?[_c('Icon',{staticClass:\"design-library_warning-icon\",attrs:{\"icon\":\"ExclamationMarkCircleIcon\"}}),_c('span',[_vm._v(\"This design relies on global settings. It won't look the same unless you import them. \")])]:[_c('div',[_vm._v(\" This design relies on global settings. It won't look the same unless you import them. \")])]],2)]),_c('NiceButton',{on:{\"click\":_vm.toggleImportGlobalSettingsScreen}},[_vm._v(\" Import Global Settings \")])],1),(_vm.importGlobalSettingsScreen)?_c('div',{staticClass:\"design-library-import-global-settings-panel\"},[(_vm.loadingExternalGlobalSettings)?_c('div',[_c('LoadingSpinner',{attrs:{\"color\":\"var(--gray500)\",\"size\":65}})],1):[_c('span',[_vm._v(\"Your existing global settings will be overwritten with the global settings from this library website.\")]),_c('div',[_c('v-btn',{staticClass:\"mr-2\",attrs:{\"text\":\"\"},on:{\"click\":_vm.toggleImportGlobalSettingsScreen}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"dark\":\"\",\"color\":\"blue\"},on:{\"click\":_vm.importGlobalSettings}},[_vm._v(\" Confirm Overwrite & Import \")])],1)]],2):_vm._e()]:_vm._e(),_c('ProOnlyAlertBox',{attrs:{\"options\":{\n          feature: 'design-library',\n          content:\n            'Soon, the Design Library will only be available in Breakdance Pro. For now, enjoy your free preview!'\n        }}}),_c('div',{staticClass:\"design-library-iframe-inner-wrapper\",style:(_vm.iframeWrapperStyles)},[(_vm.selectedProvider)?_c('iframe',{ref:\"iframe\",staticClass:\"design-library-iframe\",style:(_vm.iframeStyles),attrs:{\"src\":_vm.iframeUrl},on:{\"load\":_vm.onProviderLoaded}}):_vm._e()]),(_vm.previewLoaded)?_c('v-overlay',{attrs:{\"value\":_vm.loading,\"absolute\":\"\"}},[_c('v-progress-circular',{attrs:{\"indeterminate\":\"\",\"size\":\"64\"}})],1):_vm._e(),(!_vm.previewLoaded && _vm.selectedProvider)?_c('DesignLibrarySkeleton'):_vm._e()],2)],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"design-library-skeleton-loader\"},[_c('span',{staticClass:\"design-library-skeleton-header\"},[_c('span',{staticClass:\"design-library-skeleton-line\"}),_c('span',{staticClass:\"design-library-skeleton-line\"}),_c('span',{staticClass:\"design-library-skeleton-line\"})]),_c('span',{staticClass:\"design-library-skeleton-hero\"},[_c('span',{staticClass:\"design-library-skeleton-line\"}),_c('span',{staticClass:\"design-library-skeleton-line\"})]),_c('div',{staticClass:\"design-library-skeleton-button\"},[_c('span',{staticClass:\"design-library-skeleton-line\"}),_c('span',{staticClass:\"design-library-skeleton-line\"})])])}]\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"design-library-skeleton-loader\">\n    <span class=\"design-library-skeleton-header\">\n      <span class=\"design-library-skeleton-line\" />\n      <span class=\"design-library-skeleton-line\" />\n      <span class=\"design-library-skeleton-line\" />\n    </span>\n\n    <span class=\"design-library-skeleton-hero\">\n      <span class=\"design-library-skeleton-line\" />\n      <span class=\"design-library-skeleton-line\" />\n    </span>\n\n    <div class=\"design-library-skeleton-button\">\n      <span class=\"design-library-skeleton-line\" />\n      <span class=\"design-library-skeleton-line\" />\n    </div>\n  </div>\n</template>\n\n<script>\nimport { Component } from \"vue-property-decorator\";\nimport Vue from \"vue\";\n\n@Component\nexport default class DesignLibrarySkeleton extends Vue {}\n</script>\n\n<style lang=\"scss\">\n.design-library-skeleton-loader {\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  display: flex;\n  flex-wrap: wrap;\n  flex-direction: column;\n  align-items: center;\n  padding: 60px 30px;\n  background-color: var(--white);\n}\n\n.design-library-skeleton-line {\n  position: relative;\n  display: block;\n  width: 50%;\n  height: 40px;\n  background-color: var(--gray100);\n  border-radius: 60px;\n  margin-bottom: 40px;\n  overflow: hidden;\n\n  &:before {\n    content: \"\";\n    position: absolute;\n    inset: 0;\n    z-index: 1;\n    background: linear-gradient(\n      90deg,\n      rgba(255, 255, 255, 0),\n      rgba(255, 255, 255, 0.3),\n      rgba(255, 255, 255, 0)\n    );\n    transform: translateX(-100%);\n    animation: loading 1.5s infinite;\n  }\n}\n\n.design-library-skeleton-header {\n  display: flex;\n  justify-content: space-between;\n  gap: 30px;\n  width: 100%;\n  margin-bottom: 100px;\n\n  .design-library-skeleton-line:nth-child(1),\n  .design-library-skeleton-line:nth-child(3) {\n    width: 15%;\n  }\n\n  .design-library-skeleton-line:nth-child(2) {\n    width: 33%;\n  }\n}\n\n.design-library-skeleton-hero {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  width: 100%;\n  margin-bottom: 75px;\n\n  .design-library-skeleton-line:nth-child(1) {\n    width: 60%;\n  }\n\n  .design-library-skeleton-line:nth-child(2) {\n    width: 30%;\n  }\n}\n\n.design-library-skeleton-button {\n  display: flex;\n  gap: 35px;\n  width: 450px;\n\n  .design-library-skeleton-line {\n    border-radius: 6px;\n    height: 68px;\n    background-color: var(--gray300);\n  }\n\n  .design-library-skeleton-line:nth-child(1) {\n    width: 50%;\n  }\n\n  .design-library-skeleton-line:nth-child(2) {\n    width: 50%;\n    background-color: transparent;\n    border: 4px solid var(--gray300);\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignLibrarySkeleton.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignLibrarySkeleton.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./DesignLibrarySkeleton.vue?vue&type=template&id=68a46f52&\"\nimport script from \"./DesignLibrarySkeleton.vue?vue&type=script&lang=js&\"\nexport * from \"./DesignLibrarySkeleton.vue?vue&type=script&lang=js&\"\nimport style0 from \"./DesignLibrarySkeleton.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","import { TreeNode } from \"@/types/tree\";\nimport { v4 as uuidV4 } from \"uuid\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport {\n  findPlaceToAddNodes,\n  getNestingRuleFromNode\n} from \"@/lib/tree/nesting\";\nimport { documentStore } from \"@/store/store-accessor\";\nimport { pipe } from \"fp-ts/function\";\nimport { fold } from \"fp-ts/Either\";\nimport { breakdanceStoreActions } from \"@/store/actions/store-actions\";\n\nexport const pasteElements = (elements: TreeNode[]) => {\n  const uniqueId = uuidV4();\n  const transactionKey = `Library:${uniqueId}`;\n\n  breakdanceUndo.transaction(\n    () => {\n      elements.forEach(elementToPaste => {\n        const placeToAdd = findPlaceToAddNodes(\n          documentStore.document.tree,\n          null,\n          getNestingRuleFromNode(elementToPaste)\n        );\n\n        pipe(\n          placeToAdd,\n          fold(\n            () => {},\n            legalPlaceToAdd => {\n              if (legalPlaceToAdd === \"TOP_LEVEL\") return;\n\n              const pointerForCreatedNodeId: { nodeId?: number } = {\n                nodeId: undefined\n              };\n\n              documentStore.pasteCopiedElementMutation({\n                element: elementToPaste,\n                placeToAddId: legalPlaceToAdd.place.id,\n                placeToAddIndex:\n                  legalPlaceToAdd.index ||\n                  legalPlaceToAdd.place.children.length,\n                pointer: pointerForCreatedNodeId\n              });\n\n              if (pointerForCreatedNodeId.nodeId) {\n                breakdanceStoreActions.run.onCreatedElement({\n                  elementId: pointerForCreatedNodeId.nodeId,\n                  transactionKey\n                });\n              }\n            }\n          )\n        );\n      });\n    },\n    `Import from design library`,\n    transactionKey\n  );\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('aside',{staticClass:\"design-library-sidebar\"},[_c('header',{staticClass:\"design-library-sidebar-header\"},[_c('SearchInput',{attrs:{\"placeholder\":\"Search Pages\",\"autofocus\":true},model:{value:(_vm.searchQuery),callback:function ($$v) {_vm.searchQuery=$$v},expression:\"searchQuery\"}})],1),_c('v-treeview',{attrs:{\"hoverable\":\"\",\"activatable\":\"\",\"open-on-click\":\"\",\"items\":_vm.treeItems,\"open-all\":!!_vm.searchQuery},on:{\"update:active\":function($event){return _vm.$emit('select', $event)}},scopedSlots:_vm._u([{key:\"prepend\",fn:function(ref){\nvar item = ref.item;\nvar open = ref.open;\nreturn [(item.children)?_c('Icon',{attrs:{\"icon\":open ? 'FolderOpenIcon' : 'FolderIcon'}}):_vm._e()]}}])})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Vue from \"vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport SearchInput from \"@/components/Reusable/CustomInputs/SearchInput.vue\";\nimport Fuse from \"fuse.js\";\nimport { DesignSetPost } from \"@/types/design-library\";\nimport AlertBox from \"@/components/Reusable/CustomInputs/AlertBox.vue\";\n\n@Component({\n  components: { AlertBox, SearchInput, Icon }\n})\nexport default class DesignLibrarySidebar extends Vue {\n  @Prop({\n    default() {\n      return [];\n    }\n  })\n  items!: DesignSetPost[];\n\n  searchQuery = \"\";\n\n  get filteredItems() {\n    const search = this.searchQuery;\n\n    if (!search) return this.items;\n\n    const fuse = new Fuse(this.items, {\n      keys: [\"name\"],\n      threshold: 0.2\n    });\n\n    return fuse.search(search.trim()).map(r => r.item);\n  }\n\n  get treeItems() {\n    const orphans: DesignSetPost[] = [];\n\n    const groupedByTags = this.filteredItems.reduce((r, a) => {\n      if (!a.tags.length) {\n        orphans.push(a);\n      } else {\n        a.tags.forEach(tag => {\n          r[tag] = r[tag] || [];\n          r[tag].push(a);\n        });\n      }\n\n      return r;\n    }, Object.create(null));\n\n    const tags = Object.keys(groupedByTags).map(key => {\n      return {\n        id: key,\n        name: key,\n        children: groupedByTags[key]\n      };\n    });\n\n    return [...orphans, ...tags];\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignLibrarySidebar.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignLibrarySidebar.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DesignLibrarySidebar.vue?vue&type=template&id=48ec2154&\"\nimport script from \"./DesignLibrarySidebar.vue?vue&type=script&lang=ts&\"\nexport * from \"./DesignLibrarySidebar.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DesignLibrarySidebar.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VTreeview } from 'vuetify/lib/components/VTreeview';\ninstallComponents(component, {VTreeview})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dropdown',{attrs:{\"offset-y\":\"\",\"close-on-content-click\":false},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('div',_vm._g({staticClass:\"document-chooser\"},on),[_c('div',{staticClass:\"document-chooser-text\"},[_c('h2',[_vm._v(\"Design Set\")]),_c('span',{staticClass:\"ellipsis-text\"},[_vm._v(\" \"+_vm._s(_vm.value && _vm.value.name)+\" \")])]),_c('div',{staticClass:\"document-chooser-dropdown-icon\"},[_c('Icon',{attrs:{\"size\":\"11\",\"icon\":\"CaretDownIcon\"}})],1)])]}}]),model:{value:(_vm.open),callback:function ($$v) {_vm.open=$$v},expression:\"open\"}},[_c('v-card',{staticClass:\"vscroll-scroll vscroll-wrap\",attrs:{\"width\":\"300\",\"height\":\"350\"}},[_c('v-list',{staticClass:\"vscroll-scroll\",attrs:{\"dense\":\"\"}},[_vm._l((_vm.providers),function(provider,i){return [_c('v-list-item',{key:i,class:{\n            'document-chooser-item-selected':\n              _vm.value && provider.url === _vm.value.url\n          },attrs:{\"link\":\"\"},on:{\"click\":function($event){return _vm.chooseProvider(provider)}}},[_c('v-list-item-title',{staticClass:\"previewable-item-list-item\"},[_c('div',{staticClass:\"previewable-item-label previewable-item-label-stop-text-from-overflowing\"},[_vm._v(\" \"+_vm._s(provider.name)+\" \")]),(provider.type)?_c('div',{staticClass:\"previewable-item-type\"},[_vm._v(\" \"+_vm._s(provider.type)+\" \")]):_vm._e()])],1)]})],2)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport { DesignProvider } from \"@/types/design-library\";\n\n@Component({\n  components: {\n    Icon,\n    Dropdown,\n    TopBarSection\n  }\n})\nexport default class DesignProviderDropdown extends Vue {\n  @Prop()\n  value!: DesignProvider | null;\n\n  @Prop()\n  providers!: DesignProvider[];\n\n  open = false;\n\n  chooseProvider(provider: DesignProvider) {\n    this.$emit(\"input\", provider);\n    this.open = false;\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignProviderDropdown.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignProviderDropdown.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DesignProviderDropdown.vue?vue&type=template&id=1514124e&\"\nimport script from \"./DesignProviderDropdown.vue?vue&type=script&lang=ts&\"\nexport * from \"./DesignProviderDropdown.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\ninstallComponents(component, {VCard,VList,VListItem,VListItemTitle})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport DropdownInput from \"@/components/Reusable/CustomInputs/DropdownInput.vue\";\nimport BreakpointsSelection from \"@/components/Builder/TopBar/BreakpointsSelection.vue\";\nimport {\n  BASE_BREAKPOINT_ID,\n  DEFAULT_MINIMUM_BREAKPOINT_WIDTH,\n  getMinimumWidth\n} from \"@/lib/breakpoints/breakpoints\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\nimport fpJsonParseTypesafe from \"@/util/fp-json-parse-typesafe\";\nimport { pipe } from \"fp-ts/function\";\nimport { fold } from \"fp-ts/Either\";\nimport { PropertiesDataV, TreeNode, TreeNodeV } from \"@/types/tree\";\nimport DesignLibrarySkeleton from \"@/components/Add/library/DesignLibrarySkeleton.vue\";\n\nimport * as t from \"io-ts\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\nimport { pasteElements } from \"@/lib/design-library/design-library\";\nimport { configStore, globalStore, uiStore } from \"@/store/store-accessor\";\nimport { smoothScrollToLastElement } from \"@/lib/canvas/scroll-to-active-element\";\nimport DesignLibrarySidebar from \"@/components/Add/library/DesignLibrarySidebar.vue\";\nimport {\n  DesignSetData,\n  DesignSetDataV,\n  DesignSetPost\n} from \"@/types/design-library\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport { keyboardShortcuts } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\nimport { KEYBOARD_SHORTCUTS } from \"@/lib/keyboard-shortcuts/global-shortcuts\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport LoadingSpinner from \"@/components/Reusable/LoadingSpinner.vue\";\nimport DesignProviderDropdown from \"@/components/Add/library/DesignProviderDropdown.vue\";\nimport { DesignProvider } from \"@/types/design-library\";\nimport ProOnlyAlertBox from \"@/components/Subscription/ProOnlyAlertBox.vue\";\n\n@Component({\n  components: {\n    LoadingSpinner,\n    ProOnlyAlertBox,\n    Icon,\n    IconButton,\n    NiceButton,\n    DesignLibrarySidebar,\n    DesignLibrarySkeleton,\n    TopBarSection,\n    DropdownInput,\n    BreakpointsSelection,\n    DesignProviderDropdown\n  }\n})\nexport default class DesignLibraryModal extends Vue {\n  selectedProvider: DesignProvider | null = null;\n  selectedPostId: number | null = null;\n  providerElements: TreeNode[] = [];\n  reliesOnGlobalSettings: DesignSetData[\"reliesOnGlobalSettings\"] = false;\n  providerPosts: DesignSetPost[] = [];\n\n  breakpoint = {\n    id: BASE_BREAKPOINT_ID,\n    label: \"\",\n    minWidth: undefined,\n    maxWidth: undefined,\n    defaultPreviewWidth: DEFAULT_MINIMUM_BREAKPOINT_WIDTH\n  };\n\n  canvasSize = {\n    width: 0,\n    height: 0\n  };\n\n  loading = false;\n  previewLoaded = false;\n  fullscreen = false;\n  loadingDesignSetData = false;\n\n  loadingExternalGlobalSettings = false;\n  importGlobalSettingsScreen = false;\n\n  mounted() {\n    if (!uiStore.hasFullAccess) return;\n    keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_B, this.open);\n  }\n\n  beforeDestroy() {\n    keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_A);\n\n    this.unbindListeners();\n  }\n\n  get providers() {\n    return configStore.designLibrary.designProviders;\n  }\n\n  get sidebarItems() {\n    return this.providerPosts; // TODO: Support nesting?\n  }\n\n  get isOpen() {\n    return uiStore.panelState.designLibraryModalOpen;\n  }\n\n  set isOpen(event) {\n    uiStore.setDesignLibraryModalState(event);\n  }\n\n  get selectedPost() {\n    return this.providerPosts.find(post => post.id === this.selectedPostId);\n  }\n\n  get iframeUrl() {\n    if (!this.selectedProvider) return null;\n\n    const url = this.selectedPost?.url || this.selectedProvider.url;\n    const iframeUrl = new URL(url);\n    iframeUrl.searchParams.append(\"breakdance\", \"design-library\");\n\n    return iframeUrl.toString();\n  }\n\n  get previewWidth() {\n    if (this.breakpoint.id === BASE_BREAKPOINT_ID) return \"100%\";\n    return this.breakpoint.defaultPreviewWidth;\n  }\n\n  get minWidth() {\n    return getMinimumWidth(globalStore);\n  }\n\n  get iframeWrapperStyles() {\n    return {\n      width: this.previewWidth === \"100%\" ? \"100%\" : `${this.previewWidth}px`\n    };\n  }\n\n  get iframeStyles() {\n    const scaledStyles = (width: number) => {\n      const scaleFactor = Math.min(1, this.canvasSize.width / width);\n      return {\n        width: `${width}px`,\n        transform: `scale(${scaleFactor})`,\n        height: `${this.canvasSize.height * (1 / scaleFactor)}px`\n      };\n    };\n\n    if (this.previewWidth === \"100%\") {\n      if (this.canvasSize.width < this.minWidth) {\n        return scaledStyles(this.minWidth);\n      } else {\n        return {\n          width: \"100%\",\n          minWidth: `${this.minWidth}px`\n        };\n      }\n    } else {\n      return scaledStyles(this.previewWidth);\n    }\n  }\n\n  get canImportAll() {\n    return this.providerElements.length;\n  }\n\n  get globalSettingsLastImportedFromUrl() {\n    return configStore.designLibrary.globalSettingsLastImportedFromUrl;\n  }\n\n  @Watch(\"isOpen\")\n  onDialogOpen() {\n    if (this.isOpen) {\n      this.modalOpened();\n    } else {\n      this.unbindListeners();\n    }\n  }\n\n  @Watch(\"selectedProvider\")\n  onProviderChange(\n    newProvider: DesignProvider,\n    oldProvider: DesignProvider | null\n  ) {\n    this.providerElements = [];\n    this.selectedPostId = null;\n    this.providerPosts = [];\n    this.reliesOnGlobalSettings = false;\n\n    this.getDesignSetData();\n\n    if (newProvider.url !== oldProvider?.url) {\n      this.previewLoaded = false;\n    }\n  }\n\n  modalOpened() {\n    if (!this.selectedProvider) {\n      this.selectedProvider = this.providers[1];\n    }\n\n    // Calculate canvas size only after the dialog is fully open.\n    this.calculateSizeAfterTransition();\n\n    window.addEventListener(\"message\", this.handleIframeMessage, false);\n    window.addEventListener(\"resize\", this.setCanvasSize);\n  }\n\n  toggleImportGlobalSettingsScreen() {\n    this.importGlobalSettingsScreen = !this.importGlobalSettingsScreen;\n  }\n\n  unbindListeners() {\n    window.removeEventListener(\"message\", this.handleIframeMessage, false);\n    window.removeEventListener(\"resize\", this.setCanvasSize);\n  }\n\n  calculateSizeAfterTransition() {\n    const transitionDuration = 400;\n    setTimeout(() => this.setCanvasSize(), transitionDuration);\n  }\n\n  setCanvasSize() {\n    const wrapper = this.$refs.iframeWrapper as HTMLElement;\n    if (!wrapper) return;\n\n    const { width, height } = wrapper.getBoundingClientRect();\n    this.canvasSize = { width, height };\n  }\n\n  reloadIframe() {\n    const iframe = this.$refs.iframe as HTMLIFrameElement;\n\n    // https://github.com/soflyy/breakdance/pull/4317/files#r986884610\n    // fixes an error on dev when it rehydrates state\n    if (!iframe) {\n      this.selectedProvider = this.providers[0];\n\n      return;\n    }\n\n    iframe.src += \"\";\n    this.loading = true;\n  }\n\n  goHome() {\n    this.selectedPostId = null;\n    this.reloadIframe();\n  }\n\n  toggleFullscreen() {\n    this.fullscreen = !this.fullscreen;\n    this.calculateSizeAfterTransition();\n  }\n\n  handleIframeMessage(event: MessageEvent) {\n    if (typeof event.data !== \"string\") return;\n\n    const [name, data] = event.data.split(/,(.*)/s);\n\n    if (name === \"breakdanceGetElements\") {\n      this.getElements(data);\n    }\n\n    if (name === \"breakdanceImportElement\") {\n      this.importElement(data);\n    }\n\n    if (name === \"breakdanceBeforeLeave\") {\n      this.navigatedAway();\n    }\n  }\n\n  onPostSelected(posts: number[]) {\n    const [selectedId] = posts;\n    this.loading = true;\n    this.selectedPostId = selectedId || null;\n    this.reloadIframe();\n  }\n\n  onProviderLoaded() {\n    this.previewLoaded = true;\n    this.loading = false;\n    this.setCanvasSize();\n  }\n\n  getElements(elementsAsString: string) {\n    this.loading = false;\n\n    const maybeElements = fpJsonParseTypesafe(\n      elementsAsString,\n      t.array(TreeNodeV)\n    );\n\n    this.providerElements = pipe(\n      maybeElements,\n      fold(\n        () => [],\n        els => els\n      )\n    );\n  }\n\n  navigatedAway() {\n    this.loading = true;\n  }\n\n  importElement(elementAsString: string) {\n    const maybeElement = fpJsonParseTypesafe(elementAsString, TreeNodeV);\n\n    const element = pipe(\n      maybeElement,\n      fold(\n        () => null,\n        el => el\n      )\n    );\n\n    if (!element) return;\n\n    pasteElements([element]);\n    this.close();\n\n    this.$nextTick(() => {\n      smoothScrollToLastElement();\n    });\n  }\n\n  importAll() {\n    pasteElements(this.providerElements);\n    this.close();\n\n    this.$nextTick(() => {\n      smoothScrollToLastElement();\n    });\n  }\n\n  close() {\n    uiStore.setDesignLibraryModalState(false);\n  }\n\n  open() {\n    uiStore.setDesignLibraryModalState(true);\n  }\n\n  async getDesignSetData() {\n    const url = this.selectedProvider?.url;\n    this.loadingDesignSetData = true;\n\n    pipe(\n      await makeWordPressAjaxRequest({\n        action: this.selectedProvider?.isLocal\n          ? \"breakdance_get_local_design_set\"\n          : \"breakdance_get_external_design_set\",\n        decoder: DesignSetDataV,\n        friendlyName: \"Design Set Data\",\n        dataToPost: { url }\n      }),\n      fold(\n        () => {\n          this.providerPosts = [];\n        },\n        designSetData => {\n          this.providerPosts = designSetData.posts;\n          this.reliesOnGlobalSettings = this.selectedProvider?.isLocal\n            ? false\n            : designSetData.reliesOnGlobalSettings;\n        }\n      )\n    );\n\n    this.loadingDesignSetData = false;\n  }\n\n  async importGlobalSettings() {\n    if (this.selectedProvider?.isLocal) {\n      return;\n    }\n\n    this.loadingExternalGlobalSettings = true;\n\n    const url = this.selectedProvider?.url;\n\n    const externalGlobalSettings = pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_get_external_global_settings\",\n        decoder: PropertiesDataV,\n        friendlyName: `Global Settings for \"${url}\"`,\n        dataToPost: { url }\n      }),\n      fold(\n        () => false,\n        externalGlobalSettings => {\n          if (url) {\n            configStore.setDesignLibrary({\n              ...configStore.designLibrary,\n              globalSettingsLastImportedFromUrl: url\n            });\n          }\n\n          return (\n            externalGlobalSettings && externalGlobalSettings.globalSettings\n          );\n        }\n      )\n    );\n\n    this.loadingExternalGlobalSettings = false;\n    this.importGlobalSettingsScreen = false;\n\n    if (externalGlobalSettings === false) {\n      NotificationLogger.log.errorMessage(\n        `Error importing Global Settings for \"${this.selectedProvider?.name ||\n          this.selectedProvider?.url}\"`\n      );\n\n      return;\n    }\n\n    globalStore.setGlobalSettings(externalGlobalSettings);\n    uiStore.setShouldPanelLoadFreshDataIntoStoreOnceOpened(\n      \"globalSettings\",\n      false\n    );\n\n    NotificationLogger.log.message(\n      `Imported Global Settings from \"${this.selectedProvider?.name ||\n        this.selectedProvider?.url}\"`\n    );\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignLibraryModal.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./DesignLibraryModal.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./DesignLibraryModal.vue?vue&type=template&id=d56e8ec4&\"\nimport script from \"./DesignLibraryModal.vue?vue&type=script&lang=ts&\"\nexport * from \"./DesignLibraryModal.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./DesignLibraryModal.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VOverlay } from 'vuetify/lib/components/VOverlay';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\ninstallComponents(component, {VBtn,VDialog,VOverlay,VProgressCircular})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('v-sheet',{staticClass:\"breakdance-panel-header d-flex align-center\",attrs:{\"tile\":\"\"}},[_c('div',{staticClass:\"breakdance-panel-header-title\"},[_vm._t(\"default\")],2),_c('v-spacer'),_vm._t(\"right\"),(_vm.backInsteadOfClose)?_c('IconButton',{staticClass:\"breakdance-panel-header-close-button\",attrs:{\"icon\":\"ChevronDownIcon\",\"rotate\":\"90\",\"size\":\"12\",\"small\":\"\"},on:{\"click\":_vm.close}}):_c('IconButton',{staticClass:\"breakdance-panel-header-close-button\",attrs:{\"icon\":\"CloseIcon\",\"size\":\"16\",\"small\":\"\"},on:{\"click\":_vm.close}})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component, Prop } from \"vue-property-decorator\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\n\n@Component({\n  components: {\n    IconButton\n  }\n})\nexport default class PanelHeader extends Vue {\n  @Prop({ default: false })\n  backInsteadOfClose!: boolean;\n\n  close() {\n    this.$emit(\"close\");\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelHeader.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelHeader.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PanelHeader.vue?vue&type=template&id=b673da5a&\"\nimport script from \"./PanelHeader.vue?vue&type=script&lang=ts&\"\nexport * from \"./PanelHeader.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PanelHeader.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VSheet,VSpacer})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport ElementsList from \"@/components/Add/ElementsList.vue\";\nimport DesignLibraryModal from \"@/components/Add/library/DesignLibraryModal.vue\";\nimport PanelHeader from \"@/components/Reusable/Util/PanelHeader.vue\";\nimport { closeUiPanel } from \"@/lib/panels/panels\";\nimport { configStore, uiStore } from \"@/store/store-accessor\";\n\n@Component({\n  components: {\n    DesignLibraryModal,\n    PanelHeader,\n    ElementsList\n  }\n})\nexport default class Add extends Vue {\n  close() {\n    closeUiPanel(\"add\");\n  }\n\n  openDesignLibrary() {\n    uiStore.setDesignLibraryModalState(true);\n  }\n\n  get state() {\n    return configStore.elementsLoadingState;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddPanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddPanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AddPanel.vue?vue&type=template&id=ba178ab4&\"\nimport script from \"./AddPanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./AddPanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AddPanel.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\ninstallComponents(component, {VProgressCircular})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vscroll-wrap vscroll-scroll global-settings-panel\"},[_c('div',{staticClass:\"vscroll-wrap vscroll-scroll\"},[_c('PanelHeader',{on:{\"close\":_vm.close}},[_vm._v(\" Global Settings \"),_c('BrowseModeToggle',{attrs:{\"panel-to-open\":\"globalSettings\"}}),_c('PanelHeaderButton',{attrs:{\"enabled\":_vm.viewMode === 'history'},on:{\"click\":_vm.toggleViewMode}},[_vm._v(\"history\")])],1),(_vm.viewMode === 'controls')?_c('GlobalSettingsPanelControlsViewMode',{attrs:{\"is-loading\":_vm.isLoading}}):(_vm.viewMode === 'history')?_c('GlobalSettingsPanelHistoryViewMode'):_vm._e()],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('PanelHeaderButton',{attrs:{\"enabled\":_vm.isBrowseModeEnabled},on:{\"click\":_vm.toggleBrowseMode}},[_vm._v(\"browse\")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:{\n    'breakdance-panel-header-button': true,\n    'breakdance-panel-header-button--enabled': _vm.enabled\n  },on:{\"click\":function($event){return _vm.$emit('click')}}},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component, Prop } from \"vue-property-decorator\";\n\n@Component({\n  components: {}\n})\nexport default class PanelHeaderButton extends Vue {\n  @Prop({ default: true })\n  enabled!: boolean;\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelHeaderButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelHeaderButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PanelHeaderButton.vue?vue&type=template&id=51eb6c36&\"\nimport script from \"./PanelHeaderButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./PanelHeaderButton.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./PanelHeaderButton.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\nimport Vue from \"vue\";\nimport { uiStore } from \"@/store/store-accessor\";\nimport { Component, Prop } from \"vue-property-decorator\";\n\nimport {\n  BrowseModeSupportedUIPanels,\n  toggleBrowseMode\n} from \"@/lib/browse-mode\";\nimport PanelHeaderButton from \"@/components/Reusable/Util/PanelHeaderButton.vue\";\n\n@Component({\n  components: {\n    PanelHeaderButton\n  }\n})\nexport default class BrowseModeToggle extends Vue {\n  @Prop({ default: \"globalSettings\" })\n  panelToOpen!: BrowseModeSupportedUIPanels;\n\n  get isBrowseModeEnabled() {\n    return uiStore.mode === \"browse\";\n  }\n\n  toggleBrowseMode() {\n    toggleBrowseMode(this.panelToOpen);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BrowseModeToggle.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BrowseModeToggle.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BrowseModeToggle.vue?vue&type=template&id=0b2dc75a&\"\nimport script from \"./BrowseModeToggle.vue?vue&type=script&lang=ts&\"\nexport * from \"./BrowseModeToggle.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vscroll-wrap vscroll-scroll\"},[(_vm.isLoading)?_c('v-layout',{attrs:{\"justify-center\":\"\",\"align-center\":\"\"}},[_c('v-progress-circular',{attrs:{\"size\":\"64\",\"indeterminate\":\"\",\"color\":\"var(--gray300)\"}})],1):[(!_vm.hasSearchParameters)?_c('div',{staticClass:\"vscroll-scroll\"},[_c('ControlsTree',{attrs:{\"controls\":_vm.controls,\"path\":\"settings\"}})],1):_vm._e(),(_vm.hasSearchParameters && !_vm.noSearchResults)?_c('div',{staticClass:\"vscroll-scroll\"},[(_vm.searchBoxState.query !== '')?_c('div',{staticClass:\"control-tree-search-term\"},[_c('span',[_vm._v(\"Search results for \\\"\"+_vm._s(_vm.searchBoxState.query)+\"\\\"\")]),_c('div',{staticClass:\"control-tree-search-clear\",on:{\"click\":_vm.clearQuery}},[_c('Icon',{attrs:{\"icon\":\"CloseIcon\",\"size\":\"14\"}})],1)]):_vm._e(),_c('ControlsTree',{attrs:{\"controls\":_vm.controlsFilteredBySearchParams,\"path\":\"settings\",\"linear\":true}})],1):(_vm.hasSearchParameters && _vm.noSearchResults)?_c('v-sheet',{staticClass:\"d-flex justify-center align-center flex-column\",attrs:{\"height\":\"100%\"}},[_c('SearchBoxEmptyState',{attrs:{\"label\":\"settings\"},on:{\"input\":_vm.clearQuery}})],1):_vm._e(),_c('SearchBox',{attrs:{\"value\":_vm.searchBoxState,\"location\":\"settings\"},on:{\"input\":_vm.updateSearchBoxState}})]],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Prop, Provide } from \"vue-property-decorator\";\nimport Vue from \"vue\";\nimport SearchBox, {\n  SearchBoxState\n} from \"@/components/ElementPropertiesPanel/SearchBox.vue\";\nimport { configStore, globalStore } from \"@/store/store-accessor\";\nimport { filterControls, flattenAndCount } from \"@/lib/controls/search\";\nimport { ChangeControlValueMeta, ControlsTreeContext } from \"@/types/controls\";\nimport lodash from \"lodash\";\nimport { addMetadataToSettingPropertyChangeBasingOnControlValueChangeMetadata } from \"@/lib/controls/utils\";\nimport {\n  getGlobalSettingsAccordionState,\n  setGlobalSettingsAccordionState\n} from \"@/lib/panels/accordions\";\nimport ControlsTree from \"@/components/Reusable/ControlsTree/ControlsTree.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport SearchBoxEmptyState from \"@/components/ElementPropertiesPanel/SearchBoxEmptyState.vue\";\n\n@Component({\n  components: { ControlsTree, SearchBox, Icon, SearchBoxEmptyState }\n})\nexport default class GlobalSettingsPanelControlsViewMode extends Vue {\n  @Prop({ default: false })\n  isLoading!: boolean;\n\n  searchBoxState: SearchBoxState = {\n    modifiedOnly: false,\n    query: \"\"\n  };\n\n  updateSearchBoxState(newSearchBoxState: SearchBoxState) {\n    this.searchBoxState = newSearchBoxState;\n  }\n\n  clearQuery() {\n    this.updateSearchBoxState({\n      modifiedOnly: false,\n      query: \"\"\n    });\n  }\n  get controls() {\n    return configStore.globalSettingsControlsAndTemplate.controls;\n  }\n\n  get controlsFilteredBySearchParams() {\n    return filterControls(\n      this.controls,\n      this.searchBoxState.modifiedOnly,\n      this.searchBoxState.query,\n      this.editingGlobalSettingsControlsTreeContext,\n      \"settings\"\n    );\n  }\n\n  get noSearchResults() {\n    return flattenAndCount(this.controlsFilteredBySearchParams, 0) === 0;\n  }\n\n  get hasSearchParameters() {\n    return this.searchBoxState.modifiedOnly || this.searchBoxState.query;\n  }\n\n  @Provide(\"context\")\n  editingGlobalSettingsControlsTreeContext = editingGlobalSettingsControlsTreeContext;\n}\n\nconst editingGlobalSettingsControlsTreeContext: ControlsTreeContext = {\n  dynamicProperty: () => false,\n\n  getControlValue: controlPath => {\n    return lodash.get(globalStore.globalSettings, controlPath);\n  },\n  setControlValue(\n    controlPathProbablyWithBreakpointIdAndHoverSuffix,\n    newValue,\n    control,\n    meta?: ChangeControlValueMeta\n  ) {\n    globalStore.throttledGlobalSettingsPropertyChange(\n      addMetadataToSettingPropertyChangeBasingOnControlValueChangeMetadata(\n        {\n          path: controlPathProbablyWithBreakpointIdAndHoverSuffix,\n          value: newValue\n        },\n        {\n          control,\n          controlsTree:\n            this.getControls(\n              controlPathProbablyWithBreakpointIdAndHoverSuffix\n            ) || []\n        },\n        meta\n      )\n    );\n  },\n  getControls: () => configStore.globalSettingsControlsAndTemplate.controls,\n  setAccordionState: (accordionPath: string, open: boolean) => {\n    setGlobalSettingsAccordionState(accordionPath, open);\n  },\n  getAccordionState: (accordionPath: string) => {\n    return getGlobalSettingsAccordionState(accordionPath);\n  }\n};\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSettingsPanelControlsViewMode.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSettingsPanelControlsViewMode.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GlobalSettingsPanelControlsViewMode.vue?vue&type=template&id=13995bfd&\"\nimport script from \"./GlobalSettingsPanelControlsViewMode.vue?vue&type=script&lang=ts&\"\nexport * from \"./GlobalSettingsPanelControlsViewMode.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\ninstallComponents(component, {VLayout,VProgressCircular,VSheet})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vscroll-wrap vscroll-scroll\"},[_c('RevisionsList',{attrs:{\"is-loading\":_vm.isLoading,\"revisions\":_vm.revisionUiItems},on:{\"revisionSelected\":_vm.onRevisionSelected}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import * as t from \"io-ts\";\nimport { ExportedTreeV, PropertiesDataV } from \"@/types/tree\";\nimport { CSSSelectorListV } from \"@/types/selectors\";\n\nexport const RevisionCommonDataV = t.type({\n  id: t.union([t.number, t.string]),\n  date: t.string,\n  author: t.union([t.string, t.literal(false)])\n});\nexport type RevisionCommonData = t.TypeOf<typeof RevisionCommonDataV>;\n\n// IO-TS generic types didn't work correctly with TypeScript 3.8.3,\n// stating that \"object type isn't assignable to any type\".\n// Thus, we're using different types for document, global settings and selector revisions instead.\n\nexport const GlobalSettingsRevisionV = t.intersection([\n  RevisionCommonDataV,\n  t.type({\n    globalSettings: PropertiesDataV\n  })\n]);\nexport type GlobalSettingsRevision = t.TypeOf<typeof GlobalSettingsRevisionV>;\n\nexport const GlobalSettingsRevisionsListV = t.array(GlobalSettingsRevisionV);\nexport type GlobalSettingsRevisionsList = t.TypeOf<\n  typeof GlobalSettingsRevisionsListV\n>;\n\nexport const SelectorsRevisionV = t.intersection([\n  RevisionCommonDataV,\n  t.type({\n    selectors: CSSSelectorListV\n  })\n]);\nexport type SelectorsRevision = t.TypeOf<typeof SelectorsRevisionV>;\n\nexport const SelectorsRevisionsListV = t.array(SelectorsRevisionV);\nexport type SelectorsRevisionsList = t.TypeOf<typeof SelectorsRevisionsListV>;\n\nexport const DocumentRevisionWithJsonTreeV = t.intersection([\n  RevisionCommonDataV,\n  t.type({\n    tree: t.string\n  })\n]);\n\nexport const DocumentRevisionV = t.intersection([\n  RevisionCommonDataV,\n  t.type({\n    tree: ExportedTreeV\n  })\n]);\nexport type DocumentRevision = t.TypeOf<typeof DocumentRevisionV>;\n\nexport const DocumentRevisionsV = t.type({\n  revisions: t.array(DocumentRevisionV)\n});\n\nexport const DocumentRevisionsDataFromServerV = t.union([\n  t.type({ revisions: t.array(DocumentRevisionWithJsonTreeV) }),\n  t.type({ unsupported: t.string })\n]);\n\nexport type DocumentRevisionsData = {\n  revisions: DocumentRevision[];\n  currentUnsavedRevision: DocumentRevision | null;\n};\n\nexport type RevisionUiItem<\n  T extends RevisionCommonData = RevisionCommonData\n> = {\n  revisionData: T;\n  isSelected: boolean;\n};\n","import { pipe } from \"fp-ts/function\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport {\n  GlobalSettingsRevisionsList,\n  GlobalSettingsRevisionsListV\n} from \"@/types/revisions\";\nimport { toUnion } from \"fp-ts/Either\";\nimport { mapLeft } from \"fp-ts/lib/Either\";\n\nexport async function fetchRemoteGlobalSettingsRevisions(): Promise<GlobalSettingsRevisionsList | null> {\n  return pipe(\n    await makeWordPressAjaxRequest({\n      action: \"breakdance_retrieve_global_settings_revisions\",\n      decoder: GlobalSettingsRevisionsListV\n    }),\n    // makeWordPressAjaxRequest does all the error logging already, there's no point to call logErrorsToUiStore()\n    mapLeft(() => null),\n    toUnion\n  );\n}\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-revisions-list vscroll-wrap vscroll-scroll\"},[(_vm.isLoading)?_c('v-layout',{attrs:{\"justify-center\":\"\",\"align-center\":\"\"}},[_c('v-progress-circular',{attrs:{\"size\":\"64\",\"indeterminate\":\"\",\"color\":\"var(--gray300)\"}})],1):(_vm.revisionsNotSupportedMessage)?_c('div',{staticClass:\"breakdance-revisions-list__not-found\"},[_c('p',[_vm._v(_vm._s(_vm.revisionsNotSupportedMessage))])]):(!_vm.revisions.length)?_c('div',{staticClass:\"breakdance-revisions-list__not-found\"},[_c('h2',[_vm._v(\"No revisions found\")]),_c('p',[_vm._v(\"Save any changes to create a new revision\")])]):_c('div',{staticClass:\"breakdance-revisions-list__items\"},_vm._l((_vm.revisions),function(revision,index){return _c('RevisionItem',{key:revision.revisionData.id,attrs:{\"revision\":revision.revisionData,\"selected\":revision.isSelected},on:{\"click\":function($event){return _vm.onRevisionSelected(revision, index)}}})}),1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"revisions-item\",class:{ 'revisions-item--selected': _vm.selected },on:{\"click\":function($event){return _vm.$emit('click', _vm.revision)}}},[_c('span',{staticClass:\"revisions-item__date\"},[_vm._v(_vm._s(_vm.revision.date))]),(_vm.revision.author)?[_c('span',[_vm._v(_vm._s(_vm.revision.author))])]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { RevisionCommonData } from \"@/types/revisions\";\n\n@Component({})\nexport default class RevisionItem extends Vue {\n  @Prop({\n    default() {\n      return {};\n    }\n  })\n  revision!: RevisionCommonData;\n\n  @Prop({ default: false })\n  selected!: boolean;\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RevisionItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RevisionItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RevisionItem.vue?vue&type=template&id=1b06230b&\"\nimport script from \"./RevisionItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./RevisionItem.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RevisionItem.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { RevisionUiItem } from \"@/types/revisions\";\nimport RevisionItem from \"@/components/Reusable/Revisions/RevisionItem.vue\";\n\n@Component({\n  components: { RevisionItem }\n})\nexport default class RevisionsList extends Vue {\n  @Prop({ default: false })\n  isLoading!: boolean;\n\n  @Prop({ default: [] })\n  revisions!: RevisionUiItem[];\n\n  @Prop({ default: null })\n  revisionsNotSupportedMessage!: string | null;\n\n  onRevisionSelected(revision: RevisionUiItem, index: number) {\n    this.$emit(\"revisionSelected\", revision, index);\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RevisionsList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RevisionsList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./RevisionsList.vue?vue&type=template&id=596407b6&\"\nimport script from \"./RevisionsList.vue?vue&type=script&lang=ts&\"\nexport * from \"./RevisionsList.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./RevisionsList.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\ninstallComponents(component, {VLayout,VProgressCircular})\n","\n\n\n\n\n\n\n\n\n\n\nimport { Component, Watch } from \"vue-property-decorator\";\nimport { fetchRemoteGlobalSettingsRevisions } from \"@/lib/global-settings/revisions\";\nimport Vue from \"vue\";\nimport {\n  GlobalSettingsRevision,\n  GlobalSettingsRevisionsList,\n  RevisionUiItem\n} from \"@/types/revisions\";\nimport RevisionsList from \"@/components/Reusable/Revisions/RevisionsList.vue\";\nimport { isEqual } from \"lodash\";\nimport { globalStore, uiStore } from \"@/store/store-accessor\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport { getModuleNameFromMutation } from \"@/store/util\";\n\n// TODO refactor code duplication w/SelectorsPanelHistoryViewMode\n@Component({\n  components: { RevisionsList }\n})\nexport default class GlobalSettingsPanelHistoryViewMode extends Vue {\n  isLoading = false;\n  remoteRevisions: GlobalSettingsRevisionsList | null = null;\n  selectedIndex: number | null = null;\n  unsubscribeFromStore = () => {};\n\n  currentUnsavedRevision: GlobalSettingsRevision | null = null;\n\n  async beforeMount() {\n    await this.loadRemoteRevisions();\n\n    if (globalStore.settingsHasUnsavedChangesPresent) {\n      this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();\n\n      /**\n       * Without this condition, opening revisions list after Undoing/Redoing\n       * revision selection will contain \"Current\" revision\n       */\n      if (this.selectedIndex === -1) {\n        this.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData();\n      }\n    }\n\n    this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();\n\n    this.unsubscribeFromStore = this.$store.subscribe(mutationPayload => {\n      const moduleName = getModuleNameFromMutation(mutationPayload);\n\n      if (\n        moduleName === \"global\" &&\n        mutationPayload.type !== \"global/restoreGlobalSettingsRevision\" &&\n        mutationPayload.type !== \"global/setSelectors\" // should be ignored\n      ) {\n        // Undo/Redo\n        if (mutationPayload.type === \"global/setGlobalSettings\") {\n          this.currentUnsavedRevision = null;\n        } else {\n          this.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData();\n        }\n\n        this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();\n      }\n    });\n  }\n\n  beforeDestroy() {\n    this.unsubscribeFromStore();\n  }\n\n  async loadRemoteRevisions() {\n    this.isLoading = true;\n    this.remoteRevisions = await fetchRemoteGlobalSettingsRevisions();\n    this.selectedIndex = null;\n    this.isLoading = false;\n  }\n\n  recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch() {\n    this.selectedIndex = this.findSelectedIndexBasedOnStoreDataMatch();\n  }\n\n  findSelectedIndexBasedOnStoreDataMatch(): number {\n    const currentGlobalSettings = defensiveCopy(globalStore.globalSettings);\n\n    return this.revisions.findIndex(revision =>\n      isEqual(revision.globalSettings, currentGlobalSettings)\n    );\n  }\n\n  setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData() {\n    if (this.isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData()) {\n      this.currentUnsavedRevision = null;\n    } else {\n      this.setCurrentUnsavedRevisionFromCurrentStoreData();\n    }\n  }\n\n  isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData() {\n    if (this.remoteRevisions === null || this.remoteRevisions.length === 0) {\n      return false;\n    }\n\n    const [mostRecentRemoteRevision] = this.remoteRevisions;\n    const currentGlobalSettings = defensiveCopy(globalStore.globalSettings);\n\n    return isEqual(\n      mostRecentRemoteRevision.globalSettings,\n      currentGlobalSettings\n    );\n  }\n\n  setCurrentUnsavedRevisionFromCurrentStoreData() {\n    this.currentUnsavedRevision = {\n      id: -1,\n      author: false,\n      date: \"Current\",\n      globalSettings: defensiveCopy(globalStore.globalSettings)\n    };\n  }\n\n  get revisionUiItems(): RevisionUiItem<GlobalSettingsRevision>[] {\n    return this.revisions.map(\n      (\n        revision: GlobalSettingsRevision,\n        index: number\n      ): RevisionUiItem<GlobalSettingsRevision> => ({\n        isSelected: index === this.selectedIndex,\n        revisionData: revision\n      })\n    );\n  }\n\n  get revisions(): GlobalSettingsRevision[] {\n    const remoteRevisions = this.remoteRevisions ?? [];\n\n    return this.currentUnsavedRevision\n      ? [this.currentUnsavedRevision, ...remoteRevisions]\n      : remoteRevisions;\n  }\n\n  onRevisionSelected(\n    revisionUiItem: RevisionUiItem<GlobalSettingsRevision>,\n    index: number\n  ) {\n    this.selectedIndex = index;\n\n    breakdanceUndo.transaction(\n      () =>\n        globalStore.restoreGlobalSettingsRevision(revisionUiItem.revisionData),\n      \"Restore Global Settings From Revision\"\n    );\n  }\n\n  get unsavedChangesPresent() {\n    return uiStore.unsavedChangesPresent;\n  }\n\n  @Watch(\"unsavedChangesPresent\")\n  async updateRevisionsAfterSaving() {\n    if (!uiStore.unsavedChangesPresent) {\n      await this.loadRemoteRevisions();\n      this.currentUnsavedRevision = null;\n      this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();\n    }\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSettingsPanelHistoryViewMode.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSettingsPanelHistoryViewMode.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GlobalSettingsPanelHistoryViewMode.vue?vue&type=template&id=737293ca&\"\nimport script from \"./GlobalSettingsPanelHistoryViewMode.vue?vue&type=script&lang=ts&\"\nexport * from \"./GlobalSettingsPanelHistoryViewMode.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport PanelHeader from \"@/components/Reusable/Util/PanelHeader.vue\";\nimport { closeUiPanel } from \"@/lib/panels/panels\";\nimport BrowseModeToggle from \"@/components/BrowseMode/BrowseModeToggle.vue\";\nimport PanelHeaderButton from \"@/components/Reusable/Util/PanelHeaderButton.vue\";\nimport GlobalSettingsPanelControlsViewMode from \"@/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelControlsViewMode.vue\";\nimport GlobalSettingsPanelHistoryViewMode from \"@/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel/GlobalSettingsPanelHistoryViewMode.vue\";\nimport { PropertiesData } from \"@/types/tree\";\nimport { globalStore, uiStore } from \"@/store/store-accessor\";\nimport {\n  fetchGlobalSettings,\n  saveGlobalSettingsToWordPress\n} from \"@/lib/global-settings/global-settings\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { ClosingConfirmationChosenOption } from \"@/types/ui\";\n\n@Component({\n  components: {\n    GlobalSettingsPanelHistoryViewMode,\n    GlobalSettingsPanelControlsViewMode,\n    PanelHeaderButton,\n    BrowseModeToggle,\n    PanelHeader\n  }\n})\nexport default class GlobalSettingsPanel extends Vue {\n  get viewMode() {\n    return uiStore.panelState.globalSettingsPanelActiveViewMode;\n  }\n  toggleViewMode() {\n    uiStore.setPanelState({\n      ...uiStore.panelState,\n      globalSettingsPanelActiveViewMode:\n        this.viewMode === \"controls\" ? \"history\" : \"controls\"\n    });\n  }\n\n  storedData: PropertiesData = null;\n\n  isStoringData = false;\n  isLoadingData = false;\n\n  get isLoading() {\n    return this.isStoringData || this.isLoadingData;\n  }\n\n  async beforeMount() {\n    if (\n      uiStore.panelState.shouldLoadFreshDataIntoStoreOnceOpened.globalSettings\n    ) {\n      uiStore.setPanelState({\n        ...uiStore.panelState,\n        globalSettingsPanelActiveViewMode: \"controls\"\n      });\n      await this.loadSettings();\n    } else {\n      uiStore.setShouldPanelLoadFreshDataIntoStoreOnceOpened(\n        \"globalSettings\",\n        true\n      );\n    }\n  }\n\n  async storeSettings() {\n    this.isStoringData = true;\n    const isSuccessful = await saveGlobalSettingsToWordPress();\n    this.storedData = defensiveCopy(globalStore.globalSettings);\n    this.isStoringData = false;\n\n    return isSuccessful;\n  }\n\n  async loadSettings() {\n    this.isLoadingData = true;\n    const isSuccessful = await fetchGlobalSettings();\n    this.storedData = defensiveCopy(globalStore.globalSettings);\n    this.isLoadingData = false;\n\n    return isSuccessful;\n  }\n\n  get unsavedChangesPresent(): boolean {\n    return globalStore.settingsHasUnsavedChangesPresent;\n  }\n\n  requestPanelClosingConfirmation() {\n    uiStore.requestClosingConfirmation({\n      subject: \"globalSettings\",\n      confirmationDefinition: {\n        title: \"You have unsaved changes to your Global Settings.\",\n        text: \"Would you like to save or discard these changes?\",\n        type: \"info\"\n      }\n    });\n  }\n\n  @Watch(\"unsavedChangesPresent\", { immediate: true })\n  handleUnsavedChangesPresentChange(unsavedChangesPresent: boolean) {\n    if (unsavedChangesPresent) {\n      this.requestPanelClosingConfirmation();\n    } else {\n      uiStore.noClosingConfirmationIsNeededFor(\"globalSettings\");\n    }\n  }\n\n  get confirmationChosenOption(): ClosingConfirmationChosenOption | undefined {\n    return uiStore.closingConfirmations.globalSettings?.chosenOption;\n  }\n\n  @Watch(\"confirmationChosenOption\", { immediate: true })\n  async handleConfirmationChosenOptionChange(\n    chosenOption: ClosingConfirmationChosenOption | undefined\n  ) {\n    if (chosenOption === \"discard\") {\n      uiStore.setClosingConfirmationIsDiscarding({\n        subject: \"globalSettings\",\n        isDiscarding: true\n      });\n      if (await this.loadSettings()) {\n        this.close();\n      } else {\n        this.requestPanelClosingConfirmation();\n      }\n    } else if (chosenOption === \"save\") {\n      uiStore.setClosingConfirmationIsSaving({\n        subject: \"globalSettings\",\n        isSaving: true\n      });\n      if (await this.storeSettings()) {\n        this.close();\n      } else {\n        this.requestPanelClosingConfirmation();\n      }\n    }\n  }\n\n  close() {\n    closeUiPanel(\"globalSettings\");\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSettingsPanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalSettingsPanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GlobalSettingsPanel.vue?vue&type=template&id=2c2a07f7&\"\nimport script from \"./GlobalSettingsPanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./GlobalSettingsPanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./GlobalSettingsPanel.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vscroll-wrap vscroll-scroll selectors-panel\"},[(_vm.isLoadingData)?_c('v-layout',{attrs:{\"row\":\"\",\"justify-center\":\"\",\"align-center\":\"\"}},[_c('v-progress-circular',{attrs:{\"size\":\"64\",\"indeterminate\":\"\",\"color\":\"var(--gray300)\"}})],1):_vm._e(),(_vm.activeSelector)?_c('EditSelector',{on:{\"close\":_vm.close}}):_vm._e(),(!_vm.activeSelector && !_vm.isLoadingData)?_c('ManageSelectors',{on:{\"close\":_vm.close}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vscroll-wrap vscroll-scroll\"},[_c('PanelHeader',{on:{\"close\":function($event){return _vm.$emit('close')}}},[_vm._v(\"Selectors \"),_c('BrowseModeToggle',{attrs:{\"panel-to-open\":\"selectors\"}}),_c('PanelHeaderButton',{attrs:{\"enabled\":_vm.viewMode === 'history'},on:{\"click\":_vm.toggleViewMode}},[_vm._v(\"history\")])],1),_c('FreeModeAlertForSelectors',{staticClass:\"ma-4\"}),(_vm.viewMode === 'controls')?[_c('AddSelector'),_c('div',{staticClass:\"vscroll-wrap vscroll-scroll breakdance-manage-selectors\"},[_c('SelectorsList',{attrs:{\"selectors\":_vm.selectors,\"searchable\":true},on:{\"input\":_vm.updateSelectors}})],1)]:(_vm.viewMode === 'history')?[_c('SelectorsPanelHistoryViewMode')]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"d-flex flex-row add-selector\"},[_c('TextInput',{staticClass:\"flex-grow-1\",attrs:{\"placeholder\":\".your.css > #selector-69::after\"},model:{value:(_vm.newSelectorName),callback:function ($$v) {_vm.newSelectorName=$$v},expression:\"newSelectorName\"}}),_c('NiceButton',{staticClass:\"ml-1\",attrs:{\"size\":\"small\"},on:{\"click\":_vm.addSelector}},[_vm._v(\" Add \")])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport {\n  addSelectorToStoreAndSaveSelectorsToWordPressIfSelectorsPanelIsClosed,\n  createCssSelectorObjectFromSelectorName\n} from \"@/lib/selectors/selectors\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport NiceButton from \"@/components/UI/NiceButton.vue\";\n\n@Component({\n  components: { NiceButton, TextInput }\n})\nexport default class AddSelector extends Vue {\n  newSelectorName: string | null = \"\";\n\n  addSelector() {\n    if (!this.newSelectorName) return;\n\n    pipe(\n      createCssSelectorObjectFromSelectorName(this.newSelectorName),\n      fold(\n        errors => errors.forEach(NotificationLogger.log.message),\n        selector =>\n          addSelectorToStoreAndSaveSelectorsToWordPressIfSelectorsPanelIsClosed(\n            selector\n          )\n      )\n    );\n\n    this.newSelectorName = \"\";\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddSelector.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AddSelector.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AddSelector.vue?vue&type=template&id=36fe4188&\"\nimport script from \"./AddSelector.vue?vue&type=script&lang=ts&\"\nexport * from \"./AddSelector.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AddSelector.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"vscroll-wrap vscroll-scroll\"},[_c('RevisionsList',{attrs:{\"is-loading\":_vm.isLoading,\"revisions\":_vm.revisionUiItems},on:{\"revisionSelected\":_vm.onRevisionSelected}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { pipe } from \"fp-ts/function\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\nimport {\n  SelectorsRevisionsList,\n  SelectorsRevisionsListV\n} from \"@/types/revisions\";\nimport { toUnion } from \"fp-ts/Either\";\nimport { mapLeft } from \"fp-ts/lib/Either\";\n\nexport async function fetchRemoteSelectorsRevisions(): Promise<SelectorsRevisionsList | null> {\n  return pipe(\n    await makeWordPressAjaxRequest({\n      action: \"breakdance_retrieve_selectors_revisions\",\n      decoder: SelectorsRevisionsListV\n    }),\n    // makeWordPressAjaxRequest does all the error logging already, there's no point to call logErrorsToUiStore()\n    mapLeft(() => null),\n    toUnion\n  );\n}\n","\n\n\n\n\n\n\n\n\n\n\nimport { Component, Watch } from \"vue-property-decorator\";\nimport RevisionsList from \"@/components/Reusable/Revisions/RevisionsList.vue\";\nimport Vue from \"vue\";\nimport {\n  RevisionUiItem,\n  SelectorsRevision,\n  SelectorsRevisionsList\n} from \"@/types/revisions\";\nimport { globalStore, uiStore } from \"@/store/store-accessor\";\nimport { getModuleNameFromMutation } from \"@/store/util\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { isEqual } from \"lodash\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport { fetchRemoteSelectorsRevisions } from \"@/lib/selectors/revisions\";\n\n// TODO refactor code duplication w/GlobalSettingsPanelHistoryViewMode\n@Component({\n  components: { RevisionsList }\n})\nexport default class SelectorsPanelHistoryViewMode extends Vue {\n  isLoading = false;\n  remoteRevisions: SelectorsRevisionsList | null = null;\n  selectedIndex: number | null = null;\n  unsubscribeFromStore = () => {};\n\n  currentUnsavedRevision: SelectorsRevision | null = null;\n\n  async beforeMount() {\n    await this.loadRemoteRevisions();\n\n    if (globalStore.selectorsHasUnsavedChangesPresent) {\n      this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();\n\n      /**\n       * Without this condition, opening revisions list after Undoing/Redoing\n       * revision selection will contain \"Current\" revision\n       */\n      if (this.selectedIndex === -1) {\n        this.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData();\n      }\n    }\n\n    this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();\n\n    this.unsubscribeFromStore = this.$store.subscribe(mutationPayload => {\n      const moduleName = getModuleNameFromMutation(mutationPayload);\n\n      if (\n        moduleName === \"global\" &&\n        mutationPayload.type !== \"global/restoreSelectorsRevision\" &&\n        mutationPayload.type !== \"global/setGlobalSettings\" // should be ignored\n      ) {\n        // Undo/Redo\n        if (mutationPayload.type === \"global/setSelectors\") {\n          this.currentUnsavedRevision = null;\n        } else {\n          this.setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData();\n        }\n\n        this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();\n      }\n    });\n  }\n\n  beforeDestroy() {\n    this.unsubscribeFromStore();\n  }\n\n  async loadRemoteRevisions() {\n    this.isLoading = true;\n    this.remoteRevisions = await fetchRemoteSelectorsRevisions();\n    this.selectedIndex = null;\n    this.isLoading = false;\n  }\n\n  recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch() {\n    this.selectedIndex = this.findSelectedIndexBasedOnStoreDataMatch();\n  }\n\n  findSelectedIndexBasedOnStoreDataMatch(): number {\n    const currentSelectors = defensiveCopy(globalStore.cssSelectors);\n\n    return this.revisions.findIndex(revision => {\n      return isEqual(revision.selectors, currentSelectors);\n    });\n  }\n\n  setCurrentStoreDataAsCurrentUnsavedRevisionIfDataIsNotEqualToMostRecentRemoteRevisionData() {\n    if (this.isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData()) {\n      this.currentUnsavedRevision = null;\n    } else {\n      this.setCurrentUnsavedRevisionFromCurrentStoreData();\n    }\n  }\n\n  isCurrentStoreDataTheSameAsTheMostRecentRemoteRevisionData() {\n    if (this.remoteRevisions === null) {\n      return false;\n    }\n\n    const [mostRecentRemoteRevision] = this.remoteRevisions;\n    const currentSelectors = defensiveCopy(globalStore.cssSelectors);\n\n    return isEqual(mostRecentRemoteRevision.selectors, currentSelectors);\n  }\n\n  setCurrentUnsavedRevisionFromCurrentStoreData() {\n    this.currentUnsavedRevision = {\n      id: -1,\n      author: false,\n      date: \"Current\",\n      selectors: defensiveCopy(globalStore.cssSelectors)\n    };\n  }\n\n  get revisionUiItems(): RevisionUiItem<SelectorsRevision>[] {\n    return this.revisions.map(\n      (\n        revision: SelectorsRevision,\n        index: number\n      ): RevisionUiItem<SelectorsRevision> => ({\n        isSelected: index === this.selectedIndex,\n        revisionData: revision\n      })\n    );\n  }\n\n  get revisions(): SelectorsRevision[] {\n    const remoteRevisions = this.remoteRevisions ?? [];\n\n    return this.currentUnsavedRevision\n      ? [this.currentUnsavedRevision, ...remoteRevisions]\n      : remoteRevisions;\n  }\n\n  onRevisionSelected(\n    revisionUiItem: RevisionUiItem<SelectorsRevision>,\n    index: number\n  ) {\n    this.selectedIndex = index;\n\n    breakdanceUndo.transaction(\n      () => globalStore.restoreSelectorsRevision(revisionUiItem.revisionData),\n      \"Restore Selectors From Revision\"\n    );\n  }\n\n  get unsavedChangesPresent() {\n    return uiStore.unsavedChangesPresent;\n  }\n\n  @Watch(\"unsavedChangesPresent\")\n  async updateRevisionsAfterSaving() {\n    if (!uiStore.unsavedChangesPresent) {\n      await this.loadRemoteRevisions();\n      this.currentUnsavedRevision = null;\n      this.recalculateSelectedIndexBasedOnStoreAndRevisionDataObjectsMatch();\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectorsPanelHistoryViewMode.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectorsPanelHistoryViewMode.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SelectorsPanelHistoryViewMode.vue?vue&type=template&id=8c6f0cf8&\"\nimport script from \"./SelectorsPanelHistoryViewMode.vue?vue&type=script&lang=ts&\"\nexport * from \"./SelectorsPanelHistoryViewMode.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { globalStore, uiStore } from \"@/store/store\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { CSSSelector } from \"@/types/selectors\";\nimport SelectorsList from \"./SelectorsList.vue\";\nimport AddSelector from \"./AddSelector.vue\";\nimport PanelHeader from \"@/components/Reusable/Util/PanelHeader.vue\";\n\n// @ts-ignore\nimport draggable from \"vuedraggable\";\nimport BrowseModeToggle from \"@/components/BrowseMode/BrowseModeToggle.vue\";\nimport PanelHeaderButton from \"@/components/Reusable/Util/PanelHeaderButton.vue\";\nimport SelectorsPanelHistoryViewMode from \"@/components/Settings/Selectors/SelectorsPanelHistoryViewMode.vue\";\nimport AlertBox from \"@/components/Reusable/CustomInputs/AlertBox.vue\";\nimport FreeModeAlertForSelectors from \"@/components/Subscription/FreeModeAlertForSelectors.vue\";\n\n@Component({\n  components: {\n    FreeModeAlertForSelectors,\n    AlertBox,\n    SelectorsPanelHistoryViewMode,\n    PanelHeaderButton,\n    BrowseModeToggle,\n    draggable,\n    SelectorsList,\n    AddSelector,\n    PanelHeader\n  }\n})\nexport default class ManageSelectors extends Vue {\n  get viewMode() {\n    return uiStore.panelState.selectorsPanelPanelActiveViewMode;\n  }\n  toggleViewMode() {\n    uiStore.setPanelState({\n      ...uiStore.panelState,\n      selectorsPanelPanelActiveViewMode:\n        this.viewMode === \"controls\" ? \"history\" : \"controls\"\n    });\n  }\n\n  get selectors() {\n    return globalStore.cssSelectors;\n  }\n\n  updateSelectors(newSelectors: CSSSelector[]) {\n    globalStore.setSelectors(defensiveCopy(newSelectors));\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManageSelectors.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManageSelectors.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ManageSelectors.vue?vue&type=template&id=57e91808&\"\nimport script from \"./ManageSelectors.vue?vue&type=script&lang=ts&\"\nexport * from \"./ManageSelectors.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ManageSelectors.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.activeSelector)?_c('div',{staticClass:\"vscroll-wrap vscroll-scroll\"},[_c('PanelHeader',{attrs:{\"backInsteadOfClose\":true},on:{\"close\":_vm.close}},[_vm._v(\" Editing Selector \")]),_c('FreeModeAlertForSelectors',{staticClass:\"ma-4\"}),_c('div',{staticClass:\"breakdance-selector-titlebar\"},[_c('div',{staticClass:\"flex-grow-1 mr-2\"},[(_vm.editingClassOrClassHover)?[_c('div',{staticClass:\"d-flex flex-row align-center flex-wrap mr-2\"},[_c('transition',{attrs:{\"name\":\"blink-on-change\"}},[_c('div',{key:_vm.activeSelector.name,staticClass:\"selector-titlebar-classname mr-1 ml-n1\"},[_vm._v(\" \"+_vm._s(_vm.activeSelector.name.replace(\":hover\", \"\"))+\" \")])]),_c('v-btn',{class:[\n              'editing-class-hover-hover-button-always',\n              _vm.editingClassHover\n                ? 'editing-class-hover-hover-button-active'\n                : 'editing-class-hover-hover-button'\n            ],attrs:{\"x-small\":\"\",\"depressed\":\"\"},on:{\"click\":_vm.toggleHover}},[_vm._v(\" :hover \")])],1)]:[_c('div',{staticClass:\"d-flex flex-column\"},[_c('TextInput',{attrs:{\"value\":_vm.activeSelector.name},on:{\"input\":_vm.tryToRenameActiveSelector}})],1)]],2),(_vm.selectorIsHighlightable)?_c('v-tooltip',{attrs:{\"bottom\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\n            var on = ref.on;\nreturn [_c('IconButton',_vm._g({attrs:{\"icon\":\"SearchFileIcon\",\"size\":\"16\",\"active\":_vm.highlight},on:{\"click\":_vm.toggleHighlight}},on))]}}],null,false,3251607670)},[_c('span',[_vm._v(_vm._s(_vm.howManyOnPage)+\" on page\")])]):_vm._e(),_c('IconButton',{attrs:{\"icon\":\"TrashIcon\",\"size\":\"16\"},on:{\"click\":_vm.deleteSelector}})],1),(\n      _vm.searchBoxState.query !== '' && _vm.hasSearchParameters && !_vm.noSearchResults\n    )?_c('div',{staticClass:\"control-tree-search-term control-tree-search-term-selector\"},[_c('span',[_vm._v(\"Search results for \\\"\"+_vm._s(_vm.searchBoxState.query)+\"\\\"\")]),_c('div',{staticClass:\"control-tree-search-clear\",on:{\"click\":_vm.clearQuery}},[_c('Icon',{attrs:{\"icon\":\"CloseIcon\",\"size\":\"14\"}})],1)]):_vm._e(),(\n      !_vm.editingClassOrClassHover &&\n        _vm.attemptingToRename &&\n        !_vm.isAttemptedRenameValid\n    )?_c('div',{staticClass:\"edit-selector-invalid-name-error\"},[_vm._v(\" invalid selector name \")]):_vm._e(),_c('div',{staticClass:\"edit-selector-border\"}),(!_vm.hasSearchParameters)?_c('div',{staticClass:\"vscroll-scroll\"},[_c('ControlsTree',{attrs:{\"controls\":_vm.controls,\"path\":\"properties\"}})],1):_vm._e(),(_vm.hasSearchParameters && !_vm.noSearchResults)?_c('div',{staticClass:\"vscroll-scroll\"},[_c('ControlsTree',{attrs:{\"controls\":_vm.controlsFilteredBySearchParams,\"path\":\"properties\",\"linear\":true}})],1):(_vm.hasSearchParameters && _vm.noSearchResults)?_c('v-sheet',{staticClass:\"d-flex justify-center align-center flex-column\",attrs:{\"height\":\"100%\"}},[_c('SearchBoxEmptyState',{attrs:{\"label\":\"selectors\"},on:{\"input\":_vm.clearQuery}})],1):_vm._e(),_c('SearchBox',{attrs:{\"value\":_vm.searchBoxState,\"location\":\"selector\"},on:{\"input\":_vm.updateSearchBoxState}})],1):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Provide } from \"vue-property-decorator\";\nimport lodash from \"lodash\";\nimport { configStore, uiStore, globalStore } from \"@/store/store\";\nimport { ChangeControlValueMeta, ControlsTreeContext } from \"@/types/controls\";\nimport ControlsTree from \"@/components/Reusable/ControlsTree/ControlsTree.vue\";\nimport SearchBox, {\n  SearchBoxState\n} from \"@/components/ElementPropertiesPanel/SearchBox.vue\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport {\n  addSelectorToStoreAndSaveSelectorsToWordPressIfSelectorsPanelIsClosed,\n  isValidSelectorName\n} from \"@/lib/selectors/selectors\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport PanelHeader from \"@/components/Reusable/Util/PanelHeader.vue\";\nimport NotificationLogger from \"@/lib/notifications/notifications\";\nimport { openUiPanel } from \"@/lib/panels/panels\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\nimport {\n  getSelectorAccordionState,\n  setSelectorAccordionState\n} from \"@/lib/panels/accordions\";\nimport { addMetadataToSelectorPropertyChangeBasingOnControlValueChangeMetadata } from \"@/lib/controls/utils\";\nimport { getBuilderCanvasDocument } from \"@/lib/canvas/helpers\";\nimport { filterControls, flattenAndCount } from \"@/lib/controls/search\";\nimport { addOrUpdateInlineCSSAtEndOfHead } from \"@/lib/canvas/assets/dom-utils\";\nimport SearchBoxEmptyState from \"@/components/ElementPropertiesPanel/SearchBoxEmptyState.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport AlertBox from \"@/components/Reusable/CustomInputs/AlertBox.vue\";\nimport FreeModeAlertForSelectors from \"@/components/Subscription/FreeModeAlertForSelectors.vue\";\n\n@Component({\n  components: {\n    FreeModeAlertForSelectors,\n    AlertBox,\n    ControlsTree,\n    SearchBox,\n    IconButton,\n    PanelHeader,\n    TextInput,\n    SearchBoxEmptyState,\n    Icon\n  }\n})\nexport default class EditSelector extends Vue {\n  searchBoxState: SearchBoxState = {\n    modifiedOnly: false,\n    query: \"\"\n  };\n\n  updateSearchBoxState(newSearchBoxState: SearchBoxState) {\n    this.searchBoxState = newSearchBoxState;\n  }\n\n  clearQuery() {\n    this.updateSearchBoxState({\n      modifiedOnly: false,\n      query: \"\"\n    });\n  }\n\n  get hasSearchParameters() {\n    return this.searchBoxState.modifiedOnly || this.searchBoxState.query;\n  }\n\n  get controlsFilteredBySearchParams() {\n    return filterControls(\n      this.controls,\n      this.searchBoxState.modifiedOnly,\n      this.searchBoxState.query,\n      this.editingClassControlsTreeContext,\n      \"properties\"\n    );\n  }\n\n  get noSearchResults() {\n    return flattenAndCount(this.controlsFilteredBySearchParams, 0) === 0;\n  }\n\n  get howManyOnPage() {\n    if (!uiStore.activeSelector) return 0;\n\n    const selectorToFind = this.editingClassHover\n      ? uiStore.activeSelector.name.replace(\":hover\", \"\")\n      : uiStore.activeSelector.name;\n\n    const matchingElements = window.Breakdance.canvas.document.querySelectorAll(\n      selectorToFind\n    );\n\n    return matchingElements.length;\n  }\n\n  get editingClass() {\n    if (!this.activeSelector) return false;\n    return this.activeSelector.type === \"class\";\n  }\n\n  get editingClassHover() {\n    if (!this.activeSelector) return false;\n    if (this.activeSelector.name.endsWith(\":hover\")) {\n      return !!findClass(this.activeSelector.name.replace(\":hover\", \"\"));\n    }\n    return false;\n  }\n\n  get editingClassOrClassHover() {\n    return this.editingClass || this.editingClassHover;\n  }\n\n  get selectorIsHighlightable() {\n    if (!uiStore.activeSelectorName) return false;\n\n    if (uiStore.activeSelectorName.includes(\":\") && !this.editingClassHover)\n      return false;\n    return true;\n  }\n\n  get controls() {\n    return configStore.selectorControls;\n  }\n\n  get activeSelector() {\n    return uiStore.activeSelector;\n  }\n\n  highlight = false;\n\n  toggleHighlight() {\n    if (this.highlight) {\n      this.clearHighlight();\n    } else {\n      this.setHighlight();\n    }\n  }\n\n  beforeDestroy() {\n    this.clearHighlight();\n  }\n\n  setHighlight() {\n    this.highlight = true;\n\n    if (!uiStore.activeSelector) return;\n\n    const selectorToHighlight = this.editingClassHover\n      ? uiStore.activeSelector.name.replace(\":hover\", \"\")\n      : uiStore.activeSelector.name;\n\n    addOrUpdateInlineCSSAtEndOfHead(\n      getBuilderCanvasDocument(), // TODO this won't work with browse mode\n      \"breakdance-selector-highlight\",\n      `${selectorToHighlight} {\n          outline: 10px dashed rgba(255,200,0) !important;\n          outline-offset: -5px;\n          animation-duration: 2000ms;\n          animation-iteration-count: infinite;\n        }\n        `\n    );\n  }\n\n  clearHighlight() {\n    this.highlight = false;\n    addOrUpdateInlineCSSAtEndOfHead(\n      getBuilderCanvasDocument(), // TODO this won't work with browse mode\n      \"breakdance-selector-highlight\",\n      \"\"\n    );\n  }\n\n  deleteSelector() {\n    if (!this.activeSelector) return;\n\n    const selector = this.activeSelector;\n    const indexToDelete = globalStore.cssSelectors.findIndex(\n      s => s.name === selector.name\n    );\n\n    if (indexToDelete !== -1) {\n      const newSelectors = defensiveCopy(globalStore.cssSelectors);\n      newSelectors.splice(indexToDelete, 1);\n      globalStore.setSelectors(newSelectors);\n    }\n  }\n\n  close() {\n    this.backToAllSelectors();\n  }\n\n  get activeElementTitle() {\n    if (!uiStore.activeElement) return false;\n    return configStore.element(uiStore.activeElement.data.type).name;\n  }\n\n  openElementProperties() {\n    openUiPanel(\"elementproperties\");\n  }\n\n  backToAllSelectors() {\n    uiStore.setActiveSelectorName(null);\n  }\n\n  attemptingToRename: string | false = false;\n\n  get isAttemptedRenameValid() {\n    if (!this.attemptingToRename) return true;\n\n    return isValidSelectorName(this.attemptingToRename);\n  }\n\n  tryToRenameActiveSelector(newName: string | null) {\n    if (!newName) return;\n\n    this.attemptingToRename = newName;\n\n    this.clearHighlight();\n\n    if (!isValidSelectorName(newName)) return;\n\n    const activeSelectorIndex = globalStore.cssSelectors.findIndex(\n      s => s === this.activeSelector\n    );\n\n    const newSelectors = defensiveCopy(globalStore.cssSelectors);\n\n    if (newSelectors[activeSelectorIndex]) {\n      newSelectors[activeSelectorIndex].name = newName;\n      globalStore.setSelectors(newSelectors);\n      uiStore.setActiveSelectorName(newName);\n      this.attemptingToRename = false;\n    }\n  }\n\n  toggleHover() {\n    if (!uiStore.activeSelector) return;\n\n    if (this.editingClass) {\n      const hoverSelectorName = uiStore.activeSelectorName + \":hover\";\n\n      const findHoverSelector = () =>\n        globalStore.cssSelectors.find(s => s.name === hoverSelectorName);\n\n      let hoverSelector = findHoverSelector();\n\n      if (!hoverSelector) {\n        addSelectorToStoreAndSaveSelectorsToWordPressIfSelectorsPanelIsClosed({\n          name: hoverSelectorName,\n          type: \"custom\",\n          properties: {}\n        });\n        hoverSelector = findHoverSelector();\n      }\n\n      if (!hoverSelector) {\n        NotificationLogger.log.message(\n          `Unable to create or find a :hover selector for ${uiStore.activeSelectorName}`\n        );\n        return;\n      }\n\n      uiStore.setActiveSelectorName(hoverSelector.name);\n      openUiPanel(\"selectors\");\n    } else if (this.editingClassHover && this.activeSelector) {\n      const foundClass = findClass(\n        this.activeSelector.name.replace(\":hover\", \"\")\n      );\n      if (foundClass) {\n        uiStore.setActiveSelectorName(foundClass.name);\n        openUiPanel(\"selectors\");\n      }\n    }\n  }\n\n  @Provide(\"context\")\n  editingClassControlsTreeContext = editingClassControlsTreeContext;\n}\n\nconst findClass = (className: string) =>\n  globalStore.cssSelectors.find(selector => selector.name === className);\n\nconst editingClassControlsTreeContext: ControlsTreeContext = {\n  dynamicProperty: () => false,\n  getControls: () => configStore.selectorControls,\n  getControlValue: controlPath => {\n    return lodash.get(uiStore.activeSelector, `${controlPath}`, undefined);\n  },\n  setControlValue(\n    controlPathProbablyWithBreakpointIdAndHoverSuffix,\n    newValue,\n    control,\n    meta?: ChangeControlValueMeta\n  ) {\n    if (!uiStore.activeSelector) return;\n\n    globalStore.throttledSelectorPropertyChange(\n      addMetadataToSelectorPropertyChangeBasingOnControlValueChangeMetadata(\n        {\n          selector: uiStore.activeSelector,\n          path: controlPathProbablyWithBreakpointIdAndHoverSuffix,\n          value: newValue\n        },\n        {\n          control,\n          controlsTree:\n            this.getControls(\n              controlPathProbablyWithBreakpointIdAndHoverSuffix\n            ) || []\n        },\n        meta\n      )\n    );\n  },\n  setAccordionState: (accordionPath: string, open: boolean) => {\n    const activeSelectorName =\n      uiStore.activeSelector && uiStore.activeSelector.name;\n    if (!activeSelectorName) return;\n    setSelectorAccordionState(activeSelectorName, accordionPath, open);\n  },\n  getAccordionState: (accordionPath: string) => {\n    const activeSelectorName =\n      uiStore.activeSelector && uiStore.activeSelector.name;\n    if (!activeSelectorName) return false;\n    return getSelectorAccordionState(activeSelectorName, accordionPath);\n  }\n};\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditSelector.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EditSelector.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./EditSelector.vue?vue&type=template&id=745d8a6e&\"\nimport script from \"./EditSelector.vue?vue&type=script&lang=ts&\"\nexport * from \"./EditSelector.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./EditSelector.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VSheet } from 'vuetify/lib/components/VSheet';\nimport { VTooltip } from 'vuetify/lib/components/VTooltip';\ninstallComponents(component, {VBtn,VSheet,VTooltip})\n","\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport ManageSelectors from \"./ManageSelectors.vue\";\nimport EditSelector from \"./EditSelector.vue\";\nimport { globalStore, uiStore } from \"@/store/store\";\nimport { closeUiPanel } from \"@/lib/panels/panels\";\nimport { ClosingConfirmationChosenOption } from \"@/types/ui\";\nimport {\n  refetchSelectorsFromServerToGlobalStore,\n  saveSelectorsToWordPress\n} from \"@/lib/selectors/selectors\";\n\n@Component({\n  components: {\n    EditSelector,\n    ManageSelectors\n  }\n})\nexport default class SelectorsPanel extends Vue {\n  isLoadingData = false;\n  isStoringData = false;\n\n  get activeSelector() {\n    return uiStore.activeSelector;\n  }\n\n  async beforeMount() {\n    if (uiStore.panelState.shouldLoadFreshDataIntoStoreOnceOpened.selectors) {\n      uiStore.setPanelState({\n        ...uiStore.panelState,\n        selectorsPanelPanelActiveViewMode: \"controls\"\n      });\n      await this.load();\n    } else {\n      uiStore.setShouldPanelLoadFreshDataIntoStoreOnceOpened(\"selectors\", true);\n    }\n  }\n\n  async load() {\n    this.isLoadingData = true;\n    const isSuccessful = await refetchSelectorsFromServerToGlobalStore();\n    this.isLoadingData = false;\n\n    return isSuccessful;\n  }\n\n  async save() {\n    this.isStoringData = true;\n    const isSuccessful = await saveSelectorsToWordPress();\n    this.isStoringData = false;\n\n    return isSuccessful;\n  }\n\n  requestPanelClosingConfirmation() {\n    uiStore.requestClosingConfirmation({\n      subject: \"selectors\",\n      confirmationDefinition: {\n        title: \"You have unsaved changes to your Selectors.\",\n        text: \"Would you like to save or discard these changes?\",\n        type: \"info\"\n      }\n    });\n  }\n\n  get unsavedChangesPresent(): boolean {\n    return globalStore.selectorsHasUnsavedChangesPresent;\n  }\n\n  @Watch(\"unsavedChangesPresent\", { immediate: true })\n  handleUnsavedChangesPresentChange(unsavedChangesPresent: boolean) {\n    if (unsavedChangesPresent) {\n      this.requestPanelClosingConfirmation();\n    } else {\n      uiStore.noClosingConfirmationIsNeededFor(\"selectors\");\n    }\n  }\n\n  get confirmationChosenOption(): ClosingConfirmationChosenOption | undefined {\n    return uiStore.closingConfirmations.selectors?.chosenOption;\n  }\n\n  @Watch(\"confirmationChosenOption\", { immediate: true })\n  async handleConfirmationChosenOptionChange(\n    chosenOption: ClosingConfirmationChosenOption | undefined\n  ) {\n    if (chosenOption === \"discard\") {\n      uiStore.setClosingConfirmationIsDiscarding({\n        subject: \"globalSettings\",\n        isDiscarding: true\n      });\n      if (await this.load()) {\n        this.close();\n      } else {\n        this.requestPanelClosingConfirmation();\n      }\n    } else if (chosenOption === \"save\") {\n      uiStore.setClosingConfirmationIsSaving({\n        subject: \"globalSettings\",\n        isSaving: true\n      });\n      if (await this.save()) {\n        this.close();\n      } else {\n        this.requestPanelClosingConfirmation();\n      }\n    }\n  }\n\n  get isLoading() {\n    return this.isLoadingData || this.isStoringData;\n  }\n\n  close() {\n    closeUiPanel(\"selectors\");\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectorsPanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SelectorsPanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SelectorsPanel.vue?vue&type=template&id=000eb18f&\"\nimport script from \"./SelectorsPanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./SelectorsPanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SelectorsPanel.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VLayout } from 'vuetify/lib/components/VGrid';\nimport { VProgressCircular } from 'vuetify/lib/components/VProgressCircular';\ninstallComponents(component, {VLayout,VProgressCircular})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-structure-panel vscroll-wrap vscroll-scroll\"},[_c('PanelHeader',{ref:\"panelHeader\",on:{\"close\":_vm.close},scopedSlots:_vm._u([{key:\"right\",fn:function(){return [(_vm.rootElement.children.length)?_c('button',{staticClass:\"breakdance-structure-panel__toggle-button mr-2\",on:{\"click\":_vm.toggleNodes}},[(_vm.toggleStage === 1)?[_vm._v(\"Expand\")]:_vm._e(),([0, 2].includes(_vm.toggleStage))?[_vm._v(\"Collapse\")]:_vm._e()],2):_vm._e()]},proxy:true}])},[_vm._v(\" Structure \")]),_c('div',{class:_vm.classList,on:{\"contextmenu\":_vm.onContextMenu}},[_c('div',{staticClass:\"structure-node root-node\",attrs:{\"data-element-id\":_vm.ROOT_ELEMENT_ID},on:{\"mousedown\":_vm.dragStart}},[_c('div',{staticClass:\"structure-node-title-wrapper\"},[_c('div',{staticClass:\"structure-node-title\",staticStyle:{\"margin-left\":\"-16px\",\"display\":\"none\"}},[_vm._v(\" Root Node \")]),_c('div',{staticClass:\"top-half\",attrs:{\"data-element-id\":_vm.ROOT_ELEMENT_ID,\"data-depth\":-1}}),_c('div',{staticClass:\"bottom-half\",attrs:{\"data-element-id\":_vm.ROOT_ELEMENT_ID,\"data-depth\":-1}})]),(_vm.rootElement.children.length > 0)?_c('ChildStructureNodes',{attrs:{\"nodes\":_vm.rootElement.children,\"depth\":0}}):_c('div',{staticClass:\"structure-panel-empty-state\"},[_c('h5',[_vm._v(\"No Elements\")]),_c('p',[_vm._v(\"Add an element to your page and it will show up here.\")]),_c('StandardButton',{staticClass:\"open-elements-toolbar-button ml-auto mr-auto\",attrs:{\"size\":\"22\",\"testId\":\"open-elements-toolbar-button\"},on:{\"click\":_vm.toggleAdd}},[_vm._v(\" Add \")])],1)],1)]),_c('StructureContextMenu')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { getNodeIndex, getNodeParent } from \"@/lib/tree/tree\";\nimport { Tree } from \"@/types/tree\";\n\nexport type DragPayload = {\n  draggedElementId: number;\n  droppedOnElementId: number;\n  index: number;\n};\n\nexport type MouseDragStatus = {\n  overTopHalf: false | number;\n  overBottomHalf: false | number;\n  overIndex: false | number;\n  overNodeId: false | number;\n  overNodeParentId: false | number;\n  overNestDeeper: false | number;\n  overNestShallower: false | number;\n  overSelf: boolean;\n};\n\nexport function initialMouseDragStatus(): MouseDragStatus {\n  return {\n    overTopHalf: false,\n    overBottomHalf: false,\n    overIndex: false,\n    overNodeId: false,\n    overNodeParentId: false,\n    overSelf: false,\n    overNestDeeper: false,\n    overNestShallower: false\n  };\n}\n\nexport function getNodeIdAtPointInStructurePanel(x: number, y: number) {\n  const draggedElement = document\n    .elementsFromPoint(x, y)\n    .filter(filterByClass(\"structure-node\"))\n    .sort(sortByDepth)\n    .reverse()\n    .pop();\n\n  if (draggedElement) {\n    // @ts-ignore\n    const elementId = draggedElement.dataset.elementId;\n\n    if (elementId) {\n      return parseInt(elementId);\n    }\n  }\n\n  return false;\n}\n\nexport const filterByClass = (className: string) => {\n  return (element: Element) => {\n    if (element.classList.contains(className)) {\n      return true;\n    }\n    return false;\n  };\n};\n\n/* a bit fuckin brittle having the depth and other shit in the DOM... like... \nthere's a bunch of shit related to drag that's simply in the DOM of the structure panel's HTML output\nit works perfectly, but is there a better way? using DOM as a source of truth is sketchy */\n\nexport const sortByDepth = (elementA: Element, elementB: Element) => {\n  // @ts-ignore\n  if (parseInt(elementA.dataset.depth) > parseInt(elementB.dataset.depth)) {\n    return -1;\n  } else if (\n    // @ts-ignore\n    parseInt(elementB.dataset.depth) > parseInt(elementA.dataset.depth)\n  ) {\n    return 1;\n  } else {\n    return 0;\n  }\n};\n\nconst getElementIdDataAttrFromFirstElementThatMatchesClass = (\n  elementsList: Element[],\n  className: string\n) => {\n  const elements = elementsList.filter(filterByClass(className));\n  if (elements.length > 0) {\n    // @ts-ignore\n    return parseInt(elements[0].dataset.elementId);\n  }\n\n  return false;\n};\n\nexport const getMouseDragStatus = (\n  mouseX: number,\n  mouseY: number,\n  tree: Tree\n): MouseDragStatus => {\n  const elementsList = document.elementsFromPoint(mouseX, mouseY); // TODO: needs slight tweak for Edge compatibility, function name is different and returns NodeList\n\n  const dragStatus = initialMouseDragStatus();\n\n  dragStatus.overNestDeeper = getElementIdDataAttrFromFirstElementThatMatchesClass(\n    elementsList,\n    \"nest-deeper\"\n  );\n\n  dragStatus.overNestShallower = getElementIdDataAttrFromFirstElementThatMatchesClass(\n    elementsList,\n    \"nest-shallower\"\n  );\n\n  dragStatus.overTopHalf = getElementIdDataAttrFromFirstElementThatMatchesClass(\n    elementsList,\n    \"top-half\"\n  );\n\n  dragStatus.overBottomHalf = getElementIdDataAttrFromFirstElementThatMatchesClass(\n    elementsList,\n    \"bottom-half\"\n  );\n\n  dragStatus.overSelf =\n    getElementIdDataAttrFromFirstElementThatMatchesClass(\n      elementsList,\n      \"breakdance--currently-dragging\"\n    ) !== false;\n\n  if (dragStatus.overBottomHalf) {\n    dragStatus.overNodeId = dragStatus.overBottomHalf;\n  } else if (dragStatus.overTopHalf) {\n    dragStatus.overNodeId = dragStatus.overTopHalf;\n  }\n\n  if (dragStatus.overNodeId) {\n    const parent = getNodeParent(tree, dragStatus.overNodeId);\n    const index = getNodeIndex(tree, dragStatus.overNodeId);\n\n    if (index !== false && parent !== false) {\n      dragStatus.overIndex = index;\n      dragStatus.overNodeParentId = parent.id;\n    }\n  }\n\n  return dragStatus;\n};\n","import { MouseDragStatus } from \"@/lib/structure-panel-drag/util\";\nimport { findNode, getNodeIndex, getNodeParent } from \"@/lib/tree/tree\";\nimport { Tree } from \"@/types/tree\";\nimport { isThisNodeAllowedInsideThatNode } from \"../tree/nesting\";\nimport { structurePanelNodeIsCollapsed } from \"@/lib/structure-panel/expand-collapse\";\n\ntype NodePosition = {\n  parentId: number;\n  index: number;\n};\n\nexport function getNewNodePosition(\n  mouseDragStatus: MouseDragStatus,\n  tree: Tree,\n  draggedNodeId: number\n): NodePosition | false {\n  let maybeNodePosition: false | NodePosition = false;\n  const draggedNode = findNode(tree, draggedNodeId);\n  if (!draggedNode) return false;\n\n  /*\n    \n    keep this comment in sync with the drag logic or ur a huge asshole\n  \n    if mouse is over another node\n      if over the top half of a node\n        position it above that node (as the preceding sibling) - if it's allowed\n         - the logic to do that is if it is already positioned above the node we are over, dont do shit\n         - and otherwise, move it to the position of the node we are over (occupying its index will push it down one)\n  \n        if it can not be positioned above that node as the preceding sibling,\n          does that node have a preceding sibling? can we position it as the last child of that node's preceding sibling?\n  \n  \n      if over the bottom half of a node and the node has no children showing (i.e. the node has no children, or the node is collapsed)\n        position it below that node (as the following sibling) - if it's allowed.\n        (A) the logic for this is as follows:\n          ... put it at the position returned by getPositionAfterNode, but we have to subtract one from the index returned...\n          ... by getPositionAfterNode if the ghost node is already inside the parent of the node we are dragging over...\n          ... and its index is lower that the index of the node we are dragging over ...\n          ... because the position returned by getPositionAfterNode isn't taking into account ...\n          ... that the ghost node is't then gonna be removed from above it ...\n  \n        if it can not be positioned below that node\n          position it inside that node as the first child\n  \n        if it can't be positioned inside that node as the first child:\n          if the node is the last child of its parent (B)\n            try to position it after the node's parent\n              if it's not allowed, recurse to B, with the node parent's parent\n              note: \n              ... just like (A) above, we have to subtract one from the node index returned by\n              ... getPositionAfterNode if the ghost node is in the same parent that the node is being dragged to\n              ... at a lower position than the node's new index, because getPositionAfterNode doesn't take \n              ... into account that the ghost node is going to be removed from above it\n\n      if over the bottom half of a node, and the node has children\n        position it inside that node, as the first child\n  \n    if mouse is over the dragged node\n      if it is the last child, and mouse is trying to pull it shallower\n        position it below its parent (as the following sibling) - recursively.\n  \n      if it has a preceding sibling (meaning it isnt the first child), and mouse is trying to push it deeper\n        position it inside its preceding sibling, as the last child - (TODO: right now this isn't recursive, but it should be)\n  \n    finally, check if where it has been positioned is allowed, and if so, return that position\n    */\n\n  if (!mouseDragStatus.overSelf) {\n    if (mouseDragStatus.overTopHalf) {\n      maybeNodePosition = getPositionOfNode(mouseDragStatus.overTopHalf, tree);\n\n      if (\n        draggedNodeId ===\n        getIdOfPrecedingSibling(mouseDragStatus.overTopHalf, tree)\n      ) {\n        maybeNodePosition = false;\n      }\n\n      const precedingSiblingId = getIdOfPrecedingSibling(\n        mouseDragStatus.overTopHalf,\n        tree\n      );\n\n      if (\n        maybeNodePosition &&\n        precedingSiblingId &&\n        isThisNodeAllowedInsideThatNode(tree, draggedNode, precedingSiblingId)\n      ) {\n        maybeNodePosition = getPositionAtEndInside(precedingSiblingId, tree);\n      }\n    } else if (\n      mouseDragStatus.overBottomHalf &&\n      (nodeChildrenCount(mouseDragStatus.overBottomHalf, tree) === 0 ||\n        structurePanelNodeIsCollapsed(mouseDragStatus.overBottomHalf))\n    ) {\n      maybeNodePosition = getPositionAfterNode(\n        mouseDragStatus.overBottomHalf,\n        tree\n      );\n\n      if (\n        maybeNodePosition &&\n        isThisNodeAllowedInsideThatNode(\n          tree,\n          draggedNode,\n          maybeNodePosition.parentId\n        )\n      ) {\n        const index = getNodeIndex(tree, draggedNode.id);\n        const parent = getNodeParent(tree, draggedNode.id);\n\n        if (\n          index !== false &&\n          parent !== false &&\n          maybeNodePosition &&\n          mouseDragStatus.overIndex\n        ) {\n          if (maybeNodePosition.parentId === parent.id) {\n            if (index < mouseDragStatus.overIndex) {\n              maybeNodePosition.index = maybeNodePosition.index - 1;\n            }\n          }\n        }\n      } else if (\n        maybeNodePosition &&\n        !isThisNodeAllowedInsideThatNode(\n          tree,\n          draggedNode,\n          maybeNodePosition.parentId\n        )\n      ) {\n        maybeNodePosition = getPositionAtStartInside(\n          mouseDragStatus.overBottomHalf\n        );\n      }\n\n      if (\n        maybeNodePosition &&\n        !isThisNodeAllowedInsideThatNode(\n          tree,\n          draggedNode,\n          maybeNodePosition.parentId\n        ) &&\n        isLastChild(mouseDragStatus.overBottomHalf, tree)\n      ) {\n        let parentToPositionAfter: number | false = false;\n\n        if (mouseDragStatus.overBottomHalf) {\n          const parentToPositionAfter_ = getNodeParent(\n            tree,\n            mouseDragStatus.overBottomHalf\n          );\n          parentToPositionAfter = parentToPositionAfter_\n            ? parentToPositionAfter_.id\n            : false;\n        }\n\n        while (parentToPositionAfter) {\n          maybeNodePosition = getPositionAfterNode(parentToPositionAfter, tree);\n\n          // subtract one from index logic\n          const parent = getNodeParent(tree, draggedNode.id);\n\n          if (\n            maybeNodePosition &&\n            parent &&\n            maybeNodePosition.parentId === parent.id\n          ) {\n            const draggedNodeIndex = getNodeIndex(tree, draggedNode.id);\n            const lastRecursedItemIndex = getNodeIndex(\n              tree,\n              parentToPositionAfter\n            );\n\n            if (draggedNodeIndex < lastRecursedItemIndex) {\n              maybeNodePosition.index = maybeNodePosition.index - 1;\n            }\n          }\n          // ------\n\n          if (!maybeNodePosition) {\n            parentToPositionAfter = false;\n          } else if (\n            !isThisNodeAllowedInsideThatNode(\n              tree,\n              draggedNode,\n              maybeNodePosition.parentId\n            ) &&\n            isLastChild(parentToPositionAfter, tree)\n          ) {\n            const parent = getNodeParent(tree, parentToPositionAfter);\n\n            parentToPositionAfter = parent ? parent.id : false;\n          } else {\n            parentToPositionAfter = false;\n          }\n        }\n      }\n    } else if (\n      mouseDragStatus.overBottomHalf &&\n      nodeChildrenCount(mouseDragStatus.overBottomHalf, tree) > 0\n    ) {\n      maybeNodePosition = getPositionAtStartInside(\n        mouseDragStatus.overBottomHalf\n      );\n    }\n  } else if (mouseDragStatus.overSelf) {\n    if (\n      isLastChild(draggedNodeId, tree) &&\n      mouseDragStatus.overNestShallower === draggedNodeId\n    ) {\n      let positionInsideParentNodeId: number | false = false;\n\n      maybeNodePosition = getPositionBelowParent(draggedNodeId, tree);\n\n      if (maybeNodePosition) {\n        positionInsideParentNodeId = maybeNodePosition.parentId;\n      }\n\n      while (positionInsideParentNodeId) {\n        if (\n          isThisNodeAllowedInsideThatNode(\n            tree,\n            draggedNode,\n            positionInsideParentNodeId\n          )\n        ) {\n          break;\n        } else if (\n          maybeNodePosition &&\n          !isThisNodeAllowedInsideThatNode(\n            tree,\n            draggedNode,\n            maybeNodePosition.parentId\n          ) &&\n          isLastChild(positionInsideParentNodeId, tree)\n        ) {\n          const parent = getNodeParent(tree, positionInsideParentNodeId);\n          positionInsideParentNodeId = parent ? parent.id : false;\n\n          if (positionInsideParentNodeId) {\n            maybeNodePosition = getPositionAtEndInside(\n              positionInsideParentNodeId,\n              tree\n            );\n          }\n        } else {\n          break;\n        }\n      }\n    }\n\n    if (\n      hasPrecedingSibling(draggedNodeId, tree) &&\n      mouseDragStatus.overNestDeeper === draggedNodeId\n    ) {\n      maybeNodePosition = getPositionAtEndInsidePrecedingSibling(\n        draggedNodeId,\n        tree\n      );\n    }\n  }\n\n  if (!maybeNodePosition) return false;\n\n  const dragAllowed = isThisNodeAllowedInsideThatNode(\n    tree,\n    draggedNode,\n    maybeNodePosition.parentId\n  );\n\n  if (dragAllowed) {\n    return maybeNodePosition;\n  }\n  return false;\n}\n\n/* helper functions */\n\nfunction getPositionOfNode(nodeId: number, tree: Tree): NodePosition | false {\n  const index = getNodeIndex(tree, nodeId);\n  const parent = getNodeParent(tree, nodeId);\n\n  if (index === false || parent === false) return false;\n\n  return {\n    parentId: parent.id,\n    index: index\n  };\n}\n\nfunction getPositionAfterNode(\n  nodeId: number,\n  tree: Tree\n): NodePosition | false {\n  const index = getNodeIndex(tree, nodeId);\n  const parent = getNodeParent(tree, nodeId);\n\n  if (index === false || parent === false) return false;\n\n  return {\n    parentId: parent.id,\n    index: index + 1\n  };\n}\n\nfunction getPositionAtStartInside(nodeId: number): NodePosition {\n  return {\n    parentId: nodeId,\n    index: 0\n  };\n}\n\nfunction getPositionAtEndInside(\n  nodeId: number,\n  tree: Tree\n): NodePosition | false {\n  const childCount = nodeChildrenCount(nodeId, tree);\n  if (childCount === false) return false;\n\n  return {\n    parentId: nodeId,\n    index: childCount\n  };\n}\n\nfunction getPositionBelowParent(\n  nodeId: number,\n  tree: Tree\n): NodePosition | false {\n  const parent = getNodeParent(tree, nodeId);\n  if (!parent) return false;\n\n  return getPositionAfterNode(parent.id, tree);\n}\n\nfunction getPositionAtEndInsidePrecedingSibling(\n  nodeId: number,\n  tree: Tree\n): NodePosition | false {\n  const precedingSiblingId = getIdOfPrecedingSibling(nodeId, tree);\n  if (!precedingSiblingId) return false;\n\n  return getPositionAtEndInside(precedingSiblingId, tree);\n}\n\nfunction getIdOfPrecedingSibling(nodeId: number, tree: Tree) {\n  const index = getNodeIndex(tree, nodeId);\n  const parent = getNodeParent(tree, nodeId);\n\n  if (index === false || parent === false) return false;\n\n  if (index < 1) return false;\n\n  return parent.children[index - 1].id;\n}\n\nfunction nodeChildrenCount(nodeId: number, tree: Tree) {\n  const node = findNode(tree, nodeId);\n  if (!node) return false;\n  return node.children.length;\n}\n\nfunction isLastChild(nodeId: number, tree: Tree) {\n  const index = getNodeIndex(tree, nodeId);\n  const parent = getNodeParent(tree, nodeId);\n\n  if (index === false || parent === false) return;\n\n  const childCount = nodeChildrenCount(parent.id, tree);\n  if (!childCount) return;\n\n  return childCount === 1 || index === childCount - 1;\n}\n\nfunction hasPrecedingSibling(nodeId: number, tree: Tree) {\n  const index = getNodeIndex(tree, nodeId);\n\n  if (index === false) return;\n\n  return index > 0;\n}\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport PanelHeader from \"@/components/Reusable/Util/PanelHeader.vue\";\nimport { Vue, Component, Ref } from \"vue-property-decorator\";\nimport { documentStore, uiStore } from \"@/store/store\";\nimport {\n  getNodeIdAtPointInStructurePanel,\n  getMouseDragStatus,\n  initialMouseDragStatus,\n  DragPayload\n} from \"@/lib/structure-panel-drag/util\";\n\nimport { getNewNodePosition } from \"@/lib/structure-panel-drag/get-new-node-position\";\nimport { findNode, getNodeIndex, getNodeParent } from \"@/lib/tree/tree\";\nimport { ROOT_ELEMENT_ID } from \"@/lib/tree/tree\";\nimport {\n  expandOrCollapseAllNodes,\n  expandNodesToShowActiveElement,\n  structurePanelNodeIsExpanded\n} from \"@/lib/structure-panel/expand-collapse\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport {\n  closeUiPanel,\n  scrollToHtmlElementInsidePanel,\n  toggleUiPanel\n} from \"@/lib/panels/panels\";\nimport { EasyEvent, isCanvasEvent } from \"@/util/easy-event\";\nimport { MutationPayload } from \"vuex\";\nimport UIModule from \"@/store/modules/ui\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport { getBuilderElementNameBySlug } from \"@/lib/undo/snapshot-labels/document-store-property-change.utils\";\nimport StructureContextMenu from \"@/components/Structure/StructureContextMenu.vue\";\nimport StandardButton from \"@/components/UI/StandardButton.vue\";\n\n@Component({\n  components: {\n    StructureContextMenu,\n    PanelHeader,\n    StandardButton\n  }\n})\nexport default class StructurePanel extends Vue {\n  @Ref() readonly panelHeader!: PanelHeader;\n\n  mouseDragStatus = {\n    ...initialMouseDragStatus()\n  };\n\n  close() {\n    closeUiPanel(\"structure\");\n  }\n\n  get classList() {\n    return {\n      \"structure-panel-content-wrapper\": true,\n      \"is-draggable\": this.hasPermission,\n      \"drag-in-progress\": uiStore.isCanvasElementBeingDragged,\n      \"force-grabbing-cursor\": this.forceGrabbingCursor\n    };\n  }\n\n  forceGrabbingCursor = false;\n\n  firstDragMovement = true;\n\n  draggedNodeId: false | number = false;\n\n  lastSubmittedDrag: false | DragPayload = false;\n\n  didMoveElement = false;\n\n  unsubscribeFromActivateElementMutation: (() => void) | null = null;\n\n  beforeCreate() {\n    // @ts-ignore\n    this.$options.components.ChildStructureNodes = require(\"./ChildStructureNodes.vue\").default;\n  }\n\n  get activeElementId() {\n    return uiStore.activeElementId;\n  }\n\n  mounted() {\n    this.expandToShowActiveElementWatch();\n\n    // We cannot use watch instead, because watch doesn't emit when the same value was written to state\n    this.unsubscribeFromActivateElementMutation = this.$store.subscribe<\n      MutationPayload & { payload: UIModule[\"activeElementId\"] }\n    >(({ type }) => {\n      if (type === \"ui/activateElementMutation\") {\n        this.expandToShowActiveElementWatch();\n      }\n    });\n  }\n\n  expandToShowActiveElementWatch() {\n    if (this.activeElementId) {\n      const expandedNodesWithActiveElementInside = expandNodesToShowActiveElement(\n        documentStore.document.tree,\n        this.activeElementId\n      );\n\n      if (expandedNodesWithActiveElementInside) {\n        uiStore.setStructurePanelNodesExpandedState({\n          ...uiStore.structurePanelNodesExpandedState,\n          ...expandedNodesWithActiveElementInside\n        });\n      }\n\n      // Wait until ChildStructureNodes will re-render\n      this.$nextTick(() => {\n        // Selecting an element will open the Controls panel and close Structure if they're on the same side\n        // un-mounting it. But since this is on \"nextTick\" it'll still run. So we check if it still exists\n        if (!this.$el || !this.panelHeader) {\n          return;\n        }\n\n        const activeElementDomEl = this.$el.querySelector(\n          `[data-element-id=\"${this.activeElementId}\"] .structure-node-title-wrapper`\n        );\n\n        if (activeElementDomEl) {\n          scrollToHtmlElementInsidePanel(\n            this.$el,\n            this.panelHeader.$el,\n            activeElementDomEl\n          );\n        }\n      });\n    }\n  }\n\n  get rootElement() {\n    return documentStore.document.tree.root;\n  }\n\n  get hasPermission() {\n    return uiStore.hasFullAccess;\n  }\n\n  onContextMenu(e: MouseEvent) {\n    if (!this.hasPermission) return;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    const elementId =\n      getNodeIdAtPointInStructurePanel(e.clientX, e.clientY) || undefined;\n\n    if (elementId) {\n      uiStore.activateElement(elementId);\n    }\n\n    uiStore.setOnStructurePanelRightClickMenuState({\n      elementId,\n      position: {\n        x: e.clientX,\n        y: e.clientY\n      }\n    });\n  }\n\n  easyEvent = new EasyEvent();\n\n  dragStart(e: MouseEvent) {\n    if (e.button !== 0) return; // Left-clicks only\n    if (!this.hasPermission) return;\n\n    const draggedNodeId = getNodeIdAtPointInStructurePanel(\n      e.clientX,\n      e.clientY\n    );\n\n    if (draggedNodeId) {\n      uiStore.activateElement(draggedNodeId);\n\n      this.draggedNodeId = draggedNodeId;\n\n      this.easyEvent.on(\"mousemove\", this.dragging);\n      this.easyEvent.on(\"mouseup\", this.dragEnd);\n      this.forceGrabbingCursor = true;\n      this.didMoveElement = false;\n\n      breakdanceUndo.startTransaction();\n    }\n  }\n\n  // throttledDragging = throttle(this.dragging, 80);\n\n  dragging(e: MouseEvent) {\n    if (isCanvasEvent(e)) return;\n\n    e.preventDefault();\n    e.stopPropagation();\n\n    if (!this.draggedNodeId) return;\n\n    let dragPayload: null | DragPayload = null;\n\n    if (this.firstDragMovement) {\n      const nodeIndex = getNodeIndex(\n        documentStore.document.tree,\n        this.draggedNodeId\n      );\n      const nodeParent = getNodeParent(\n        documentStore.document.tree,\n        this.draggedNodeId\n      );\n\n      if (nodeIndex === false || nodeParent === false) return;\n\n      uiStore.setCanvasElementDraggedId(this.draggedNodeId);\n\n      dragPayload = {\n        draggedElementId: this.draggedNodeId,\n        droppedOnElementId: nodeParent.id,\n        index: nodeIndex\n      };\n\n      this.firstDragMovement = false;\n    } else {\n      this.mouseDragStatus = getMouseDragStatus(\n        e.clientX,\n        e.clientY,\n        documentStore.document.tree\n      );\n\n      this.ifMouseIsOverACollapsedNodeForLongEnoughThenWeShouldExpandIt(e);\n\n      const newNodePosition = getNewNodePosition(\n        this.mouseDragStatus,\n        documentStore.document.tree,\n        this.draggedNodeId\n      );\n\n      if (newNodePosition) {\n        dragPayload = {\n          draggedElementId: this.draggedNodeId,\n          droppedOnElementId: newNodePosition.parentId,\n          index: newNodePosition.index\n        };\n      }\n    }\n\n    if (dragPayload) {\n      /*\n      only move it inside if either:\n       - the droppedOn element is already open\n       - there are no children\n\n      this prevents the ugly UX of an element disappearing when the droppedOn is collapsed\n\n      (when there are no children, we do the move immediately and expand the node)\n      */\n\n      const droppedOnElement = findNode(\n        documentStore.document.tree,\n        dragPayload.droppedOnElementId\n      );\n\n      const isDroppedOnExpandedOrEmpty =\n        structurePanelNodeIsExpanded(dragPayload.droppedOnElementId) ||\n        droppedOnElement?.children.length === 0;\n\n      if (isDroppedOnExpandedOrEmpty) {\n        documentStore.moveElement({\n          ...dragPayload,\n          wrapWithTransaction: false\n        });\n\n        this.didMoveElement = true;\n\n        uiStore.setStructurePanelNodesExpandedState({\n          ...uiStore.structurePanelNodesExpandedState,\n          [dragPayload.droppedOnElementId.toString()]: true\n        });\n\n        this.lastSubmittedDrag = dragPayload;\n      }\n    }\n  }\n\n  dragEnd(e: MouseEvent) {\n    e.preventDefault();\n    e.stopPropagation();\n\n    this.easyEvent.removeAll();\n\n    if (this.lastSubmittedDrag) {\n      documentStore.moveElement({\n        ...this.lastSubmittedDrag,\n        wrapWithTransaction: false\n      });\n      this.didMoveElement = true;\n    }\n\n    if (this.draggedNodeId !== false && this.didMoveElement) {\n      const draggedElement = findNode(\n        documentStore.document.tree,\n        this.draggedNodeId\n      );\n      breakdanceUndo.endTransaction(\n        `Move ${getBuilderElementNameBySlug(draggedElement?.data.type)}`\n      );\n    } else {\n      breakdanceUndo.cancelTransactionIfItIsStillInProgress();\n    }\n\n    uiStore.endCanvasElementDrag();\n\n    this.lastSubmittedDrag = false;\n\n    this.mouseDragStatus = {\n      ...initialMouseDragStatus()\n    };\n    this.firstDragMovement = true;\n    this.draggedNodeId = false;\n    this.forceGrabbingCursor = false;\n    this.didMoveElement = false;\n  }\n\n  ifMouseIsOverACollapsedNodeForLongEnoughThenWeShouldExpandIt(e: MouseEvent) {\n    if (!this.mouseDragStatus.overNodeId) return;\n\n    this.delayedExpandNode(this.mouseDragStatus.overNodeId, e);\n  }\n\n  delayedExpandNodeTimeout: NodeJS.Timeout | null = null;\n  delayedExpandNode(nodeId: number, e: MouseEvent) {\n    if (this.delayedExpandNodeTimeout) {\n      clearTimeout(this.delayedExpandNodeTimeout);\n    }\n\n    this.delayedExpandNodeTimeout = setTimeout(() => {\n      this.delayedExpandNodeTimeout = null;\n\n      // check that the user didn't hover over some other element during the delay\n      if (nodeId === this.mouseDragStatus.overNodeId) {\n        const newStructurePanelNodesExpandedState = defensiveCopy(\n          uiStore.structurePanelNodesExpandedState\n        );\n\n        newStructurePanelNodesExpandedState[nodeId] = true;\n\n        uiStore.setStructurePanelNodesExpandedState(\n          newStructurePanelNodesExpandedState\n        );\n\n        /*\n        now that the node is expanded re-run the dragging method,\n        because maybe now the node could be nested inside the open node\n        */\n        this.dragging(e);\n      }\n    }, 500);\n  }\n\n  get ROOT_ELEMENT_ID() {\n    return ROOT_ELEMENT_ID;\n  }\n\n  collapseAllNodes() {\n    uiStore.setStructurePanelNodesExpandedState(\n      expandOrCollapseAllNodes(documentStore.document.tree, false)\n    );\n  }\n\n  expandAllNodes() {\n    uiStore.setStructurePanelNodesExpandedState(\n      expandOrCollapseAllNodes(documentStore.document.tree, true)\n    );\n  }\n\n  collapseAllNodesExcept(idOfNodeToKeepOpen: number) {\n    const allNodesCollapsedState = expandOrCollapseAllNodes(\n      documentStore.document.tree,\n      false\n    );\n\n    const nodesToExpandState = expandNodesToShowActiveElement(\n      documentStore.document.tree,\n      idOfNodeToKeepOpen\n    );\n\n    uiStore.setStructurePanelNodesExpandedState({\n      ...allNodesCollapsedState,\n      ...nodesToExpandState\n    });\n  }\n\n  toggleStage: 0 | 1 | 2 = 2;\n\n  toggleNodes() {\n    if (this.toggleStage === 0) {\n      this.toggleStage = 1;\n      this.collapseAllNodes();\n    } else if (this.toggleStage === 1) {\n      this.expandAllNodes();\n      this.toggleStage = 2;\n    } else if (uiStore.activeElementId) {\n      const activeElementParent = getNodeParent(\n        documentStore.document.tree,\n        uiStore.activeElementId\n      );\n\n      if (activeElementParent && activeElementParent?.id === ROOT_ELEMENT_ID) {\n        // The active node is at the root? Just collapse all, and skip stage 0\n        this.collapseAllNodes();\n        this.toggleStage = 1;\n\n        return;\n      }\n\n      this.collapseAllNodesExcept(uiStore.activeElementId);\n      this.toggleStage = 0;\n    } else {\n      // No active node? Just collapse all, and skip stage 0\n      this.collapseAllNodes();\n      this.toggleStage = 1;\n    }\n  }\n\n  beforeDestroy() {\n    this.unsubscribeFromActivateElementMutation &&\n      this.unsubscribeFromActivateElementMutation();\n  }\n\n  toggleAdd() {\n    toggleUiPanel(\"add\");\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StructurePanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StructurePanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./StructurePanel.vue?vue&type=template&id=319f7e34&\"\nimport script from \"./StructurePanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./StructurePanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./StructurePanel.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-history-and-revisions-panel vscroll-wrap vscroll-scroll\"},[_c('PanelHeader',{ref:\"panelHeader\",staticClass:\"breakdance-history-and-revisions-panel__header\",on:{\"close\":_vm.close}},[_vm._v(\" History \")]),(!_vm.disableRevisions)?_c('TabsRow',[_c('Tab',{attrs:{\"value\":_vm.tab,\"id\":\"history\"},on:{\"input\":function($event){_vm.tab = $event}}},[_vm._v(\" History \")]),_c('Tab',{attrs:{\"value\":_vm.tab,\"id\":\"revisions\"},on:{\"input\":function($event){_vm.tab = $event}}},[_vm._v(\" Revisions \")])],1):_vm._e(),(_vm.tab === 'history')?_c('History',{on:{\"scrollToActiveEl\":_vm.scrollToActiveElement}}):(_vm.tab === 'revisions')?_c('Revisions'):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"snapshots-list\"},_vm._l((_vm.snapshots),function(snapshot,index){return _c('SnapshotItem',{key:_vm.snapshots.length - 1 - index,attrs:{\"data-snapshot-index\":_vm.snapshots.length - 1 - index,\"snapshot\":snapshot,\"selected\":_vm.currentIndex === _vm.snapshots.length - 1 - index},on:{\"click\":function($event){return _vm.onSnapshotSelected(_vm.snapshots.length - 1 - index)}}})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"snapshots-item\",class:{ 'snapshots-item--selected': _vm.selected },attrs:{\"data-test-id\":\"snapshots-item\"},on:{\"click\":function($event){return _vm.$emit('click', _vm.snapshot)}}},[_c('span',{staticClass:\"snapshots-item__title\"},[_vm._v(_vm._s(_vm.snapshot.title))])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\nimport { SnapshotInfo } from \"@/types/snapshot\";\nimport { Vue, Component, Prop } from \"vue-property-decorator\";\n\n@Component({})\nexport default class SnapshotItem extends Vue {\n  @Prop({\n    default() {\n      return {};\n    }\n  })\n  snapshot!: SnapshotInfo;\n\n  @Prop({ default: false })\n  selected!: boolean;\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SnapshotItem.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SnapshotItem.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SnapshotItem.vue?vue&type=template&id=dae3fd74&\"\nimport script from \"./SnapshotItem.vue?vue&type=script&lang=ts&\"\nexport * from \"./SnapshotItem.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./SnapshotItem.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Vue, Component, Watch } from \"vue-property-decorator\";\nimport PanelHeader from \"@/components/Reusable/Util/PanelHeader.vue\";\nimport SnapshotItem from \"./SnapshotItem.vue\";\nimport { snapshotStore } from \"@/store/store-accessor\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport { closeUiPanel } from \"@/lib/panels/panels\";\n\n@Component({\n  components: {\n    PanelHeader,\n    SnapshotItem\n  }\n})\nexport default class History extends Vue {\n  onSnapshotSelected(snapshotIndex: number) {\n    snapshotStore.setCurrentSnapshotIndex(snapshotIndex);\n    breakdanceUndo.setStoreFromCurrentSnapshot();\n  }\n\n  close() {\n    closeUiPanel(\"history\");\n  }\n\n  get snapshots() {\n    return [...snapshotStore.snapshots].reverse();\n  }\n\n  get currentIndex() {\n    return snapshotStore.index;\n  }\n\n  @Watch(\"currentIndex\", { immediate: true })\n  handleCurrentIndexChange() {\n    this.scrollToActiveSnapshotElement();\n  }\n\n  scrollToActiveSnapshotElement() {\n    Vue.nextTick(() => {\n      const activeSnapshotItemDomEl = this.$el.querySelector(\n        `[data-snapshot-index=\"${this.currentIndex}\"]`\n      );\n\n      if (activeSnapshotItemDomEl) {\n        this.$emit(\"scrollToActiveEl\", activeSnapshotItemDomEl);\n      }\n    });\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./History.vue?vue&type=template&id=27a011bd&\"\nimport script from \"./History.vue?vue&type=script&lang=ts&\"\nexport * from \"./History.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./History.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"revisions-panel\"},[_c('RevisionsList',{attrs:{\"is-loading\":_vm.loading,\"revisions\":_vm.revisionUiItems,\"revisions-not-supported-message\":_vm.revisionsNotSupportedMessage},on:{\"revisionSelected\":_vm.onRevisionSelected}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\n\nimport PanelHeader from \"@/components/Reusable/Util/PanelHeader.vue\";\nimport RevisionItem from \"@/components/Reusable/Revisions/RevisionItem.vue\";\n\nimport { documentStore, uiStore } from \"@/store/store-accessor\";\nimport {\n  DocumentRevision,\n  DocumentRevisionsData,\n  DocumentRevisionsDataFromServerV,\n  RevisionUiItem\n} from \"@/types/revisions\";\nimport { makeWordPressAjaxRequest } from \"@/lib/wordpress/ajax\";\n\nimport { exportTree, treesEqual } from \"@/lib/tree/tree\";\nimport { ExportedTree, ExportedTreeV } from \"@/types/tree\";\n\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport { logErrorsToUiStore } from \"@/lib/wordpress/data\";\nimport { forceNextTick } from \"@/util/force-next-tick\";\nimport { getModuleNameFromMutation } from \"@/store/util\";\nimport RevisionsList from \"@/components/Reusable/Revisions/RevisionsList.vue\";\nimport fpJsonParseTypesafe from \"@/util/fp-json-parse-typesafe\";\n\n@Component({\n  components: { RevisionsList, RevisionItem, PanelHeader }\n})\nexport default class Revisions extends Vue {\n  loading = false;\n  selectedRevisionIndex = 0;\n  unsubscribeFromStore = () => {};\n\n  revisionsNotSupportedMessage: string | null = null;\n\n  get revisionUiItems() {\n    return this.revisions.map(\n      (revision, index): RevisionUiItem => ({\n        revisionData: revision,\n        isSelected: this.selectedRevisionIndex === index\n      })\n    );\n  }\n\n  async mounted() {\n    this.loading = true;\n    const remoteRevisions = await this.fetchRemoteRevisions();\n    this.loading = false;\n    if (!remoteRevisions) {\n      return;\n    }\n\n    uiStore.setRevisionsData({\n      revisions: remoteRevisions,\n      currentUnsavedRevision: this.getCurrentUnsavedRevision(remoteRevisions)\n    });\n\n    this.setActiveRevision();\n\n    this.unsubscribeFromStore = this.$store.subscribe(mutationPayload => {\n      const moduleName = getModuleNameFromMutation(mutationPayload);\n\n      if (\n        moduleName === \"document\" &&\n        mutationPayload.type !== \"document/loadRevision\"\n      ) {\n        uiStore.setRevisionsData({\n          revisions: uiStore.revisionsData.revisions,\n          currentUnsavedRevision: this.getCurrentUnsavedRevision(\n            uiStore.revisionsData.revisions\n          )\n        });\n\n        this.setActiveRevision();\n      }\n    });\n  }\n\n  destroyed() {\n    this.unsubscribeFromStore();\n  }\n\n  get revisions(): DocumentRevision[] {\n    return uiStore.revisionsData.currentUnsavedRevision\n      ? [\n          uiStore.revisionsData.currentUnsavedRevision,\n          ...uiStore.revisionsData.revisions\n        ]\n      : uiStore.revisionsData.revisions;\n  }\n\n  get currentTree(): ExportedTree {\n    return exportTree(documentStore.document.tree);\n  }\n\n  get unsavedChangesPresent() {\n    return uiStore.unsavedChangesPresent;\n  }\n\n  @Watch(\"unsavedChangesPresent\")\n  async updateRevisionsAfterSaving() {\n    if (!uiStore.unsavedChangesPresent) {\n      const remoteRevisions = await this.fetchRemoteRevisions();\n      if (remoteRevisions) {\n        uiStore.setRevisionsData({\n          revisions: remoteRevisions,\n          // we just saved so there can't be any current revision\n          currentUnsavedRevision: null\n        });\n      }\n\n      this.setActiveRevision();\n    }\n  }\n\n  setActiveRevision() {\n    const activeRevisionIndex = this.getActiveRevisionIndex(\n      uiStore.revisionsData.revisions\n    );\n\n    if (activeRevisionIndex !== -1) {\n      this.selectedRevisionIndex = uiStore.revisionsData.currentUnsavedRevision\n        ? // +1 for the current revision at the start of the array\n          activeRevisionIndex + 1\n        : activeRevisionIndex;\n\n      this.scrollToActiveRevision(\"smooth\");\n    } else {\n      this.selectedRevisionIndex = 0;\n      this.scrollToActiveRevision(\"auto\");\n    }\n  }\n\n  getActiveRevisionIndex(revisions: DocumentRevision[]) {\n    return revisions.findIndex(revision =>\n      treesEqual(revision.tree, this.currentTree)\n    );\n  }\n\n  getCurrentUnsavedRevision(\n    revisions: DocumentRevision[]\n  ): DocumentRevisionsData[\"currentUnsavedRevision\"] {\n    const activeRevision = this.getActiveRevisionIndex(revisions);\n\n    if (activeRevision === -1) {\n      return {\n        id: -1,\n        author: false,\n        date: \"Current\",\n        tree: this.currentTree\n      };\n    }\n\n    // Prevent showing current revision after just saving\n    const isCurrentRevisionTheSameAsTheMostRecentRevision =\n      activeRevision === 0 &&\n      uiStore.revisionsData.currentUnsavedRevision &&\n      treesEqual(\n        revisions[activeRevision].tree,\n        uiStore.revisionsData.currentUnsavedRevision?.tree\n      );\n\n    if (isCurrentRevisionTheSameAsTheMostRecentRevision) {\n      return null;\n    }\n\n    return uiStore.revisionsData.currentUnsavedRevision;\n  }\n\n  async fetchRemoteRevisions() {\n    return pipe(\n      await makeWordPressAjaxRequest({\n        action: \"breakdance_retrieve_revisions\",\n        decoder: DocumentRevisionsDataFromServerV,\n        dataToPost: {\n          id: documentStore.document.documentMeta.id\n        }\n      }),\n      fold(\n        errors => {\n          logErrorsToUiStore(errors);\n\n          return null;\n        },\n        data => {\n          if (\"unsupported\" in data) {\n            this.revisionsNotSupportedMessage = data.unsupported;\n\n            return null;\n          }\n\n          return data.revisions\n            .map(revision => {\n              const maybeTree = fpJsonParseTypesafe(\n                revision.tree,\n                ExportedTreeV\n              );\n\n              const decodedTree = pipe(\n                maybeTree,\n                fold(\n                  () => null,\n                  tree => tree\n                )\n              );\n\n              return {\n                ...revision,\n                tree: decodedTree\n              };\n            })\n            .filter(\n              (revision): revision is DocumentRevision => revision.tree !== null\n            );\n        }\n      )\n    );\n  }\n\n  onRevisionSelected(revisionUiItem: RevisionUiItem, index: number) {\n    const revision = this.revisions.find(\n      revision => revision.id === revisionUiItem.revisionData.id\n    );\n\n    if (revision) {\n      this.selectedRevisionIndex = index;\n      uiStore.activateElement(null);\n      uiStore.setInterfaceState(\"loading\");\n      documentStore.loadRevision(revision);\n      uiStore.setInterfaceState(\"normal\");\n    }\n  }\n\n  scrollToActiveRevision(behavior: ScrollIntoViewOptions[\"behavior\"]) {\n    forceNextTick(() =>\n      document\n        .querySelector(\".revisions-panel .revisions-item--selected\")\n        ?.scrollIntoView({ behavior, block: \"center\" })\n    );\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Revisions.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Revisions.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Revisions.vue?vue&type=template&id=ba25e29c&\"\nimport script from \"./Revisions.vue?vue&type=script&lang=ts&\"\nexport * from \"./Revisions.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./Revisions.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop, Ref } from \"vue-property-decorator\";\nimport PanelHeader from \"@/components/Reusable/Util/PanelHeader.vue\";\nimport History from \"@/components/HistoryAndRevisions/History/History.vue\";\nimport Revisions from \"@/components/HistoryAndRevisions/Revisions/Revisions.vue\";\nimport {\n  closeUiPanel,\n  scrollToHtmlElementInsidePanel\n} from \"@/lib/panels/panels\";\nimport TabsRow from \"@/components/Reusable/Tabs/TabsRow.vue\";\nimport Tab from \"@/components/Reusable/Tabs/Tab.vue\";\n\ntype HistoryOrRevisionTab = \"history\" | \"revisions\";\n\n@Component({\n  components: {\n    Revisions,\n    History,\n    PanelHeader,\n    TabsRow,\n    Tab\n  }\n})\nexport default class HistoryAndRevisionsPanel extends Vue {\n  tab: HistoryOrRevisionTab = \"history\";\n\n  @Prop({ default: false })\n  disableRevisions!: boolean;\n\n  @Ref() readonly panelHeader!: PanelHeader;\n\n  close() {\n    closeUiPanel(\"history\");\n  }\n\n  scrollToActiveElement(activeEl: Element) {\n    scrollToHtmlElementInsidePanel(this.$el, this.panelHeader.$el, activeEl);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryAndRevisionsPanel.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./HistoryAndRevisionsPanel.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./HistoryAndRevisionsPanel.vue?vue&type=template&id=0f089068&\"\nimport script from \"./HistoryAndRevisionsPanel.vue?vue&type=script&lang=ts&\"\nexport * from \"./HistoryAndRevisionsPanel.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./HistoryAndRevisionsPanel.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{class:_vm.classList},[_vm._t(\"default\")],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { PanelPosition, UIPanel } from \"@/types/ui\";\n\n/**\n * Intended to be used within AppLayout's \"body\" slot.\n */\n@Component\nexport default class AppLayoutBodyPanelArea extends Vue {\n  @Prop()\n  position!: PanelPosition;\n\n  @Prop()\n  panelState!: UIPanel | \"closed\";\n\n  get classList() {\n    if (this.panelState === \"closed\") return {};\n\n    return {\n      width288: true,\n      \"vscroll-wrap\": true,\n      borderOnLeft: this.position === \"right\",\n      borderOnRight: this.position === \"left\",\n      \"breakdance-app-left-area\": this.position === \"left\",\n      \"breakdance-app-right-area\": this.position === \"right\"\n    };\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLayoutBodyPanelArea.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLayoutBodyPanelArea.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppLayoutBodyPanelArea.vue?vue&type=template&id=5c48119e&\"\nimport script from \"./AppLayoutBodyPanelArea.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppLayoutBodyPanelArea.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AppLayoutBodyPanelArea.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop, Provide, Watch } from \"vue-property-decorator\";\nimport { uiStore } from \"@/store/store\";\n\nimport ElementPropertiesPanel from \"@/components/ElementPropertiesPanel/ElementPropertiesPanel.vue\";\nimport Add from \"@/components/Add/AddPanel.vue\";\nimport GlobalSettingsPanel from \"@/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel.vue\";\nimport SelectorsPanel from \"@/components/Settings/Selectors/SelectorsPanel.vue\";\nimport StructurePanel from \"@/components/Structure/StructurePanel.vue\";\nimport { PanelPosition, UIPanel } from \"@/types/ui\";\nimport HistoryAndRevisionsPanel from \"@/components/HistoryAndRevisions/HistoryAndRevisionsPanel.vue\";\nimport AppLayoutBodyPanelArea from \"@/components/Reusable/AppLayout/AppLayoutBodyPanelArea.vue\";\n\n@Component({\n  components: {\n    AppLayoutBodyPanelArea,\n    HistoryAndRevisionsPanel,\n    StructurePanel,\n    ElementPropertiesPanel,\n    Add,\n    GlobalSettingsPanel,\n    SelectorsPanel\n  }\n})\nexport default class SidebarPanels extends Vue {\n  get activeElementId() {\n    return uiStore.activeElementId;\n  }\n\n  @Prop()\n  position!: PanelPosition;\n\n  @Prop()\n  panelState!: UIPanel | \"closed\";\n\n  @Watch(\"panelState\")\n  updatePanelContext() {\n    this.reactivePanelContext.state = this.panelState;\n  }\n\n  /**\n   * @Provide isn't reactive without using state\n   */\n  reactivePanelContext = {\n    state: this.panelState,\n    position: this.position\n  };\n\n  @Provide(\"panelContext\")\n  panelContext = this.reactivePanelContext;\n}\n\nexport type PanelContext = typeof SidebarPanels.prototype.panelContext;\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SidebarPanels.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SidebarPanels.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./SidebarPanels.vue?vue&type=template&id=49957d58&\"\nimport script from \"./SidebarPanels.vue?vue&type=script&lang=ts&\"\nexport * from \"./SidebarPanels.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"breakdance-app-wrapper\"},[_c('div',{staticClass:\"breakdance-top-bar-wrapper\"},[_vm._t(\"topbar\")],2),_c('div',{staticClass:\"breakdance-app-body-wrapper\"},[_vm._t(\"body\")],2)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\n\n@Component\nexport default class AppLayout extends Vue {}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLayout.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AppLayout.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AppLayout.vue?vue&type=template&id=8b4553ec&\"\nimport script from \"./AppLayout.vue?vue&type=script&lang=ts&\"\nexport * from \"./AppLayout.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./AppLayout.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',_vm._l((_vm.closingConfirmations),function(value,name){return _c('ConfirmDialog',{key:name,attrs:{\"type\":value.type,\"save-is-enabled\":!value.chosenOption,\"save-is-in-progress\":value.isSaving,\"discard-is-enabled\":!value.chosenOption,\"discard-is-in-progress\":value.isDiscarding,\"has-cancel\":value.hasCancel,\"has-discard\":value.hasDiscard,\"action-text\":value.actionText,\"show\":value.show},on:{\"discard\":function($event){return _vm.markClosingConfirmationAs(name, 'discard')},\"save\":function($event){return _vm.markClosingConfirmationAs(name, 'save')},\"cancel\":function($event){return _vm.hideClosingConfirmation(name)},\"click:outside\":function($event){return _vm.hideClosingConfirmation(name)}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(_vm._s(value.title)+\" \")]},proxy:true},{key:\"text\",fn:function(){return [_vm._v(_vm._s(value.text))]},proxy:true}],null,true)})}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { Component, Vue } from \"vue-property-decorator\";\nimport ConfirmDialog from \"@/components/UI/ConfirmDialog.vue\";\nimport { uiStore } from \"@/store/store-accessor\";\nimport {\n  ClosingConfirmationChosenOption,\n  ClosingConfirmationSubject\n} from \"@/types/ui\";\n\n@Component({\n  components: {\n    ConfirmDialog\n  }\n})\nexport default class ClosingConfirmations extends Vue {\n  get closingConfirmations() {\n    return Object.fromEntries(\n      Object.entries(uiStore.closingConfirmations).filter(\n        ([, confirmation]) => {\n          return confirmation && confirmation.show;\n        }\n      )\n    );\n  }\n\n  markClosingConfirmationAs(\n    subject: ClosingConfirmationSubject,\n    chosenOption: ClosingConfirmationChosenOption\n  ) {\n    uiStore.chooseOptionForClosingConfirmation({ subject, chosenOption });\n  }\n\n  hideClosingConfirmation(subject: ClosingConfirmationSubject) {\n    uiStore.hideClosingConfirmation(subject);\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClosingConfirmations.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ClosingConfirmations.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ClosingConfirmations.vue?vue&type=template&id=f930a8ec&\"\nimport script from \"./ClosingConfirmations.vue?vue&type=script&lang=ts&\"\nexport * from \"./ClosingConfirmations.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dialog',{attrs:{\"value\":true,\"persistent\":\"\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" This post can't be edited directly. \")]},proxy:true},{key:\"text\",fn:function(){return [(_vm.templateName)?[_c('p',[_vm._v(\" This post is rendered with \"+_vm._s(_vm.templateIsFallback ? \"Breakdance's internal\" : \"the\")+\" \\\"\"),_c('em',[_vm._v(_vm._s(_vm.decodedTemplateName))]),_vm._v(\"\\\" template. \")])]:[_c('p',[_vm._v(\" This post is rendered with a \"+_vm._s(_vm.templateIsFallback ? \"Breakdance's internal\" : \"\")+\" template. \")])],(_vm.templateIsFallback)?_c('p',[_vm._v(\" Please create your own template. \")]):_c('p',[_vm._v(\" The template does not contain a \"),_c('em',[_vm._v(\"Template Content Area\")]),_vm._v(\" element. Therefore, the posts it applies to are not editable in Breakdance. \")])]},proxy:true},{key:\"actions\",fn:function(){return [(_vm.templateIsFallback && _vm.templatesPageUrl)?_c('v-btn',{attrs:{\"text\":\"\",\"href\":_vm.templatesPageUrl}},[_vm._v(\"Templates page\")]):(!_vm.templateIsFallback)?_c('v-btn',{attrs:{\"text\":\"\",\"href\":_vm.templateUrl}},[_vm._v(\"Edit Template\")]):_vm._e(),_c('v-btn',{attrs:{\"dark\":\"\",\"color\":\"blue\",\"href\":_vm.backToAdmin}},[_vm._v(\" Go back \")])]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { getDocumentUrlFromId } from \"@/lib/wordpress/load\";\nimport { configStore } from \"@/store/store-accessor\";\nimport Dialog from \"@/components/UI/Dialog.vue\";\n\n@Component({\n  components: { Dialog }\n})\nexport default class TemplateDialog extends Vue {\n  @Prop()\n  templateName!: string;\n\n  @Prop()\n  templateId!: number;\n\n  @Prop()\n  templateIsFallback!: boolean;\n\n  @Prop()\n  templatesPageUrl!: string;\n\n  get decodedTemplateName() {\n    const txt = document.createElement(\"textarea\");\n    txt.innerHTML = this.templateName;\n    return txt.value;\n  }\n\n  get templateUrl() {\n    return getDocumentUrlFromId(this.templateId);\n  }\n\n  get backToAdmin() {\n    if (configStore.documentSpecificNeededUrls) {\n      return configStore.documentSpecificNeededUrls.backToWordPressUrl ?? \"\";\n    }\n\n    return \"\";\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplateDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./TemplateDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./TemplateDialog.vue?vue&type=template&id=7619b44b&\"\nimport script from \"./TemplateDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./TemplateDialog.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dialog',{attrs:{\"value\":true,\"persistent\":\"\"},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Invalid post \")]},proxy:true},{key:\"text\",fn:function(){return [(_vm.invalidPostData.errorType === 'post_does_not_exist')?_c('div',[_vm._v(\" The requested post doesn't exist. It may have been deleted, or maybe you used an outdated URL. \")]):_vm._e(),(_vm.invalidPostData.errorType === 'post_is_in_trash')?_c('div',[_vm._v(\" You can't edit this item because it is in the Trash. Please restore it and try again. \")]):_vm._e(),(_vm.invalidPostData.errorType === 'post_type_is_banned')?_c('div',[(_vm.invalidPostData.postType)?[_vm._v(\" Posts with post type \"),_c('b',[_vm._v(\"\\\"\"+_vm._s(_vm.invalidPostData.postType)+\"\\\"\")]),_vm._v(\" can't be edited with Breakdance directly. Please use a \"),_c('b',[_vm._v(\"Breakdance Template\")]),_vm._v(\" instead. \")]:[_vm._v(\" The requested post can't be edited with Breakdance. \")]],2):_vm._e(),(_vm.invalidPostData.errorType === 'post_type_is_restricted')?_c('div',[_vm._v(\" You don't have enough permissions to edit \"),_c('b',[_vm._v(\"\\\"\"+_vm._s(_vm.invalidPostData.postType)+\"\\\"\")]),_vm._v(\" post type. \")]):_vm._e()]},proxy:true},{key:\"actions\",fn:function(){return [_c('v-btn',{attrs:{\"dark\":\"\",\"color\":\"blue\",\"href\":_vm.invalidPostData.backToAdminUrl}},[_vm._v(\" Back to WordPress admin \")])]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport Dialog from \"@/components/UI/Dialog.vue\";\nimport { configStore } from \"@/store/store-accessor\";\n\n@Component({\n  components: { Dialog }\n})\nexport default class InvalidPostDialog extends Vue {\n  get invalidPostData() {\n    return configStore.invalidPostData;\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InvalidPostDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./InvalidPostDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./InvalidPostDialog.vue?vue&type=template&id=1000f0d6&\"\nimport script from \"./InvalidPostDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./InvalidPostDialog.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport IframeCanvas from \"@/components/Canvas/IframeCanvas.vue\";\nimport BuilderTopBar from \"@/components/Builder/TopBar/BuilderTopBar.vue\";\nimport { configStore, uiStore } from \"@/store/store\";\nimport { registerGlobalShortcuts } from \"@/lib/keyboard-shortcuts/global-shortcuts\";\nimport PreferencesModal from \"@/components/Settings/Preferences/PreferencesModal.vue\";\nimport KeyboardShortcutsHelpModal from \"@/components/Help/KeyboardShortcutsHelpModal.vue\";\nimport ElementStudio from \"@/components/ElementStudio/ElementStudio.vue\";\nimport SidebarPanels from \"./SidebarPanels.vue\";\nimport ConfirmDialog from \"@/components/UI/ConfirmDialog.vue\";\nimport AppLayout from \"@/components/Reusable/AppLayout/AppLayout.vue\";\nimport ClosingConfirmations from \"@/components/Reusable/AppLayout/ClosingConfirmations.vue\";\nimport TemplateDialog from \"@/components/UI/TemplateDialog.vue\";\nimport InvalidPostDialog from \"@/components/UI/InvalidPostDialog.vue\";\nimport { registerClipboardShortcuts } from \"@/lib/copy-paste/copy-paste\";\nimport { loadBuilderElementsFromWordPress } from \"@/lib/wordpress/load\";\nimport DesignLibraryModal from \"@/components/Add/library/DesignLibraryModal.vue\";\n\n@Component({\n  components: {\n    DesignLibraryModal,\n    InvalidPostDialog,\n    TemplateDialog,\n    ClosingConfirmations,\n    IframeCanvas,\n    BuilderTopBar,\n    PreferencesModal,\n    ElementStudio,\n    KeyboardShortcutsHelpModal,\n    SidebarPanels,\n    ConfirmDialog,\n    AppLayout\n  }\n})\nexport default class BuilderLayout extends Vue {\n  mounted() {\n    if (!uiStore.hasFullAccess) return;\n    registerGlobalShortcuts().register();\n  }\n\n  beforeDestroy() {\n    registerGlobalShortcuts().unbind();\n    registerClipboardShortcuts().unbind();\n  }\n\n  get classList() {\n    return [`has-permission:${this.permission}`];\n  }\n\n  get preferencesModalOpen() {\n    return uiStore.panelState.preferencesModalOpen;\n  }\n\n  get elementStudioOpen() {\n    return uiStore.panelState.elementStudioOpen;\n  }\n\n  updatePreferencesModal(e: boolean) {\n    uiStore.setPreferencesModalOpen(e);\n  }\n\n  get keyboardShortcutsHelpModalOpen() {\n    return uiStore.panelState.keyboardShortcutsHelpModalOpen;\n  }\n\n  updateKeyboardShortcutsHelpModal(e: boolean) {\n    uiStore.setKeyboardShortcutHelpModalOpen(e);\n  }\n\n  get activeElementId() {\n    return uiStore.activeElementId;\n  }\n\n  get leftSidebarPanelState() {\n    return uiStore.panelState.leftSidebarPanel;\n  }\n  get rightSidebarPanelState() {\n    return uiStore.panelState.rightSidebarPanel;\n  }\n\n  get permission() {\n    return configStore.permission?.slug;\n  }\n\n  showTemplateDialog = false;\n  onIframeLoaded() {\n    // @ts-ignore\n    requestIdleCallback(() => {\n      loadBuilderElementsFromWordPress();\n    });\n\n    if (this.isRenderedWithTemplate && !this.containsTemplateContentArea) {\n      this.showTemplateDialog = true;\n    }\n\n    registerClipboardShortcuts().register();\n  }\n\n  get showInvalidPostDialog() {\n    return !!configStore.invalidPostData;\n  }\n\n  get isRenderedWithTemplate() {\n    return (\n      window.Breakdance?.canvas?.document?.querySelector(\n        \"[data-rendered-with-template]\"\n      ) !== null\n    );\n  }\n\n  getTemplateAttribute(attributeName: string) {\n    if (!this.isRenderedWithTemplate) {\n      return null;\n    }\n\n    const templateElement = window.Breakdance?.canvas?.document?.querySelector(\n      \"[data-rendered-with-template]\"\n    );\n\n    return templateElement?.getAttribute(attributeName);\n  }\n\n  get templateName() {\n    return this.getTemplateAttribute(\"data-template-name\") ?? \"\";\n  }\n\n  get templateId() {\n    const templateIdString = this.getTemplateAttribute(\"data-template-id\");\n\n    return templateIdString ? parseInt(templateIdString) : null;\n  }\n\n  get isTemplateFallback() {\n    return this.getTemplateAttribute(\"data-template-is-fallback\") === \"true\";\n  }\n\n  get templatesPageUrl() {\n    return this.getTemplateAttribute(\"data-template-page-url\");\n  }\n\n  get containsTemplateContentArea() {\n    return (\n      window.Breakdance?.canvas?.document?.querySelector(\n        \".bde-themeless-template-content-area\"\n      ) !== null\n    );\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuilderLayout.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuilderLayout.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BuilderLayout.vue?vue&type=template&id=55f8cc0c&\"\nimport script from \"./BuilderLayout.vue?vue&type=script&lang=ts&\"\nexport * from \"./BuilderLayout.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BuilderLayout.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"Unrecoverable Errors\")]),_vm._l((_vm.errors),function(error,i){return _c('div',{key:i,staticClass:\"unrecoverable-errors\"},[_vm._v(\" \"+_vm._s(error)+\" \")])})],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { uiStore } from \"@/store/store\";\n\n@Component\nexport default class Error extends Vue {\n  get errors() {\n    return uiStore.unrecoverableErrorMessages;\n  }\n}\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnrecoverableErrors.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UnrecoverableErrors.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UnrecoverableErrors.vue?vue&type=template&id=da74efa8&\"\nimport script from \"./UnrecoverableErrors.vue?vue&type=script&lang=ts&\"\nexport * from \"./UnrecoverableErrors.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./UnrecoverableErrors.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport BuilderLayout from \"@/components/Builder/BuilderLayout.vue\";\nimport Loading from \"@/components/Reusable/Loading.vue\";\nimport UnrecoverableErrors from \"@/components/UnrecoverableErrors.vue\";\nimport {\n  initializeAppWhenInitialModeIsBuilder,\n  loadDocumentFromWordPress\n} from \"@/lib/wordpress/load\";\nimport { documentStore, uiStore } from \"@/store/store\";\nimport { NO_DOCUMENT_ID } from \"@/store/util\";\nimport { DocumentMeta } from \"@/types/document\";\nimport { ClosingConfirmationChosenOption } from \"@/types/ui\";\nimport { saveToWordPressWithErrorsLoggedToUiStore } from \"@/lib/wordpress/save\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport { fold } from \"fp-ts/lib/Either\";\nimport { enableBrowseMode } from \"@/lib/browse-mode\";\n\n@Component({\n  components: {\n    BuilderLayout,\n    Loading,\n    UnrecoverableErrors\n  }\n})\nexport default class Builder extends Vue {\n  async beforeMount() {\n    if (window.Breakdance.initialMode === \"builder\") {\n      /* can we have some safety to ensure this shit only gets run once */\n      const maybeLoadedData = await loadDocumentFromWordPress(\n        window.Breakdance.initialDocumentToLoadId\n      );\n      initializeAppWhenInitialModeIsBuilder(maybeLoadedData);\n    }\n  }\n\n  get interfaceState() {\n    return uiStore.interfaceState;\n  }\n\n  get errorsPresent() {\n    return uiStore.unrecoverableErrorMessages.length;\n  }\n\n  get currentDocumentMetaId() {\n    return documentStore.document.documentMeta.id;\n  }\n\n  @Watch(\"currentDocumentMetaId\", { immediate: true })\n  handleCurrentDocumentChange(documentId: DocumentMeta[\"id\"]) {\n    const titleParts = [\"Breakdance\"];\n\n    if (documentId !== NO_DOCUMENT_ID) {\n      titleParts.push(documentStore.document.documentMeta.titleLabel);\n    }\n\n    window.document.title = titleParts.join(\" | \");\n  }\n\n  get unsavedChangesPresent(): boolean {\n    return uiStore.unsavedChangesPresent;\n  }\n\n  @Watch(\"unsavedChangesPresent\", { immediate: true })\n  handleUnsavedChangesPresentChange(unsavedChangesPresent: boolean) {\n    if (unsavedChangesPresent) {\n      this.requestClosingConfirmation();\n    } else {\n      this.removeClosingConfirmation();\n    }\n  }\n\n  requestClosingConfirmation() {\n    uiStore.requestClosingConfirmation({\n      subject: \"builder\",\n      confirmationDefinition: {\n        title: \"You must save your changes first\",\n        actionText: \"Save and continue\",\n        type: \"warning\",\n        hasCancel: true,\n        hasDiscard: false\n      }\n    });\n  }\n\n  removeClosingConfirmation() {\n    uiStore.noClosingConfirmationIsNeededFor(\"builder\");\n  }\n\n  get confirmationChosenOption(): ClosingConfirmationChosenOption | undefined {\n    return uiStore.closingConfirmations.builder?.chosenOption;\n  }\n\n  @Watch(\"confirmationChosenOption\", { immediate: true })\n  async handleConfirmationChosenOptionChange(\n    chosenOption: ClosingConfirmationChosenOption | undefined\n  ) {\n    if (chosenOption === \"discard\") {\n      this.removeClosingConfirmation();\n      enableBrowseMode();\n    } else if (chosenOption === \"save\") {\n      uiStore.setClosingConfirmationIsSaving({\n        subject: \"builder\",\n        isSaving: true\n      });\n      pipe(\n        await saveToWordPressWithErrorsLoggedToUiStore(),\n        fold(\n          () => {\n            uiStore.setClosingConfirmationIsSaving({\n              subject: \"builder\",\n              isSaving: false\n            });\n          },\n          () => {\n            this.removeClosingConfirmation();\n            enableBrowseMode();\n          }\n        )\n      );\n    }\n  }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Builder.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./Builder.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Builder.vue?vue&type=template&id=4368cde8&\"\nimport script from \"./Builder.vue?vue&type=script&lang=ts&\"\nexport * from \"./Builder.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.interfaceState === 'normal')?_c('AppLayout',{scopedSlots:_vm._u([{key:\"topbar\",fn:function(){return [_c('TopBar',[_c('TopBarSection',[_c('div',{staticClass:\"browse-mode-address-bar\"},[_c('h2',[_vm._v(\"Viewing Page\")]),_c('a',{staticClass:\"ellipsis-text breakdance-browse-mode__url-to-display\",attrs:{\"title\":_vm.iframeUrlToDisplay,\"href\":_vm.iframeUrlToDisplay,\"target\":\"_blank\"}},[_vm._v(\" \"+_vm._s(_vm.iframeUrlToDisplay)+\" \")])])]),_c('v-spacer'),_c('TopBarSection',{attrs:{\"border-left\":\"true\",\"border-right\":\"true\"}},[_c('BreakpointsSelection',{model:{value:(_vm.currentBreakpoint),callback:function ($$v) {_vm.currentBreakpoint=$$v},expression:\"currentBreakpoint\"}})],1),_c('v-spacer'),_c('UndoRedo'),_c('TopBarSection',{attrs:{\"border-left\":\"true\"}},[_c('Dropdown',{staticClass:\"open-settings-toolbar-button\",attrs:{\"offset-y\":\"\"},scopedSlots:_vm._u([{key:\"activator\",fn:function(ref){\nvar on = ref.on;\nreturn [_c('IconButton',_vm._g({attrs:{\"active\":_vm.isAnyBrowseModeSupportedPanelOpen,\"size\":\"18\",\"icon\":\"EllipsisStrokeIcon\"}},on))]}}],null,false,2694485179)},[_c('v-list',[_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.toggleGlobalSettingsPanel}},[_c('v-list-item-title',[_vm._v(\" Global Settings \")])],1),_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.toggleSelectorsPanel}},[_c('v-list-item-title',[_vm._v(\" Selectors \")])],1),_c('v-list-item',{attrs:{\"dense\":\"\"},on:{\"click\":_vm.toggleHistoryAndRevisionsPanel}},[_c('v-list-item-title',[_vm._v(\" History \")])],1)],1)],1)],1),_c('TopBarSection',{attrs:{\"borderLeft\":true}},[_c('BrowseModeSave')],1),_c('TopBarSection',{attrs:{\"border-left\":\"true\"}},[_c('IconButton',{attrs:{\"icon\":\"ArrowLeftIcon\",\"size\":\"18\"},on:{\"click\":_vm.exitBrowseMode}})],1)],1)]},proxy:true},{key:\"body\",fn:function(){return [_c('ClosingConfirmations'),_c('BrowseModeSidebarPanels',{attrs:{\"panel-state\":_vm.leftSidebarPanelState,\"position\":\"left\"}}),_c('IframeWrapper',{attrs:{\"iframe-state\":_vm.iframeState,\"iframe-url\":_vm.iframeUrl,\"iframe-preview-width\":_vm.iframePreviewWidth,\"current-breakpoint\":_vm.currentBreakpoint,\"iframe-exited\":false,\"iframe-id\":_vm.iframeID,\"min-width\":_vm.iframeMinWidth},on:{\"iframeLoaded\":_vm.handleIframeLoaded,\"previewWidthChange\":_vm.handlePreviewWidthChange,\"previewWidthChangeWithAdjustmentBar\":_vm.handlePreviewWidthChangeWithAdjustmentBar,\"resetPreviewWidth\":_vm.handleResetPreviewWidth}}),_c('BrowseModeSidebarPanels',{attrs:{\"panel-state\":_vm.rightSidebarPanelState,\"position\":\"right\"}})]},proxy:true}],null,false,1648310707)}):(_vm.interfaceState === 'loading')?_c('Loading'):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('AppLayoutBodyPanelArea',{attrs:{\"panel-state\":_vm.panelState,\"position\":_vm.position}},[(_vm.panelState === 'globalSettings')?_c('GlobalSettingsPanel'):_vm._e(),(_vm.panelState === 'selectors')?_c('SelectorsPanel'):_vm._e(),(_vm.panelState === 'history')?_c('HistoryAndRevisionsPanel',{attrs:{\"disable-revisions\":true}}):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { PanelPosition } from \"@/types/ui\";\nimport AppLayoutBodyPanelArea from \"@/components/Reusable/AppLayout/AppLayoutBodyPanelArea.vue\";\nimport GlobalSettingsPanel from \"@/components/Settings/DocumentOrGlobalSettings/GlobalSettingsPanel.vue\";\nimport SelectorsPanel from \"@/components/Settings/Selectors/SelectorsPanel.vue\";\nimport HistoryAndRevisionsPanel from \"@/components/HistoryAndRevisions/HistoryAndRevisionsPanel.vue\";\nimport { BrowseModeSupportedUIPanels } from \"@/lib/browse-mode\";\n\n@Component({\n  components: {\n    HistoryAndRevisionsPanel,\n    AppLayoutBodyPanelArea,\n    GlobalSettingsPanel,\n    SelectorsPanel\n  }\n})\nexport default class BrowseModeSidebarPanels extends Vue {\n  @Prop()\n  position!: PanelPosition;\n\n  @Prop()\n  panelState!: BrowseModeSupportedUIPanels | \"closed\";\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BrowseModeSidebarPanels.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BrowseModeSidebarPanels.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BrowseModeSidebarPanels.vue?vue&type=template&id=5a65fb42&\"\nimport script from \"./BrowseModeSidebarPanels.vue?vue&type=script&lang=ts&\"\nexport * from \"./BrowseModeSidebarPanels.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('StandardButton',{staticStyle:{\"margin-left\":\"3px\",\"margin-right\":\"3px\"},attrs:{\"loading\":_vm.saveInProgress,\"minWidth\":\"80\"},on:{\"click\":_vm.save}},[_vm._v(\" Save \")])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { uiStore } from \"@/store/store\";\nimport { keyboardShortcuts } from \"@/lib/keyboard-shortcuts/keyboard-shortcuts\";\nimport { KEYBOARD_SHORTCUTS } from \"@/lib/keyboard-shortcuts/global-shortcuts\";\nimport StandardButton from \"@/components/UI/StandardButton.vue\";\nimport { saveGlobalSettingsToWordPress } from \"@/lib/global-settings/global-settings\";\nimport { saveSelectorsToWordPress } from \"@/lib/selectors/selectors\";\n\n@Component({\n  components: {\n    StandardButton\n  }\n})\nexport default class BrowseModeSave extends Vue {\n  saveInProgress = false;\n\n  get unsavedChangesPresent() {\n    return uiStore.unsavedChangesPresent;\n  }\n\n  async save() {\n    this.saveInProgress = true;\n\n    await saveGlobalSettingsToWordPress();\n    await saveSelectorsToWordPress();\n\n    this.saveInProgress = false;\n  }\n\n  mounted() {\n    keyboardShortcuts.register(KEYBOARD_SHORTCUTS.CMD_S, this.save);\n  }\n\n  beforeDestroy() {\n    keyboardShortcuts.unbind(KEYBOARD_SHORTCUTS.CMD_S);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BrowseModeSave.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BrowseModeSave.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BrowseModeSave.vue?vue&type=template&id=291b40a2&\"\nimport script from \"./BrowseModeSave.vue?vue&type=script&lang=ts&\"\nexport * from \"./BrowseModeSave.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport { browseModeStore, globalStore, uiStore } from \"@/store/store\";\nimport AppLayout from \"@/components/Reusable/AppLayout/AppLayout.vue\";\nimport TopBar from \"@/components/Reusable/AppLayout/TopBar/TopBar.vue\";\nimport AppLayoutBodyPanelArea from \"@/components/Reusable/AppLayout/AppLayoutBodyPanelArea.vue\";\nimport TopBarSection from \"@/components/Reusable/AppLayout/TopBar/TopBarSection.vue\";\nimport IframeWrapper from \"@/components/Reusable/Iframe/IframeWrapper.vue\";\nimport { CanvasPreviewWidth } from \"@/types/ui\";\nimport IconButton from \"@/components/UI/IconButton.vue\";\nimport StandardButton from \"@/components/UI/StandardButton.vue\";\nimport Icon from \"@/components/UI/Icon.vue\";\nimport {\n  disableBrowseMode,\n  handleBrowseModeIframeLoaded,\n  updateBrowseModePageTitle\n} from \"@/lib/browse-mode\";\nimport BreakpointsSelection from \"@/components/Builder/TopBar/BreakpointsSelection.vue\";\nimport {\n  handleGlobalSelectorsChanged,\n  handleGlobalSettingsChanged\n} from \"@/lib/canvas/reacting-to-global-store-changes\";\nimport BrowseModeSidebarPanels from \"@/components/BrowseMode/BrowseModeSidebarPanels.vue\";\nimport { isUiPanelOpen, openUiPanel, toggleUiPanel } from \"@/lib/panels/panels\";\nimport ClosingConfirmations from \"@/components/Reusable/AppLayout/ClosingConfirmations.vue\";\nimport { getMinimumWidth } from \"@/lib/breakpoints/breakpoints\";\nimport {\n  removeChangesNotSavedWarning,\n  warnIfExitingWithUnsavedChanges\n} from \"@/util/warn-unsaved-changes\";\nimport Dropdown from \"@/components/Reusable/Dropdown/Dropdown.vue\";\nimport BrowseModeSave from \"@/components/BrowseMode/BrowseModeSave.vue\";\nimport UndoRedo from \"@/components/Builder/TopBar/UndoRedo.vue\";\nimport {\n  initializeAppWhenInitialModeIsBrowse,\n  loadConfigFromWordPress\n} from \"@/lib/wordpress/load\";\nimport Loading from \"@/components/Reusable/Loading.vue\";\nimport { Breakpoint } from \"@/types/breakpoints\";\n\n@Component({\n  components: {\n    UndoRedo,\n    BrowseModeSave,\n    BrowseModeSidebarPanels,\n    BreakpointsSelection,\n    Icon,\n    StandardButton,\n    IframeWrapper,\n    TopBarSection,\n    AppLayoutBodyPanelArea,\n    TopBar,\n    AppLayout,\n    IconButton,\n    ClosingConfirmations,\n    Dropdown,\n    Loading\n  }\n})\nexport default class BrowseMode extends Vue {\n  readonly iframeID = \"breakdance-browser-iframe\";\n\n  iframeDocument: Document | null = null;\n  warnIfUnsavedFunction!: (e: Event) => void;\n\n  async beforeMount() {\n    if (window.Breakdance.initialMode === \"browse\") {\n      const maybeLoadedData = await loadConfigFromWordPress();\n      initializeAppWhenInitialModeIsBrowse(maybeLoadedData, {\n        returnUrl: window.Breakdance.returnUrl,\n        browseModeOpenUrl: window.Breakdance.browseModeOpenUrl\n      });\n    }\n  }\n\n  get interfaceState() {\n    return uiStore.interfaceState;\n  }\n\n  mounted() {\n    this.warnIfUnsavedFunction = warnIfExitingWithUnsavedChanges(\n      () =>\n        globalStore.settingsHasUnsavedChangesPresent ||\n        globalStore.selectorsHasUnsavedChangesPresent\n    );\n  }\n\n  beforeDestroy() {\n    removeChangesNotSavedWarning(this.warnIfUnsavedFunction);\n  }\n\n  handleIframeLoaded(iframe: HTMLIFrameElement | null) {\n    if (iframe) {\n      this.iframeDocument = handleBrowseModeIframeLoaded(iframe);\n    } else {\n      this.iframeDocument = null;\n      throw \"Unable to proceed  iframe element is missing\";\n    }\n  }\n\n  handlePreviewWidthChange(previewWidth: CanvasPreviewWidth) {\n    uiStore.changePreviewWidthMutation(previewWidth);\n  }\n\n  handlePreviewWidthChangeWithAdjustmentBar(previewWidthInPx: number) {\n    uiStore.changePreviewWidthWithAdjustmentBar(previewWidthInPx);\n  }\n\n  handleResetPreviewWidth() {\n    uiStore.selectBaseBreakpoint();\n  }\n\n  get iframeUrl(): string | null {\n    return browseModeStore.iframeUrl;\n  }\n\n  get iframeState() {\n    return browseModeStore.iframeState;\n  }\n\n  get iframeDocumentTitleToDisplay() {\n    return browseModeStore.iframeDocumentTitleToDisplay;\n  }\n\n  get iframeUrlToDisplay() {\n    return browseModeStore.iframeUrlToDisplay;\n  }\n\n  get iframePreviewWidth() {\n    return uiStore.canvasPreviewWidth;\n  }\n\n  get iframeMinWidth() {\n    return getMinimumWidth(globalStore);\n  }\n\n  get leftSidebarPanelState() {\n    return uiStore.panelState.leftSidebarPanel;\n  }\n\n  get rightSidebarPanelState() {\n    return uiStore.panelState.rightSidebarPanel;\n  }\n\n  get globalSettings() {\n    return globalStore.globalSettings;\n  }\n\n  get selectors() {\n    return globalStore.cssSelectors;\n  }\n\n  get isAnyBrowseModeSupportedPanelOpen() {\n    return (\n      isUiPanelOpen(\"globalSettings\") ||\n      isUiPanelOpen(\"selectors\") ||\n      isUiPanelOpen(\"history\")\n    );\n  }\n\n  get currentBreakpoint() {\n    return uiStore.currentBreakpoint;\n  }\n\n  set currentBreakpoint(breakpoint: Breakpoint) {\n    uiStore.changeBreakpoint(breakpoint);\n  }\n\n  exitBrowseMode() {\n    disableBrowseMode();\n  }\n\n  toggleGlobalSettingsPanel() {\n    toggleUiPanel(\"globalSettings\");\n  }\n\n  toggleSelectorsPanel() {\n    toggleUiPanel(\"selectors\");\n  }\n\n  toggleHistoryAndRevisionsPanel() {\n    openUiPanel(\"history\");\n  }\n\n  @Watch(\"iframeDocumentTitleToDisplay\", { immediate: true })\n  handleCurrentDocumentChange() {\n    updateBrowseModePageTitle();\n  }\n\n  @Watch(\"globalSettings\", { deep: true, immediate: true })\n  onGlobalSettingsChanged() {\n    if (this.iframeDocument) {\n      handleGlobalSettingsChanged(this.iframeDocument);\n    }\n  }\n\n  @Watch(\"selectors\", { deep: true, immediate: true })\n  onSelectorsChanged() {\n    if (this.iframeDocument) {\n      handleGlobalSelectorsChanged(this.iframeDocument);\n    }\n  }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./BrowseMode.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./BrowseMode.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./BrowseMode.vue?vue&type=template&id=0d19cc1a&\"\nimport script from \"./BrowseMode.vue?vue&type=script&lang=ts&\"\nexport * from \"./BrowseMode.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./BrowseMode.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VList } from 'vuetify/lib/components/VList';\nimport { VListItem } from 'vuetify/lib/components/VList';\nimport { VListItemTitle } from 'vuetify/lib/components/VList';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VList,VListItem,VListItemTitle,VSpacer})\n","\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport \"@/sass/globals.scss\";\n\nimport Vue from \"vue\";\nimport { Component, Watch } from \"vue-property-decorator\";\nimport { uiStore } from \"@/store/store\";\nimport Notifications from \"@/components/Notifications/Notifications.vue\";\nimport Builder from \"@/Builder.vue\";\nimport BrowseMode from \"@/BrowseMode.vue\";\n\n@Component({\n  components: {\n    BrowseMode,\n    Builder,\n    Notifications\n  }\n})\nexport default class App extends Vue {\n  beforeMount() {\n    uiStore.setMode(window.Breakdance.initialMode);\n  }\n\n  get isBrowseModeEnabled() {\n    return uiStore.mode === \"browse\";\n  }\n\n  get useDarkMode() {\n    return (\n      // uiStore reference is probably necessary to make Vue re-run the watcher\n      uiStore.settings.theme === \"dark\"\n    );\n  }\n\n  get classList() {\n    return { \"breakdance-dark-mode\": this.useDarkMode };\n  }\n\n  @Watch(\"useDarkMode\", {\n    immediate: true\n  })\n  darkModeWatcher(useDarkMode: boolean) {\n    // @ts-ignore\n    this.$vuetify.theme.dark = useDarkMode;\n  }\n}\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=096e0803&\"\nimport script from \"./App.vue?vue&type=script&lang=ts&\"\nexport * from \"./App.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./App.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VApp } from 'vuetify/lib/components/VApp';\ninstallComponents(component, {VApp})\n","import \"requestidlecallback-polyfill\";\nimport Vue from \"vue\";\nimport App from \"./App.vue\";\nimport store from \"./store/store\";\nimport vuetify from \"./plugins/vuetify\";\n\nimport AsyncComputedPlugin from \"vue-async-computed\";\nimport permission from \"@/lib/permissions/directive\";\n\nVue.config.productionTip = false;\n// Otherwise we get \"unknown element\" errors in the builder, since Vue thinks they're Vue components\nVue.config.ignoredElements = [\"lite-vimeo\", \"lite-youtube\"];\n\nVue.use(AsyncComputedPlugin);\nVue.directive(\"permission\", permission);\n\nnew Vue({\n  store,\n  // @ts-ignore\n  vuetify,\n  render: h => h(App)\n}).$mount(\"#app\");\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RevisionItem.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RevisionItem.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioAction.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioAction.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementsList.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementsList.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('Dialog',{attrs:{\"value\":true},on:{\"close\":function($event){return _vm.$emit('close')},\"click:outside\":function($event){return _vm.$emit('close')},\"keydown\":function($event){if(!$event.type.indexOf('key')&&_vm._k($event.keyCode,\"esc\",27,$event.key,[\"Esc\",\"Escape\"])){ return null; }return _vm.$emit('close')}},scopedSlots:_vm._u([{key:\"title\",fn:function(){return [_vm._v(\" Save as Global Block \")]},proxy:true},{key:\"text\",fn:function(){return [_c('TextInput',{attrs:{\"size\":\"md\",\"placeholder\":\"Global Block\"},model:{value:(_vm.globalBlockName),callback:function ($$v) {_vm.globalBlockName=$$v},expression:\"globalBlockName\"}})]},proxy:true},{key:\"actions\",fn:function(){return [_c('v-btn',{attrs:{\"text\":\"\"},on:{\"click\":function($event){return _vm.$emit('close')}}},[_vm._v(\" Cancel \")]),_c('v-btn',{attrs:{\"color\":\"blue\",\"dark\":\"\",\"disabled\":!_vm.globalBlockName},on:{\"click\":_vm.saveAsGlobalBlock}},[_vm._v(\" Save \")])]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { convertToGlobalBlock } from \"@/lib/global-blocks/global-blocks\";\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport Dialog from \"@/components/UI/Dialog.vue\";\nimport TextInput from \"@/components/Reusable/CustomInputs/TextInput.vue\";\n\n@Component({ components: { Dialog, TextInput } })\nexport default class GlobalBlockDialog extends Vue {\n  @Prop({ required: true })\n  elementId!: number;\n\n  globalBlockName: string | null = \"\";\n\n  async saveAsGlobalBlock(e: Event) {\n    e.preventDefault();\n\n    if (!this.globalBlockName) return;\n\n    if (this.elementId) {\n      await convertToGlobalBlock(this.elementId, this.globalBlockName);\n    }\n\n    this.globalBlockName = \"\";\n    this.$emit(\"close\");\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalBlockDialog.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./GlobalBlockDialog.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./GlobalBlockDialog.vue?vue&type=template&id=4dd535c1&\"\nimport script from \"./GlobalBlockDialog.vue?vue&type=script&lang=ts&\"\nexport * from \"./GlobalBlockDialog.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\ninstallComponents(component, {VBtn})\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h3',{staticClass:\"mb-1\"},[_vm._v(\"Default Properties\")]),_c('v-btn',{staticClass:\"mr-2\",attrs:{\"small\":\"\",\"text\":\"\",\"disabled\":!_vm.canImport,\"outlined\":\"\"},on:{\"click\":_vm.importDefaultProperties}},[_vm._v(\"import\")]),(_vm.value)?_c('v-btn',{attrs:{\"color\":\"red darken-1\",\"text\":\"\",\"small\":\"\",\"outlined\":\"\"},on:{\"click\":_vm.clearDefaultProperties}},[_vm._v(\"clear\")]):_vm._e(),_c('div',{staticClass:\"element-studio-default-properties-instructions\"},[_vm._v(\" Click IMPORT to set the default properties to the properties of the currently active element. Active element must be a \"),_c('b',[_vm._v(_vm._s(_vm.elementSlug))]),_vm._v(\". \")]),_c('h5',[_vm._v(\"Current Default Properties\")]),_c('pre',{staticClass:\"element-studio-default-properties-preview\"},[_vm._v(_vm._s(_vm.value))]),_c('v-dialog',{attrs:{\"max-width\":\"500\"},model:{value:(_vm.dialogOpen),callback:function ($$v) {_vm.dialogOpen=$$v},expression:\"dialogOpen\"}},[_c('v-card',[_c('v-card-title',{staticClass:\"headline\"},[_vm._v(\" Set Default Properties \")]),_c('v-card-text',[_vm._v(\" Set default properties for \"+_vm._s(_vm.elementSlug)+\" to:\"),_c('br'),_c('br'),_vm._v(\" \"+_vm._s(_vm.defaultProperties)+\" \")]),_c('v-card-actions',[_c('v-btn',{attrs:{\"color\":\"red darken-1\",\"text\":\"\"},on:{\"click\":_vm.cancel}},[_vm._v(\" cancel \")]),_c('v-spacer'),_c('v-btn',{attrs:{\"color\":\"blue darken-1\",\"text\":\"\"},on:{\"click\":_vm.confirmDefaultProperties}},[_vm._v(\" confirm \")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component, Prop } from \"vue-property-decorator\";\nimport { uiStore } from \"@/store/store\";\nimport defensiveCopy from \"@/util/defensive-copy\";\n\n@Component({\n  components: {}\n})\nexport default class ElementStudioDefaultProperties extends Vue {\n  @Prop()\n  value!: unknown | false; // BuilderElementDefaultPropertiesV is unknown\n\n  @Prop()\n  elementSlug!: string;\n\n  dialogOpen = false;\n\n  defaultProperties = this.value;\n\n  get canImport() {\n    if (!uiStore.activeElement) return false;\n    return uiStore.activeElement.data.type === this.elementSlug;\n  }\n\n  cancel() {\n    this.dialogOpen = false;\n  }\n\n  importDefaultProperties() {\n    if (!uiStore.activeElement) return;\n    if (uiStore.activeElement.data.type !== this.elementSlug) return;\n\n    const defaultProperties = defensiveCopy(\n      uiStore.activeElement.data.properties\n    );\n\n    if (defaultProperties) {\n      if (\"settings\" in defaultProperties) {\n        delete defaultProperties.settings;\n      }\n\n      if (\"meta\" in defaultProperties) {\n        delete defaultProperties.meta;\n      }\n    }\n\n    this.defaultProperties = defaultProperties;\n\n    this.dialogOpen = true;\n  }\n\n  confirmDefaultProperties() {\n    this.dialogOpen = false;\n    this.$emit(\"input\", this.defaultProperties);\n  }\n\n  clearDefaultProperties() {\n    if (confirm(\"are you sure?\")) {\n      this.$emit(\"input\", false);\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDefaultProperties.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDefaultProperties.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ElementStudioDefaultProperties.vue?vue&type=template&id=1ac94d7a&\"\nimport script from \"./ElementStudioDefaultProperties.vue?vue&type=script&lang=ts&\"\nexport * from \"./ElementStudioDefaultProperties.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./ElementStudioDefaultProperties.vue?vue&type=style&index=0&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports\n\n/* vuetify-loader */\nimport installComponents from \"!../../../node_modules/vuetify-loader/lib/runtime/installComponents.js\"\nimport { VBtn } from 'vuetify/lib/components/VBtn';\nimport { VCard } from 'vuetify/lib/components/VCard';\nimport { VCardActions } from 'vuetify/lib/components/VCard';\nimport { VCardText } from 'vuetify/lib/components/VCard';\nimport { VCardTitle } from 'vuetify/lib/components/VCard';\nimport { VDialog } from 'vuetify/lib/components/VDialog';\nimport { VSpacer } from 'vuetify/lib/components/VGrid';\ninstallComponents(component, {VBtn,VCard,VCardActions,VCardText,VCardTitle,VDialog,VSpacer})\n","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDropdownOptions.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioDropdownOptions.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StandardButton.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./StandardButton.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FontFamily.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FontFamily.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmptyStatePreferences.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./EmptyStatePreferences.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelHeaderButton.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PanelHeaderButton.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuilderTopBar.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./BuilderTopBar.vue?vue&type=style&index=0&lang=css&\"","import { Control, ControlType } from \"./controls\";\nimport { PropertiesData, TreeNodeV } from \"./tree\";\nimport * as t from \"io-ts\";\nimport { GlobalColorsV } from \"@/types/colors\";\nimport { TypographyPresetV } from \"@/types/typography\";\n\n// Builder\nexport type ClipboardStatus = {\n  secure: boolean;\n  permission: PermissionStatus;\n};\n\nexport const ClipboardDataV = t.type({\n  source: t.string,\n  colors: GlobalColorsV,\n  presets: t.array(TypographyPresetV),\n  element: TreeNodeV\n});\n\nexport type ClipboardData = t.TypeOf<typeof ClipboardDataV>;\n\n// Element Studio\nexport type CopiedControl = {\n  value: unknown;\n  type: ControlType;\n};\n\nexport type CopiedElementDesignAndSettings = {\n  design: PropertiesData;\n  settings: PropertiesData;\n  elementTypeSlug: string;\n};\n\ntype ElementStudioClipboard = {\n  copiedControl: false | Control;\n};\n\nexport type Clipboard = {\n  copiedControlData: false | CopiedControl;\n  copiedElementDesignAndSettings: false | CopiedElementDesignAndSettings;\n  elementStudio: false | ElementStudioClipboard;\n};\n","import lodash from \"lodash\";\nimport { Control, ControlType } from \"@/types/controls\";\nimport { BuilderElement } from \"@/types/elements\";\nimport { GlobalColor } from \"@/types/colors\";\nimport { extractVariableName } from \"@/lib/colors/colors\";\nimport { configStore, globalStore } from \"@/store/store-accessor\";\nimport { TreeNode } from \"@/types/tree\";\nimport { ClipboardData } from \"@/types/copy-paste\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport { TypographyPreset } from \"@/types/typography\";\n\nfunction getPathsByType(type: ControlType, element: BuilderElement) {\n  const addPathToAccumulator = (\n    control: Control,\n    parentPath: string,\n    acc: string[]\n  ) => {\n    const curPath = `${parentPath}.${control.slug}`;\n\n    if (type === control.options.type) {\n      acc.push(curPath);\n    }\n\n    control.children.forEach(control => {\n      acc = addPathToAccumulator(control, curPath, acc);\n    });\n\n    return acc;\n  };\n\n  const paths: string[] = [];\n\n  element.controls.contentSections.forEach(control => {\n    paths.concat(addPathToAccumulator(control, \"content\", paths));\n  });\n\n  element.controls.designSections.forEach(control => {\n    paths.concat(addPathToAccumulator(control, \"design\", paths));\n  });\n\n  return paths;\n}\n\nfunction moveExternalSiteGlobalsIntoElement(\n  node: TreeNode,\n  copiedPresets: TypographyPreset[],\n  copiedColors: GlobalColor[]\n) {\n  const element = defensiveCopy(node);\n  const builderElement = configStore.element(element.data.type);\n\n  /*\n   * Typography Presets\n   */\n  const typographyPresets = getPathsByType(\"typography\", builderElement);\n\n  typographyPresets.forEach(path => {\n    const presetId = lodash.get(element.data.properties, `${path}.preset`);\n\n    if (!presetId) return;\n\n    const foundCopiedPreset = maybeImportTypographyPresetFromClipboard(\n      copiedPresets,\n      presetId\n    );\n\n    if (foundCopiedPreset) {\n      lodash.set(element.data.properties, path, {\n        custom: foundCopiedPreset.custom\n      });\n    }\n  });\n\n  /*\n   * Colors\n   */\n  const colorPaths = getPathsByType(\"color\", builderElement);\n\n  const maybeUpdateColor = (path: string, color: string) => {\n    const foundCopiedColor = maybeImportColorFromClipboard(copiedColors, color);\n\n    if (foundCopiedColor) {\n      lodash.set(element.data.properties, path, foundCopiedColor.value);\n    }\n  };\n\n  colorPaths.forEach(path => {\n    const color = lodash.get(element.data.properties, path);\n\n    if (!color) return;\n\n    if (lodash.isObject(color)) {\n      // Breakpoint values\n      for (const property in color) {\n        // @ts-ignore\n        maybeUpdateColor(`${path}.${property}`, color[property]);\n      }\n    } else {\n      maybeUpdateColor(path, color);\n    }\n  });\n\n  return element;\n}\n\nexport function importClipboardMetadataToElement(\n  clipboardData: ClipboardData\n): TreeNode {\n  const recursiveImport = (element: TreeNode): TreeNode => {\n    const newElement = moveExternalSiteGlobalsIntoElement(\n      element,\n      clipboardData.presets,\n      clipboardData.colors\n    );\n\n    const children = element.children.map(recursiveImport);\n\n    return {\n      ...newElement,\n      children\n    };\n  };\n\n  return recursiveImport(clipboardData.element);\n}\n\nexport function exportClipboardMetadataFromElement(\n  element: TreeNode\n): ClipboardData {\n  // const recursiveExport = (\n  //   element: TreeNode\n  // ): { colors: GlobalColor[]; presets: TypographyPreset[] } => {\n  //   const colors = extractGlobalColorsFromElement(element);\n  //   const presets = extractTypographyPresetsFromElement(element);\n\n  //   const children = element.children.map(recursiveExport).reduce(\n  //     (a, b) => {\n  //       return {\n  //         colors: [...a.colors, ...b.colors],\n  //         presets: [...a.presets, ...b.presets]\n  //       };\n  //     },\n  //     { colors: [], presets: [] }\n  //   );\n\n  //   return {\n  //     colors: [...colors, ...children.colors],\n  //     presets: [...presets, ...children.presets]\n  //   };\n  // };\n\n  const source = location.hostname;\n  // const { colors, presets } = recursiveExport(element);\n\n  return {\n    source,\n    element,\n    colors: [], //arrayUniqueByKey<GlobalColor>(colors, \"cssVariableName\"),\n    presets: [] //arrayUniqueByKey<TypographyPreset>(presets, \"preset.id\")\n  };\n}\n\n// Typography\n\nconst maybeImportTypographyPresetFromClipboard = (\n  copiedPresets: TypographyPreset[],\n  presetIdToCopy: string\n) => {\n  if (isPresetInGlobalPresets(presetIdToCopy)) return;\n  return copiedPresets.find(t => t.preset.id === presetIdToCopy);\n};\n\nexport function extractTypographyPresetsFromElement(element: TreeNode) {\n  const builderElement = configStore.element(element.data.type);\n\n  return getPathsByType(\"typography\", builderElement)\n    .map(path => {\n      return lodash.get(element.data.properties, `${path}.preset`);\n    })\n    .filter(path => !!path)\n    .map(isPresetInGlobalPresets)\n    .filter(isGlobalPreset);\n}\n\nfunction isPresetInGlobalPresets(presetId: string) {\n  return globalStore.typographyPresets?.find(x => x.preset.id === presetId);\n}\n\nfunction isGlobalPreset(preset?: TypographyPreset): preset is TypographyPreset {\n  return preset !== undefined;\n}\n\n// Colors\n\nfunction maybeImportColorFromClipboard(\n  copiedColors: GlobalColor[],\n  color: string\n) {\n  if (!isCssVar(color) || (isCssVar(color) && isColorInGlobalColors(color))) {\n    return;\n  }\n\n  const cssVar = extractVariableName(color);\n  return copiedColors.find(c => c.cssVariableName === cssVar);\n}\n\nexport function extractGlobalColorsFromElement(element: TreeNode) {\n  const builderElement = configStore.element(element.data.type);\n\n  return getPathsByType(\"color\", builderElement)\n    .map(path => lodash.get(element.data.properties, path))\n    .filter(color => !!color)\n    .map(maybeMapColorsObjectToArray)\n    .flat()\n    .filter(onlyUnique)\n    .filter(isCssVar)\n    .map(extractVariableName)\n    .map(maybeGetGlobalColorByName)\n    .filter(isGlobalColor);\n}\n\nfunction isCssVar(color: unknown) {\n  return typeof color === \"string\" && color.startsWith(\"var(\");\n}\n\nfunction isColorInGlobalColors(color: string) {\n  const name = extractVariableName(color);\n  return globalStore.globalColors.find(x => x.cssVariableName === name);\n}\n\nfunction maybeMapColorsObjectToArray(\n  maybeObject: Record<string, string> | string\n): string | string[] {\n  return lodash.isObject(maybeObject)\n    ? Object.values(maybeObject)\n    : maybeObject;\n}\n\nfunction isGlobalColor(color?: GlobalColor): color is GlobalColor {\n  return color !== undefined;\n}\n\nfunction maybeGetGlobalColorByName(color: string | null) {\n  return globalStore.globalColors.find(x => x.cssVariableName === color);\n}\n\nfunction onlyUnique(value: unknown, index: number, self: unknown[]) {\n  return self.indexOf(value) === index;\n}\n\n// function arrayUniqueByKey<T>(array: Array<T>, key: string) {\n//   return [\n//     ...new Map(array.map(item => [lodash.get(item, key), item])).values()\n//   ];\n// }\n","import { exportNode, findNode } from \"@/lib/tree/tree\";\nimport { documentStore, uiStore } from \"@/store/store\";\nimport { TreeNode } from \"@/types/tree\";\nimport { fold, isRight } from \"fp-ts/lib/Either\";\nimport { pipe } from \"fp-ts/lib/function\";\nimport {\n  findPlaceToAddNodes,\n  getDefaultTopLevelElementSlug,\n  getNestingRuleFromNode\n} from \"@/lib/tree/nesting\";\nimport { breakdanceUndo } from \"@/lib/undo/undo\";\nimport lodash from \"lodash\";\nimport defensiveCopy from \"@/util/defensive-copy\";\nimport fpJsonParseTypesafe from \"@/util/fp-json-parse-typesafe\";\nimport { fpJsonStringify } from \"@/util/fp-json-stringify\";\nimport { getBuilderElementNameBySlug } from \"@/lib/undo/snapshot-labels/document-store-property-change.utils\";\nimport { breakdanceStoreActions } from \"@/store/actions/store-actions\";\nimport { v4 as uuidV4 } from \"uuid\";\nimport { EasyEvent } from \"@/util/easy-event\";\nimport {\n  documentHasSelection,\n  fallbackWriteToClipboard,\n  getClipboardStatus\n} from \"@/lib/copy-paste/utils\";\nimport { readFromLocalStorage, writeToLocalStorage } from \"@/util/localstorage\";\nimport { ClipboardDataV } from \"@/types/copy-paste\";\nimport {\n  exportClipboardMetadataFromElement,\n  importClipboardMetadataToElement\n} from \"@/lib/copy-paste/element\";\n\nconst clipboardEvents = new EasyEvent();\n\nexport function registerClipboardShortcuts() {\n  return {\n    register() {\n      clipboardEvents.on(\"copy\", onNativeEventReceived);\n      clipboardEvents.on(\"cut\", onNativeEventReceived);\n      clipboardEvents.on(\"paste\", onNativeEventReceived);\n    },\n    unbind() {\n      clipboardEvents.removeAll();\n    }\n  };\n}\n\nfunction onNativeEventReceived(event: ClipboardEvent) {\n  const iframeDoc = window.Breakdance.canvas.document;\n  const hasSelection =\n    documentHasSelection(iframeDoc) || documentHasSelection(document);\n\n  if (hasSelection) return;\n\n  event.preventDefault();\n\n  if (event.type === \"copy\" && uiStore.activeElementId) {\n    copyElement(uiStore.activeElementId);\n  } else if (event.type === \"cut\" && uiStore.activeElementId) {\n    cutElement(uiStore.activeElementId);\n  } else if (event.type === \"paste\") {\n    pasteElement(uiStore.activeElementId, event);\n  }\n}\n\nasync function determinePastingMethod(event?: ClipboardEvent) {\n  const { secure, permission } = await getClipboardStatus();\n\n  // @ts-ignore\n  if (event && !window.safari) return \"event\"; // Safari behaves strangely on non-ssl websites.\n  if (!secure) return \"localstorage\";\n  if (permission.state === \"denied\") return \"localstorage\";\n\n  return \"clipboard\";\n}\n\nasync function writeToClipboard(text: string) {\n  try {\n    await navigator.clipboard.writeText(text);\n    console.debug(\"Writing to clipboard\");\n  } catch (err) {\n    fallbackWriteToClipboard(text);\n    console.debug(\"Fallback: Writing to clipboard\");\n  }\n\n  writeToLocalStorage(\"breakdance_copied_element_json_string\", text);\n}\n\nasync function readFromClipboard(event?: ClipboardEvent) {\n  const eventText = event?.clipboardData?.getData(\"text\");\n  const method = await determinePastingMethod(event);\n  console.debug(`Reading clipboard from ${method}`);\n\n  // Accessing the clipboard from a native event requires no permission\n  if (method === \"event\") {\n    return eventText;\n  }\n\n  if (method === \"localstorage\") {\n    return readFromLocalStorage(\"breakdance_copied_element_json_string\");\n  }\n\n  return await navigator.clipboard.readText();\n}\n\nexport async function getElementFromClipboard(\n  event?: ClipboardEvent\n): Promise<TreeNode | null> {\n  const elementAsJsonString = await readFromClipboard(event);\n\n  if (!elementAsJsonString) return null;\n\n  const maybeClipboardData = fpJsonParseTypesafe(\n    elementAsJsonString,\n    ClipboardDataV\n  );\n\n  return pipe(\n    maybeClipboardData,\n    fold(\n      () => null,\n      clipboardData => {\n        console.debug(\"Got element from clipboard\", clipboardData);\n        return importClipboardMetadataToElement(clipboardData);\n      }\n    )\n  );\n}\n\nexport function copyElement(elementId: number) {\n  const elementToCopy = findNode(documentStore.document.tree, elementId);\n  if (!elementToCopy) return;\n\n  const exportedElement = exportNode(elementToCopy);\n\n  const exportedElementWithMetadata = exportClipboardMetadataFromElement(\n    exportedElement\n  );\n\n  pipe(\n    exportedElementWithMetadata,\n    fpJsonStringify,\n    fold(\n      e =>\n        console.error(\n          \"Failed to copy element\",\n          ...e.map(err => err.toString())\n        ),\n      exportedElementAsJsonString => {\n        writeToClipboard(exportedElementAsJsonString);\n      }\n    )\n  );\n}\n\nexport function cutElement(elementId: number) {\n  copyElement(elementId);\n  documentStore.deleteElement({ nodeId: elementId });\n}\n\nexport async function pasteElement(\n  elementIdToPasteNodesIntoOrNear: number | null,\n  event?: ClipboardEvent\n) {\n  const elementToPaste = await getElementFromClipboard(event);\n\n  if (!elementToPaste) return;\n\n  const placeToAdd = findPlaceToAddNodes(\n    documentStore.document.tree,\n    elementIdToPasteNodesIntoOrNear,\n    getNestingRuleFromNode(elementToPaste)\n  );\n\n  /**\n   * Snapshot bundling is required in order to merge the following\n   * mutations into a single snapshot:\n   *\n   * a) documentStore.addElementMutation(), documentStore.pasteCopiedElementMutation()\n   * b) mutations that are made by breakdanceStoreActions.run.onCreatedElement()\n   *\n   * Some mutations made by breakdanceStoreActions.onCreatedElement are async,\n   * meaning they won't be included into this specific transaction.\n   *\n   * The transactionKey is passed to breakdanceStoreActions.run.onCreatedElement(), so\n   * any transactions executed by the appropriate actions will use it in order to emerge\n   * changes made by those transactions into a single snapshot generated by this specific transaction.\n   *\n   * We don't know the node ID for the pasted element yet.\n   * Instead, a random number is included into the transactionKey\n   */\n  const uniqueId = uuidV4();\n  const transactionKey = `Paste:${uniqueId}`;\n\n  pipe(\n    placeToAdd,\n    fold(\n      () => {},\n      legalPlaceToAdd => {\n        if (legalPlaceToAdd === \"TOP_LEVEL\") {\n          breakdanceUndo.transaction(\n            () => {\n              const pointerForCreatedNodeId: { nodeId?: number } = {\n                nodeId: undefined\n              };\n\n              documentStore.addElementMutation({\n                elementSlug: getDefaultTopLevelElementSlug(),\n                parentNodeId: documentStore.document.tree.root.id,\n                index: false,\n                pointer: pointerForCreatedNodeId\n              });\n\n              if (pointerForCreatedNodeId.nodeId !== undefined) {\n                documentStore.pasteCopiedElementMutation({\n                  element: elementToPaste,\n                  placeToAddId: pointerForCreatedNodeId.nodeId,\n                  placeToAddIndex: 0\n                });\n\n                breakdanceStoreActions.run.onCreatedElement({\n                  elementId: elementToPaste.id,\n                  transactionKey\n                });\n              }\n            },\n            `Paste copied ${getBuilderElementNameBySlug(\n              elementToPaste.data.type\n            )} into a new section`,\n            transactionKey\n          );\n        } else {\n          breakdanceUndo.transaction(\n            () => {\n              const pointerForCreatedNodeId: { nodeId?: number } = {\n                nodeId: undefined\n              };\n\n              documentStore.pasteCopiedElementMutation({\n                element: elementToPaste,\n                placeToAddId: legalPlaceToAdd.place.id,\n                placeToAddIndex:\n                  legalPlaceToAdd.index ||\n                  legalPlaceToAdd.place.children.length,\n                pointer: pointerForCreatedNodeId\n              });\n\n              if (pointerForCreatedNodeId.nodeId) {\n                breakdanceStoreActions.run.onCreatedElement({\n                  elementId: pointerForCreatedNodeId.nodeId,\n                  transactionKey\n                });\n              }\n            },\n            `Paste copied ${getBuilderElementNameBySlug(\n              elementToPaste.data.type\n            )}`,\n            transactionKey\n          );\n        }\n      }\n    )\n  );\n}\n\nexport async function pasteElementProperties(\n  elementIdToPastePropertiesTo: number,\n  path: \"design\" | \"content\" | \"settings\" = \"design\"\n) {\n  const elementToCopyPropertiesFrom = await getElementFromClipboard();\n\n  if (!elementToCopyPropertiesFrom) return;\n\n  const elementToPastePropertiesTo = findNode(\n    documentStore.document.tree,\n    elementIdToPastePropertiesTo\n  );\n\n  if (!elementToPastePropertiesTo) return;\n\n  const copiedProperties = lodash.get(\n    elementToCopyPropertiesFrom.data.properties,\n    path,\n    null\n  );\n  /*\n    Setting to undefined actually blows up VueSimpleDeepset\n    when you then try to set a control value that has previously been cleared\n    by this function. so we use null as a fallback\n    */\n  if (\n    elementToCopyPropertiesFrom.data.type ===\n    elementToPastePropertiesTo.data.type\n  ) {\n    documentStore.throttledPropertyChanged({\n      elementId: elementToPastePropertiesTo.id,\n      path: path,\n      value: defensiveCopy(copiedProperties),\n      meta: {\n        snapshotLabel: `Paste properties of ${getBuilderElementNameBySlug(\n          elementToCopyPropertiesFrom.data.type\n        )} to ${getBuilderElementNameBySlug(\n          elementToPastePropertiesTo.data.type\n        )}`\n      }\n    });\n  }\n}\n\nexport async function canPasteElement(elementIdToPasteNodesIntoOrNear: number) {\n  const elementToPaste = await getElementFromClipboard();\n\n  if (!elementToPaste) return false;\n\n  const placeToAdd = findPlaceToAddNodes(\n    documentStore.document.tree,\n    elementIdToPasteNodesIntoOrNear,\n    getNestingRuleFromNode(elementToPaste)\n  );\n\n  return isRight(placeToAdd);\n}\n\nexport async function canPasteElementProperties(\n  elementIdToPastePropertiesTo: number\n) {\n  const element = await getElementFromClipboard();\n\n  if (!element) return false;\n\n  const elementToPasteTo = findNode(\n    documentStore.document.tree,\n    elementIdToPastePropertiesTo\n  );\n\n  return element.data.type === elementToPasteTo?.data.type;\n}\n","import mod from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomFontFamilies.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CustomFontFamilies.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./History.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioTabsAndPanels.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ElementStudioTabsAndPanels.vue?vue&type=style&index=0&lang=scss&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManageSelectors.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ManageSelectors.vue?vue&type=style&index=0&lang=css&\"","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SnapshotItem.vue?vue&type=style&index=0&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/vuetify-loader/lib/loader.js??ref--21-0!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./SnapshotItem.vue?vue&type=style&index=0&lang=css&\""],"sourceRoot":""}